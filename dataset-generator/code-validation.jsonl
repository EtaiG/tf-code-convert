{"prompt":"define(['vega-scale','webidl-conversions','@types/mkdirp'], function(vegaScale,webidlConversions,typesMkdirp){\\nimport React from 'react';\\nimport OrderDetails from '../../../../src/web/OrderDetails/OrderDetails.js';\\nimport * as MockData from './MockData.js';\\nimport StoriesStyleProvider from '../../StoriesStyleProvider';\\nimport i18n from '../../../mock/i18nStub';\\nimport createReactClass from 'create-react-class' export default createReactClass({ displayName: 'OrderDetails', render() { let props = { i18n, title: 'My Order', itemsHash: MockData.itemsHash, chargesHash: {}, order: MockData.order, displayLanguage: 'en', orgLanguage: 'en_US', organization: MockData.organization, rtl: false, mapDimensions: { width: 382, height: 180 }, deliveryTimeText: 'Delivery Time', iconMail: 'mailFill', iconPhone: 'phoneFill', iconLocation: 'locationFill', iconFb: 'facebookFill', iconClock: 'clockFill', ...this.props }; return ( <StoriesStyleProvider> <OrderDetails viewMode='popup' {...props}/> </StoriesStyleProvider> ); }\\n});\\n\\n})\\n####","completion":" import vegaScale from 'vega-scale'\\nimport webidlConversions from 'webidl-conversions'\\nimport typesMkdirp from '@types/mkdirp'\\n\\nimport React from 'react';\\nimport OrderDetails from '../../../../src/web/OrderDetails/OrderDetails.js';\\nimport * as MockData from './MockData.js';\\nimport StoriesStyleProvider from '../../StoriesStyleProvider';\\nimport i18n from '../../../mock/i18nStub';\\nimport createReactClass from 'create-react-class' export default createReactClass({ displayName: 'OrderDetails', render() { let props = { i18n, title: 'My Order', itemsHash: MockData.itemsHash, chargesHash: {}, order: MockData.order, displayLanguage: 'en', orgLanguage: 'en_US', organization: MockData.organization, rtl: false, mapDimensions: { width: 382, height: 180 }, deliveryTimeText: 'Delivery Time', iconMail: 'mailFill', iconPhone: 'phoneFill', iconLocation: 'locationFill', iconFb: 'facebookFill', iconClock: 'clockFill', ...this.props }; return ( <StoriesStyleProvider> <OrderDetails viewMode='popup' {...props}/> </StoriesStyleProvider> ); }\\n});\\n\\n####"}
{"prompt":"define(['d3-scale','vega-loader','yarn-deduplicate','vega-hierarchy','vega-statistics','proper-lockfile','babel-plugin-trace','tsutils','tslint-consistent-codestyle','ts-transform-default-export','vega-scale','unicode-property-aliases-ecmascript','browser-sync','@types/js-yaml','@types/tape'], function(d3Scale,vegaLoader,yarnDeduplicate,vegaHierarchy,vegaStatistics,properLockfile,babelPluginTrace,tsutils,tslintConsistentCodestyle,tsTransformDefaultExport,vegaScale,unicodePropertyAliasesEcmascript,browserSync,typesJsYaml,typesTape){\\n'use strict' const _ = require('lodash') const skinBuilder = () => { const skin = {} function SkinBuilder() { } SkinBuilder.prototype.build = function () { return skin } SkinBuilder.prototype.addParam = function (name, defaultValue, type) { _.set(skin, ['params', name], type) _.set(skin, ['paramsDefaults', name], defaultValue) return this } SkinBuilder.prototype.addCss = function (selector, cssDefinitions) { const skinSelector = selector.replace(/\\./g, '%_').replace(/#/g, '%') _.set(skin, ['css', skinSelector], cssDefinitions) return this } SkinBuilder.prototype.setCustomRender = function (render) { skin.$render = render return this } return new SkinBuilder()\\n} const createMutator = (type, value, param) => ({ type, value, param\\n}) const makeParamAliasObjectWithUnalisedValue = (paramAliasesArray, paramType) => paramAliasesArray .concat([paramType]) .reduce((acc, alias) => Object.assign(acc, {[alias]: paramType}), {}) module.exports = { skinBuilder, createMutator, makeParamAliasObjectWithUnalisedValue\\n}\\n})\\n####","completion":" import d3Scale from 'd3-scale'\\nimport vegaLoader from 'vega-loader'\\nimport yarnDeduplicate from 'yarn-deduplicate'\\nimport vegaHierarchy from 'vega-hierarchy'\\nimport vegaStatistics from 'vega-statistics'\\nimport properLockfile from 'proper-lockfile'\\nimport babelPluginTrace from 'babel-plugin-trace'\\nimport tsutils from 'tsutils'\\nimport tslintConsistentCodestyle from 'tslint-consistent-codestyle'\\nimport tsTransformDefaultExport from 'ts-transform-default-export'\\nimport vegaScale from 'vega-scale'\\nimport unicodePropertyAliasesEcmascript from 'unicode-property-aliases-ecmascript'\\nimport browserSync from 'browser-sync'\\nimport typesJsYaml from '@types/js-yaml'\\nimport typesTape from '@types/tape'\\n\\n'use strict' const _ = require('lodash') const skinBuilder = () => { const skin = {} function SkinBuilder() { } SkinBuilder.prototype.build = function () { return skin } SkinBuilder.prototype.addParam = function (name, defaultValue, type) { _.set(skin, ['params', name], type) _.set(skin, ['paramsDefaults', name], defaultValue) return this } SkinBuilder.prototype.addCss = function (selector, cssDefinitions) { const skinSelector = selector.replace(/\\./g, '%_').replace(/#/g, '%') _.set(skin, ['css', skinSelector], cssDefinitions) return this } SkinBuilder.prototype.setCustomRender = function (render) { skin.$render = render return this } return new SkinBuilder()\\n} const createMutator = (type, value, param) => ({ type, value, param\\n}) const makeParamAliasObjectWithUnalisedValue = (paramAliasesArray, paramType) => paramAliasesArray .concat([paramType]) .reduce((acc, alias) => Object.assign(acc, {[alias]: paramType}), {}) module.exports = { skinBuilder, createMutator, makeParamAliasObjectWithUnalisedValue\\n}\\n####"}
{"prompt":"define(['vega-view','eslint-plugin-github','is-boolean-object','merge2'], function(vegaView,eslintPluginGithub,isBooleanObject,merge2){\\nconst jsHeaders = { date: 'Sun, 12 Nov 2017 14:45:29 GMT', 'content-encoding': 'gzip', age: '3455', 'wix-cache': 'HIT', status: '200', 'wix-edge': 's3-proxy-group-2n8g', 'alt-svc': 'clear', 'content-length': '55005', 'access-control-allow-origin': '*', 'last-modified': 'Sun, 12 Nov 2017 14:17:31 GMT', server: 'nginx/1.13.5', etag: 'W/\\\"004290e2635907245dc22120ebeb2df5-1\\\"', vary: 'Accept-Encoding', 'access-control-allow-methods': 'GET, OPTIONS', 'content-type': 'application/x-javascript', via: '1.1 google', 'cache-control': 'max-age=7776000,public', 'x-amz-version-id': 'HX0shoDVPML7Gk3mKF47IQUJ9JB_.TTN', 'timing-allow-origin': '*', 'access-control-allow-headers': 'DNT,X-CustomHeader,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-*', expires: 'Sat, 10 Feb 2018 14:45:29 GMT'\\n} module.exports = { js: jsHeaders, css: Object.assign({...jsHeaders}, {'content-type': 'text/css'}), json: Object.assign({...jsHeaders}, {'content-type': 'application/json;charset=utf-8'}), html: Object.assign({...jsHeaders}, {'content-type': 'text/html;charset=utf-8'}), png: Object.assign({...jsHeaders}, {'content-type': 'image/png'})\\n}\\n})\\n####","completion":" import vegaView from 'vega-view'\\nimport eslintPluginGithub from 'eslint-plugin-github'\\nimport isBooleanObject from 'is-boolean-object'\\nimport merge2 from 'merge2'\\n\\nconst jsHeaders = { date: 'Sun, 12 Nov 2017 14:45:29 GMT', 'content-encoding': 'gzip', age: '3455', 'wix-cache': 'HIT', status: '200', 'wix-edge': 's3-proxy-group-2n8g', 'alt-svc': 'clear', 'content-length': '55005', 'access-control-allow-origin': '*', 'last-modified': 'Sun, 12 Nov 2017 14:17:31 GMT', server: 'nginx/1.13.5', etag: 'W/\\\"004290e2635907245dc22120ebeb2df5-1\\\"', vary: 'Accept-Encoding', 'access-control-allow-methods': 'GET, OPTIONS', 'content-type': 'application/x-javascript', via: '1.1 google', 'cache-control': 'max-age=7776000,public', 'x-amz-version-id': 'HX0shoDVPML7Gk3mKF47IQUJ9JB_.TTN', 'timing-allow-origin': '*', 'access-control-allow-headers': 'DNT,X-CustomHeader,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-*', expires: 'Sat, 10 Feb 2018 14:45:29 GMT'\\n} module.exports = { js: jsHeaders, css: Object.assign({...jsHeaders}, {'content-type': 'text/css'}), json: Object.assign({...jsHeaders}, {'content-type': 'application/json;charset=utf-8'}), html: Object.assign({...jsHeaders}, {'content-type': 'text/html;charset=utf-8'}), png: Object.assign({...jsHeaders}, {'content-type': 'image/png'})\\n}\\n####"}
{"prompt":"define(['gulp-concat','@microsoft/api-extractor','promise-polyfill','array-flat-polyfill','@tsconfig/node10'], function(gulpConcat,microsoftApiExtractor,promisePolyfill,arrayFlatPolyfill,tsconfigNode10){\\n'use strict'\\nconst {withViewer} = require('@wix/santa-integration-tests')\\nconst eventually = require('wix-eventually') it.skip('should display no permissions dialog when unpermitted user is logged in', withViewer({ baseUrl: 'https://faygad.wixsite.com/mysite/book-online' }, async ({viewer}) => { await viewer.dialogs.signUpDialog.switchToLogin() await viewer.dialogs.loginDialog.login('yotamb@wix.com', '123456') await eventually(async () => { expect(await viewer.dialogs.noPermissionsDialog.isRendered()).toEqual(true) }, {timeout: 10000}) })\\n) // pending resolution of https://jira.wixpress.com/browse/WEED-11033\\nit.skip('should navigate to the homepage and close the no-permissions dialog', withViewer({ baseUrl: 'https://faygad.wixsite.com/mysite/book-online' }, async ({viewer}) => { await viewer.dialogs.signUpDialog.switchToLogin() await viewer.dialogs.loginDialog.login('yotamb@wix.com', '123456') await viewer.waitForNavigation(() => viewer.dialogs.noPermissionsDialog.backToSite()) // todo expect to be in home page await eventually(async () => { expect(await viewer.dialogs.noPermissionsDialog.isRendered()).toEqual(false) }, {timeout: 10000}) })\\n)\\n})\\n####","completion":" import gulpConcat from 'gulp-concat'\\nimport microsoftApiExtractor from '@microsoft/api-extractor'\\nimport promisePolyfill from 'promise-polyfill'\\nimport arrayFlatPolyfill from 'array-flat-polyfill'\\nimport tsconfigNode10 from '@tsconfig/node10'\\n\\n'use strict'\\nconst {withViewer} = require('@wix/santa-integration-tests')\\nconst eventually = require('wix-eventually') it.skip('should display no permissions dialog when unpermitted user is logged in', withViewer({ baseUrl: 'https://faygad.wixsite.com/mysite/book-online' }, async ({viewer}) => { await viewer.dialogs.signUpDialog.switchToLogin() await viewer.dialogs.loginDialog.login('yotamb@wix.com', '123456') await eventually(async () => { expect(await viewer.dialogs.noPermissionsDialog.isRendered()).toEqual(true) }, {timeout: 10000}) })\\n) // pending resolution of https://jira.wixpress.com/browse/WEED-11033\\nit.skip('should navigate to the homepage and close the no-permissions dialog', withViewer({ baseUrl: 'https://faygad.wixsite.com/mysite/book-online' }, async ({viewer}) => { await viewer.dialogs.signUpDialog.switchToLogin() await viewer.dialogs.loginDialog.login('yotamb@wix.com', '123456') await viewer.waitForNavigation(() => viewer.dialogs.noPermissionsDialog.backToSite()) // todo expect to be in home page await eventually(async () => { expect(await viewer.dialogs.noPermissionsDialog.isRendered()).toEqual(false) }, {timeout: 10000}) })\\n)\\n####"}
{"prompt":"define(['flow-parser','@types/fast-json-stable-stringify'], function(flowParser,typesFastJsonStableStringify){\\nimport _ from 'lodash';\\nimport { bindActionCreators } from 'redux';\\nimport { connect } from 'react-redux';\\nimport { actions } from '../actions/OrganizationListActions';\\nimport OrganizationList from '../components/OrganizationList';\\nimport I18nify from '@wix/restaurants-components/dist/shared/I18nify';\\nimport orgListSelector from '../selectors/orgListSelector';\\nimport * as NativeLoginActions from '../actions/NativeLoginActions'; function mapStateToProps(state) { const { organizationList, organization } = state; let selectedOrganizationId = _.get(organization, 'organization.id'); let orgListState = orgListSelector(state); let organizations = orgListState.list; return { selectOrganizationError: organizationList.selectOrganizationError, organizations, selectedOrganizationId };\\n} function mapDispatchToProps(dispatch) { return bindActionCreators({ selectOrganization : actions.selectOrganization, logout: NativeLoginActions.actions.logoutFromNative }, dispatch);\\n} export default connect(mapStateToProps, mapDispatchToProps)(I18nify(OrganizationList));\\n\\n})\\n####","completion":" import flowParser from 'flow-parser'\\nimport typesFastJsonStableStringify from '@types/fast-json-stable-stringify'\\n\\nimport _ from 'lodash';\\nimport { bindActionCreators } from 'redux';\\nimport { connect } from 'react-redux';\\nimport { actions } from '../actions/OrganizationListActions';\\nimport OrganizationList from '../components/OrganizationList';\\nimport I18nify from '@wix/restaurants-components/dist/shared/I18nify';\\nimport orgListSelector from '../selectors/orgListSelector';\\nimport * as NativeLoginActions from '../actions/NativeLoginActions'; function mapStateToProps(state) { const { organizationList, organization } = state; let selectedOrganizationId = _.get(organization, 'organization.id'); let orgListState = orgListSelector(state); let organizations = orgListState.list; return { selectOrganizationError: organizationList.selectOrganizationError, organizations, selectedOrganizationId };\\n} function mapDispatchToProps(dispatch) { return bindActionCreators({ selectOrganization : actions.selectOrganization, logout: NativeLoginActions.actions.logoutFromNative }, dispatch);\\n} export default connect(mapStateToProps, mapDispatchToProps)(I18nify(OrganizationList));\\n\\n####"}
{"prompt":"define(['@types/gulp','vega-selections','vega-schema','@types/tape','decamelize'], function(typesGulp,vegaSelections,vegaSchema,typesTape,decamelize){\\n'use strict'\\nconst appImportErrorPanel = 'app-import-error-panel' class AppImportErrorPanel { constructor(editorFrame, previewFrame, tracer) { this.editorFrame = editorFrame this.previewFrame = previewFrame this.tracer = tracer } async waitForPanel() { await this.editorFrame.waitFor(`.${appImportErrorPanel}`) } async close() { const closeButton = await this.editorFrame.$('.btn-close') await this.editorFrame.waitFor(1000) await closeButton.click() await this.editorFrame.waitForFunction(`!window.document.querySelector(\\\".${appImportErrorPanel}\\\")`) } async closeOnOkButton() { const closeButton = await this.editorFrame.$('[data-aid=error-ok-button]') await this.editorFrame.waitFor(1000) await closeButton.click() await this.editorFrame.waitForFunction(`!window.document.querySelector(\\\".${appImportErrorPanel}\\\")`) } async isClosed() { const appImportPanelElement = await this.editorFrame.$(`.${appImportErrorPanel}`) return !appImportPanelElement }\\n} module.exports = AppImportErrorPanel\\n\\n})\\n####","completion":" import typesGulp from '@types/gulp'\\nimport vegaSelections from 'vega-selections'\\nimport vegaSchema from 'vega-schema'\\nimport typesTape from '@types/tape'\\nimport decamelize from 'decamelize'\\n\\n'use strict'\\nconst appImportErrorPanel = 'app-import-error-panel' class AppImportErrorPanel { constructor(editorFrame, previewFrame, tracer) { this.editorFrame = editorFrame this.previewFrame = previewFrame this.tracer = tracer } async waitForPanel() { await this.editorFrame.waitFor(`.${appImportErrorPanel}`) } async close() { const closeButton = await this.editorFrame.$('.btn-close') await this.editorFrame.waitFor(1000) await closeButton.click() await this.editorFrame.waitForFunction(`!window.document.querySelector(\\\".${appImportErrorPanel}\\\")`) } async closeOnOkButton() { const closeButton = await this.editorFrame.$('[data-aid=error-ok-button]') await this.editorFrame.waitFor(1000) await closeButton.click() await this.editorFrame.waitForFunction(`!window.document.querySelector(\\\".${appImportErrorPanel}\\\")`) } async isClosed() { const appImportPanelElement = await this.editorFrame.$(`.${appImportErrorPanel}`) return !appImportPanelElement }\\n} module.exports = AppImportErrorPanel\\n\\n####"}
{"prompt":"define(['tr46','has-ansi','vega-time','vinyl-sourcemaps-apply','d3-force','@types/fast-json-stable-stringify','ntypescript','yargs-parser','xml2js','detect-indent','fast-json-patch','microbundle','ts-node-dev','hashish','vega-cli','@types/d3'], function(tr46,hasAnsi,vegaTime,vinylSourcemapsApply,d3Force,typesFastJsonStableStringify,ntypescript,yargsParser,xml2Js,detectIndent,fastJsonPatch,microbundle,tsNodeDev,hashish,vegaCli,typesD3){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.wix.com/demone2/curriculum-vitae-r (16)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/curriculum-vitae-r', emulateMobileDevice: false, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/16-curriculum-vitae/anchors/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import tr46 from 'tr46'\\nimport hasAnsi from 'has-ansi'\\nimport vegaTime from 'vega-time'\\nimport vinylSourcemapsApply from 'vinyl-sourcemaps-apply'\\nimport d3Force from 'd3-force'\\nimport typesFastJsonStableStringify from '@types/fast-json-stable-stringify'\\nimport ntypescript from 'ntypescript'\\nimport yargsParser from 'yargs-parser'\\nimport xml2Js from 'xml2js'\\nimport detectIndent from 'detect-indent'\\nimport fastJsonPatch from 'fast-json-patch'\\nimport microbundle from 'microbundle'\\nimport tsNodeDev from 'ts-node-dev'\\nimport hashish from 'hashish'\\nimport vegaCli from 'vega-cli'\\nimport typesD3 from '@types/d3'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.wix.com/demone2/curriculum-vitae-r (16)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/curriculum-vitae-r', emulateMobileDevice: false, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/16-curriculum-vitae/anchors/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['eslint-formatter-autolinkable-stylish','vega-tooltip','vega-datasets','verup'], function(eslintFormatterAutolinkableStylish,vegaTooltip,vegaDatasets,verup){\\nimport createSvgImage from './createSvgImage'; export default ({ size = '30px' }) => createSvgImage( `<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" width=\\\"24px\\\" height=\\\"24px\\\" viewBox=\\\"0 0 24 24\\\" version=\\\"1.1\\\"> <!-- Generator: Sketch 52.4 (67378) - http://www.bohemiancoding.com/sketch --> <title>OutStock</title> <desc>Created with Sketch.</desc> <g id=\\\"OutStock\\\" stroke=\\\"none\\\" stroke-width=\\\"1\\\" fill=\\\"none\\\" fill-rule=\\\"evenodd\\\"> <path d=\\\"M23,18 L1,18 L1,17 L3.00044963,17 C3.00015011,16.9667057 3,16.9333722 3,16.9 C3,11.432381 7.02943725,7 12,7 C16.9705627,7 21,11.432381 21,16.9 C21,16.9333722 20.9998499,16.9667057 20.9995504,17 L23,17 L23,18 Z M20,17 C20,12.0294373 16.418278,8 12,8 C7.581722,8 4,12.0294373 4,17 L20,17 Z M12.6568542,12.9497475 L14.7781746,15.0710678 L14.0710678,15.7781746 L11.9497475,13.6568542 L9.82842712,15.7781746 L9.12132034,15.0710678 L11.2426407,12.9497475 L9.12132034,10.8284271 L9.82842712,10.1213203 L11.9497475,12.2426407 L14.0710678,10.1213203 L14.7781746,10.8284271 L12.6568542,12.9497475 Z M10,6 L14,6 L14,7 L10,7 L10,6 Z\\\" id=\\\"icon\\\" fill=\\\"#162D3D\\\" fill-rule=\\\"nonzero\\\"/> </g>\\n</svg>`, );\\n\\n})\\n####","completion":" import eslintFormatterAutolinkableStylish from 'eslint-formatter-autolinkable-stylish'\\nimport vegaTooltip from 'vega-tooltip'\\nimport vegaDatasets from 'vega-datasets'\\nimport verup from 'verup'\\n\\nimport createSvgImage from './createSvgImage'; export default ({ size = '30px' }) => createSvgImage( `<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" width=\\\"24px\\\" height=\\\"24px\\\" viewBox=\\\"0 0 24 24\\\" version=\\\"1.1\\\"> <!-- Generator: Sketch 52.4 (67378) - http://www.bohemiancoding.com/sketch --> <title>OutStock</title> <desc>Created with Sketch.</desc> <g id=\\\"OutStock\\\" stroke=\\\"none\\\" stroke-width=\\\"1\\\" fill=\\\"none\\\" fill-rule=\\\"evenodd\\\"> <path d=\\\"M23,18 L1,18 L1,17 L3.00044963,17 C3.00015011,16.9667057 3,16.9333722 3,16.9 C3,11.432381 7.02943725,7 12,7 C16.9705627,7 21,11.432381 21,16.9 C21,16.9333722 20.9998499,16.9667057 20.9995504,17 L23,17 L23,18 Z M20,17 C20,12.0294373 16.418278,8 12,8 C7.581722,8 4,12.0294373 4,17 L20,17 Z M12.6568542,12.9497475 L14.7781746,15.0710678 L14.0710678,15.7781746 L11.9497475,13.6568542 L9.82842712,15.7781746 L9.12132034,15.0710678 L11.2426407,12.9497475 L9.12132034,10.8284271 L9.82842712,10.1213203 L11.9497475,12.2426407 L14.0710678,10.1213203 L14.7781746,10.8284271 L12.6568542,12.9497475 Z M10,6 L14,6 L14,7 L10,7 L10,6 Z\\\" id=\\\"icon\\\" fill=\\\"#162D3D\\\" fill-rule=\\\"nonzero\\\"/> </g>\\n</svg>`, );\\n\\n####"}
{"prompt":"define(['homedir-polyfill','@types/babel__code-frame','microbundle','eslint-formatter-autolinkable-stylish','@tsconfig/node14','gulp-sourcemaps','mocha-fivemat-progress-reporter','proper-lockfile','@types/fast-json-stable-stringify','vega-crossfilter','v8-compile-cache-lib','from','@types/fs-extra','yargs-parser','@types/gulp','@types/minimist','jest-t-assert'], function(homedirPolyfill,typesBabelCodeFrame,microbundle,eslintFormatterAutolinkableStylish,tsconfigNode14,gulpSourcemaps,mochaFivematProgressReporter,properLockfile,typesFastJsonStableStringify,vegaCrossfilter,v8CompileCacheLib,from,typesFsExtra,yargsParser,typesGulp,typesMinimist,jestTAssert){\\n'use strict'\\nconst {observeChange} = require('../../drivers/utils')\\nclass HiddenItemsPanelDriver { constructor(editorFrame, previewFrame) { this.editorFrame = editorFrame this.previewFrame = previewFrame } async getItems() { const items = await this.editorFrame.$$('.hidden-item') return items.map(item => ({ hover: () => item.hover() })) } async openPanel() { const addPanelItem = await this.editorFrame.waitFor('.left-bar-item.hidden-items-panel', {visible: true}) await addPanelItem.hover() await this.editorFrame.waitFor(1000) await addPanelItem.click() return await this.editorFrame.waitFor('.left-panel-frame', {visible: true}) } async waitForChange(triggerFn) { const siteHasChanged = await observeChange(this.editorFrame, '.left-bar-item.hidden-items-panel') await triggerFn() return siteHasChanged() }\\n} module.exports = HiddenItemsPanelDriver\\n})\\n####","completion":" import homedirPolyfill from 'homedir-polyfill'\\nimport typesBabelCodeFrame from '@types/babel__code-frame'\\nimport microbundle from 'microbundle'\\nimport eslintFormatterAutolinkableStylish from 'eslint-formatter-autolinkable-stylish'\\nimport tsconfigNode14 from '@tsconfig/node14'\\nimport gulpSourcemaps from 'gulp-sourcemaps'\\nimport mochaFivematProgressReporter from 'mocha-fivemat-progress-reporter'\\nimport properLockfile from 'proper-lockfile'\\nimport typesFastJsonStableStringify from '@types/fast-json-stable-stringify'\\nimport vegaCrossfilter from 'vega-crossfilter'\\nimport v8CompileCacheLib from 'v8-compile-cache-lib'\\nimport from from 'from'\\nimport typesFsExtra from '@types/fs-extra'\\nimport yargsParser from 'yargs-parser'\\nimport typesGulp from '@types/gulp'\\nimport typesMinimist from '@types/minimist'\\nimport jestTAssert from 'jest-t-assert'\\n\\n'use strict'\\nconst {observeChange} = require('../../drivers/utils')\\nclass HiddenItemsPanelDriver { constructor(editorFrame, previewFrame) { this.editorFrame = editorFrame this.previewFrame = previewFrame } async getItems() { const items = await this.editorFrame.$$('.hidden-item') return items.map(item => ({ hover: () => item.hover() })) } async openPanel() { const addPanelItem = await this.editorFrame.waitFor('.left-bar-item.hidden-items-panel', {visible: true}) await addPanelItem.hover() await this.editorFrame.waitFor(1000) await addPanelItem.click() return await this.editorFrame.waitFor('.left-panel-frame', {visible: true}) } async waitForChange(triggerFn) { const siteHasChanged = await observeChange(this.editorFrame, '.left-bar-item.hidden-items-panel') await triggerFn() return siteHasChanged() }\\n} module.exports = HiddenItemsPanelDriver\\n####"}
{"prompt":"define(['rxjs','merge2','path','vega-label','make-error','azure-devops-node-api','vega-typings','github-release-from-changelog','eslint-plugin-github','@types/fast-json-stable-stringify','get-caller-file','vega-runtime','vega-schema-url-parser','tr46','vega-lite-dev-config','@tsconfig/node14','eslint-config-lydell'], function(rxjs,merge2,path,vegaLabel,makeError,azureDevopsNodeApi,vegaTypings,githubReleaseFromChangelog,eslintPluginGithub,typesFastJsonStableStringify,getCallerFile,vegaRuntime,vegaSchemaUrlParser,tr46,vegaLiteDevConfig,tsconfigNode14,eslintConfigLydell){\\nimport PropTypes from 'prop-types';\\nimport React from 'react';\\nimport DishIcons from '@wix/restaurants-menus-icons/dist/DishIcons';\\nimport styles from './Rich.less';\\nimport classNames from 'classnames'; function getIcon(iconType, label) { const key = `${iconType}-${label}`; return components[key];\\n} export default function ItemIcons({ i18n, labels, iconType, primaryColor, secondaryColor }) { const className = classNames({ [styles.item_icons]: true, [styles.item_icons_circled]: iconType === 'outline' || iconType === 'full-bg', [styles.item_icons_label]: iconType === 'label', [styles.item_icons_full]: iconType === 'full' }); return ( <div data-hook=\\\"wixrest-menus-item-icons\\\" className={className}> <DishIcons i18n={i18n} labels={labels} iconType={iconType} primaryColor={primaryColor} secondaryColor={secondaryColor} /> </div> );\\n} ItemIcons.displayName = 'ItemIcons';\\nItemIcons.propTypes = { i18n: PropTypes.object, labels: PropTypes.array, iconType: PropTypes.string, primaryColor: PropTypes.string, secondaryColor: PropTypes.string\\n};\\nItemIcons.defaultProps = { labels: []\\n};\\n\\n})\\n####","completion":" import rxjs from 'rxjs'\\nimport merge2 from 'merge2'\\nimport path from 'path'\\nimport vegaLabel from 'vega-label'\\nimport makeError from 'make-error'\\nimport azureDevopsNodeApi from 'azure-devops-node-api'\\nimport vegaTypings from 'vega-typings'\\nimport githubReleaseFromChangelog from 'github-release-from-changelog'\\nimport eslintPluginGithub from 'eslint-plugin-github'\\nimport typesFastJsonStableStringify from '@types/fast-json-stable-stringify'\\nimport getCallerFile from 'get-caller-file'\\nimport vegaRuntime from 'vega-runtime'\\nimport vegaSchemaUrlParser from 'vega-schema-url-parser'\\nimport tr46 from 'tr46'\\nimport vegaLiteDevConfig from 'vega-lite-dev-config'\\nimport tsconfigNode14 from '@tsconfig/node14'\\nimport eslintConfigLydell from 'eslint-config-lydell'\\n\\nimport PropTypes from 'prop-types';\\nimport React from 'react';\\nimport DishIcons from '@wix/restaurants-menus-icons/dist/DishIcons';\\nimport styles from './Rich.less';\\nimport classNames from 'classnames'; function getIcon(iconType, label) { const key = `${iconType}-${label}`; return components[key];\\n} export default function ItemIcons({ i18n, labels, iconType, primaryColor, secondaryColor }) { const className = classNames({ [styles.item_icons]: true, [styles.item_icons_circled]: iconType === 'outline' || iconType === 'full-bg', [styles.item_icons_label]: iconType === 'label', [styles.item_icons_full]: iconType === 'full' }); return ( <div data-hook=\\\"wixrest-menus-item-icons\\\" className={className}> <DishIcons i18n={i18n} labels={labels} iconType={iconType} primaryColor={primaryColor} secondaryColor={secondaryColor} /> </div> );\\n} ItemIcons.displayName = 'ItemIcons';\\nItemIcons.propTypes = { i18n: PropTypes.object, labels: PropTypes.array, iconType: PropTypes.string, primaryColor: PropTypes.string, secondaryColor: PropTypes.string\\n};\\nItemIcons.defaultProps = { labels: []\\n};\\n\\n####"}
{"prompt":"define(['util.promisify','npm-packlist'], function(utilPromisify,npmPacklist){\\nimport { createTypes, createActions } from '@wix/restaurants-redux/dist/actions/ActionCreatorHelper';\\nimport PropTypes from 'proptypes'; const _actions = [ 'REFRESH_ORDERS', 'ACCEPT_ORDER', 'MARK_ORDER_DELIVERED', { type: 'SELECT_ORDER', propTypes: { orderId: PropTypes.string } }, 'SHOW_ORDER_OPTIONS', 'HIDE_ORDER_OPTIONS', 'REJECT_ORDER', 'HIDE_ORDER_DETAILS', 'SHOW_FIRST_TIME_REJECTED_OVERLAY', 'HIDE_FIRST_TIME_REJECTED_OVERLAY', 'SHOW_FIRST_TIME_DELIVERED_OVERLAY', 'HIDE_FIRST_TIME_DELIVERED_OVERLAY', 'SHOW_FIRST_TIME_ACCEPTED_OVERLAY', 'HIDE_FIRST_TIME_ACCEPTED_OVERLAY', 'ACCEPT_ORDER_MODAL', 'MARK_ORDER_DELIVERED_MODAL', 'ANIMATE_ORDER_ROW_DONE', 'REJECT_OVERLAY_DISPLAY', 'REJECT_OVERLAY_CONFIRM', 'REJECT_OVERLAY_CANCEL'\\n]; export const types = createTypes(_actions, 'NATIVE_ORDERS_');\\nexport const actions = createActions(_actions, 'NATIVE_ORDERS_');\\nexport default { types, actions };\\n\\n})\\n####","completion":" import utilPromisify from 'util.promisify'\\nimport npmPacklist from 'npm-packlist'\\n\\nimport { createTypes, createActions } from '@wix/restaurants-redux/dist/actions/ActionCreatorHelper';\\nimport PropTypes from 'proptypes'; const _actions = [ 'REFRESH_ORDERS', 'ACCEPT_ORDER', 'MARK_ORDER_DELIVERED', { type: 'SELECT_ORDER', propTypes: { orderId: PropTypes.string } }, 'SHOW_ORDER_OPTIONS', 'HIDE_ORDER_OPTIONS', 'REJECT_ORDER', 'HIDE_ORDER_DETAILS', 'SHOW_FIRST_TIME_REJECTED_OVERLAY', 'HIDE_FIRST_TIME_REJECTED_OVERLAY', 'SHOW_FIRST_TIME_DELIVERED_OVERLAY', 'HIDE_FIRST_TIME_DELIVERED_OVERLAY', 'SHOW_FIRST_TIME_ACCEPTED_OVERLAY', 'HIDE_FIRST_TIME_ACCEPTED_OVERLAY', 'ACCEPT_ORDER_MODAL', 'MARK_ORDER_DELIVERED_MODAL', 'ANIMATE_ORDER_ROW_DONE', 'REJECT_OVERLAY_DISPLAY', 'REJECT_OVERLAY_CONFIRM', 'REJECT_OVERLAY_CANCEL'\\n]; export const types = createTypes(_actions, 'NATIVE_ORDERS_');\\nexport const actions = createActions(_actions, 'NATIVE_ORDERS_');\\nexport default { types, actions };\\n\\n####"}
{"prompt":"define(['webidl-conversions','@tsconfig/node14','tslint-consistent-codestyle','node-sass','gulp-insert','@types/gulp','github-release-from-changelog','vega-typings','dts-jest','unicode-property-aliases-ecmascript','builtin-modules','vega-datasets','d3-hierarchy','rollup-plugin-cleanup','yaml-front-matter','@types/proxyquire'], function(webidlConversions,tsconfigNode14,tslintConsistentCodestyle,nodeSass,gulpInsert,typesGulp,githubReleaseFromChangelog,vegaTypings,dtsJest,unicodePropertyAliasesEcmascript,builtinModules,vegaDatasets,d3Hierarchy,rollupPluginCleanup,yamlFrontMatter,typesProxyquire){\\nimport * as scenarios from './scenarios.js';\\nimport createHistoryStub from './historyStub.js'; const mocks = { oloService: require('./oloServiceMock.js').default, portalService: require('./portalServiceMock.js').default, imageService: require('./imageServiceMock.js').default, ordersAppLoaderService: require('./ordersAppLoaderServiceMock.js').default, googleMapsClient: require('./googleMapsClientMock.js').default, location: require('./locationServiceMock.js').default, localStorage: require('./localStorageMock.js').default, cookieService: require('./cookieServiceMock.js').default, getSsrParams: require('./getSsrParams.js').default\\n}; function initMocks() { return Object.keys(mocks).reduce((acc, key) => { acc[key] = mocks[key](); return acc; }, {});\\n} export default function createMocks() { const mocks = initMocks(); mocks.history = createHistoryStub(); mocks.history.replace(''); const evaledScenarios = Object.keys(scenarios).reduce((acc, key) => { acc[key] = scenarios[key](mocks); return acc; }, {}); return { mocks, scenarios: evaledScenarios };\\n}\\n\\n})\\n####","completion":" import webidlConversions from 'webidl-conversions'\\nimport tsconfigNode14 from '@tsconfig/node14'\\nimport tslintConsistentCodestyle from 'tslint-consistent-codestyle'\\nimport nodeSass from 'node-sass'\\nimport gulpInsert from 'gulp-insert'\\nimport typesGulp from '@types/gulp'\\nimport githubReleaseFromChangelog from 'github-release-from-changelog'\\nimport vegaTypings from 'vega-typings'\\nimport dtsJest from 'dts-jest'\\nimport unicodePropertyAliasesEcmascript from 'unicode-property-aliases-ecmascript'\\nimport builtinModules from 'builtin-modules'\\nimport vegaDatasets from 'vega-datasets'\\nimport d3Hierarchy from 'd3-hierarchy'\\nimport rollupPluginCleanup from 'rollup-plugin-cleanup'\\nimport yamlFrontMatter from 'yaml-front-matter'\\nimport typesProxyquire from '@types/proxyquire'\\n\\nimport * as scenarios from './scenarios.js';\\nimport createHistoryStub from './historyStub.js'; const mocks = { oloService: require('./oloServiceMock.js').default, portalService: require('./portalServiceMock.js').default, imageService: require('./imageServiceMock.js').default, ordersAppLoaderService: require('./ordersAppLoaderServiceMock.js').default, googleMapsClient: require('./googleMapsClientMock.js').default, location: require('./locationServiceMock.js').default, localStorage: require('./localStorageMock.js').default, cookieService: require('./cookieServiceMock.js').default, getSsrParams: require('./getSsrParams.js').default\\n}; function initMocks() { return Object.keys(mocks).reduce((acc, key) => { acc[key] = mocks[key](); return acc; }, {});\\n} export default function createMocks() { const mocks = initMocks(); mocks.history = createHistoryStub(); mocks.history.replace(''); const evaledScenarios = Object.keys(scenarios).reduce((acc, key) => { acc[key] = scenarios[key](mocks); return acc; }, {}); return { mocks, scenarios: evaledScenarios };\\n}\\n\\n####"}
{"prompt":"define(['isexe','@types/proper-lockfile','vega-selections','@types/source-map-support','vega-schema-url-parser','d3-delaunay','webidl2js','vega-parser','recast','@yarnpkg/fslib','vega-scale','fancy-log','require-directory','@cspotcode/source-map-support','@tsconfig/node14','vega-label','@types/merge2','@types/gulp-newer','verup','microbundle'], function(isexe,typesProperLockfile,vegaSelections,typesSourceMapSupport,vegaSchemaUrlParser,d3Delaunay,webidl2Js,vegaParser,recast,yarnpkgFslib,vegaScale,fancyLog,requireDirectory,cspotcodeSourceMapSupport,tsconfigNode14,vegaLabel,typesMerge2,typesGulpNewer,verup,microbundle){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.wix.com/demone2/the-consultant (1)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/the-consultant', emulateMobileDevice: true, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/1-the-consultant/mesh/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import isexe from 'isexe'\\nimport typesProperLockfile from '@types/proper-lockfile'\\nimport vegaSelections from 'vega-selections'\\nimport typesSourceMapSupport from '@types/source-map-support'\\nimport vegaSchemaUrlParser from 'vega-schema-url-parser'\\nimport d3Delaunay from 'd3-delaunay'\\nimport webidl2Js from 'webidl2js'\\nimport vegaParser from 'vega-parser'\\nimport recast from 'recast'\\nimport yarnpkgFslib from '@yarnpkg/fslib'\\nimport vegaScale from 'vega-scale'\\nimport fancyLog from 'fancy-log'\\nimport requireDirectory from 'require-directory'\\nimport cspotcodeSourceMapSupport from '@cspotcode/source-map-support'\\nimport tsconfigNode14 from '@tsconfig/node14'\\nimport vegaLabel from 'vega-label'\\nimport typesMerge2 from '@types/merge2'\\nimport typesGulpNewer from '@types/gulp-newer'\\nimport verup from 'verup'\\nimport microbundle from 'microbundle'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.wix.com/demone2/the-consultant (1)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/the-consultant', emulateMobileDevice: true, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/1-the-consultant/mesh/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['stream-spec','webidl-conversions','vega-loader','ts-node-dev','which-module','@tsconfig/node12','vega-typings','svg2png-many','vega-datasets','make-error','typescript-tslint-plugin','v8-compile-cache-lib','merge2','vega-label','node-sass','rxjs','@types/ms','isexe','tslint-plugin-prettier'], function(streamSpec,webidlConversions,vegaLoader,tsNodeDev,whichModule,tsconfigNode12,vegaTypings,svg2PngMany,vegaDatasets,makeError,typescriptTslintPlugin,v8CompileCacheLib,merge2,vegaLabel,nodeSass,rxjs,typesMs,isexe,tslintPluginPrettier){\\nimport { takeEvery } from 'redux-saga';\\nimport { fork, put } from 'redux-saga/effects';\\nimport { actions } from '../actions/SessionActions';\\nimport * as WixInstanceActions from '@wix/restaurants-redux/src/actions/WixInstanceActions';\\nimport _ from 'lodash'; const onSetWixInstance = (sagaParams) => function*() { const {window} = sagaParams; const featuresOff = _.compact((_.get(window, 'options.featuresOff') || '').split(',')); const featuresOn = _.compact((_.get(window, 'options.featuresOn') || '').split(',')); const forceFeatures = _.fromPairs(_.union(_.map(featuresOff, f => ([f, false])), _.map(featuresOn, f => ([f, true])))); const featureToggles = _.defaults( _.cloneDeep(forceFeatures), { localeswitch: true }); yield put(actions.initFeatureToggles({featureToggles}));\\n}; const sagas = []; sagas.push(sagaParams => function*() { yield takeEvery(WixInstanceActions.types.SET_INSTANCE, onSetWixInstance(sagaParams));\\n}); export default function* ordersRootSaga(sagaParams) { yield _.map(sagas, (saga) => fork(saga(sagaParams)));\\n}\\n\\n})\\n####","completion":" import streamSpec from 'stream-spec'\\nimport webidlConversions from 'webidl-conversions'\\nimport vegaLoader from 'vega-loader'\\nimport tsNodeDev from 'ts-node-dev'\\nimport whichModule from 'which-module'\\nimport tsconfigNode12 from '@tsconfig/node12'\\nimport vegaTypings from 'vega-typings'\\nimport svg2PngMany from 'svg2png-many'\\nimport vegaDatasets from 'vega-datasets'\\nimport makeError from 'make-error'\\nimport typescriptTslintPlugin from 'typescript-tslint-plugin'\\nimport v8CompileCacheLib from 'v8-compile-cache-lib'\\nimport merge2 from 'merge2'\\nimport vegaLabel from 'vega-label'\\nimport nodeSass from 'node-sass'\\nimport rxjs from 'rxjs'\\nimport typesMs from '@types/ms'\\nimport isexe from 'isexe'\\nimport tslintPluginPrettier from 'tslint-plugin-prettier'\\n\\nimport { takeEvery } from 'redux-saga';\\nimport { fork, put } from 'redux-saga/effects';\\nimport { actions } from '../actions/SessionActions';\\nimport * as WixInstanceActions from '@wix/restaurants-redux/src/actions/WixInstanceActions';\\nimport _ from 'lodash'; const onSetWixInstance = (sagaParams) => function*() { const {window} = sagaParams; const featuresOff = _.compact((_.get(window, 'options.featuresOff') || '').split(',')); const featuresOn = _.compact((_.get(window, 'options.featuresOn') || '').split(',')); const forceFeatures = _.fromPairs(_.union(_.map(featuresOff, f => ([f, false])), _.map(featuresOn, f => ([f, true])))); const featureToggles = _.defaults( _.cloneDeep(forceFeatures), { localeswitch: true }); yield put(actions.initFeatureToggles({featureToggles}));\\n}; const sagas = []; sagas.push(sagaParams => function*() { yield takeEvery(WixInstanceActions.types.SET_INSTANCE, onSetWixInstance(sagaParams));\\n}); export default function* ordersRootSaga(sagaParams) { yield _.map(sagas, (saga) => fork(saga(sagaParams)));\\n}\\n\\n####"}
{"prompt":"define(['d3-geo-projection','pretty-quick','clean-ts-built','has-ansi','ts-transform-default-export','svg2png-many','vega-tooltip','gulp-insert','vega-expression','start-server-and-test'], function(d3GeoProjection,prettyQuick,cleanTsBuilt,hasAnsi,tsTransformDefaultExport,svg2PngMany,vegaTooltip,gulpInsert,vegaExpression,startServerAndTest){\\nimport _ from 'lodash'; let ds; export function init(datastore, projectId, credentials) { console.log(`[datastoreService] init`); const isProduction = process.env.NODE_ENV === 'production'; if (!isProduction) { ds = datastore(); if (!ds.stub) ds = getClientStub(); // ds = datastore({ // projectId: 'restaurants-web', // credentials: require('/Users/alonn/Downloads/restaurants-web-5c44e3a4731a.json') // }); } else if (projectId && credentials) { ds = datastore({ projectId, credentials }); } else { ds = datastore(); }\\n} function getClientStub() { return { get() { return Promise.resolve(); }, save() { return Promise.resolve(); }, key() { } };\\n} export default { get(tableName, key) { return ds.get(ds.key([tableName, key])) .then(v => _.get(v, '[0].value')); }, set(tableName, key, value) { return ds.save({ key: ds.key([tableName, key]), data: [{ name: 'value', value, excludeFromIndexes: true }] }); }\\n};\\n\\n})\\n####","completion":" import d3GeoProjection from 'd3-geo-projection'\\nimport prettyQuick from 'pretty-quick'\\nimport cleanTsBuilt from 'clean-ts-built'\\nimport hasAnsi from 'has-ansi'\\nimport tsTransformDefaultExport from 'ts-transform-default-export'\\nimport svg2PngMany from 'svg2png-many'\\nimport vegaTooltip from 'vega-tooltip'\\nimport gulpInsert from 'gulp-insert'\\nimport vegaExpression from 'vega-expression'\\nimport startServerAndTest from 'start-server-and-test'\\n\\nimport _ from 'lodash'; let ds; export function init(datastore, projectId, credentials) { console.log(`[datastoreService] init`); const isProduction = process.env.NODE_ENV === 'production'; if (!isProduction) { ds = datastore(); if (!ds.stub) ds = getClientStub(); // ds = datastore({ // projectId: 'restaurants-web', // credentials: require('/Users/alonn/Downloads/restaurants-web-5c44e3a4731a.json') // }); } else if (projectId && credentials) { ds = datastore({ projectId, credentials }); } else { ds = datastore(); }\\n} function getClientStub() { return { get() { return Promise.resolve(); }, save() { return Promise.resolve(); }, key() { } };\\n} export default { get(tableName, key) { return ds.get(ds.key([tableName, key])) .then(v => _.get(v, '[0].value')); }, set(tableName, key, value) { return ds.save({ key: ds.key([tableName, key]), data: [{ name: 'value', value, excludeFromIndexes: true }] }); }\\n};\\n\\n####"}
{"prompt":"define(['xml2js','json-stringify-pretty-compact','@types/proper-lockfile','@types/mkdirp','vega-event-selector','eslint-formatter-autolinkable-stylish','eslint-plugin-no-null','memfs','vega-functions','ts-clean-built'], function(xml2Js,jsonStringifyPrettyCompact,typesProperLockfile,typesMkdirp,vegaEventSelector,eslintFormatterAutolinkableStylish,eslintPluginNoNull,memfs,vegaFunctions,tsCleanBuilt){\\n\\\"use strict\\\"; import {assert} from 'chai';\\nimport sinon from 'sinon';\\nimport TwitterApiConnector from '../src/TwitterApiConnector.js'; const somePath = 'somePath/foo/bar';\\nconst someParams = {foo: 'bar'}; let requests = []; describe(\\\"TwitterApiConnector\\\", function() { before(() => { global.XMLHttpRequest = sinon.useFakeXMLHttpRequest(); global.XMLHttpRequest.onCreate = (xhr) => { requests.push(xhr); } }); beforeEach(() => { requests = []; }); it('Should call api with (path, params)', function(done) { let xhr = {}; TwitterApiConnector(somePath, someParams) .then(() => { assert.equal(xhr.requestBody, JSON.stringify({path: somePath, params: someParams})); done(); }); setTimeout(() => { assert.equal(requests.length, 1, 'TwitterApiConnector.api.called'); xhr = requests[0]; xhr.respond(200, {\\\"Content-Type\\\": \\\"application/json\\\"}, '{\\\"foo\\\": \\\"bar\\\"}'); }, 0); }); });\\n\\n})\\n####","completion":" import xml2Js from 'xml2js'\\nimport jsonStringifyPrettyCompact from 'json-stringify-pretty-compact'\\nimport typesProperLockfile from '@types/proper-lockfile'\\nimport typesMkdirp from '@types/mkdirp'\\nimport vegaEventSelector from 'vega-event-selector'\\nimport eslintFormatterAutolinkableStylish from 'eslint-formatter-autolinkable-stylish'\\nimport eslintPluginNoNull from 'eslint-plugin-no-null'\\nimport memfs from 'memfs'\\nimport vegaFunctions from 'vega-functions'\\nimport tsCleanBuilt from 'ts-clean-built'\\n\\n\\\"use strict\\\"; import {assert} from 'chai';\\nimport sinon from 'sinon';\\nimport TwitterApiConnector from '../src/TwitterApiConnector.js'; const somePath = 'somePath/foo/bar';\\nconst someParams = {foo: 'bar'}; let requests = []; describe(\\\"TwitterApiConnector\\\", function() { before(() => { global.XMLHttpRequest = sinon.useFakeXMLHttpRequest(); global.XMLHttpRequest.onCreate = (xhr) => { requests.push(xhr); } }); beforeEach(() => { requests = []; }); it('Should call api with (path, params)', function(done) { let xhr = {}; TwitterApiConnector(somePath, someParams) .then(() => { assert.equal(xhr.requestBody, JSON.stringify({path: somePath, params: someParams})); done(); }); setTimeout(() => { assert.equal(requests.length, 1, 'TwitterApiConnector.api.called'); xhr = requests[0]; xhr.respond(200, {\\\"Content-Type\\\": \\\"application/json\\\"}, '{\\\"foo\\\": \\\"bar\\\"}'); }, 0); }); });\\n\\n####"}
{"prompt":"define(['@types/npm-packlist','tslint-consistent-codestyle','tslint-config-prettier','ntypescript','d3-hierarchy','@types/source-map-support','vega-parser','@types/xml2js','vega-cli','@types/minimist','svg2png-many','ts-clean-built','unicode-property-aliases-ecmascript','yarn-deduplicate','safe-regex','promise-polyfill','@types/microsoft__typescript-etw','@fimbul/valtyr','vega-view'], function(typesNpmPacklist,tslintConsistentCodestyle,tslintConfigPrettier,ntypescript,d3Hierarchy,typesSourceMapSupport,vegaParser,typesXml2Js,vegaCli,typesMinimist,svg2PngMany,tsCleanBuilt,unicodePropertyAliasesEcmascript,yarnDeduplicate,safeRegex,promisePolyfill,typesMicrosoftTypescriptEtw,fimbulValtyr,vegaView){\\n\\\"use strict\\\"; import {assert} from 'chai';\\nimport sinon from 'sinon';\\nimport FoursquareApiConnector from '../src/FoursquareApiConnector.js'; const somePath = 'somePath/foo/bar';\\nconst someParams = {foo: 'bar'}; let requests = []; describe(\\\"FoursquareApiConnector\\\", function() { before(() => { global.XMLHttpRequest = sinon.useFakeXMLHttpRequest(); global.XMLHttpRequest.onCreate = (xhr) => { requests.push(xhr); } }); beforeEach(() => { requests = []; }); it('Should call api with (path, params)', function(done) { let xhr = {}; FoursquareApiConnector(somePath, someParams) .then(() => { assert.equal(xhr.requestBody, JSON.stringify({path: somePath, params: someParams})); done(); }); setTimeout(() => { assert.equal(requests.length, 1, 'FoursquareApiConnector.api.called'); xhr = requests[0]; xhr.respond(200, {\\\"Content-Type\\\": \\\"application/json\\\"}, '{\\\"foo\\\": \\\"bar\\\"}'); }, 0); }); });\\n\\n})\\n####","completion":" import typesNpmPacklist from '@types/npm-packlist'\\nimport tslintConsistentCodestyle from 'tslint-consistent-codestyle'\\nimport tslintConfigPrettier from 'tslint-config-prettier'\\nimport ntypescript from 'ntypescript'\\nimport d3Hierarchy from 'd3-hierarchy'\\nimport typesSourceMapSupport from '@types/source-map-support'\\nimport vegaParser from 'vega-parser'\\nimport typesXml2Js from '@types/xml2js'\\nimport vegaCli from 'vega-cli'\\nimport typesMinimist from '@types/minimist'\\nimport svg2PngMany from 'svg2png-many'\\nimport tsCleanBuilt from 'ts-clean-built'\\nimport unicodePropertyAliasesEcmascript from 'unicode-property-aliases-ecmascript'\\nimport yarnDeduplicate from 'yarn-deduplicate'\\nimport safeRegex from 'safe-regex'\\nimport promisePolyfill from 'promise-polyfill'\\nimport typesMicrosoftTypescriptEtw from '@types/microsoft__typescript-etw'\\nimport fimbulValtyr from '@fimbul/valtyr'\\nimport vegaView from 'vega-view'\\n\\n\\\"use strict\\\"; import {assert} from 'chai';\\nimport sinon from 'sinon';\\nimport FoursquareApiConnector from '../src/FoursquareApiConnector.js'; const somePath = 'somePath/foo/bar';\\nconst someParams = {foo: 'bar'}; let requests = []; describe(\\\"FoursquareApiConnector\\\", function() { before(() => { global.XMLHttpRequest = sinon.useFakeXMLHttpRequest(); global.XMLHttpRequest.onCreate = (xhr) => { requests.push(xhr); } }); beforeEach(() => { requests = []; }); it('Should call api with (path, params)', function(done) { let xhr = {}; FoursquareApiConnector(somePath, someParams) .then(() => { assert.equal(xhr.requestBody, JSON.stringify({path: somePath, params: someParams})); done(); }); setTimeout(() => { assert.equal(requests.length, 1, 'FoursquareApiConnector.api.called'); xhr = requests[0]; xhr.respond(200, {\\\"Content-Type\\\": \\\"application/json\\\"}, '{\\\"foo\\\": \\\"bar\\\"}'); }, 0); }); });\\n\\n####"}
{"prompt":"define(['@tsconfig/node16','github-release-from-changelog','yaml-front-matter'], function(tsconfigNode16,githubReleaseFromChangelog,yamlFrontMatter){\\nimport React from 'react';\\nimport PropTypes from 'prop-types';\\nimport InitWrapper from '../InitWrapper';\\nimport { ChecklistIcon } from '../Svg/ChecklistIcon';\\nimport { translate } from 'react-i18next'; import { EmptyState, TextButton, Heading } from 'wix-style-react'; function Welcome({ onTakePhoneOrderClick, t }) { return ( <InitWrapper displayCta onTakePhoneOrderClick={onTakePhoneOrderClick}> <EmptyState image={<ChecklistIcon />} title={ <Heading appearance=\\\"H3\\\" data-hook=\\\"welcome-state-title\\\"> {t('phoneordering_emptystate_owner_newOrder_title')} </Heading> } subtitle={t('phoneordering_emptystate_owner_newOrder_subtitle')} > <TextButton dataHook=\\\"welcome-cta\\\" onClick={() => onTakePhoneOrderClick()}> {t('phoneordering_emptystate_owner_newOrder_CTA')} </TextButton> </EmptyState> </InitWrapper> );\\n} Welcome.displayName = 'Welcome';\\nWelcome.propTypes = { onTakePhoneOrderClick: PropTypes.func, t: PropTypes.func,\\n}; export default translate()(Welcome);\\n\\n})\\n####","completion":" import tsconfigNode16 from '@tsconfig/node16'\\nimport githubReleaseFromChangelog from 'github-release-from-changelog'\\nimport yamlFrontMatter from 'yaml-front-matter'\\n\\nimport React from 'react';\\nimport PropTypes from 'prop-types';\\nimport InitWrapper from '../InitWrapper';\\nimport { ChecklistIcon } from '../Svg/ChecklistIcon';\\nimport { translate } from 'react-i18next'; import { EmptyState, TextButton, Heading } from 'wix-style-react'; function Welcome({ onTakePhoneOrderClick, t }) { return ( <InitWrapper displayCta onTakePhoneOrderClick={onTakePhoneOrderClick}> <EmptyState image={<ChecklistIcon />} title={ <Heading appearance=\\\"H3\\\" data-hook=\\\"welcome-state-title\\\"> {t('phoneordering_emptystate_owner_newOrder_title')} </Heading> } subtitle={t('phoneordering_emptystate_owner_newOrder_subtitle')} > <TextButton dataHook=\\\"welcome-cta\\\" onClick={() => onTakePhoneOrderClick()}> {t('phoneordering_emptystate_owner_newOrder_CTA')} </TextButton> </EmptyState> </InitWrapper> );\\n} Welcome.displayName = 'Welcome';\\nWelcome.propTypes = { onTakePhoneOrderClick: PropTypes.func, t: PropTypes.func,\\n}; export default translate()(Welcome);\\n\\n####"}
{"prompt":"define(['dprint','is-boolean-object','@types/minimist','@types/fs-extra','@types/js-yaml','ts-node-dev','vega-geo','azure-devops-node-api','jest-canvas-mock','@types/npm-packlist','tslint-config-prettier','jest-puppeteer','@fimbul/valtyr','vega-runtime','yaml-front-matter','github-release-from-changelog'], function(dprint,isBooleanObject,typesMinimist,typesFsExtra,typesJsYaml,tsNodeDev,vegaGeo,azureDevopsNodeApi,jestCanvasMock,typesNpmPacklist,tslintConfigPrettier,jestPuppeteer,fimbulValtyr,vegaRuntime,yamlFrontMatter,githubReleaseFromChangelog){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://kfirg6.wixsite.com/header-top (51)', withViewer({ tpaInterceptor, baseUrl: 'https://kfirg6.wixsite.com/header-top', emulateMobileDevice: false, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/51-header-top/anchors/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import dprint from 'dprint'\\nimport isBooleanObject from 'is-boolean-object'\\nimport typesMinimist from '@types/minimist'\\nimport typesFsExtra from '@types/fs-extra'\\nimport typesJsYaml from '@types/js-yaml'\\nimport tsNodeDev from 'ts-node-dev'\\nimport vegaGeo from 'vega-geo'\\nimport azureDevopsNodeApi from 'azure-devops-node-api'\\nimport jestCanvasMock from 'jest-canvas-mock'\\nimport typesNpmPacklist from '@types/npm-packlist'\\nimport tslintConfigPrettier from 'tslint-config-prettier'\\nimport jestPuppeteer from 'jest-puppeteer'\\nimport fimbulValtyr from '@fimbul/valtyr'\\nimport vegaRuntime from 'vega-runtime'\\nimport yamlFrontMatter from 'yaml-front-matter'\\nimport githubReleaseFromChangelog from 'github-release-from-changelog'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://kfirg6.wixsite.com/header-top (51)', withViewer({ tpaInterceptor, baseUrl: 'https://kfirg6.wixsite.com/header-top', emulateMobileDevice: false, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/51-header-top/anchors/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['proper-lockfile','vega-voronoi','yargs-test-extends','stream-spec','vega-cli','tslint-test-config-non-relative','vega-loader','xml2js'], function(properLockfile,vegaVoronoi,yargsTestExtends,streamSpec,vegaCli,tslintTestConfigNonRelative,vegaLoader,xml2Js){\\nimport PropTypes from 'prop-types';\\nimport React from 'react';\\nimport styles from './Backdrop.icss';\\nimport 'react/addons';\\nimport { CSSTransitionGroup } from 'react-transition-group'; export default class extends React.Component { static displayName = 'Backdrop'; static propTypes = { show: PropTypes.bool.isRequired }; onClick = (e) => { e.preventDefault(); this.props.onClick(); }; render() { return ( <CSSTransitionGroup transitionName={{ enter: styles.enter, enterActive: styles.enterActive, leave: styles.leave, leaveActive: styles.leaveActive, }} transitionAppear={true} transitionAppearTimeout={0} transitionEnterTimeout={0} transitionLeaveTimeout={0}> {this.props.show && <a href='#' onClick={this.onClick} className={styles.wrapper}/>} </CSSTransitionGroup> ); }\\n}\\n\\n})\\n####","completion":" import properLockfile from 'proper-lockfile'\\nimport vegaVoronoi from 'vega-voronoi'\\nimport yargsTestExtends from 'yargs-test-extends'\\nimport streamSpec from 'stream-spec'\\nimport vegaCli from 'vega-cli'\\nimport tslintTestConfigNonRelative from 'tslint-test-config-non-relative'\\nimport vegaLoader from 'vega-loader'\\nimport xml2Js from 'xml2js'\\n\\nimport PropTypes from 'prop-types';\\nimport React from 'react';\\nimport styles from './Backdrop.icss';\\nimport 'react/addons';\\nimport { CSSTransitionGroup } from 'react-transition-group'; export default class extends React.Component { static displayName = 'Backdrop'; static propTypes = { show: PropTypes.bool.isRequired }; onClick = (e) => { e.preventDefault(); this.props.onClick(); }; render() { return ( <CSSTransitionGroup transitionName={{ enter: styles.enter, enterActive: styles.enterActive, leave: styles.leave, leaveActive: styles.leaveActive, }} transitionAppear={true} transitionAppearTimeout={0} transitionEnterTimeout={0} transitionLeaveTimeout={0}> {this.props.show && <a href='#' onClick={this.onClick} className={styles.wrapper}/>} </CSSTransitionGroup> ); }\\n}\\n\\n####"}
{"prompt":"define(['ignore','fast-json-patch','cliui','vega-projection','svg2png-many','clean-ts-built','memfs','vega-runtime'], function(ignore,fastJsonPatch,cliui,vegaProjection,svg2PngMany,cleanTsBuilt,memfs,vegaRuntime){\\nimport {CommonProtocolClient} from './CommonProtocolClient'; export class RashomonClient { constructor({endpointUrl = \\\"https://rashomon.wixrestaurants.com/\\\", timeout = 0, accessToken = null}) { this._client = new CommonProtocolClient({ endpointUrl, timeout }); this._accessToken = accessToken; } addProject({projectId}) { return this._client.doRequest(\\\"addProject\\\", {projectId: projectId, accessToken: this._accessToken}); } addVersion({projectId, version, url}) { return this._client.doRequest(\\\"addVersion\\\", {projectId: projectId, version: version, url: url, accessToken: this._accessToken}); } setDefaultVersion({projectId, version}) { return this._client.doRequest(\\\"setDefaultVersion\\\", {projectId: projectId, version: version, accessToken: this._accessToken}); } getDefaultVersion({projectId}) { return this._client.doRequest(\\\"getDefaultVersion\\\", {projectId: projectId}); } } \\n})\\n####","completion":" import ignore from 'ignore'\\nimport fastJsonPatch from 'fast-json-patch'\\nimport cliui from 'cliui'\\nimport vegaProjection from 'vega-projection'\\nimport svg2PngMany from 'svg2png-many'\\nimport cleanTsBuilt from 'clean-ts-built'\\nimport memfs from 'memfs'\\nimport vegaRuntime from 'vega-runtime'\\n\\nimport {CommonProtocolClient} from './CommonProtocolClient'; export class RashomonClient { constructor({endpointUrl = \\\"https://rashomon.wixrestaurants.com/\\\", timeout = 0, accessToken = null}) { this._client = new CommonProtocolClient({ endpointUrl, timeout }); this._accessToken = accessToken; } addProject({projectId}) { return this._client.doRequest(\\\"addProject\\\", {projectId: projectId, accessToken: this._accessToken}); } addVersion({projectId, version, url}) { return this._client.doRequest(\\\"addVersion\\\", {projectId: projectId, version: version, url: url, accessToken: this._accessToken}); } setDefaultVersion({projectId, version}) { return this._client.doRequest(\\\"setDefaultVersion\\\", {projectId: projectId, version: version, accessToken: this._accessToken}); } getDefaultVersion({projectId}) { return this._client.doRequest(\\\"getDefaultVersion\\\", {projectId: projectId}); } } \\n####"}
{"prompt":"define(['vega-schema','vega-scenegraph','@tsconfig/node12','tsutils','tr46','require-directory','vega-canvas','decamelize','@types/ms','@types/microsoft__typescript-etw','vega-view','unicode-property-aliases-ecmascript','yarn','ignore','@types/minimist','colortape','make-error'], function(vegaSchema,vegaScenegraph,tsconfigNode12,tsutils,tr46,requireDirectory,vegaCanvas,decamelize,typesMs,typesMicrosoftTypescriptEtw,vegaView,unicodePropertyAliasesEcmascript,yarn,ignore,typesMinimist,colortape,makeError){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.wix.com/demone2/jazz-musician (19)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/jazz-musician', emulateMobileDevice: false, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/19-jazz-musician/anchors/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import vegaSchema from 'vega-schema'\\nimport vegaScenegraph from 'vega-scenegraph'\\nimport tsconfigNode12 from '@tsconfig/node12'\\nimport tsutils from 'tsutils'\\nimport tr46 from 'tr46'\\nimport requireDirectory from 'require-directory'\\nimport vegaCanvas from 'vega-canvas'\\nimport decamelize from 'decamelize'\\nimport typesMs from '@types/ms'\\nimport typesMicrosoftTypescriptEtw from '@types/microsoft__typescript-etw'\\nimport vegaView from 'vega-view'\\nimport unicodePropertyAliasesEcmascript from 'unicode-property-aliases-ecmascript'\\nimport yarn from 'yarn'\\nimport ignore from 'ignore'\\nimport typesMinimist from '@types/minimist'\\nimport colortape from 'colortape'\\nimport makeError from 'make-error'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.wix.com/demone2/jazz-musician (19)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/jazz-musician', emulateMobileDevice: false, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/19-jazz-musician/anchors/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['xml2js','js-yaml','util.promisify','gulp-insert','vega-canvas','promise-polyfill','dprint','throat','rxjs','vega-functions','vega-themes','azure-devops-node-api','typescript-tslint-plugin','path','vega-selections','ini','get-caller-file','vega-scale','npm-packlist','ts-json-schema-generator'], function(xml2Js,jsYaml,utilPromisify,gulpInsert,vegaCanvas,promisePolyfill,dprint,throat,rxjs,vegaFunctions,vegaThemes,azureDevopsNodeApi,typescriptTslintPlugin,path,vegaSelections,ini,getCallerFile,vegaScale,npmPacklist,tsJsonSchemaGenerator){\\n'use strict' // Maps languages to their most popular countries (some languages may not be mapped). // Generated by queries like \\\"English LanguageData LargestCountry CountryCode\\\" in http://www.wolframalpha.com/ // // List of relevant languages is based on: // _(locales).groupBy((locale) => { return locale.substr(0, 2) }).toPairs().filter((pairs) => { return (pairs[1].length > 1) }).map((pairs) => { return pairs[0] }).value() // // Manual additions: // * Latin -> Vatican export const largestCountries = { 'af': 'ZA', 'ar': 'EG', 'bn': 'BD', 'bo': 'CN', 'ca': 'ES', 'da': 'DK', 'de': 'DE', 'ee': 'GH', 'el': 'GR', 'en': 'US', 'es': 'MX', 'fa': 'IR', 'ff': 'MR', 'fo': 'DK', 'fr': 'FR', 'ha': 'NG', 'hr': 'HR', 'it': 'IT', 'ko': 'KR', 'la': 'VA', 'ln': 'CD', 'ms': 'MY', 'nb': 'NO', 'ne': 'NP', 'nl': 'NL', 'om': 'ET', 'os': 'GE', 'pa': 'IN', 'pt': 'BR', 'qu': 'PE', 'ro': 'RO', 'ru': 'RU', 'se': 'NO', 'so': 'SO', 'sq': 'AL', 'sr': 'RS', 'sv': 'SE', 'sw': 'TZ', 'ta': 'IN', 'ti': 'ET', 'tr': 'TR', 'ur': 'IN', 'uz': 'UZ', 'yo': 'NG', 'zh': 'CN' } \\n})\\n####","completion":" import xml2Js from 'xml2js'\\nimport jsYaml from 'js-yaml'\\nimport utilPromisify from 'util.promisify'\\nimport gulpInsert from 'gulp-insert'\\nimport vegaCanvas from 'vega-canvas'\\nimport promisePolyfill from 'promise-polyfill'\\nimport dprint from 'dprint'\\nimport throat from 'throat'\\nimport rxjs from 'rxjs'\\nimport vegaFunctions from 'vega-functions'\\nimport vegaThemes from 'vega-themes'\\nimport azureDevopsNodeApi from 'azure-devops-node-api'\\nimport typescriptTslintPlugin from 'typescript-tslint-plugin'\\nimport path from 'path'\\nimport vegaSelections from 'vega-selections'\\nimport ini from 'ini'\\nimport getCallerFile from 'get-caller-file'\\nimport vegaScale from 'vega-scale'\\nimport npmPacklist from 'npm-packlist'\\nimport tsJsonSchemaGenerator from 'ts-json-schema-generator'\\n\\n'use strict' // Maps languages to their most popular countries (some languages may not be mapped). // Generated by queries like \\\"English LanguageData LargestCountry CountryCode\\\" in http://www.wolframalpha.com/ // // List of relevant languages is based on: // _(locales).groupBy((locale) => { return locale.substr(0, 2) }).toPairs().filter((pairs) => { return (pairs[1].length > 1) }).map((pairs) => { return pairs[0] }).value() // // Manual additions: // * Latin -> Vatican export const largestCountries = { 'af': 'ZA', 'ar': 'EG', 'bn': 'BD', 'bo': 'CN', 'ca': 'ES', 'da': 'DK', 'de': 'DE', 'ee': 'GH', 'el': 'GR', 'en': 'US', 'es': 'MX', 'fa': 'IR', 'ff': 'MR', 'fo': 'DK', 'fr': 'FR', 'ha': 'NG', 'hr': 'HR', 'it': 'IT', 'ko': 'KR', 'la': 'VA', 'ln': 'CD', 'ms': 'MY', 'nb': 'NO', 'ne': 'NP', 'nl': 'NL', 'om': 'ET', 'os': 'GE', 'pa': 'IN', 'pt': 'BR', 'qu': 'PE', 'ro': 'RO', 'ru': 'RU', 'se': 'NO', 'so': 'SO', 'sq': 'AL', 'sr': 'RS', 'sv': 'SE', 'sw': 'TZ', 'ta': 'IN', 'ti': 'ET', 'tr': 'TR', 'ur': 'IN', 'uz': 'UZ', 'yo': 'NG', 'zh': 'CN' } \\n####"}
{"prompt":"define(['eslint-plugin-github','clean-ts-built','vega-time','@types/react','start-server-and-test','xml2js','tslint-config-prettier','common-tags','@octokit/rest','dts-jest','@types/diff','promise-polyfill','vega-view-transforms','@types/d3','tslint-consistent-codestyle','dprint','gulp-sourcemaps','@cspotcode/source-map-support','vega-schema-url-parser'], function(eslintPluginGithub,cleanTsBuilt,vegaTime,typesReact,startServerAndTest,xml2Js,tslintConfigPrettier,commonTags,octokitRest,dtsJest,typesDiff,promisePolyfill,vegaViewTransforms,typesD3,tslintConsistentCodestyle,dprint,gulpSourcemaps,cspotcodeSourceMapSupport,vegaSchemaUrlParser){\\nimport _ from 'lodash';\\nimport React, { Component } from 'react';\\nimport { Container, Row, Col } from '../../../../shared/grid';\\nimport playRowEnterAnimation from '../animations/rowAnimations/rowEnterAnimation'; export default class MyRequestList extends Component { componentDidUpdate(prevProps) { this.animateRowsEnter(prevProps); } animateRowsEnter(prevProps) { const maxRowsToAnimate = 4; if ( _.get(this.props, 'rows.length') - _.get(prevProps, 'rows.length') <= maxRowsToAnimate ) { const diff = _.difference( _.map(this.props.rows, 'request.id'), _.map(prevProps.rows, 'request.id'), ); const requestIds = _.take(diff, maxRowsToAnimate); _.each(requestIds, (id) => playRowEnterAnimation({ orderId: id })); } } render() { return ( <div className={this.props.wrapperClass || 'contentList'}> <Container> <Row> <Col span={12}> {_.map(this.props.rows, 'component')} {this.props.children} </Col> </Row> </Container> </div> ); }\\n}\\n\\n})\\n####","completion":" import eslintPluginGithub from 'eslint-plugin-github'\\nimport cleanTsBuilt from 'clean-ts-built'\\nimport vegaTime from 'vega-time'\\nimport typesReact from '@types/react'\\nimport startServerAndTest from 'start-server-and-test'\\nimport xml2Js from 'xml2js'\\nimport tslintConfigPrettier from 'tslint-config-prettier'\\nimport commonTags from 'common-tags'\\nimport octokitRest from '@octokit/rest'\\nimport dtsJest from 'dts-jest'\\nimport typesDiff from '@types/diff'\\nimport promisePolyfill from 'promise-polyfill'\\nimport vegaViewTransforms from 'vega-view-transforms'\\nimport typesD3 from '@types/d3'\\nimport tslintConsistentCodestyle from 'tslint-consistent-codestyle'\\nimport dprint from 'dprint'\\nimport gulpSourcemaps from 'gulp-sourcemaps'\\nimport cspotcodeSourceMapSupport from '@cspotcode/source-map-support'\\nimport vegaSchemaUrlParser from 'vega-schema-url-parser'\\n\\nimport _ from 'lodash';\\nimport React, { Component } from 'react';\\nimport { Container, Row, Col } from '../../../../shared/grid';\\nimport playRowEnterAnimation from '../animations/rowAnimations/rowEnterAnimation'; export default class MyRequestList extends Component { componentDidUpdate(prevProps) { this.animateRowsEnter(prevProps); } animateRowsEnter(prevProps) { const maxRowsToAnimate = 4; if ( _.get(this.props, 'rows.length') - _.get(prevProps, 'rows.length') <= maxRowsToAnimate ) { const diff = _.difference( _.map(this.props.rows, 'request.id'), _.map(prevProps.rows, 'request.id'), ); const requestIds = _.take(diff, maxRowsToAnimate); _.each(requestIds, (id) => playRowEnterAnimation({ orderId: id })); } } render() { return ( <div className={this.props.wrapperClass || 'contentList'}> <Container> <Row> <Col span={12}> {_.map(this.props.rows, 'component')} {this.props.children} </Col> </Row> </Container> </div> ); }\\n}\\n\\n####"}
{"prompt":"define(['microbundle','@types/gulp-rename','dts-jest','ts-node-dev','@tsconfig/node14','path','proper-lockfile','@tsconfig/node12','vega-statistics','@microsoft/api-extractor','vega-event-selector','gulp-insert','vega-view-transforms','ts-clean-built'], function(microbundle,typesGulpRename,dtsJest,tsNodeDev,tsconfigNode14,path,properLockfile,tsconfigNode12,vegaStatistics,microsoftApiExtractor,vegaEventSelector,gulpInsert,vegaViewTransforms,tsCleanBuilt){\\n\\\"use strict\\\"; import {expect, assert} from 'chai';\\nimport sinon from 'sinon';\\nimport TripadvisorApiConnector from '../src/TripadvisorApiConnector.js'; const someQuery = 'lakjsdlkajdl'; let requests = []; describe(\\\"TripadvisorApiConnector\\\", function() { before(() => { global.XMLHttpRequest = sinon.useFakeXMLHttpRequest(); global.XMLHttpRequest.onCreate = (xhr) => { requests.push(xhr); } }); beforeEach(() => { requests = []; }); it('Should call api with ()', function(done) { let xhr = {}; TripadvisorApiConnector(someQuery) .then(() => { assert.equal(xhr.requestBody, JSON.stringify({query: someQuery})); done(); }); setTimeout(() => { assert.equal(requests.length, 1, 'TripadvisorApiConnector.api.called'); xhr = requests[0]; xhr.respond(200, {\\\"Content-Type\\\": \\\"application/json\\\"}, '{\\\"query\\\": \\\"lakjsdlkajdl\\\"}'); }, 0); }); });\\n\\n})\\n####","completion":" import microbundle from 'microbundle'\\nimport typesGulpRename from '@types/gulp-rename'\\nimport dtsJest from 'dts-jest'\\nimport tsNodeDev from 'ts-node-dev'\\nimport tsconfigNode14 from '@tsconfig/node14'\\nimport path from 'path'\\nimport properLockfile from 'proper-lockfile'\\nimport tsconfigNode12 from '@tsconfig/node12'\\nimport vegaStatistics from 'vega-statistics'\\nimport microsoftApiExtractor from '@microsoft/api-extractor'\\nimport vegaEventSelector from 'vega-event-selector'\\nimport gulpInsert from 'gulp-insert'\\nimport vegaViewTransforms from 'vega-view-transforms'\\nimport tsCleanBuilt from 'ts-clean-built'\\n\\n\\\"use strict\\\"; import {expect, assert} from 'chai';\\nimport sinon from 'sinon';\\nimport TripadvisorApiConnector from '../src/TripadvisorApiConnector.js'; const someQuery = 'lakjsdlkajdl'; let requests = []; describe(\\\"TripadvisorApiConnector\\\", function() { before(() => { global.XMLHttpRequest = sinon.useFakeXMLHttpRequest(); global.XMLHttpRequest.onCreate = (xhr) => { requests.push(xhr); } }); beforeEach(() => { requests = []; }); it('Should call api with ()', function(done) { let xhr = {}; TripadvisorApiConnector(someQuery) .then(() => { assert.equal(xhr.requestBody, JSON.stringify({query: someQuery})); done(); }); setTimeout(() => { assert.equal(requests.length, 1, 'TripadvisorApiConnector.api.called'); xhr = requests[0]; xhr.respond(200, {\\\"Content-Type\\\": \\\"application/json\\\"}, '{\\\"query\\\": \\\"lakjsdlkajdl\\\"}'); }, 0); }); });\\n\\n####"}
{"prompt":"define(['vega-loader','vega-themes','dts-jest','d3-shape','@types/d3'], function(vegaLoader,vegaThemes,dtsJest,d3Shape,typesD3){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.wix.com/demone2/success-coach (5)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/success-coach', emulateMobileDevice: false, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/5-success-coach/mesh/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import vegaLoader from 'vega-loader'\\nimport vegaThemes from 'vega-themes'\\nimport dtsJest from 'dts-jest'\\nimport d3Shape from 'd3-shape'\\nimport typesD3 from '@types/d3'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.wix.com/demone2/success-coach (5)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/success-coach', emulateMobileDevice: false, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/5-success-coach/mesh/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['rollup-plugin-cleanup','@typescript-eslint/experimental-utils','@types/minimist','@cspotcode/source-map-support','@types/mkdirp','gulp-concat','vinyl-sourcemaps-apply','vega-event-selector','microbundle','d3-hierarchy','d3-delaunay','decamelize','@types/diff','@types/gulp-sourcemaps'], function(rollupPluginCleanup,typescriptEslintExperimentalUtils,typesMinimist,cspotcodeSourceMapSupport,typesMkdirp,gulpConcat,vinylSourcemapsApply,vegaEventSelector,microbundle,d3Hierarchy,d3Delaunay,decamelize,typesDiff,typesGulpSourcemaps){\\n\\\"use strict\\\"; import {assert} from 'chai';\\nimport sinon from 'sinon';\\nimport YelpApiConnector from '../src/YelpApiConnector.js'; const somePath = 'somePath/foo/bar';\\nconst someParams = {foo: 'bar'}; let requests = []; describe(\\\"YelpApiConnector\\\", function() { before(() => { global.XMLHttpRequest = sinon.useFakeXMLHttpRequest(); global.XMLHttpRequest.onCreate = (xhr) => { requests.push(xhr); } }); beforeEach(() => { requests = []; }); it('Should call api with (path, params)', function(done) { let xhr = {}; YelpApiConnector(somePath, someParams) .then(() => { assert.equal(xhr.requestBody, JSON.stringify({path: somePath, params: someParams})); done(); }); setTimeout(() => { assert.equal(requests.length, 1, 'YelpApiConnector.api.called'); xhr = requests[0]; xhr.respond(200, {\\\"Content-Type\\\": \\\"application/json\\\"}, '{\\\"foo\\\": \\\"bar\\\"}'); }, 0); }); });\\n\\n})\\n####","completion":" import rollupPluginCleanup from 'rollup-plugin-cleanup'\\nimport typescriptEslintExperimentalUtils from '@typescript-eslint/experimental-utils'\\nimport typesMinimist from '@types/minimist'\\nimport cspotcodeSourceMapSupport from '@cspotcode/source-map-support'\\nimport typesMkdirp from '@types/mkdirp'\\nimport gulpConcat from 'gulp-concat'\\nimport vinylSourcemapsApply from 'vinyl-sourcemaps-apply'\\nimport vegaEventSelector from 'vega-event-selector'\\nimport microbundle from 'microbundle'\\nimport d3Hierarchy from 'd3-hierarchy'\\nimport d3Delaunay from 'd3-delaunay'\\nimport decamelize from 'decamelize'\\nimport typesDiff from '@types/diff'\\nimport typesGulpSourcemaps from '@types/gulp-sourcemaps'\\n\\n\\\"use strict\\\"; import {assert} from 'chai';\\nimport sinon from 'sinon';\\nimport YelpApiConnector from '../src/YelpApiConnector.js'; const somePath = 'somePath/foo/bar';\\nconst someParams = {foo: 'bar'}; let requests = []; describe(\\\"YelpApiConnector\\\", function() { before(() => { global.XMLHttpRequest = sinon.useFakeXMLHttpRequest(); global.XMLHttpRequest.onCreate = (xhr) => { requests.push(xhr); } }); beforeEach(() => { requests = []; }); it('Should call api with (path, params)', function(done) { let xhr = {}; YelpApiConnector(somePath, someParams) .then(() => { assert.equal(xhr.requestBody, JSON.stringify({path: somePath, params: someParams})); done(); }); setTimeout(() => { assert.equal(requests.length, 1, 'YelpApiConnector.api.called'); xhr = requests[0]; xhr.respond(200, {\\\"Content-Type\\\": \\\"application/json\\\"}, '{\\\"foo\\\": \\\"bar\\\"}'); }, 0); }); });\\n\\n####"}
{"prompt":"define(['vinyl-sourcemaps-apply','merge2','arg','vega-scenegraph','get-caller-file','@sindresorhus/tsconfig','vega-format','@types/source-map-support','@types/merge2','@types/react','@types/xml2js','isexe','acorn-walk','webidl-conversions','create-require'], function(vinylSourcemapsApply,merge2,arg,vegaScenegraph,getCallerFile,sindresorhusTsconfig,vegaFormat,typesSourceMapSupport,typesMerge2,typesReact,typesXml2Js,isexe,acornWalk,webidlConversions,createRequire){\\ndefine(['documentServices/constants/constants', 'documentServices/page/pageData'], function (constants, pageData) { 'use strict' const { DATA_TYPES, MASTER_PAGE_ID, ATOMIC_SCOPES: {TYPE, URI_PREFIX} } = constants const getAtomicScopePointer = (ps, id) => ps.pointers.data.getItem(DATA_TYPES.atomicScopes, id, MASTER_PAGE_ID) const addAtomicScope = (ps, id) => { const data = {type: TYPE, id} const pointer = getAtomicScopePointer(ps, id) ps.dal.set(pointer, data) } const removeAtomicScope = (ps, id) => { const pointer = getAtomicScopePointer(ps, id) ps.dal.remove(pointer) } const changeAtomicScope = (ps, oldId, newId) => { removeAtomicScope(ps, oldId) addAtomicScope(ps, newId) } const getPageUriAtomicScopeId = (ps, pageId) => { const pageUriSEO = pageData.getPageUriSEO(ps, pageId) return `${URI_PREFIX}-${pageUriSEO}` } const getRouterAtomicScopeId = (ps, routerPointer) => { const routerData = ps.dal.get(routerPointer) const {prefix} = routerData return `${URI_PREFIX}-${prefix}` } return { addAtomicScope, removeAtomicScope, changeAtomicScope, getAtomicScopePointer, getPageUriAtomicScopeId, getRouterAtomicScopeId }\\n})\\n\\n})\\n####","completion":" import vinylSourcemapsApply from 'vinyl-sourcemaps-apply'\\nimport merge2 from 'merge2'\\nimport arg from 'arg'\\nimport vegaScenegraph from 'vega-scenegraph'\\nimport getCallerFile from 'get-caller-file'\\nimport sindresorhusTsconfig from '@sindresorhus/tsconfig'\\nimport vegaFormat from 'vega-format'\\nimport typesSourceMapSupport from '@types/source-map-support'\\nimport typesMerge2 from '@types/merge2'\\nimport typesReact from '@types/react'\\nimport typesXml2Js from '@types/xml2js'\\nimport isexe from 'isexe'\\nimport acornWalk from 'acorn-walk'\\nimport webidlConversions from 'webidl-conversions'\\nimport createRequire from 'create-require'\\n\\ndefine(['documentServices/constants/constants', 'documentServices/page/pageData'], function (constants, pageData) { 'use strict' const { DATA_TYPES, MASTER_PAGE_ID, ATOMIC_SCOPES: {TYPE, URI_PREFIX} } = constants const getAtomicScopePointer = (ps, id) => ps.pointers.data.getItem(DATA_TYPES.atomicScopes, id, MASTER_PAGE_ID) const addAtomicScope = (ps, id) => { const data = {type: TYPE, id} const pointer = getAtomicScopePointer(ps, id) ps.dal.set(pointer, data) } const removeAtomicScope = (ps, id) => { const pointer = getAtomicScopePointer(ps, id) ps.dal.remove(pointer) } const changeAtomicScope = (ps, oldId, newId) => { removeAtomicScope(ps, oldId) addAtomicScope(ps, newId) } const getPageUriAtomicScopeId = (ps, pageId) => { const pageUriSEO = pageData.getPageUriSEO(ps, pageId) return `${URI_PREFIX}-${pageUriSEO}` } const getRouterAtomicScopeId = (ps, routerPointer) => { const routerData = ps.dal.get(routerPointer) const {prefix} = routerData return `${URI_PREFIX}-${prefix}` } return { addAtomicScope, removeAtomicScope, changeAtomicScope, getAtomicScopePointer, getPageUriAtomicScopeId, getRouterAtomicScopeId }\\n})\\n\\n####"}
{"prompt":"define(['vega-regression','mocha-fivemat-progress-reporter','eslint-plugin-github','is-number-object','create-require','eslint-config-lydell','from','builtin-modules','vega-event-selector','@types/proxyquire','@fimbul/wotan','azure-devops-node-api','vows','d3-geo-projection','@types/npm-packlist','homedir-polyfill','d3-delaunay'], function(vegaRegression,mochaFivematProgressReporter,eslintPluginGithub,isNumberObject,createRequire,eslintConfigLydell,from,builtinModules,vegaEventSelector,typesProxyquire,fimbulWotan,azureDevopsNodeApi,vows,d3GeoProjection,typesNpmPacklist,homedirPolyfill,d3Delaunay){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.wix.com/demone2/it-services (35)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/it-services', emulateMobileDevice: false, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/35-it-services/anchors/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import vegaRegression from 'vega-regression'\\nimport mochaFivematProgressReporter from 'mocha-fivemat-progress-reporter'\\nimport eslintPluginGithub from 'eslint-plugin-github'\\nimport isNumberObject from 'is-number-object'\\nimport createRequire from 'create-require'\\nimport eslintConfigLydell from 'eslint-config-lydell'\\nimport from from 'from'\\nimport builtinModules from 'builtin-modules'\\nimport vegaEventSelector from 'vega-event-selector'\\nimport typesProxyquire from '@types/proxyquire'\\nimport fimbulWotan from '@fimbul/wotan'\\nimport azureDevopsNodeApi from 'azure-devops-node-api'\\nimport vows from 'vows'\\nimport d3GeoProjection from 'd3-geo-projection'\\nimport typesNpmPacklist from '@types/npm-packlist'\\nimport homedirPolyfill from 'homedir-polyfill'\\nimport d3Delaunay from 'd3-delaunay'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.wix.com/demone2/it-services (35)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/it-services', emulateMobileDevice: false, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/35-it-services/anchors/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['promise-polyfill','@types/merge2','vega-schema-url-parser','@types/microsoft__typescript-etw','d3-geo-projection','gulp-insert','create-require','cpr','vega-canvas','vega-view-transforms','d3-force','babel-plugin-trace','@cspotcode/source-map-support','rollup-plugin-bundle-size','yarn-deduplicate','@types/gulp-concat','has-ansi','vega-wordcloud'], function(promisePolyfill,typesMerge2,vegaSchemaUrlParser,typesMicrosoftTypescriptEtw,d3GeoProjection,gulpInsert,createRequire,cpr,vegaCanvas,vegaViewTransforms,d3Force,babelPluginTrace,cspotcodeSourceMapSupport,rollupPluginBundleSize,yarnDeduplicate,typesGulpConcat,hasAnsi,vegaWordcloud){\\nimport React from 'react';\\nimport ChevronSvg from './ChevronSvg';\\nimport styles from './DesignSectionParts.less';\\nimport keys from 'lodash/keys';\\nimport PropTypes from 'prop-types'; export default function DesignSectionParts({ onPartClick, parts, isRtl }) { const renderPartItem = (type, text) => { return <div className={styles['settings-part-item']} data-hook={`settings-part-item-${type}`} onClick={() => onPartClick(type)} key={type}> <div className={styles['settings-part-item-text']}>{ text }</div> <div className={styles['settings-part-item-icon']}><ChevronSvg flip={isRtl} /></div> </div>; }; return ( <div className={styles['settings-parts']}> { keys(parts).map(key => renderPartItem(key, parts[key])) } </div> );\\n} DesignSectionParts.displayName = 'DesignSectionParts';\\nDesignSectionParts.propTypes = { i18n: PropTypes.object.isRequired, onPartClick: PropTypes.func.isRequired, parts: PropTypes.object.isRequired, isRtl: PropTypes.bool\\n}; DesignSectionParts.defaultProps = { isRtl: false\\n};\\n\\n})\\n####","completion":" import promisePolyfill from 'promise-polyfill'\\nimport typesMerge2 from '@types/merge2'\\nimport vegaSchemaUrlParser from 'vega-schema-url-parser'\\nimport typesMicrosoftTypescriptEtw from '@types/microsoft__typescript-etw'\\nimport d3GeoProjection from 'd3-geo-projection'\\nimport gulpInsert from 'gulp-insert'\\nimport createRequire from 'create-require'\\nimport cpr from 'cpr'\\nimport vegaCanvas from 'vega-canvas'\\nimport vegaViewTransforms from 'vega-view-transforms'\\nimport d3Force from 'd3-force'\\nimport babelPluginTrace from 'babel-plugin-trace'\\nimport cspotcodeSourceMapSupport from '@cspotcode/source-map-support'\\nimport rollupPluginBundleSize from 'rollup-plugin-bundle-size'\\nimport yarnDeduplicate from 'yarn-deduplicate'\\nimport typesGulpConcat from '@types/gulp-concat'\\nimport hasAnsi from 'has-ansi'\\nimport vegaWordcloud from 'vega-wordcloud'\\n\\nimport React from 'react';\\nimport ChevronSvg from './ChevronSvg';\\nimport styles from './DesignSectionParts.less';\\nimport keys from 'lodash/keys';\\nimport PropTypes from 'prop-types'; export default function DesignSectionParts({ onPartClick, parts, isRtl }) { const renderPartItem = (type, text) => { return <div className={styles['settings-part-item']} data-hook={`settings-part-item-${type}`} onClick={() => onPartClick(type)} key={type}> <div className={styles['settings-part-item-text']}>{ text }</div> <div className={styles['settings-part-item-icon']}><ChevronSvg flip={isRtl} /></div> </div>; }; return ( <div className={styles['settings-parts']}> { keys(parts).map(key => renderPartItem(key, parts[key])) } </div> );\\n} DesignSectionParts.displayName = 'DesignSectionParts';\\nDesignSectionParts.propTypes = { i18n: PropTypes.object.isRequired, onPartClick: PropTypes.func.isRequired, parts: PropTypes.object.isRequired, isRtl: PropTypes.bool\\n}; DesignSectionParts.defaultProps = { isRtl: false\\n};\\n\\n####"}
{"prompt":"define(['vega-regression','vega-hierarchy','@yarnpkg/fslib','tslint-test-config-non-relative','eslint-config-lydell','os-tmpdir','array-flat-polyfill','fancy-log','@types/d3','recast','ts-node-dev','is-bigint','npm-packlist','vega-view','@types/fs-extra','@types/gulp-sourcemaps','isexe','rollup-plugin-bundle-size','pretty-quick','@types/npm-packlist'], function(vegaRegression,vegaHierarchy,yarnpkgFslib,tslintTestConfigNonRelative,eslintConfigLydell,osTmpdir,arrayFlatPolyfill,fancyLog,typesD3,recast,tsNodeDev,isBigint,npmPacklist,vegaView,typesFsExtra,typesGulpSourcemaps,isexe,rollupPluginBundleSize,prettyQuick,typesNpmPacklist){\\n'use strict' const _ = require('lodash')\\nconst coreUtils = require('@wix/santa-core-utils') const appPartMediaInnerCustomizationFormatFixer = { name: 'appPartMediaInnerCustomizationFormatFixer', version: 1, exec(pageJson) { if (!pageJson.data || !pageJson.data.document_data) { return } _(pageJson.data.document_data) .filter(component => appPartMediaInnerCustomizationFormatFixer.isAppPartType(component.type)) .forEach(appPart => { _(appPart.appLogicCustomizations) .compact() .groupBy('view') .filter((ignoredCustomizations, view) => coreUtils.appPartMediaInnerViewNameUtils.isMediaInnerViewName(view)) .forEach(mediaInnerCustomizations => { _(mediaInnerCustomizations) .groupBy('fieldId') .filter(customizations => _.isEqual(_.map(customizations, 'format'), [''])) .forEach(desktopCustomizations => { _.forEach(desktopCustomizations, customization => { customization.format = '*' }) }) }) }) }, isAppPartType(type) { return type === 'AppPart' }\\n} module.exports = appPartMediaInnerCustomizationFormatFixer\\n\\n})\\n####","completion":" import vegaRegression from 'vega-regression'\\nimport vegaHierarchy from 'vega-hierarchy'\\nimport yarnpkgFslib from '@yarnpkg/fslib'\\nimport tslintTestConfigNonRelative from 'tslint-test-config-non-relative'\\nimport eslintConfigLydell from 'eslint-config-lydell'\\nimport osTmpdir from 'os-tmpdir'\\nimport arrayFlatPolyfill from 'array-flat-polyfill'\\nimport fancyLog from 'fancy-log'\\nimport typesD3 from '@types/d3'\\nimport recast from 'recast'\\nimport tsNodeDev from 'ts-node-dev'\\nimport isBigint from 'is-bigint'\\nimport npmPacklist from 'npm-packlist'\\nimport vegaView from 'vega-view'\\nimport typesFsExtra from '@types/fs-extra'\\nimport typesGulpSourcemaps from '@types/gulp-sourcemaps'\\nimport isexe from 'isexe'\\nimport rollupPluginBundleSize from 'rollup-plugin-bundle-size'\\nimport prettyQuick from 'pretty-quick'\\nimport typesNpmPacklist from '@types/npm-packlist'\\n\\n'use strict' const _ = require('lodash')\\nconst coreUtils = require('@wix/santa-core-utils') const appPartMediaInnerCustomizationFormatFixer = { name: 'appPartMediaInnerCustomizationFormatFixer', version: 1, exec(pageJson) { if (!pageJson.data || !pageJson.data.document_data) { return } _(pageJson.data.document_data) .filter(component => appPartMediaInnerCustomizationFormatFixer.isAppPartType(component.type)) .forEach(appPart => { _(appPart.appLogicCustomizations) .compact() .groupBy('view') .filter((ignoredCustomizations, view) => coreUtils.appPartMediaInnerViewNameUtils.isMediaInnerViewName(view)) .forEach(mediaInnerCustomizations => { _(mediaInnerCustomizations) .groupBy('fieldId') .filter(customizations => _.isEqual(_.map(customizations, 'format'), [''])) .forEach(desktopCustomizations => { _.forEach(desktopCustomizations, customization => { customization.format = '*' }) }) }) }) }, isAppPartType(type) { return type === 'AppPart' }\\n} module.exports = appPartMediaInnerCustomizationFormatFixer\\n\\n####"}
{"prompt":"define(['util.promisify','vinyl-sourcemaps-apply','npm-packlist','verup','decamelize','memfs','rollup-plugin-sourcemaps','gulp-concat','has-ansi','camelcase','vega-expression','vega-parser','vega-schema','path','yarn','@types/gulp-newer','tslint-consistent-codestyle'], function(utilPromisify,vinylSourcemapsApply,npmPacklist,verup,decamelize,memfs,rollupPluginSourcemaps,gulpConcat,hasAnsi,camelcase,vegaExpression,vegaParser,vegaSchema,path,yarn,typesGulpNewer,tslintConsistentCodestyle){\\nconst i18n = require('@wix/wix-react-native-i18n'); const stringsByLocale = { en: () => require('./messages_en.json'), es: () => require('./messages_es.json'), cs: () => require('./messages_cs.json'), da: () => require('./messages_da.json'), de: () => require('./messages_de.json'), fi: () => require('./messages_fi.json'), fr: () => require('./messages_fr.json'), it: () => require('./messages_it.json'), hi: () => require('./messages_hi.json'), ja: () => require('./messages_ja.json'), ko: () => require('./messages_ko.json'), nl: () => require('./messages_nl.json'), no: () => require('./messages_no.json'), pl: () => require('./messages_pl.json'), pt: () => require('./messages_pt.json'), ru: () => require('./messages_ru.json'), sv: () => require('./messages_sv.json'), th: () => require('./messages_th.json'), tr: () => require('./messages_tr.json'), zh: () => require('./messages_zh.json'), he: () => require('./messages_he.json'), lt: () => require('./messages_lt.json'), uk: () => require('./messages_uk.json'), ar: () => require('./messages_ar.json'), vi: () => require('./messages_vi.json'), el: () => require('./messages_el.json'), hu: () => require('./messages_hu.json'), id: () => require('./messages_id.json'),\\n}; const _i18n = i18n(stringsByLocale);\\nmodule.exports = { ..._i18n, i18n: _i18n.icui18n,\\n};\\n\\n})\\n####","completion":" import utilPromisify from 'util.promisify'\\nimport vinylSourcemapsApply from 'vinyl-sourcemaps-apply'\\nimport npmPacklist from 'npm-packlist'\\nimport verup from 'verup'\\nimport decamelize from 'decamelize'\\nimport memfs from 'memfs'\\nimport rollupPluginSourcemaps from 'rollup-plugin-sourcemaps'\\nimport gulpConcat from 'gulp-concat'\\nimport hasAnsi from 'has-ansi'\\nimport camelcase from 'camelcase'\\nimport vegaExpression from 'vega-expression'\\nimport vegaParser from 'vega-parser'\\nimport vegaSchema from 'vega-schema'\\nimport path from 'path'\\nimport yarn from 'yarn'\\nimport typesGulpNewer from '@types/gulp-newer'\\nimport tslintConsistentCodestyle from 'tslint-consistent-codestyle'\\n\\nconst i18n = require('@wix/wix-react-native-i18n'); const stringsByLocale = { en: () => require('./messages_en.json'), es: () => require('./messages_es.json'), cs: () => require('./messages_cs.json'), da: () => require('./messages_da.json'), de: () => require('./messages_de.json'), fi: () => require('./messages_fi.json'), fr: () => require('./messages_fr.json'), it: () => require('./messages_it.json'), hi: () => require('./messages_hi.json'), ja: () => require('./messages_ja.json'), ko: () => require('./messages_ko.json'), nl: () => require('./messages_nl.json'), no: () => require('./messages_no.json'), pl: () => require('./messages_pl.json'), pt: () => require('./messages_pt.json'), ru: () => require('./messages_ru.json'), sv: () => require('./messages_sv.json'), th: () => require('./messages_th.json'), tr: () => require('./messages_tr.json'), zh: () => require('./messages_zh.json'), he: () => require('./messages_he.json'), lt: () => require('./messages_lt.json'), uk: () => require('./messages_uk.json'), ar: () => require('./messages_ar.json'), vi: () => require('./messages_vi.json'), el: () => require('./messages_el.json'), hu: () => require('./messages_hu.json'), id: () => require('./messages_id.json'),\\n}; const _i18n = i18n(stringsByLocale);\\nmodule.exports = { ..._i18n, i18n: _i18n.icui18n,\\n};\\n\\n####"}
{"prompt":"define(['unicode-property-aliases-ecmascript','colortape','start-server-and-test','is-boolean-object','ignore','create-require','vega-label','vega-time','@types/react','azure-devops-node-api','vega-format','@tsconfig/node12'], function(unicodePropertyAliasesEcmascript,colortape,startServerAndTest,isBooleanObject,ignore,createRequire,vegaLabel,vegaTime,typesReact,azureDevopsNodeApi,vegaFormat,tsconfigNode12){\\nimport {StyleSheet} from 'react-native'; export default StyleSheet.create({ statusHeaderCategoryNumber: { borderRadius: 16, paddingVertical: 2, paddingHorizontal: 4, height: 17, minWidth: 17, justifyContent: 'center', alignItems: 'center' }, wideCounter: { paddingHorizontal: 6 }, ring: { position: 'absolute', top: 0, left: 0, height: 17, borderColor: '#3899ec', borderWidth: 1, borderRadius: 16, zIndex: 0 }, statusHeaderCategoryNumberText: { fontSize: 10, lineHeight: 11, color: '#3899ec', textAlign: 'center', fontWeight: '500', letterSpacing: -0.5, zIndex: 2, backgroundColor: 'transparent' }, statusHeaderCategoryNumberTextActive: { color: '#fff', }, animatedBg: { position: 'absolute', top: -1, left: -1, backgroundColor: '#64BB5B', height: 19, borderRadius: 16, zIndex: 1 }\\n});\\n\\n})\\n####","completion":" import unicodePropertyAliasesEcmascript from 'unicode-property-aliases-ecmascript'\\nimport colortape from 'colortape'\\nimport startServerAndTest from 'start-server-and-test'\\nimport isBooleanObject from 'is-boolean-object'\\nimport ignore from 'ignore'\\nimport createRequire from 'create-require'\\nimport vegaLabel from 'vega-label'\\nimport vegaTime from 'vega-time'\\nimport typesReact from '@types/react'\\nimport azureDevopsNodeApi from 'azure-devops-node-api'\\nimport vegaFormat from 'vega-format'\\nimport tsconfigNode12 from '@tsconfig/node12'\\n\\nimport {StyleSheet} from 'react-native'; export default StyleSheet.create({ statusHeaderCategoryNumber: { borderRadius: 16, paddingVertical: 2, paddingHorizontal: 4, height: 17, minWidth: 17, justifyContent: 'center', alignItems: 'center' }, wideCounter: { paddingHorizontal: 6 }, ring: { position: 'absolute', top: 0, left: 0, height: 17, borderColor: '#3899ec', borderWidth: 1, borderRadius: 16, zIndex: 0 }, statusHeaderCategoryNumberText: { fontSize: 10, lineHeight: 11, color: '#3899ec', textAlign: 'center', fontWeight: '500', letterSpacing: -0.5, zIndex: 2, backgroundColor: 'transparent' }, statusHeaderCategoryNumberTextActive: { color: '#fff', }, animatedBg: { position: 'absolute', top: -1, left: -1, backgroundColor: '#64BB5B', height: 19, borderRadius: 16, zIndex: 1 }\\n});\\n\\n####"}
{"prompt":"define(['svg2png-many','yaml-front-matter','eslint-formatter-autolinkable-stylish'], function(svg2PngMany,yamlFrontMatter,eslintFormatterAutolinkableStylish){\\n'use strict'\\n/*global ModuleRegistry*/\\n/*global mediaManager*/ //Registration in Business Manager Module registry\\nif (ModuleRegistry && mediaManager) { ModuleRegistry.registerMethod('mediaManager.open', () => function (category, appDefId, options) { if (typeof appDefId === 'object') { options = appDefId appDefId = options && options.appDefId || 'BUSINESS_MANAGER' } return mediaManager.open(category, appDefId, options) }) ModuleRegistry.registerMethod('mediaManager.categories', () => function () { return mediaManager.categories }) ModuleRegistry.registerMethod('mediaManager.updateSiteMediaToken', () => function (siteMediaToken) { return mediaManager.updateSiteMediaToken(siteMediaToken) }) ModuleRegistry.registerMethod('mediaManager.updateMetaSiteToken', () => function (metaSiteToken) { return mediaManager.updateMetaSiteToken(metaSiteToken) }) ModuleRegistry.registerMethod('mediaManager.warmup', () => function () { return mediaManager.warmup() }) ModuleRegistry.registerMethod('mediaManager.addUploadProgressListener', () => function (handler, categories) { return mediaManager.addUploadProgressListener(handler, categories) }) ModuleRegistry.registerMethod('mediaManager.removeUploadProgressListener', () => function (handler) { return mediaManager.removeUploadProgressListener(handler) })\\n}\\n\\n})\\n####","completion":" import svg2PngMany from 'svg2png-many'\\nimport yamlFrontMatter from 'yaml-front-matter'\\nimport eslintFormatterAutolinkableStylish from 'eslint-formatter-autolinkable-stylish'\\n\\n'use strict'\\n/*global ModuleRegistry*/\\n/*global mediaManager*/ //Registration in Business Manager Module registry\\nif (ModuleRegistry && mediaManager) { ModuleRegistry.registerMethod('mediaManager.open', () => function (category, appDefId, options) { if (typeof appDefId === 'object') { options = appDefId appDefId = options && options.appDefId || 'BUSINESS_MANAGER' } return mediaManager.open(category, appDefId, options) }) ModuleRegistry.registerMethod('mediaManager.categories', () => function () { return mediaManager.categories }) ModuleRegistry.registerMethod('mediaManager.updateSiteMediaToken', () => function (siteMediaToken) { return mediaManager.updateSiteMediaToken(siteMediaToken) }) ModuleRegistry.registerMethod('mediaManager.updateMetaSiteToken', () => function (metaSiteToken) { return mediaManager.updateMetaSiteToken(metaSiteToken) }) ModuleRegistry.registerMethod('mediaManager.warmup', () => function () { return mediaManager.warmup() }) ModuleRegistry.registerMethod('mediaManager.addUploadProgressListener', () => function (handler, categories) { return mediaManager.addUploadProgressListener(handler, categories) }) ModuleRegistry.registerMethod('mediaManager.removeUploadProgressListener', () => function (handler) { return mediaManager.removeUploadProgressListener(handler) })\\n}\\n\\n####"}
{"prompt":"define(['@tsconfig/node14','vega-hierarchy','gulp-newer'], function(tsconfigNode14,vegaHierarchy,gulpNewer){\\nimport React from 'react'; export default function PhoneWithDot() { return ( <svg width=\\\"14\\\" height=\\\"18\\\" viewBox=\\\"0 0 14 18\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"> <g fill=\\\"none\\\"> <path d=\\\"M3.64683424 4c-.1119882 0-.22697608.019-.33796438.059l-2.646721.949c-.4049573.144-.682928.534-.66093032.96.11698767 2.124.76091979 4.095 1.79081122 5.812 1.08188595 1.78 2.57472859 3.286 4.36054037 4.376 1.74581596 1.059 3.7736022 1.713 5.94237357 1.842.018998.001.0369961.002.0559941.002.4249552 0 .8029154-.291.9309019-.697l.872908-2.779c.1679823-.534-.1469845-1.099-.6919271-1.245l-2.7467105-.731c-.0859909-.023-.1729817-.034-.2579728-.034-.31796644 0-.62293429.152-.81191437.418l-.77191863 1.086-4.82149178-4.803 1.09388469-.822c.3209662-.242.46395113-.652.35996209-1.039l-.69992625-2.621C4.48774559 4.288 4.08378818 4 3.64683424 4m-.00399958 1.002l.7029259 2.591-1.09388469.823c-.23197554.174-.37596037.44-.39695815.73-.0199979.289.08699083.573.29196922.778l4.82149177 4.803c.18898008.187.44295331.291.70592559.291.02799705 0 .0559941-.001.08399115-.003.29296911-.026.56094086-.178.73092295-.417l.7689189-1.084 2.741711.711L12.1549374 17c-1.9467948-.115-3.84259494-.703-5.48242208-1.697-1.63182798-.997-3.02468119-2.395-4.022576-4.036-.99089554-1.652-1.54583704-3.453-1.64982608-5.318l2.64272142-.947\\\" fill=\\\"#162D3D\\\" /> <circle fill=\\\"#60BC57\\\" cx=\\\"9.5\\\" cy=\\\"2.5\\\" r=\\\"2.5\\\" /> </g> </svg> );\\n} PhoneWithDot.displayName = 'PhoneWithDot';\\n\\n})\\n####","completion":" import tsconfigNode14 from '@tsconfig/node14'\\nimport vegaHierarchy from 'vega-hierarchy'\\nimport gulpNewer from 'gulp-newer'\\n\\nimport React from 'react'; export default function PhoneWithDot() { return ( <svg width=\\\"14\\\" height=\\\"18\\\" viewBox=\\\"0 0 14 18\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"> <g fill=\\\"none\\\"> <path d=\\\"M3.64683424 4c-.1119882 0-.22697608.019-.33796438.059l-2.646721.949c-.4049573.144-.682928.534-.66093032.96.11698767 2.124.76091979 4.095 1.79081122 5.812 1.08188595 1.78 2.57472859 3.286 4.36054037 4.376 1.74581596 1.059 3.7736022 1.713 5.94237357 1.842.018998.001.0369961.002.0559941.002.4249552 0 .8029154-.291.9309019-.697l.872908-2.779c.1679823-.534-.1469845-1.099-.6919271-1.245l-2.7467105-.731c-.0859909-.023-.1729817-.034-.2579728-.034-.31796644 0-.62293429.152-.81191437.418l-.77191863 1.086-4.82149178-4.803 1.09388469-.822c.3209662-.242.46395113-.652.35996209-1.039l-.69992625-2.621C4.48774559 4.288 4.08378818 4 3.64683424 4m-.00399958 1.002l.7029259 2.591-1.09388469.823c-.23197554.174-.37596037.44-.39695815.73-.0199979.289.08699083.573.29196922.778l4.82149177 4.803c.18898008.187.44295331.291.70592559.291.02799705 0 .0559941-.001.08399115-.003.29296911-.026.56094086-.178.73092295-.417l.7689189-1.084 2.741711.711L12.1549374 17c-1.9467948-.115-3.84259494-.703-5.48242208-1.697-1.63182798-.997-3.02468119-2.395-4.022576-4.036-.99089554-1.652-1.54583704-3.453-1.64982608-5.318l2.64272142-.947\\\" fill=\\\"#162D3D\\\" /> <circle fill=\\\"#60BC57\\\" cx=\\\"9.5\\\" cy=\\\"2.5\\\" r=\\\"2.5\\\" /> </g> </svg> );\\n} PhoneWithDot.displayName = 'PhoneWithDot';\\n\\n####"}
{"prompt":"define(['d3-hierarchy'], function(d3Hierarchy){\\ndefine(['lodash', 'experiment'], function (_) { const isPageOrMasterPage = (ps, compPointer) => ps.pointers.components.isPage(compPointer) || ps.pointers.components.isMasterPage(compPointer) const unDockNonDirectPageChildren = (ps, componentToAddRef, containerReference, componentDefinition) => { if (componentToAddRef.id === 'MENU_AS_CONTAINER') { // This seems to be an exception for pinned components, since menuContainerDataFixer specifically moved it to the header // I don't want to get into changing that now return } const isFixedClassic = _.get(componentDefinition.layout, ['fixedPosition']) if (isFixedClassic && !isPageOrMasterPage(ps, containerReference)) { delete componentDefinition.layout.docked delete componentDefinition.layout.fixedPosition _.defaults(componentDefinition.layout, {x: 0, y: 0, width: 100, height: 100}) } } return { unDockNonDirectPageChildren }\\n})\\n\\n})\\n####","completion":" import d3Hierarchy from 'd3-hierarchy'\\n\\ndefine(['lodash', 'experiment'], function (_) { const isPageOrMasterPage = (ps, compPointer) => ps.pointers.components.isPage(compPointer) || ps.pointers.components.isMasterPage(compPointer) const unDockNonDirectPageChildren = (ps, componentToAddRef, containerReference, componentDefinition) => { if (componentToAddRef.id === 'MENU_AS_CONTAINER') { // This seems to be an exception for pinned components, since menuContainerDataFixer specifically moved it to the header // I don't want to get into changing that now return } const isFixedClassic = _.get(componentDefinition.layout, ['fixedPosition']) if (isFixedClassic && !isPageOrMasterPage(ps, containerReference)) { delete componentDefinition.layout.docked delete componentDefinition.layout.fixedPosition _.defaults(componentDefinition.layout, {x: 0, y: 0, width: 100, height: 100}) } } return { unDockNonDirectPageChildren }\\n})\\n\\n####"}
{"prompt":"define(['yarn'], function(yarn){\\ndefine([ 'lodash', 'documentServices/dataModel/dataModel', 'documentServices/constants/constants', 'documentServices/componentsMetaData/components/baseInputMetadata'\\n], function (_, dataModel, constants, baseInputMetadata) { 'use strict' const isWithLabel = (ps, componentPointer) => { const compData = dataModel.getDataItem(ps, componentPointer) return !!compData.label } const metadata = { mobileConversionConfig: { category: 'graphic', inlineWhenGrouped: true }, resizableSides(ps, componentPointer) { return isWithLabel(ps, componentPointer) ? [constants.RESIZE_SIDES.LEFT, constants.RESIZE_SIDES.RIGHT] : [] }, layoutLimits(ps, componentPointer) { const layoutLimits = { minWidth: 60 } if (!isWithLabel(ps, componentPointer)) { _.assign(layoutLimits, { minWidth: 12, minHeight: 12, aspectRatio: 1 }) } return layoutLimits } } return _.assign({}, baseInputMetadata, metadata)\\n})\\n\\n})\\n####","completion":" import yarn from 'yarn'\\n\\ndefine([ 'lodash', 'documentServices/dataModel/dataModel', 'documentServices/constants/constants', 'documentServices/componentsMetaData/components/baseInputMetadata'\\n], function (_, dataModel, constants, baseInputMetadata) { 'use strict' const isWithLabel = (ps, componentPointer) => { const compData = dataModel.getDataItem(ps, componentPointer) return !!compData.label } const metadata = { mobileConversionConfig: { category: 'graphic', inlineWhenGrouped: true }, resizableSides(ps, componentPointer) { return isWithLabel(ps, componentPointer) ? [constants.RESIZE_SIDES.LEFT, constants.RESIZE_SIDES.RIGHT] : [] }, layoutLimits(ps, componentPointer) { const layoutLimits = { minWidth: 60 } if (!isWithLabel(ps, componentPointer)) { _.assign(layoutLimits, { minWidth: 12, minHeight: 12, aspectRatio: 1 }) } return layoutLimits } } return _.assign({}, baseInputMetadata, metadata)\\n})\\n\\n####"}
{"prompt":"define(['vega-cli','@typescript-eslint/experimental-utils','memfs','@types/microsoft__typescript-etw','@swc/wasm','microbundle','@types/source-map-support','vega-themes','@types/gulp-concat','@types/mkdirp','camelcase','ntypescript','vega-datasets','webidl2js','rollup-plugin-cleanup','vega-typings','vega-view-transforms','@types/gulp-rename','require-directory','vega-selections'], function(yarn,rollupPluginCleanup,decamelize,vegaSchemaUrlParser,swcWasm,typesMkdirp,sindresorhusTsconfig,vegaLoader,yarnDeduplicate,typesMinimist,hasAnsi,ntypescript,vegaDatasets,webidl2Js,d3Shape,vegaTypings,vegaCanvas,gulpSourcemaps,tr46,typescriptTslintPlugin){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.wix.com/demone2/meetup-event (32)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/meetup-event', emulateMobileDevice: true, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/32-meetup-event/anchors/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import yarn from 'vega-cli'\\nimport rollupPluginCleanup from '@typescript-eslint/experimental-utils'\\nimport decamelize from 'memfs'\\nimport vegaSchemaUrlParser from '@types/microsoft__typescript-etw'\\nimport swcWasm from '@swc/wasm'\\nimport typesMkdirp from 'microbundle'\\nimport sindresorhusTsconfig from '@types/source-map-support'\\nimport vegaLoader from 'vega-themes'\\nimport yarnDeduplicate from '@types/gulp-concat'\\nimport typesMinimist from '@types/mkdirp'\\nimport hasAnsi from 'camelcase'\\nimport ntypescript from 'ntypescript'\\nimport vegaDatasets from 'vega-datasets'\\nimport webidl2Js from 'webidl2js'\\nimport d3Shape from 'rollup-plugin-cleanup'\\nimport vegaTypings from 'vega-typings'\\nimport vegaCanvas from 'vega-view-transforms'\\nimport gulpSourcemaps from '@types/gulp-rename'\\nimport tr46 from 'require-directory'\\nimport typescriptTslintPlugin from 'vega-selections'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.wix.com/demone2/meetup-event (32)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/meetup-event', emulateMobileDevice: true, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/32-meetup-event/anchors/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['d3-force','@types/mkdirp','homedir-polyfill','@types/merge2','stream-spec','vinyl','webidl-conversions','vega-view-transforms','merge2','clean-ts-built','azure-devops-node-api'], function(vegaViewTransforms,typesMinimist,vows,promisePolyfill,streamSpec,vinyl,acornWalk,vegaCanvas,typesDiff,tsJsonSchemaGenerator,typesReact){\\nimport Q from 'q'; import axios from 'axios'; export const Endpoints = { production: 'https://cloudprint.wixrestaurants.com/v1' }; const parseSuccess = response => response.data; const parseError = (error) => { if (error.response) { if (error.response.data.code) { return Q.reject({ code: error.response.data.code, description: error.response.data.description }); } else { return Q.reject({ code: 'protocol', description: 'protocol error' }); } } else { switch(error.code) { case 'ECONNABORTED': return Q.reject({ code: 'timeout', description: 'request timed out' }); case 'ENOTFOUND': // fall through default: return Q.reject({ code: 'network_down', description: 'network is down' }); } } }; export default class RestaurantsCloudprintClient { constructor({ endpoint = Endpoints.production, timeout = 0 } = {}) { this._axios = axios.create({ baseURL: endpoint, timeout }); } verifyPrinter({ printerId }) { return this._axios.get( `/printers/${printerId}`).then(parseSuccess, parseError); } } \\n})\\n####","completion":" import vegaViewTransforms from 'd3-force'\\nimport typesMinimist from '@types/mkdirp'\\nimport vows from 'homedir-polyfill'\\nimport promisePolyfill from '@types/merge2'\\nimport streamSpec from 'stream-spec'\\nimport vinyl from 'vinyl'\\nimport acornWalk from 'webidl-conversions'\\nimport vegaCanvas from 'vega-view-transforms'\\nimport typesDiff from 'merge2'\\nimport tsJsonSchemaGenerator from 'clean-ts-built'\\nimport typesReact from 'azure-devops-node-api'\\n\\nimport Q from 'q'; import axios from 'axios'; export const Endpoints = { production: 'https://cloudprint.wixrestaurants.com/v1' }; const parseSuccess = response => response.data; const parseError = (error) => { if (error.response) { if (error.response.data.code) { return Q.reject({ code: error.response.data.code, description: error.response.data.description }); } else { return Q.reject({ code: 'protocol', description: 'protocol error' }); } } else { switch(error.code) { case 'ECONNABORTED': return Q.reject({ code: 'timeout', description: 'request timed out' }); case 'ENOTFOUND': // fall through default: return Q.reject({ code: 'network_down', description: 'network is down' }); } } }; export default class RestaurantsCloudprintClient { constructor({ endpoint = Endpoints.production, timeout = 0 } = {}) { this._axios = axios.create({ baseURL: endpoint, timeout }); } verifyPrinter({ printerId }) { return this._axios.get( `/printers/${printerId}`).then(parseSuccess, parseError); } } \\n####"}
{"prompt":"define(['d3','eslint-plugin-no-null','d3-force','@fimbul/wotan','vega-schema-url-parser','@octokit/rest','node-sass','@yarnpkg/fslib','rollup-plugin-bundle-size','vega-datasets','common-tags','@fimbul/valtyr','vega-typings','rollup-plugin-cleanup','vega-time','@types/npm-packlist'], function(d3,eslintPluginNoNull,vegaViewTransforms,typesProxyquire,typesMerge2,commonTags,nodeSass,vegaRegression,isexe,vegaDatasets,tslintConfigPrettier,fimbulValtyr,vegaTypings,d3Shape,vegaLabel,prettyQuick){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.wix.com/demone2/womens-fashion (37)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/womens-fashion', emulateMobileDevice: false, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/37-womens-fashion/mesh/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import d3 from 'd3'\\nimport eslintPluginNoNull from 'eslint-plugin-no-null'\\nimport vegaViewTransforms from 'd3-force'\\nimport typesProxyquire from '@fimbul/wotan'\\nimport typesMerge2 from 'vega-schema-url-parser'\\nimport commonTags from '@octokit/rest'\\nimport nodeSass from 'node-sass'\\nimport vegaRegression from '@yarnpkg/fslib'\\nimport isexe from 'rollup-plugin-bundle-size'\\nimport vegaDatasets from 'vega-datasets'\\nimport tslintConfigPrettier from 'common-tags'\\nimport fimbulValtyr from '@fimbul/valtyr'\\nimport vegaTypings from 'vega-typings'\\nimport d3Shape from 'rollup-plugin-cleanup'\\nimport vegaLabel from 'vega-time'\\nimport prettyQuick from '@types/npm-packlist'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.wix.com/demone2/womens-fashion (37)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/womens-fashion', emulateMobileDevice: false, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/37-womens-fashion/mesh/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['ts-json-schema-generator','@types/q','acorn-walk','@types/gulp-rename'], function(vegaScale,typesQ,typesXml2Js,gulpSourcemaps){\\nvar should = require('chai').should();\\nvar organizationUtils = require(\\\"../src/Organization.js\\\"); describe(\\\"OrganizationUtils.getOrganizationFromFull\\\", function() { it ('converts restaurant full to restaurant', function() { var full = {restaurant:\\\"restaurant\\\", chain:\\\"chain\\\", distributor:\\\"distributor\\\"}; organizationUtils.getOrganizationFromFull(full).should.equal(\\\"restaurant\\\"); }); it ('converts chain full to chain', function() { var full = {chain:\\\"chain\\\", distributor:\\\"distributor\\\"}; organizationUtils.getOrganizationFromFull(full).should.equal(\\\"chain\\\"); }); it ('converts portal full to portal', function() { var full = {portal:\\\"portal\\\", distributor:\\\"distributor\\\"}; organizationUtils.getOrganizationFromFull(full).should.equal(\\\"portal\\\"); }); it ('converts distributor full to distributor', function() { var full = \\\"distributor\\\"; organizationUtils.getOrganizationFromFull(full).should.equal(\\\"distributor\\\"); });\\n});\\n\\n})\\n####","completion":" import vegaScale from 'ts-json-schema-generator'\\nimport typesQ from '@types/q'\\nimport typesXml2Js from 'acorn-walk'\\nimport gulpSourcemaps from '@types/gulp-rename'\\n\\nvar should = require('chai').should();\\nvar organizationUtils = require(\\\"../src/Organization.js\\\"); describe(\\\"OrganizationUtils.getOrganizationFromFull\\\", function() { it ('converts restaurant full to restaurant', function() { var full = {restaurant:\\\"restaurant\\\", chain:\\\"chain\\\", distributor:\\\"distributor\\\"}; organizationUtils.getOrganizationFromFull(full).should.equal(\\\"restaurant\\\"); }); it ('converts chain full to chain', function() { var full = {chain:\\\"chain\\\", distributor:\\\"distributor\\\"}; organizationUtils.getOrganizationFromFull(full).should.equal(\\\"chain\\\"); }); it ('converts portal full to portal', function() { var full = {portal:\\\"portal\\\", distributor:\\\"distributor\\\"}; organizationUtils.getOrganizationFromFull(full).should.equal(\\\"portal\\\"); }); it ('converts distributor full to distributor', function() { var full = \\\"distributor\\\"; organizationUtils.getOrganizationFromFull(full).should.equal(\\\"distributor\\\"); });\\n});\\n\\n####"}
{"prompt":"define(['fancy-log','github-release-from-changelog','vega-dataflow','jest-puppeteer','acorn-walk','flow-parser','@sindresorhus/tsconfig','@types/fast-json-stable-stringify'], function(arrayFlatPolyfill,githubReleaseFromChangelog,vegaDataflow,jestPuppeteer,typesXml2Js,flowParser,getCallerFile,typesFastJsonStableStringify){\\nimport { ProgrammableJsonServer } from './ProgrammableJsonServer' export class YelpDriver { constructor({port}) { this._server = new ProgrammableJsonServer({port}) } start() { this._server.start() } stop() { this._server.stop() } reset() { this._server.reset() } api({path, params, ignoreParams = []}) { return { returns: ({value, delay = 0}) => { this._server.addRule({ resource: path, params, delay, responseText: JSON.stringify(value), ignoreParams }) }, failsOnInvalidAuth: () => { this._server.addRule({ resource: path, params, responseText: JSON.stringify({\\\"meta\\\":{\\\"code\\\":401,\\\"errorType\\\":\\\"invalid_auth\\\",\\\"errorDetail\\\":\\\"OAuth token invalid or revoked.\\\"},\\\"response\\\":{}}), ignoreParams }) }, failsWith: ({code, description}) => { this._server.addRule({ resource: path, params, responseText: JSON.stringify({\\\"meta\\\":{\\\"code\\\":401,\\\"errorType\\\":code,\\\"errorDetail\\\":description},\\\"response\\\":{}}), ignoreParams }) }, returnsInvalidResponse: () => { this._server.addRule({ resource: path, params, responseText: '<html><head><title>Error 500</title></head></html>', ignoreParams }) } } }\\n}\\n\\n})\\n####","completion":" import arrayFlatPolyfill from 'fancy-log'\\nimport githubReleaseFromChangelog from 'github-release-from-changelog'\\nimport vegaDataflow from 'vega-dataflow'\\nimport jestPuppeteer from 'jest-puppeteer'\\nimport typesXml2Js from 'acorn-walk'\\nimport flowParser from 'flow-parser'\\nimport getCallerFile from '@sindresorhus/tsconfig'\\nimport typesFastJsonStableStringify from '@types/fast-json-stable-stringify'\\n\\nimport { ProgrammableJsonServer } from './ProgrammableJsonServer' export class YelpDriver { constructor({port}) { this._server = new ProgrammableJsonServer({port}) } start() { this._server.start() } stop() { this._server.stop() } reset() { this._server.reset() } api({path, params, ignoreParams = []}) { return { returns: ({value, delay = 0}) => { this._server.addRule({ resource: path, params, delay, responseText: JSON.stringify(value), ignoreParams }) }, failsOnInvalidAuth: () => { this._server.addRule({ resource: path, params, responseText: JSON.stringify({\\\"meta\\\":{\\\"code\\\":401,\\\"errorType\\\":\\\"invalid_auth\\\",\\\"errorDetail\\\":\\\"OAuth token invalid or revoked.\\\"},\\\"response\\\":{}}), ignoreParams }) }, failsWith: ({code, description}) => { this._server.addRule({ resource: path, params, responseText: JSON.stringify({\\\"meta\\\":{\\\"code\\\":401,\\\"errorType\\\":code,\\\"errorDetail\\\":description},\\\"response\\\":{}}), ignoreParams }) }, returnsInvalidResponse: () => { this._server.addRule({ resource: path, params, responseText: '<html><head><title>Error 500</title></head></html>', ignoreParams }) } } }\\n}\\n\\n####"}
{"prompt":"define(['vows','d3-scale','tslint-test-config-non-relative','vega-tooltip'], function(fimbulWotan,d3Scale,yarnpkgFslib,vegaTooltip){\\nvar fs = require('fs');\\nvar path = require('path');\\nvar _ = require('lodash');\\nvar parseString = require('xml2js').parseString; const APPENGINE_WEB_XML = '/opt/private/com.wixpress.restaurants.restaurants-settings-orders/appengine-web.xml'; fs.readFile(APPENGINE_WEB_XML, (err, data) => { if (err) { console.log('No secret files. Using credentials.json'); process.exit(0); } console.log('Creating secret files. Creating credentials.json'); parseString('' + data, (err, result) => { // Get credentials used var credentials = result['system-properties']['property']; var rashomonAccessToken = _.find(credentials, (c) => c['$']['name'] === 'rashomonAccessToken')['$']['value']; var gcsKey = JSON.parse((_.find(credentials, (c) => c['$']['name'] === 'gcs_key')['$']['value']).replace(/'/g, '\\\"')); var gcsProjectId = _.find(credentials, (c) => c['$']['name'] === 'gcs_project_id')['$']['value']; var data = { \\\"gcs_key\\\": gcsKey, \\\"gcs_projectId\\\":gcsProjectId, \\\"rashomonAccessToken\\\":rashomonAccessToken } fs.writeFileSync(path.resolve(__dirname, '..', 'credentials.json'), JSON.stringify(data, null, 4)); });\\n});\\n\\n})\\n####","completion":" import fimbulWotan from 'vows'\\nimport d3Scale from 'd3-scale'\\nimport yarnpkgFslib from 'tslint-test-config-non-relative'\\nimport vegaTooltip from 'vega-tooltip'\\n\\nvar fs = require('fs');\\nvar path = require('path');\\nvar _ = require('lodash');\\nvar parseString = require('xml2js').parseString; const APPENGINE_WEB_XML = '/opt/private/com.wixpress.restaurants.restaurants-settings-orders/appengine-web.xml'; fs.readFile(APPENGINE_WEB_XML, (err, data) => { if (err) { console.log('No secret files. Using credentials.json'); process.exit(0); } console.log('Creating secret files. Creating credentials.json'); parseString('' + data, (err, result) => { // Get credentials used var credentials = result['system-properties']['property']; var rashomonAccessToken = _.find(credentials, (c) => c['$']['name'] === 'rashomonAccessToken')['$']['value']; var gcsKey = JSON.parse((_.find(credentials, (c) => c['$']['name'] === 'gcs_key')['$']['value']).replace(/'/g, '\\\"')); var gcsProjectId = _.find(credentials, (c) => c['$']['name'] === 'gcs_project_id')['$']['value']; var data = { \\\"gcs_key\\\": gcsKey, \\\"gcs_projectId\\\":gcsProjectId, \\\"rashomonAccessToken\\\":rashomonAccessToken } fs.writeFileSync(path.resolve(__dirname, '..', 'credentials.json'), JSON.stringify(data, null, 4)); });\\n});\\n\\n####"}
{"prompt":"define(['ntypescript','@types/gulp-rename','babel-plugin-trace','@types/minimist','vega-lite-dev-config','tslint-config-prettier'], function(ntypescript,gulpSourcemaps,d3Force,typescriptEslintExperimentalUtils,vegaLiteDevConfig,xml2Js){\\nimport createSvgImage from './createSvgImage'; export default createSvgImage( `<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" width=\\\"18px\\\" height=\\\"18px\\\" viewBox=\\\"0 0 18 18\\\" version=\\\"1.1\\\"> <!-- Generator: Sketch 43.2 (39069) - http://www.bohemiancoding.com/sketch --> <title>Email Icon</title> <desc>Created with Sketch.</desc> <defs/> <g id=\\\"Page-1\\\" stroke=\\\"none\\\" strokeWidth=\\\"1\\\" fill=\\\"none\\\" fillRule=\\\"evenodd\\\"> <g id=\\\"Email-Icon\\\" fillRule=\\\"nonzero\\\" fill=\\\"#000000\\\"> <path d=\\\"M3.00458004,4.71571562 C3.00117222,7.00466398 3,13.9975267 3,13.9975267 C3,13.9944441 14.9931545,14 14.9931545,14 C14.9974019,14 14.9992909,7.25118859 14.9998297,4.84338962 L9,10 L3.00458004,4.71571562 Z M3.00590132,4.11610528 L3.0743768,4.00003102 C3.03002489,4.00001074 3.00684547,4 3.00684547,4 C3.00651679,4 3.00620223,4.04041482 3.00590132,4.11610528 Z M3.57623836,4.00025673 L9,9 L14.5671833,4.0032122 C12.7385546,4.00418965 5.64512386,4.00117483 3.57623835,4.00025673 Z M14.9665409,4.00273406 L14.99999,4.0594344 C14.9999967,4.02202854 15,4.00247329 15,4.00247329 C15,4.00256828 14.988613,4.00265507 14.9665409,4.00273406 Z M2,4.00247329 C2,3.44882258 2.44994876,3 3.00684547,3 L14.9931545,3 C15.5492199,3 16,3.45576096 16,4.00247329 L16,13.9975267 C16,14.5511774 15.5500512,15 14.9931545,15 L3.00684547,15 C2.45078007,15 2,14.544239 2,13.9975267 L2,4.00247329 Z\\\" id=\\\"Combined-Shape\\\"/> </g> </g>\\n</svg>`,\\n);\\n\\n})\\n####","completion":" import ntypescript from 'ntypescript'\\nimport gulpSourcemaps from '@types/gulp-rename'\\nimport d3Force from 'babel-plugin-trace'\\nimport typescriptEslintExperimentalUtils from '@types/minimist'\\nimport vegaLiteDevConfig from 'vega-lite-dev-config'\\nimport xml2Js from 'tslint-config-prettier'\\n\\nimport createSvgImage from './createSvgImage'; export default createSvgImage( `<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" width=\\\"18px\\\" height=\\\"18px\\\" viewBox=\\\"0 0 18 18\\\" version=\\\"1.1\\\"> <!-- Generator: Sketch 43.2 (39069) - http://www.bohemiancoding.com/sketch --> <title>Email Icon</title> <desc>Created with Sketch.</desc> <defs/> <g id=\\\"Page-1\\\" stroke=\\\"none\\\" strokeWidth=\\\"1\\\" fill=\\\"none\\\" fillRule=\\\"evenodd\\\"> <g id=\\\"Email-Icon\\\" fillRule=\\\"nonzero\\\" fill=\\\"#000000\\\"> <path d=\\\"M3.00458004,4.71571562 C3.00117222,7.00466398 3,13.9975267 3,13.9975267 C3,13.9944441 14.9931545,14 14.9931545,14 C14.9974019,14 14.9992909,7.25118859 14.9998297,4.84338962 L9,10 L3.00458004,4.71571562 Z M3.00590132,4.11610528 L3.0743768,4.00003102 C3.03002489,4.00001074 3.00684547,4 3.00684547,4 C3.00651679,4 3.00620223,4.04041482 3.00590132,4.11610528 Z M3.57623836,4.00025673 L9,9 L14.5671833,4.0032122 C12.7385546,4.00418965 5.64512386,4.00117483 3.57623835,4.00025673 Z M14.9665409,4.00273406 L14.99999,4.0594344 C14.9999967,4.02202854 15,4.00247329 15,4.00247329 C15,4.00256828 14.988613,4.00265507 14.9665409,4.00273406 Z M2,4.00247329 C2,3.44882258 2.44994876,3 3.00684547,3 L14.9931545,3 C15.5492199,3 16,3.45576096 16,4.00247329 L16,13.9975267 C16,14.5511774 15.5500512,15 14.9931545,15 L3.00684547,15 C2.45078007,15 2,14.544239 2,13.9975267 L2,4.00247329 Z\\\" id=\\\"Combined-Shape\\\"/> </g> </g>\\n</svg>`,\\n);\\n\\n####"}
{"prompt":"define(['gulp-concat'], function(rollupPluginSourcemaps){\\nimport _ from 'lodash'; function orientStyles(styles, rtl) { styles = styles || {}; const keyMapping = { paddingInlineStart: rtl ? 'paddingRight' : 'paddingLeft', paddingInlineEnd: rtl ? 'paddingLeft' : 'paddingRight', marginInlineStart: rtl ? 'marginRight' : 'marginLeft', marginInlineEnd: rtl ? 'marginLeft' : 'marginRight', inlineStart: rtl ? 'right' : 'left', inlineEnd: rtl ? 'left' : 'right', }; const valMapping = { inlineStart: rtl ? 'right' : 'left', inlineEnd: rtl ? 'left' : 'right', }; let _helper = function(obj) { let ret = {}; _.each(_.keys(obj), key => { if (typeof obj[key] == 'object') { ret[key] = orientStyles(obj[key], rtl); } else if (typeof obj[key] == 'function') { // Do nothing } else if (keyMapping[key]) { ret[keyMapping[key]] = obj[key]; } else { ret[key] = obj[key]; } }); if (ret.textAlign && valMapping[ret.textAlign]) { ret.textAlign = valMapping[ret.textAlign]; } return ret; }; return _helper(styles);\\n} export default orientStyles;\\n})\\n####","completion":" import rollupPluginSourcemaps from 'gulp-concat'\\n\\nimport _ from 'lodash'; function orientStyles(styles, rtl) { styles = styles || {}; const keyMapping = { paddingInlineStart: rtl ? 'paddingRight' : 'paddingLeft', paddingInlineEnd: rtl ? 'paddingLeft' : 'paddingRight', marginInlineStart: rtl ? 'marginRight' : 'marginLeft', marginInlineEnd: rtl ? 'marginLeft' : 'marginRight', inlineStart: rtl ? 'right' : 'left', inlineEnd: rtl ? 'left' : 'right', }; const valMapping = { inlineStart: rtl ? 'right' : 'left', inlineEnd: rtl ? 'left' : 'right', }; let _helper = function(obj) { let ret = {}; _.each(_.keys(obj), key => { if (typeof obj[key] == 'object') { ret[key] = orientStyles(obj[key], rtl); } else if (typeof obj[key] == 'function') { // Do nothing } else if (keyMapping[key]) { ret[keyMapping[key]] = obj[key]; } else { ret[key] = obj[key]; } }); if (ret.textAlign && valMapping[ret.textAlign]) { ret.textAlign = valMapping[ret.textAlign]; } return ret; }; return _helper(styles);\\n} export default orientStyles;\\n####"}
{"prompt":"define(['fast-json-patch','@tsconfig/node10','vega-schema','mocha-fivemat-progress-reporter','promise-polyfill','path','eslint-plugin-no-null','babel-plugin-trace','@types/gulp-rename','proper-lockfile','yn','is-number-object','throat','browser-sync','vega-scenegraph'], function(vegaCli,tsconfigNode10,vegaParser,webidlConversions,d3Delaunay,vegaSchema,eslintPluginNoNull,d3Force,gulpSourcemaps,typesGulpRename,yn,eslintPluginGithub,jsYaml,browserSync,arg){\\nconst fetch = require('node-fetch')\\nconst _ = require('lodash')\\nconst {getVersion} = require('../../conf/ci/getVersion') module.exports.getVersion = getVersion module.exports.getPreviewUrl = (siteId, metasiteId) => { const DmSource = getVersion() const baseUrl = 'https://editor.wix.com/html/editor/web/renderer/' const url = `${baseUrl}render/document/${siteId}?metaSiteId=${metasiteId}` return `${url}&isEdited=true&isEditor=true&isSantaEditor=true&dsOrigin=Editor1.4&isqa=true&disableSave=true&DmSource=${DmSource}`\\n} module.exports.getAutomationUserCookie = async () => { let retries = 5 let cookie do { retries-- const res = await fetch('http://api.42.wixprod.net/automation-users-web/api/login', { method: 'POST', body: JSON.stringify({userEmail: 'automation-existing-sites@tests.com'}), headers: { 'Content-Type': 'application/json', 'x-wix-automation-instance': 'ecec666c-fa8b-4094-a51c-5d8c09425768' } }) const json = await res.json() cookie = _.find(json.data.cookies, {name: 'wixSession2'}) console.log('AutomationUserCookie', cookie) } while (!cookie && retries > 0) return cookie\\n}\\n\\n})\\n####","completion":" import vegaCli from 'fast-json-patch'\\nimport tsconfigNode10 from '@tsconfig/node10'\\nimport vegaParser from 'vega-schema'\\nimport webidlConversions from 'mocha-fivemat-progress-reporter'\\nimport d3Delaunay from 'promise-polyfill'\\nimport vegaSchema from 'path'\\nimport eslintPluginNoNull from 'eslint-plugin-no-null'\\nimport d3Force from 'babel-plugin-trace'\\nimport gulpSourcemaps from '@types/gulp-rename'\\nimport typesGulpRename from 'proper-lockfile'\\nimport yn from 'yn'\\nimport eslintPluginGithub from 'is-number-object'\\nimport jsYaml from 'throat'\\nimport browserSync from 'browser-sync'\\nimport arg from 'vega-scenegraph'\\n\\nconst fetch = require('node-fetch')\\nconst _ = require('lodash')\\nconst {getVersion} = require('../../conf/ci/getVersion') module.exports.getVersion = getVersion module.exports.getPreviewUrl = (siteId, metasiteId) => { const DmSource = getVersion() const baseUrl = 'https://editor.wix.com/html/editor/web/renderer/' const url = `${baseUrl}render/document/${siteId}?metaSiteId=${metasiteId}` return `${url}&isEdited=true&isEditor=true&isSantaEditor=true&dsOrigin=Editor1.4&isqa=true&disableSave=true&DmSource=${DmSource}`\\n} module.exports.getAutomationUserCookie = async () => { let retries = 5 let cookie do { retries-- const res = await fetch('http://api.42.wixprod.net/automation-users-web/api/login', { method: 'POST', body: JSON.stringify({userEmail: 'automation-existing-sites@tests.com'}), headers: { 'Content-Type': 'application/json', 'x-wix-automation-instance': 'ecec666c-fa8b-4094-a51c-5d8c09425768' } }) const json = await res.json() cookie = _.find(json.data.cookies, {name: 'wixSession2'}) console.log('AutomationUserCookie', cookie) } while (!cookie && retries > 0) return cookie\\n}\\n\\n####"}
{"prompt":"define(['yarn-deduplicate','recast','has-ansi','vega-themes','svg2png-many','browser-sync','throat','decamelize','rxjs','proper-lockfile','npm-packlist','promise-polyfill'], function(cspotcodeSourceMapSupport,typesD3,gulpConcat,vegaLoader,tsconfigNode12,browserSync,jsYaml,verup,throat,typesGulpRename,vinylSourcemapsApply,d3Delaunay){\\nconst axios = require('axios');\\nconst express = require('express')\\nconst app = express()\\nconst port = 3000 const appId = 'e08d593d-3d06-4549-81b5-ef15a34d9bc8';\\nconst appSecret = '7c0fc815-d76d-4c08-b154-6da325102dfb';\\nconst redirectUrl = 'https://bo.wix.com/_serverless/restaurants-pos-tpa-demo1/redirect'; app.get('/app', (req, res) => { console.log('incoming app request') const token = req.query.token; res.redirect(302, `https://www.wix.com/installer/install?token=${token}&appId=${appId}&redirectUrl=${redirectUrl}`);\\n}) app.get('/redirect', async (req, res) => { console.log('incoming redirect request') const {code, state, instanceId} = req.query; console.log('requesting an access token'); const response = await axios.post('https://www.wix.com/oauth/access', { grant_type: 'authorization_code', client_id: appId, client_secret: appSecret, code }, { headers: { 'Content-Type': 'application/json' } }); const {refresh_token, access_token} = response.data; console.log('got access token', access_token); res.redirect(302, `https://www.wix.com/installer/token-received?access_token=${access_token}`);\\n}); app.listen(port, () => { console.log(`Example app listening at http://localhost:${port}`)\\n})\\n\\n})\\n####","completion":" import cspotcodeSourceMapSupport from 'yarn-deduplicate'\\nimport typesD3 from 'recast'\\nimport gulpConcat from 'has-ansi'\\nimport vegaLoader from 'vega-themes'\\nimport tsconfigNode12 from 'svg2png-many'\\nimport browserSync from 'browser-sync'\\nimport jsYaml from 'throat'\\nimport verup from 'decamelize'\\nimport throat from 'rxjs'\\nimport typesGulpRename from 'proper-lockfile'\\nimport vinylSourcemapsApply from 'npm-packlist'\\nimport d3Delaunay from 'promise-polyfill'\\n\\nconst axios = require('axios');\\nconst express = require('express')\\nconst app = express()\\nconst port = 3000 const appId = 'e08d593d-3d06-4549-81b5-ef15a34d9bc8';\\nconst appSecret = '7c0fc815-d76d-4c08-b154-6da325102dfb';\\nconst redirectUrl = 'https://bo.wix.com/_serverless/restaurants-pos-tpa-demo1/redirect'; app.get('/app', (req, res) => { console.log('incoming app request') const token = req.query.token; res.redirect(302, `https://www.wix.com/installer/install?token=${token}&appId=${appId}&redirectUrl=${redirectUrl}`);\\n}) app.get('/redirect', async (req, res) => { console.log('incoming redirect request') const {code, state, instanceId} = req.query; console.log('requesting an access token'); const response = await axios.post('https://www.wix.com/oauth/access', { grant_type: 'authorization_code', client_id: appId, client_secret: appSecret, code }, { headers: { 'Content-Type': 'application/json' } }); const {refresh_token, access_token} = response.data; console.log('got access token', access_token); res.redirect(302, `https://www.wix.com/installer/token-received?access_token=${access_token}`);\\n}); app.listen(port, () => { console.log(`Example app listening at http://localhost:${port}`)\\n})\\n\\n####"}
{"prompt":"define(['detect-indent','@types/fs-extra','@tsconfig/node12','gulp-concat','@types/diff','@fimbul/wotan','d3-hierarchy','cliui','jest-canvas-mock','vega-projection','@types/react'], function(detectIndent,vegaView,vegaFormat,rollupPluginSourcemaps,microbundle,typesProxyquire,gulpNewer,fastJsonPatch,jestCanvasMock,cliui,vegaTime){\\n'use strict' const _ = require('lodash')\\nconst coreUtils = require('@wix/santa-core-utils') module.exports = { name: 'blogSelectionSharerCustomizationsFixer', version: 1, exec(pageJson) { _(pageJson.data.document_data) .filter({ type: 'AppPart', appPartName: coreUtils.blogAppPartNames.SINGLE_POST }) .forEach(compData => { let customization = _.find(compData.appLogicCustomizations, { forType: 'Post', fieldId: 'vars', key: 'selectionSharerExperimentOpen', view: compData.viewName }) if (!customization) { customization = { forType: 'Post', fieldId: 'vars', key: 'selectionSharerExperimentOpen', view: compData.viewName, type: 'AppPartCustomization', format: '' } compData.appLogicCustomizations.push(customization) } }) }\\n}\\n\\n})\\n####","completion":" import detectIndent from 'detect-indent'\\nimport vegaView from '@types/fs-extra'\\nimport vegaFormat from '@tsconfig/node12'\\nimport rollupPluginSourcemaps from 'gulp-concat'\\nimport microbundle from '@types/diff'\\nimport typesProxyquire from '@fimbul/wotan'\\nimport gulpNewer from 'd3-hierarchy'\\nimport fastJsonPatch from 'cliui'\\nimport jestCanvasMock from 'jest-canvas-mock'\\nimport cliui from 'vega-projection'\\nimport vegaTime from '@types/react'\\n\\n'use strict' const _ = require('lodash')\\nconst coreUtils = require('@wix/santa-core-utils') module.exports = { name: 'blogSelectionSharerCustomizationsFixer', version: 1, exec(pageJson) { _(pageJson.data.document_data) .filter({ type: 'AppPart', appPartName: coreUtils.blogAppPartNames.SINGLE_POST }) .forEach(compData => { let customization = _.find(compData.appLogicCustomizations, { forType: 'Post', fieldId: 'vars', key: 'selectionSharerExperimentOpen', view: compData.viewName }) if (!customization) { customization = { forType: 'Post', fieldId: 'vars', key: 'selectionSharerExperimentOpen', view: compData.viewName, type: 'AppPartCustomization', format: '' } compData.appLogicCustomizations.push(customization) } }) }\\n}\\n\\n####"}
{"prompt":"define(['hashish','which-module','vows','throat','azure-devops-node-api','vega-label','vega-datasets','d3-geo-projection','@tsconfig/node14','verup','vega-format','vega-view-transforms','cpr','mocha-fivemat-progress-reporter'], function(hashish,whichModule,fimbulWotan,jsYaml,typesReact,createRequire,vegaDatasets,typesMicrosoftTypescriptEtw,eslintFormatterAutolinkableStylish,npmPacklist,azureDevopsNodeApi,vegaCanvas,gulpInsert,webidlConversions){\\nimport { fork, select, put, takeEvery } from 'redux-saga/effects';\\nimport { BI } from '../index.js';\\nimport _ from 'lodash'; function* onBiEvent(sagaParams, action) { const {bi = BI} = sagaParams; const event = _.find(bi.EVENTS, (event, key) => 'WIXREST_BI_' + key === action.type); // Currently don't send event 238 on food.co.il restaurants - please delete this after January 2018 if you see this if ((action.type === 'WIXREST_BI_MOBILE_ONLINE_ORDERING_FLOW') && (typeof(window) !== 'undefined') && (window.WixInstance) && (window.WixInstance.getSiteOwnerId() === '0fe75971-3520-4488-97fc-fc8a47e71b28')) { return; } bi.event(event, action.payload);\\n} const waitForBiEvents = function*(sagaParams) { yield takeEvery(action => _.startsWith(action.type, 'WIXREST_BI_'), onBiEvent.bind(null, sagaParams));\\n} export default function* menuRootSage(sagaParams) { yield [ fork(waitForBiEvents.bind(null, sagaParams)), ];\\n}\\n\\n})\\n####","completion":" import hashish from 'hashish'\\nimport whichModule from 'which-module'\\nimport fimbulWotan from 'vows'\\nimport jsYaml from 'throat'\\nimport typesReact from 'azure-devops-node-api'\\nimport createRequire from 'vega-label'\\nimport vegaDatasets from 'vega-datasets'\\nimport typesMicrosoftTypescriptEtw from 'd3-geo-projection'\\nimport eslintFormatterAutolinkableStylish from '@tsconfig/node14'\\nimport npmPacklist from 'verup'\\nimport azureDevopsNodeApi from 'vega-format'\\nimport vegaCanvas from 'vega-view-transforms'\\nimport gulpInsert from 'cpr'\\nimport webidlConversions from 'mocha-fivemat-progress-reporter'\\n\\nimport { fork, select, put, takeEvery } from 'redux-saga/effects';\\nimport { BI } from '../index.js';\\nimport _ from 'lodash'; function* onBiEvent(sagaParams, action) { const {bi = BI} = sagaParams; const event = _.find(bi.EVENTS, (event, key) => 'WIXREST_BI_' + key === action.type); // Currently don't send event 238 on food.co.il restaurants - please delete this after January 2018 if you see this if ((action.type === 'WIXREST_BI_MOBILE_ONLINE_ORDERING_FLOW') && (typeof(window) !== 'undefined') && (window.WixInstance) && (window.WixInstance.getSiteOwnerId() === '0fe75971-3520-4488-97fc-fc8a47e71b28')) { return; } bi.event(event, action.payload);\\n} const waitForBiEvents = function*(sagaParams) { yield takeEvery(action => _.startsWith(action.type, 'WIXREST_BI_'), onBiEvent.bind(null, sagaParams));\\n} export default function* menuRootSage(sagaParams) { yield [ fork(waitForBiEvents.bind(null, sagaParams)), ];\\n}\\n\\n####"}
{"prompt":"define(['@types/puppeteer','svg2png-many','@types/q','jest-t-assert','tslint-test-config-non-relative','rollup-plugin-bundle-size','vega-lite-dev-config','yn','gulp-concat','@tsconfig/node16','ntypescript','array-flat-polyfill','d3','is-number-object','d3-hierarchy','fast-json-patch'], function(typesPuppeteer,tsconfigNode12,typesQ,jestTAssert,yarnpkgFslib,isexe,vegaLiteDevConfig,yn,rollupPluginSourcemaps,tsconfigNode16,ntypescript,osTmpdir,d3,eslintPluginGithub,gulpNewer,vegaCli){\\nimport React from 'react';\\nimport SecurityCodeInput from './SecurityCodeInput';\\nimport { mount } from 'enzyme';\\nimport { inputTestkitFactory } from 'wix-style-react/dist/testkit/enzyme'; describe('CreditCardInput', () => { let wrapper, inputDriver, onChangeSpy; beforeEach(() => { onChangeSpy = jest.fn(); wrapper = mount(<SecurityCodeInput onChange={onChangeSpy} value=\\\"458\\\" />); inputDriver = inputTestkitFactory({ wrapper, dataHook: 'security-code-input' }); }); it('should render', function () { expect(inputDriver.getValue()).toBe('458'); }); it('should hander empty value gracefully', function () { wrapper.setProps({ value: undefined }); expect(inputDriver.getValue()).toBe(''); }); it('should expect only numbers', function () { inputDriver.enterText('avc'); expect(onChangeSpy).not.toHaveBeenCalled(); }); it('should have max length of 3', function () { inputDriver.enterText('4580'); expect(onChangeSpy).toHaveBeenCalledWith('458'); });\\n});\\n\\n})\\n####","completion":" import typesPuppeteer from '@types/puppeteer'\\nimport tsconfigNode12 from 'svg2png-many'\\nimport typesQ from '@types/q'\\nimport jestTAssert from 'jest-t-assert'\\nimport yarnpkgFslib from 'tslint-test-config-non-relative'\\nimport isexe from 'rollup-plugin-bundle-size'\\nimport vegaLiteDevConfig from 'vega-lite-dev-config'\\nimport yn from 'yn'\\nimport rollupPluginSourcemaps from 'gulp-concat'\\nimport tsconfigNode16 from '@tsconfig/node16'\\nimport ntypescript from 'ntypescript'\\nimport osTmpdir from 'array-flat-polyfill'\\nimport d3 from 'd3'\\nimport eslintPluginGithub from 'is-number-object'\\nimport gulpNewer from 'd3-hierarchy'\\nimport vegaCli from 'fast-json-patch'\\n\\nimport React from 'react';\\nimport SecurityCodeInput from './SecurityCodeInput';\\nimport { mount } from 'enzyme';\\nimport { inputTestkitFactory } from 'wix-style-react/dist/testkit/enzyme'; describe('CreditCardInput', () => { let wrapper, inputDriver, onChangeSpy; beforeEach(() => { onChangeSpy = jest.fn(); wrapper = mount(<SecurityCodeInput onChange={onChangeSpy} value=\\\"458\\\" />); inputDriver = inputTestkitFactory({ wrapper, dataHook: 'security-code-input' }); }); it('should render', function () { expect(inputDriver.getValue()).toBe('458'); }); it('should hander empty value gracefully', function () { wrapper.setProps({ value: undefined }); expect(inputDriver.getValue()).toBe(''); }); it('should expect only numbers', function () { inputDriver.enterText('avc'); expect(onChangeSpy).not.toHaveBeenCalled(); }); it('should have max length of 3', function () { inputDriver.enterText('4580'); expect(onChangeSpy).toHaveBeenCalledWith('458'); });\\n});\\n\\n####"}
{"prompt":"define(['d3-shape','@octokit/rest','arg','@types/react','@types/gulp-rename','dprint','jest-canvas-mock','@types/gulp-newer','vega-encode','array-flat-polyfill'], function(dtsJest,commonTags,merge2,vegaTime,gulpSourcemaps,octokitRest,jestCanvasMock,path,vegaEncode,osTmpdir){\\nimport React, {Component} from 'react';\\nimport ReactDOM from 'react-dom';\\nimport ClientInfoAggregate from './clientInfo.lib.js'; window.options = {};\\nwindow.SERVING_URL = 'https://apps.wixrestaurants.com'; class ClientInfoStandalone extends Component { state = { showClientInfo: false, rtl: true } handleClientInfoHide = () => { this.setState({ showClientInfo: false }); } handleChangeToRtl = () => this.setState({ rtl: true }) handleChangeToLtr = () => this.setState({ rtl: false }) render() { const {rtl} = this.state; return ( <div style={{direction: rtl ? 'rtl' : 'ltr', marginTop: 42}}> <button onClick={this.handleChangeToRtl}>rtl</button> <button onClick={this.handleChangeToLtr}>ltr</button> <br/> <ClientInfoAggregate locale={rtl ? 'he_IL' : 'en_GB'} enableGoogleLogin /> </div> ); }\\n} ReactDOM.render(<ClientInfoStandalone/>, document.getElementById('main'));\\n\\n})\\n####","completion":" import dtsJest from 'd3-shape'\\nimport commonTags from '@octokit/rest'\\nimport merge2 from 'arg'\\nimport vegaTime from '@types/react'\\nimport gulpSourcemaps from '@types/gulp-rename'\\nimport octokitRest from 'dprint'\\nimport jestCanvasMock from 'jest-canvas-mock'\\nimport path from '@types/gulp-newer'\\nimport vegaEncode from 'vega-encode'\\nimport osTmpdir from 'array-flat-polyfill'\\n\\nimport React, {Component} from 'react';\\nimport ReactDOM from 'react-dom';\\nimport ClientInfoAggregate from './clientInfo.lib.js'; window.options = {};\\nwindow.SERVING_URL = 'https://apps.wixrestaurants.com'; class ClientInfoStandalone extends Component { state = { showClientInfo: false, rtl: true } handleClientInfoHide = () => { this.setState({ showClientInfo: false }); } handleChangeToRtl = () => this.setState({ rtl: true }) handleChangeToLtr = () => this.setState({ rtl: false }) render() { const {rtl} = this.state; return ( <div style={{direction: rtl ? 'rtl' : 'ltr', marginTop: 42}}> <button onClick={this.handleChangeToRtl}>rtl</button> <button onClick={this.handleChangeToLtr}>ltr</button> <br/> <ClientInfoAggregate locale={rtl ? 'he_IL' : 'en_GB'} enableGoogleLogin /> </div> ); }\\n} ReactDOM.render(<ClientInfoStandalone/>, document.getElementById('main'));\\n\\n####"}
{"prompt":"define(['xml2js','which-module','jest-canvas-mock','yn','acorn-walk'], function(cleanTsBuilt,whichModule,jestCanvasMock,yn,typesXml2Js){\\n'use strict'\\nconst name = 'BaseScroll'\\nconst properties = {} function register({engine, factory}) { /** * Scroll base animation object * @param {Array<HTMLElement>|HTMLElement} elements DOM elements * @param {Number} [duration=1.0] * @param {Number} [delay=0] * @param {Object} params * @param {Object} [scrollTo] params.to.scrollTo will work to for compatibility reasons, defaults to {x:0, y:0} * @param {Number} [x] * @param {Number} [y] * @param {Boolean} [params.autoKill=false] set to false so the scroll will continue even if interrupted * @returns {TimelineMax|TweenMax} */ function animation(elements, duration = 0, delay = 0, {x = 0, y = 0, autoKill = false, ...params} = {}) { // eslint-disable-line complexity const scrollTo = {x, y, autoKill} return engine.tween(elements, {duration, delay, scrollTo, ...params}, ['scrollTo', 'autoKill']) } factory.registerAnimation(name, animation, properties)\\n} module.exports = { name, properties, register\\n} \\n})\\n####","completion":" import cleanTsBuilt from 'xml2js'\\nimport whichModule from 'which-module'\\nimport jestCanvasMock from 'jest-canvas-mock'\\nimport yn from 'yn'\\nimport typesXml2Js from 'acorn-walk'\\n\\n'use strict'\\nconst name = 'BaseScroll'\\nconst properties = {} function register({engine, factory}) { /** * Scroll base animation object * @param {Array<HTMLElement>|HTMLElement} elements DOM elements * @param {Number} [duration=1.0] * @param {Number} [delay=0] * @param {Object} params * @param {Object} [scrollTo] params.to.scrollTo will work to for compatibility reasons, defaults to {x:0, y:0} * @param {Number} [x] * @param {Number} [y] * @param {Boolean} [params.autoKill=false] set to false so the scroll will continue even if interrupted * @returns {TimelineMax|TweenMax} */ function animation(elements, duration = 0, delay = 0, {x = 0, y = 0, autoKill = false, ...params} = {}) { // eslint-disable-line complexity const scrollTo = {x, y, autoKill} return engine.tween(elements, {duration, delay, scrollTo, ...params}, ['scrollTo', 'autoKill']) } factory.registerAnimation(name, animation, properties)\\n} module.exports = { name, properties, register\\n} \\n####"}
{"prompt":"define(['yn','os-tmpdir','ini','cliui','typescript-tslint-plugin','vega-view-transforms','@cspotcode/source-map-support','yargs-parser','@types/fs-extra','xml2js','vega-selections'], function(yn,eslintConfigLydell,vegaSelections,fastJsonPatch,vegaFunctions,vegaCanvas,babelPluginTrace,yargsParser,vegaView,cleanTsBuilt,typescriptTslintPlugin){\\nimport React, { Component } from 'react';\\nimport PropTypes from 'prop-types';\\nimport { Input } from 'wix-style-react'; const MM_YY = /^\\D*(\\d{1,2})(\\s\\/\\s)?(\\d{1,2})?/; class ExpiryDateInput extends Component { onChange = (event) => { this.props.onChange(this.formatValue(event.target.value)); }; // the output that we want is a string like '01 / 19' or '1118' formatValue = (value) => { const parts = value.match(MM_YY); if (!parts) return ''; const month = parts[1] || ''; const year = parts[3] || ''; if (month.length === 2 && year.length >= 1) { return `${month} / ${year}`; } else if (month.length >= 1 && year.length === 0) { return `${month}`; } else { return ''; } }; render() { const { value } = this.props; return ( <Input placeholder=\\\"MM / YY\\\" dataHook=\\\"expiry-date-input\\\" onChange={this.onChange} value={this.formatValue(value)} /> ); }\\n} ExpiryDateInput.propTypes = { onChange: PropTypes.func.isRequired, value: PropTypes.string,\\n}; ExpiryDateInput.defaultProps = { value: '',\\n}; export default ExpiryDateInput;\\n\\n})\\n####","completion":" import yn from 'yn'\\nimport eslintConfigLydell from 'os-tmpdir'\\nimport vegaSelections from 'ini'\\nimport fastJsonPatch from 'cliui'\\nimport vegaFunctions from 'typescript-tslint-plugin'\\nimport vegaCanvas from 'vega-view-transforms'\\nimport babelPluginTrace from '@cspotcode/source-map-support'\\nimport yargsParser from 'yargs-parser'\\nimport vegaView from '@types/fs-extra'\\nimport cleanTsBuilt from 'xml2js'\\nimport typescriptTslintPlugin from 'vega-selections'\\n\\nimport React, { Component } from 'react';\\nimport PropTypes from 'prop-types';\\nimport { Input } from 'wix-style-react'; const MM_YY = /^\\D*(\\d{1,2})(\\s\\/\\s)?(\\d{1,2})?/; class ExpiryDateInput extends Component { onChange = (event) => { this.props.onChange(this.formatValue(event.target.value)); }; // the output that we want is a string like '01 / 19' or '1118' formatValue = (value) => { const parts = value.match(MM_YY); if (!parts) return ''; const month = parts[1] || ''; const year = parts[3] || ''; if (month.length === 2 && year.length >= 1) { return `${month} / ${year}`; } else if (month.length >= 1 && year.length === 0) { return `${month}`; } else { return ''; } }; render() { const { value } = this.props; return ( <Input placeholder=\\\"MM / YY\\\" dataHook=\\\"expiry-date-input\\\" onChange={this.onChange} value={this.formatValue(value)} /> ); }\\n} ExpiryDateInput.propTypes = { onChange: PropTypes.func.isRequired, value: PropTypes.string,\\n}; ExpiryDateInput.defaultProps = { value: '',\\n}; export default ExpiryDateInput;\\n\\n####"}
{"prompt":"define(['vinyl-sourcemaps-apply','is-bigint','rollup-plugin-bundle-size','gulp-insert','os-tmpdir','@types/fast-json-stable-stringify','acorn-walk','v8-compile-cache-lib','typescript-json-schema','ts-transform-default-export'], function(utilPromisify,tsNodeDev,isexe,d3GeoProjection,eslintConfigLydell,typesFastJsonStableStringify,typesXml2Js,v8CompileCacheLib,typescriptJsonSchema,tsTransformDefaultExport){\\ndefine(['lodash', 'documentServices/theme/theme', 'documentServices/constants/constants', 'documentServices/theme/isSystemStyle'], function ( _, theme, constants, isSystemStyle\\n) { 'use strict' return { exec(ps) { const styles = _(ps) .thru(() => theme.styles.getAllIds(ps, constants.MASTER_PAGE_ID)) .without(constants.STYLES.THEME_DATA_ID) .map(function (styleId) { return _.merge(theme.styles.get(ps, styleId, constants.MASTER_PAGE_ID), {id: styleId}) }) .filter(function (style) { return style.styleType === constants.STYLES.TYPES.SYSTEM && !isSystemStyle(style.id) }) .value() _.forEach(styles, function (style) { style.styleType = constants.STYLES.TYPES.CUSTOM style.type = ps.runtimeConfig.stylesPerPage ? constants.STYLES.COMPONENT_STYLE : constants.STYLES.TOP_LEVEL_STYLE ps.dal.set(ps.pointers.data.getThemeItem(style.id, constants.MASTER_PAGE_ID), style) }) return _.size(styles) }, name: 'unknownSystemStylesFixer', version: 1 }\\n})\\n\\n})\\n####","completion":" import utilPromisify from 'vinyl-sourcemaps-apply'\\nimport tsNodeDev from 'is-bigint'\\nimport isexe from 'rollup-plugin-bundle-size'\\nimport d3GeoProjection from 'gulp-insert'\\nimport eslintConfigLydell from 'os-tmpdir'\\nimport typesFastJsonStableStringify from '@types/fast-json-stable-stringify'\\nimport typesXml2Js from 'acorn-walk'\\nimport v8CompileCacheLib from 'v8-compile-cache-lib'\\nimport typescriptJsonSchema from 'typescript-json-schema'\\nimport tsTransformDefaultExport from 'ts-transform-default-export'\\n\\ndefine(['lodash', 'documentServices/theme/theme', 'documentServices/constants/constants', 'documentServices/theme/isSystemStyle'], function ( _, theme, constants, isSystemStyle\\n) { 'use strict' return { exec(ps) { const styles = _(ps) .thru(() => theme.styles.getAllIds(ps, constants.MASTER_PAGE_ID)) .without(constants.STYLES.THEME_DATA_ID) .map(function (styleId) { return _.merge(theme.styles.get(ps, styleId, constants.MASTER_PAGE_ID), {id: styleId}) }) .filter(function (style) { return style.styleType === constants.STYLES.TYPES.SYSTEM && !isSystemStyle(style.id) }) .value() _.forEach(styles, function (style) { style.styleType = constants.STYLES.TYPES.CUSTOM style.type = ps.runtimeConfig.stylesPerPage ? constants.STYLES.COMPONENT_STYLE : constants.STYLES.TOP_LEVEL_STYLE ps.dal.set(ps.pointers.data.getThemeItem(style.id, constants.MASTER_PAGE_ID), style) }) return _.size(styles) }, name: 'unknownSystemStylesFixer', version: 1 }\\n})\\n\\n####"}
{"prompt":"define(['yn','is-bigint','jest-t-assert','vega-datasets','clean-ts-built','pretty-quick','@microsoft/api-extractor'], function(yn,tsNodeDev,jestTAssert,vegaDatasets,tsJsonSchemaGenerator,rollupPluginBundleSize,vegaStatistics){\\nconst {includes, pickBy} = require('lodash')\\nconst {config: requestConfig} = require('./staticsRequestHelper')\\nconst {StaticProxyFetchFailedWarning} = require('../../errors/errors') module.exports = (config, httpClient, metricsReporter) => { const cacheSuffix = includes(config.cacheUrl, 'cloudfront') ? 'SharedCache' : '' return (url, attemptNum) => { if (attemptNum > 0) { metricsReporter.meter('downloadPageFallback') } const fetch = () => httpClient.get(url, requestConfig(config.timeout, config.maxRedirects, pickBy({Host: config.Host}))) .then(res => res.data) .catch(err => { if (includes(url, config.cacheUrl)) { metricsReporter.reportError(new StaticProxyFetchFailedWarning(err, url)) if (cacheSuffix) { metricsReporter.meter('sharedCacheFetchFailed') } } throw err }) return metricsReporter.runAsyncAndReport(fetch, `downloadPage${cacheSuffix}`) }\\n}\\n})\\n####","completion":" import yn from 'yn'\\nimport tsNodeDev from 'is-bigint'\\nimport jestTAssert from 'jest-t-assert'\\nimport vegaDatasets from 'vega-datasets'\\nimport tsJsonSchemaGenerator from 'clean-ts-built'\\nimport rollupPluginBundleSize from 'pretty-quick'\\nimport vegaStatistics from '@microsoft/api-extractor'\\n\\nconst {includes, pickBy} = require('lodash')\\nconst {config: requestConfig} = require('./staticsRequestHelper')\\nconst {StaticProxyFetchFailedWarning} = require('../../errors/errors') module.exports = (config, httpClient, metricsReporter) => { const cacheSuffix = includes(config.cacheUrl, 'cloudfront') ? 'SharedCache' : '' return (url, attemptNum) => { if (attemptNum > 0) { metricsReporter.meter('downloadPageFallback') } const fetch = () => httpClient.get(url, requestConfig(config.timeout, config.maxRedirects, pickBy({Host: config.Host}))) .then(res => res.data) .catch(err => { if (includes(url, config.cacheUrl)) { metricsReporter.reportError(new StaticProxyFetchFailedWarning(err, url)) if (cacheSuffix) { metricsReporter.meter('sharedCacheFetchFailed') } } throw err }) return metricsReporter.runAsyncAndReport(fetch, `downloadPage${cacheSuffix}`) }\\n}\\n####"}
{"prompt":"define(['gulp-newer','vega-view-transforms','vega-tooltip','v8-compile-cache-lib','stream-spec','arg','@types/gulp-rename','vega-label','hashish','vega-crossfilter','is-number-object','@types/js-yaml','tslint-config-prettier','jest-t-assert','yaml-front-matter'], function(vegaHierarchy,vegaCanvas,vegaTooltip,v8CompileCacheLib,streamSpec,merge2,gulpSourcemaps,createRequire,hashish,vegaCrossfilter,eslintPluginGithub,typesJsYaml,xml2Js,jestTAssert,svg2PngMany){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.wix.com/demone2/real-estate-landing (46)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/real-estate-landing', emulateMobileDevice: true, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/46-real-estate-landing-page/anchors/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import vegaHierarchy from 'gulp-newer'\\nimport vegaCanvas from 'vega-view-transforms'\\nimport vegaTooltip from 'vega-tooltip'\\nimport v8CompileCacheLib from 'v8-compile-cache-lib'\\nimport streamSpec from 'stream-spec'\\nimport merge2 from 'arg'\\nimport gulpSourcemaps from '@types/gulp-rename'\\nimport createRequire from 'vega-label'\\nimport hashish from 'hashish'\\nimport vegaCrossfilter from 'vega-crossfilter'\\nimport eslintPluginGithub from 'is-number-object'\\nimport typesJsYaml from '@types/js-yaml'\\nimport xml2Js from 'tslint-config-prettier'\\nimport jestTAssert from 'jest-t-assert'\\nimport svg2PngMany from 'yaml-front-matter'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.wix.com/demone2/real-estate-landing (46)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/real-estate-landing', emulateMobileDevice: true, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/46-real-estate-landing-page/anchors/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['@types/tape','npm-packlist','vega-view-transforms','hashish','os-tmpdir','tslint-plugin-prettier','yargs-test-extends','ntypescript','yaml-front-matter','@cspotcode/source-map-support','vega-selections','azure-devops-node-api','cliui','@types/babel__code-frame','eslint-plugin-github','vega-schema','ignore','vega-scale','cpr','@types/npm-packlist'], function(typesTape,vinylSourcemapsApply,vegaCanvas,hashish,eslintConfigLydell,tslintPluginPrettier,yargsTestExtends,ntypescript,svg2PngMany,babelPluginTrace,typescriptTslintPlugin,typesReact,fastJsonPatch,typesBabelCodeFrame,mochaFivematProgressReporter,vegaParser,isBooleanObject,ini,gulpInsert,prettyQuick){\\n'use strict'\\nconst _ = require('lodash')\\nconst artifactory = require('@wix/artifactory-driver') /** * @class project-versions-api * */ const getVersionsForProject = async (artifactName, groupId) => { const [RC, GA] = [await artifactory.getLatestRcVersion(artifactName, groupId), await artifactory.getGAVersion(artifactName, groupId)] return { RC, GA }\\n} const PROJECTS = [ {artifactId: 'santa', groupId: 'com.wixpress.html-client'}, {artifactId: 'santa-editor', groupId: 'com.wixpress.html-client'}, {artifactId: 'wix-bolt', groupId: 'com.wixpress.html-client'}, {artifactId: 'document-management', groupId: 'com.wixpress.html-client'}\\n] /** * @memberOf project-versions-api * @returns {Promise<Object.<projectName, {RC: string, GA: string, snapshot: string}>>} */\\nconst getVersions = async () => { const versions = await Promise.all(PROJECTS.map(({artifactId, groupId}) => getVersionsForProject(artifactId, groupId))) return _(PROJECTS).map('artifactId').zipObject(versions).value()\\n} module.exports = { getVersions, getVersionsForProject\\n}\\n\\n})\\n####","completion":" import typesTape from '@types/tape'\\nimport vinylSourcemapsApply from 'npm-packlist'\\nimport vegaCanvas from 'vega-view-transforms'\\nimport hashish from 'hashish'\\nimport eslintConfigLydell from 'os-tmpdir'\\nimport tslintPluginPrettier from 'tslint-plugin-prettier'\\nimport yargsTestExtends from 'yargs-test-extends'\\nimport ntypescript from 'ntypescript'\\nimport svg2PngMany from 'yaml-front-matter'\\nimport babelPluginTrace from '@cspotcode/source-map-support'\\nimport typescriptTslintPlugin from 'vega-selections'\\nimport typesReact from 'azure-devops-node-api'\\nimport fastJsonPatch from 'cliui'\\nimport typesBabelCodeFrame from '@types/babel__code-frame'\\nimport mochaFivematProgressReporter from 'eslint-plugin-github'\\nimport vegaParser from 'vega-schema'\\nimport isBooleanObject from 'ignore'\\nimport ini from 'vega-scale'\\nimport gulpInsert from 'cpr'\\nimport prettyQuick from '@types/npm-packlist'\\n\\n'use strict'\\nconst _ = require('lodash')\\nconst artifactory = require('@wix/artifactory-driver') /** * @class project-versions-api * */ const getVersionsForProject = async (artifactName, groupId) => { const [RC, GA] = [await artifactory.getLatestRcVersion(artifactName, groupId), await artifactory.getGAVersion(artifactName, groupId)] return { RC, GA }\\n} const PROJECTS = [ {artifactId: 'santa', groupId: 'com.wixpress.html-client'}, {artifactId: 'santa-editor', groupId: 'com.wixpress.html-client'}, {artifactId: 'wix-bolt', groupId: 'com.wixpress.html-client'}, {artifactId: 'document-management', groupId: 'com.wixpress.html-client'}\\n] /** * @memberOf project-versions-api * @returns {Promise<Object.<projectName, {RC: string, GA: string, snapshot: string}>>} */\\nconst getVersions = async () => { const versions = await Promise.all(PROJECTS.map(({artifactId, groupId}) => getVersionsForProject(artifactId, groupId))) return _(PROJECTS).map('artifactId').zipObject(versions).value()\\n} module.exports = { getVersions, getVersionsForProject\\n}\\n\\n####"}
{"prompt":"define(['vega-selections','vega-format','yn','babel-plugin-trace','@tsconfig/node14','d3-geo-projection','@fimbul/wotan','vega-voronoi','vega-parser','d3-hierarchy','rollup-plugin-cleanup','gulp-newer','decamelize','from','rollup-plugin-bundle-size','vega-scale','d3-delaunay'], function(typescriptTslintPlugin,azureDevopsNodeApi,yn,d3Force,eslintFormatterAutolinkableStylish,typesMicrosoftTypescriptEtw,typesProxyquire,vegaVoronoi,vegaExpression,gulpNewer,d3Shape,vegaHierarchy,verup,isNumberObject,isexe,ini,homedirPolyfill){\\n'use strict'\\nconst EditorContainerComponent = require('../../baseComponents/EditorContainerComponent')\\nconst ViewerComponent = require('../../baseComponents/ViewerComponent')\\nconst FullWidthCompDriver = require('../../drivers/editor/EditorFullWidthDriver') const componentType = 'wysiwyg.viewer.components.Repeater' const repeaterItemsSelector = '[role=\\\"gridcell\\\"] > [data-comp], [role=\\\"listitem\\\"]' /** * @extends ViewerComponent */\\nclass ViewerRepeaterComponent extends ViewerComponent { /** * @returns {Promise.<[ViewerComponent]> */ getItems() { return this.componentDriverFactory.create(this.id, repeaterItemsSelector) }\\n} /** * Editor repeater component driver * @extends EditorContainerComponent */\\nclass EditorRepeaterComponent extends EditorContainerComponent { constructor(...args) { super(...args) this.fullWidthDriver = new FullWidthCompDriver(this) } async getItems() { return this.componentFactory.create(this.viewerComponent.id, repeaterItemsSelector) }\\n} module.exports = { componentType, addPanelCategory: 'repeater', addPanelSectionAutomationId: 'add-panel-section-repeaterSection', EditorComponent: EditorRepeaterComponent, ViewerComponent: ViewerRepeaterComponent\\n}\\n\\n})\\n####","completion":" import typescriptTslintPlugin from 'vega-selections'\\nimport azureDevopsNodeApi from 'vega-format'\\nimport yn from 'yn'\\nimport d3Force from 'babel-plugin-trace'\\nimport eslintFormatterAutolinkableStylish from '@tsconfig/node14'\\nimport typesMicrosoftTypescriptEtw from 'd3-geo-projection'\\nimport typesProxyquire from '@fimbul/wotan'\\nimport vegaVoronoi from 'vega-voronoi'\\nimport vegaExpression from 'vega-parser'\\nimport gulpNewer from 'd3-hierarchy'\\nimport d3Shape from 'rollup-plugin-cleanup'\\nimport vegaHierarchy from 'gulp-newer'\\nimport verup from 'decamelize'\\nimport isNumberObject from 'from'\\nimport isexe from 'rollup-plugin-bundle-size'\\nimport ini from 'vega-scale'\\nimport homedirPolyfill from 'd3-delaunay'\\n\\n'use strict'\\nconst EditorContainerComponent = require('../../baseComponents/EditorContainerComponent')\\nconst ViewerComponent = require('../../baseComponents/ViewerComponent')\\nconst FullWidthCompDriver = require('../../drivers/editor/EditorFullWidthDriver') const componentType = 'wysiwyg.viewer.components.Repeater' const repeaterItemsSelector = '[role=\\\"gridcell\\\"] > [data-comp], [role=\\\"listitem\\\"]' /** * @extends ViewerComponent */\\nclass ViewerRepeaterComponent extends ViewerComponent { /** * @returns {Promise.<[ViewerComponent]> */ getItems() { return this.componentDriverFactory.create(this.id, repeaterItemsSelector) }\\n} /** * Editor repeater component driver * @extends EditorContainerComponent */\\nclass EditorRepeaterComponent extends EditorContainerComponent { constructor(...args) { super(...args) this.fullWidthDriver = new FullWidthCompDriver(this) } async getItems() { return this.componentFactory.create(this.viewerComponent.id, repeaterItemsSelector) }\\n} module.exports = { componentType, addPanelCategory: 'repeater', addPanelSectionAutomationId: 'add-panel-section-repeaterSection', EditorComponent: EditorRepeaterComponent, ViewerComponent: ViewerRepeaterComponent\\n}\\n\\n####"}
{"prompt":"define(['vega-datasets','@sindresorhus/tsconfig','d3-geo-projection','rollup-plugin-sourcemaps','unicode-property-value-aliases-ecmascript','typescript-tslint-plugin','promise-polyfill'], function(vegaDatasets,getCallerFile,typesMicrosoftTypescriptEtw,memfs,unicodePropertyValueAliasesEcmascript,vegaFunctions,d3Delaunay){\\nimport PropTypes from 'prop-types';\\nimport React from 'react'\\nimport Oy from 'oy-vey/lib/components/DefaultElement.js' const {Table, TBody, TR, TD} = Oy export default function ResetPassword({i18n, email, url}) { const line1 = i18n.get('renderer_resetpassword1', 'We received a request to reset your password. If you did not make this request, just ignore this email. Otherwise, please visit the link below to reset your password:') const line2 = url const line3 = i18n.get('renderer_resetpassword2', 'If clicking the link doesn\\'t work, copy and paste the URL into a new browser window.') const line4 = i18n.get('renderer_resetpassword3', 'Your username, in case you\\'ve forgotten: ${params.username}', { params: { username: email } }) return ( <Table> <TBody> <TR> <TD>{line1}</TD> </TR> <TR> <TD>{line2}</TD> </TR> <TR> <TD>{line3}</TD> </TR> <TR> <TD>{line4}</TD> </TR> </TBody> </Table> )\\n} ResetPassword.displayName = 'ResetPassword'; ResetPassword.propTypes = { i18n: PropTypes.object.isRequired, email: PropTypes.string.isRequired, url: PropTypes.string.isRequired\\n};\\n\\n})\\n####","completion":" import vegaDatasets from 'vega-datasets'\\nimport getCallerFile from '@sindresorhus/tsconfig'\\nimport typesMicrosoftTypescriptEtw from 'd3-geo-projection'\\nimport memfs from 'rollup-plugin-sourcemaps'\\nimport unicodePropertyValueAliasesEcmascript from 'unicode-property-value-aliases-ecmascript'\\nimport vegaFunctions from 'typescript-tslint-plugin'\\nimport d3Delaunay from 'promise-polyfill'\\n\\nimport PropTypes from 'prop-types';\\nimport React from 'react'\\nimport Oy from 'oy-vey/lib/components/DefaultElement.js' const {Table, TBody, TR, TD} = Oy export default function ResetPassword({i18n, email, url}) { const line1 = i18n.get('renderer_resetpassword1', 'We received a request to reset your password. If you did not make this request, just ignore this email. Otherwise, please visit the link below to reset your password:') const line2 = url const line3 = i18n.get('renderer_resetpassword2', 'If clicking the link doesn\\'t work, copy and paste the URL into a new browser window.') const line4 = i18n.get('renderer_resetpassword3', 'Your username, in case you\\'ve forgotten: ${params.username}', { params: { username: email } }) return ( <Table> <TBody> <TR> <TD>{line1}</TD> </TR> <TR> <TD>{line2}</TD> </TR> <TR> <TD>{line3}</TD> </TR> <TR> <TD>{line4}</TD> </TR> </TBody> </Table> )\\n} ResetPassword.displayName = 'ResetPassword'; ResetPassword.propTypes = { i18n: PropTypes.object.isRequired, email: PropTypes.string.isRequired, url: PropTypes.string.isRequired\\n};\\n\\n####"}
{"prompt":"define(['d3','@types/proxyquire','recast','d3-geo-projection','vega-statistics','safe-regex','create-require','yaml-front-matter','yarn','@types/tape','vega-scenegraph','@types/puppeteer','eslint-plugin-no-null','homedir-polyfill','vinyl-sourcemaps-apply','d3-shape','@tsconfig/node16','github-release-from-changelog'], function(d3,vegaEventSelector,typesD3,typesMicrosoftTypescriptEtw,properLockfile,safeRegex,ignore,svg2PngMany,d3Hierarchy,typesTape,arg,typesPuppeteer,eslintPluginNoNull,vows,utilPromisify,dtsJest,tsconfigNode16,githubReleaseFromChangelog){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.wix.com/demone2/kids-lifestyle-store (30)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/kids-lifestyle-store', emulateMobileDevice: true, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/30-kids-lifestyle-store/mesh/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import d3 from 'd3'\\nimport vegaEventSelector from '@types/proxyquire'\\nimport typesD3 from 'recast'\\nimport typesMicrosoftTypescriptEtw from 'd3-geo-projection'\\nimport properLockfile from 'vega-statistics'\\nimport safeRegex from 'safe-regex'\\nimport ignore from 'create-require'\\nimport svg2PngMany from 'yaml-front-matter'\\nimport d3Hierarchy from 'yarn'\\nimport typesTape from '@types/tape'\\nimport arg from 'vega-scenegraph'\\nimport typesPuppeteer from '@types/puppeteer'\\nimport eslintPluginNoNull from 'eslint-plugin-no-null'\\nimport vows from 'homedir-polyfill'\\nimport utilPromisify from 'vinyl-sourcemaps-apply'\\nimport dtsJest from 'd3-shape'\\nimport tsconfigNode16 from '@tsconfig/node16'\\nimport githubReleaseFromChangelog from 'github-release-from-changelog'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.wix.com/demone2/kids-lifestyle-store (30)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/kids-lifestyle-store', emulateMobileDevice: true, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/30-kids-lifestyle-store/mesh/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['@types/ms','vega-functions','d3-scale','vega-scale','vega-schema','rollup-plugin-sourcemaps','cpr','@tsconfig/node14','serve','@types/fs-extra','@types/babel__code-frame','prex','memfs','array-flat-polyfill','pretty-quick','start-server-and-test','common-tags','make-error','d3-geo-projection'], function(requireDirectory,rxjs,d3Scale,ini,vegaParser,memfs,gulpInsert,eslintFormatterAutolinkableStylish,serve,vegaView,typesBabelCodeFrame,prex,decamelize,osTmpdir,rollupPluginBundleSize,colortape,tslintConfigPrettier,typesMs,typesMicrosoftTypescriptEtw){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.wix.com/demone2/food-photo (41)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/food-photo', emulateMobileDevice: true, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/41-food-photographer/anchors/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import requireDirectory from '@types/ms'\\nimport rxjs from 'vega-functions'\\nimport d3Scale from 'd3-scale'\\nimport ini from 'vega-scale'\\nimport vegaParser from 'vega-schema'\\nimport memfs from 'rollup-plugin-sourcemaps'\\nimport gulpInsert from 'cpr'\\nimport eslintFormatterAutolinkableStylish from '@tsconfig/node14'\\nimport serve from 'serve'\\nimport vegaView from '@types/fs-extra'\\nimport typesBabelCodeFrame from '@types/babel__code-frame'\\nimport prex from 'prex'\\nimport decamelize from 'memfs'\\nimport osTmpdir from 'array-flat-polyfill'\\nimport rollupPluginBundleSize from 'pretty-quick'\\nimport colortape from 'start-server-and-test'\\nimport tslintConfigPrettier from 'common-tags'\\nimport typesMs from 'make-error'\\nimport typesMicrosoftTypescriptEtw from 'd3-geo-projection'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.wix.com/demone2/food-photo (41)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/food-photo', emulateMobileDevice: true, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/41-food-photographer/anchors/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['yaml-front-matter','d3-hierarchy','@types/gulp','npm-packlist','vega-label'], function(svg2PngMany,gulpNewer,typesGulp,vinylSourcemapsApply,createRequire){\\nimport React, {Component} from 'react';\\nimport {AddressInput as WixAddressInput} from 'wix-ui-core/dist/src/components/AddressInput';\\nimport style from './AddressInput.st.css';\\nimport s from './index.scss';\\nimport AddressIcon from '../assets/svg/address.js';\\nimport {func, string} from 'prop-types';\\nimport connectServices from './connectServices.js'; @connectServices('googleMapsClient')\\nexport default class AddressInput extends Component { static propTypes = { onSelect: func.isRequired, onChange: func.isRequired, value: string, googleMapsClient: func }; render() { return ( <div data-hook=\\\"addressInput\\\" className={s.subtitle2}> <WixAddressInput {...style('root')} Client={this.props.googleMapsClient} lang=\\\"he\\\" clientId=\\\"gme-wixcomltd2\\\" locationIcon={<AddressIcon/>} value={this.props.value} onChange={this.props.onChange} onSelect={this.props.onSelect} suffix={<div/>} fixed /> </div> ); }\\n}\\n\\n})\\n####","completion":" import svg2PngMany from 'yaml-front-matter'\\nimport gulpNewer from 'd3-hierarchy'\\nimport typesGulp from '@types/gulp'\\nimport vinylSourcemapsApply from 'npm-packlist'\\nimport createRequire from 'vega-label'\\n\\nimport React, {Component} from 'react';\\nimport {AddressInput as WixAddressInput} from 'wix-ui-core/dist/src/components/AddressInput';\\nimport style from './AddressInput.st.css';\\nimport s from './index.scss';\\nimport AddressIcon from '../assets/svg/address.js';\\nimport {func, string} from 'prop-types';\\nimport connectServices from './connectServices.js'; @connectServices('googleMapsClient')\\nexport default class AddressInput extends Component { static propTypes = { onSelect: func.isRequired, onChange: func.isRequired, value: string, googleMapsClient: func }; render() { return ( <div data-hook=\\\"addressInput\\\" className={s.subtitle2}> <WixAddressInput {...style('root')} Client={this.props.googleMapsClient} lang=\\\"he\\\" clientId=\\\"gme-wixcomltd2\\\" locationIcon={<AddressIcon/>} value={this.props.value} onChange={this.props.onChange} onSelect={this.props.onSelect} suffix={<div/>} fixed /> </div> ); }\\n}\\n\\n####"}
{"prompt":"define(['@types/fs-extra','@types/gulp','jest-canvas-mock','babel-plugin-trace','detect-indent','stream-spec','vega-scenegraph','vega-crossfilter','pretty-quick','get-caller-file','vega-encode','require-directory','y18n','decamelize','ts-node-dev','yn','@octokit/rest','rollup-plugin-sourcemaps'], function(vegaView,typesGulp,jestCanvasMock,d3Force,detectIndent,streamSpec,arg,vegaCrossfilter,rollupPluginBundleSize,vegaScenegraph,vegaEncode,tr46,y18N,verup,recast,yn,commonTags,memfs){\\n'use strict' class ValueListItem { constructor(editorFrame, handle) { if (new.target === ValueListItem) { throw new TypeError('Cannot construct ValueListItem instances directly') } this.editorFrame = editorFrame this.handle = handle } _clickOnAction(actionIndex) { this.editorFrame.evaluate((handle, actionIndex) => { const contextMenuElement = handle.querySelector('.control-context-menu') const driver = BaseUIDrivers.contextMenuDriver.create(contextMenuElement) driver.click() driver.selectActionByIndex(actionIndex) }, this.handle, actionIndex) } getValue() { return this.handle.$eval('.text-inner-content .label', label => label.textContent) } duplicate() { return this._clickOnAction(1) } remove() { return this._clickOnAction(2) } select() { return this.handle.click() }\\n} module.exports = ValueListItem\\n})\\n####","completion":" import vegaView from '@types/fs-extra'\\nimport typesGulp from '@types/gulp'\\nimport jestCanvasMock from 'jest-canvas-mock'\\nimport d3Force from 'babel-plugin-trace'\\nimport detectIndent from 'detect-indent'\\nimport streamSpec from 'stream-spec'\\nimport arg from 'vega-scenegraph'\\nimport vegaCrossfilter from 'vega-crossfilter'\\nimport rollupPluginBundleSize from 'pretty-quick'\\nimport vegaScenegraph from 'get-caller-file'\\nimport vegaEncode from 'vega-encode'\\nimport tr46 from 'require-directory'\\nimport y18N from 'y18n'\\nimport verup from 'decamelize'\\nimport recast from 'ts-node-dev'\\nimport yn from 'yn'\\nimport commonTags from '@octokit/rest'\\nimport memfs from 'rollup-plugin-sourcemaps'\\n\\n'use strict' class ValueListItem { constructor(editorFrame, handle) { if (new.target === ValueListItem) { throw new TypeError('Cannot construct ValueListItem instances directly') } this.editorFrame = editorFrame this.handle = handle } _clickOnAction(actionIndex) { this.editorFrame.evaluate((handle, actionIndex) => { const contextMenuElement = handle.querySelector('.control-context-menu') const driver = BaseUIDrivers.contextMenuDriver.create(contextMenuElement) driver.click() driver.selectActionByIndex(actionIndex) }, this.handle, actionIndex) } getValue() { return this.handle.$eval('.text-inner-content .label', label => label.textContent) } duplicate() { return this._clickOnAction(1) } remove() { return this._clickOnAction(2) } select() { return this.handle.click() }\\n} module.exports = ValueListItem\\n####"}
{"prompt":"define(['vega-view-transforms','vega-themes','camelcase','isexe','ts-clean-built','@types/fs-extra','create-require','@types/minimist','gulp-insert','vega-parser','require-main-filename','@types/mkdirp','vega-time','homedir-polyfill','tslint-config-prettier','rollup-plugin-bundle-size','@sindresorhus/tsconfig'], function(vegaCanvas,vegaLoader,hasAnsi,typesGulpSourcemaps,microsoftApiExtractor,vegaView,ignore,typescriptEslintExperimentalUtils,d3GeoProjection,vegaExpression,requireMainFilename,typesMinimist,vegaLabel,vows,xml2Js,isexe,getCallerFile){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.shaiyallin.com/food-blog (54)', withViewer({ tpaInterceptor, baseUrl: 'https://www.shaiyallin.com/food-blog', emulateMobileDevice: false, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/54-shai-yalin-cuisine/anchors/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import vegaCanvas from 'vega-view-transforms'\\nimport vegaLoader from 'vega-themes'\\nimport hasAnsi from 'camelcase'\\nimport typesGulpSourcemaps from 'isexe'\\nimport microsoftApiExtractor from 'ts-clean-built'\\nimport vegaView from '@types/fs-extra'\\nimport ignore from 'create-require'\\nimport typescriptEslintExperimentalUtils from '@types/minimist'\\nimport d3GeoProjection from 'gulp-insert'\\nimport vegaExpression from 'vega-parser'\\nimport requireMainFilename from 'require-main-filename'\\nimport typesMinimist from '@types/mkdirp'\\nimport vegaLabel from 'vega-time'\\nimport vows from 'homedir-polyfill'\\nimport xml2Js from 'tslint-config-prettier'\\nimport isexe from 'rollup-plugin-bundle-size'\\nimport getCallerFile from '@sindresorhus/tsconfig'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.shaiyallin.com/food-blog (54)', withViewer({ tpaInterceptor, baseUrl: 'https://www.shaiyallin.com/food-blog', emulateMobileDevice: false, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/54-shai-yalin-cuisine/anchors/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['get-stream','path','vega-typings','start-server-and-test','node-sass','isexe','is-number-object','vega-crossfilter','has-ansi','stream-spec'], function(getStream,vegaSchema,vegaTypings,colortape,nodeSass,typesGulpSourcemaps,eslintPluginGithub,vegaCrossfilter,gulpConcat,streamSpec){\\nimport http from 'http';\\nimport _ from 'lodash'; export class CommonProtocolDriver { constructor({port}) { this.server = http.createServer(this._handler.bind(this)); this.port = port; this.reset(); } start() { this.server.listen(this.port, '127.0.0.1'); } stop() { this.server.close(); } reset() { this.rules = {}; } addRule({resource, request, response, delay, useRawResponse}) { delay = delay || 0; let resourceRules = this.rules[resource]; if (!resourceRules) { resourceRules = []; this.rules[resource] = resourceRules; } resourceRules.push({request, response, delay, useRawResponse}); } _handler(req, res) { let body = ''; req.on('data', (data) => { body += data }); req.on('end', () => { const request = JSON.parse(body); const rule = _.find(this.rules[req.url], (rule) => { return _.isEqual(rule.request, request); }); if (rule) { _.delay(() => { res.writeHead(200, {'Content-Type': rule.useRawResponse ? 'text/html' : 'application/json'}); res.end(rule.useRawResponse ? rule.response : JSON.stringify(rule.response)); }, rule.delay); } else { res.writeHead(404); res.end(); } }); }\\n}\\n\\n})\\n####","completion":" import getStream from 'get-stream'\\nimport vegaSchema from 'path'\\nimport vegaTypings from 'vega-typings'\\nimport colortape from 'start-server-and-test'\\nimport nodeSass from 'node-sass'\\nimport typesGulpSourcemaps from 'isexe'\\nimport eslintPluginGithub from 'is-number-object'\\nimport vegaCrossfilter from 'vega-crossfilter'\\nimport gulpConcat from 'has-ansi'\\nimport streamSpec from 'stream-spec'\\n\\nimport http from 'http';\\nimport _ from 'lodash'; export class CommonProtocolDriver { constructor({port}) { this.server = http.createServer(this._handler.bind(this)); this.port = port; this.reset(); } start() { this.server.listen(this.port, '127.0.0.1'); } stop() { this.server.close(); } reset() { this.rules = {}; } addRule({resource, request, response, delay, useRawResponse}) { delay = delay || 0; let resourceRules = this.rules[resource]; if (!resourceRules) { resourceRules = []; this.rules[resource] = resourceRules; } resourceRules.push({request, response, delay, useRawResponse}); } _handler(req, res) { let body = ''; req.on('data', (data) => { body += data }); req.on('end', () => { const request = JSON.parse(body); const rule = _.find(this.rules[req.url], (rule) => { return _.isEqual(rule.request, request); }); if (rule) { _.delay(() => { res.writeHead(200, {'Content-Type': rule.useRawResponse ? 'text/html' : 'application/json'}); res.end(rule.useRawResponse ? rule.response : JSON.stringify(rule.response)); }, rule.delay); } else { res.writeHead(404); res.end(); } }); }\\n}\\n\\n####"}
{"prompt":"define(['util.promisify','vega-tooltip','@types/d3'], function(typesNpmPacklist,vegaTooltip,fancyLog){\\nimport testkit from 'wix-bootstrap-testkit';\\nimport configEmitter from 'wix-config-emitter';\\nimport rpcTestkit from 'wix-rpc-testkit'; export const app = bootstrapServer();\\nexport const rpcServer = rpcTestkit.server({port: 3025}); export const beforeAndAfter = function () { before(() => emitConfigs()); rpcServer.beforeAndAfterEach(); app.beforeAndAfter();\\n}; function emitConfigs() { return configEmitter({sourceFolders: ['./templates'], targetFolder: './target/configs'}) .fn('static_url', 'com.wixpress.restaurants.restaurants-dashboard-redirect-webapp', 'http://localhost:3200/') .fn('service_url', 'com.wixpress.wix-meta-site-manager-webapp', 'http://localhost:3025/') // 'http://app-jvm26c.42.wixprod.net:25684/meta-site-manager/rpc/services/execute') .fn('databag_passwd', 'com.wixpress.restaurants.restaurants-dashboard-redirect-webapp', 'accessToken', 'accesstoken') .emit();\\n} function bootstrapServer() { return testkit.app('./index', { env: { PORT: 3100, MANAGEMENT_PORT: 3104, NEW_RELIC_LOG_LEVEL: 'warn', DEBUG: 'wix:*' } });\\n}\\n\\n})\\n####","completion":" import typesNpmPacklist from 'util.promisify'\\nimport vegaTooltip from 'vega-tooltip'\\nimport fancyLog from '@types/d3'\\n\\nimport testkit from 'wix-bootstrap-testkit';\\nimport configEmitter from 'wix-config-emitter';\\nimport rpcTestkit from 'wix-rpc-testkit'; export const app = bootstrapServer();\\nexport const rpcServer = rpcTestkit.server({port: 3025}); export const beforeAndAfter = function () { before(() => emitConfigs()); rpcServer.beforeAndAfterEach(); app.beforeAndAfter();\\n}; function emitConfigs() { return configEmitter({sourceFolders: ['./templates'], targetFolder: './target/configs'}) .fn('static_url', 'com.wixpress.restaurants.restaurants-dashboard-redirect-webapp', 'http://localhost:3200/') .fn('service_url', 'com.wixpress.wix-meta-site-manager-webapp', 'http://localhost:3025/') // 'http://app-jvm26c.42.wixprod.net:25684/meta-site-manager/rpc/services/execute') .fn('databag_passwd', 'com.wixpress.restaurants.restaurants-dashboard-redirect-webapp', 'accessToken', 'accesstoken') .emit();\\n} function bootstrapServer() { return testkit.app('./index', { env: { PORT: 3100, MANAGEMENT_PORT: 3104, NEW_RELIC_LOG_LEVEL: 'warn', DEBUG: 'wix:*' } });\\n}\\n\\n####"}
{"prompt":"define(['@types/microsoft__typescript-etw','vega-tooltip','vega-geo','azure-devops-node-api','merge2','vega-loader','@types/q','vega-themes','jest-canvas-mock','vows'], function(vegaSchemaUrlParser,vegaTooltip,vegaGeo,typesReact,typesDiff,tsCleanBuilt,typesQ,vegaLoader,jestCanvasMock,fimbulWotan){\\n'use strict'\\nconst _ = require('lodash')\\nconst jasmineHelper = require('./jasmineHelper') module.exports = function (experiment) { function spyOnExp(methodName, fakeMethod) { if (!jasmineHelper.isSpy(experiment[methodName])) { spyOn(experiment, methodName).and.callFake(fakeMethod) // eslint-disable-line santa/no-spyon-experiment-isopen experiment[methodName].exps = {} } } function openExperiments() { spyOnExp('isOpen', exp => Boolean(experiment.isOpen.exps[exp])) experiment.isOpen.exps = _(arguments) .flatten() .reduce(function (exps, exp) { exps[exp] = true return exps }, experiment.isOpen.exps) } function closeExperiments() { if (experiment.isOpen.exps) { experiment.isOpen.exps = _.omit(experiment.isOpen.exps, _.flatten(arguments)) } } function setExperimentValue(name, value) { spyOnExp('getValue', exp => experiment.getValue.exps[exp]) experiment.getValue.exps[name] = value } return { openExperiments, closeExperiments, setExperimentValue }\\n}\\n\\n})\\n####","completion":" import vegaSchemaUrlParser from '@types/microsoft__typescript-etw'\\nimport vegaTooltip from 'vega-tooltip'\\nimport vegaGeo from 'vega-geo'\\nimport typesReact from 'azure-devops-node-api'\\nimport typesDiff from 'merge2'\\nimport tsCleanBuilt from 'vega-loader'\\nimport typesQ from '@types/q'\\nimport vegaLoader from 'vega-themes'\\nimport jestCanvasMock from 'jest-canvas-mock'\\nimport fimbulWotan from 'vows'\\n\\n'use strict'\\nconst _ = require('lodash')\\nconst jasmineHelper = require('./jasmineHelper') module.exports = function (experiment) { function spyOnExp(methodName, fakeMethod) { if (!jasmineHelper.isSpy(experiment[methodName])) { spyOn(experiment, methodName).and.callFake(fakeMethod) // eslint-disable-line santa/no-spyon-experiment-isopen experiment[methodName].exps = {} } } function openExperiments() { spyOnExp('isOpen', exp => Boolean(experiment.isOpen.exps[exp])) experiment.isOpen.exps = _(arguments) .flatten() .reduce(function (exps, exp) { exps[exp] = true return exps }, experiment.isOpen.exps) } function closeExperiments() { if (experiment.isOpen.exps) { experiment.isOpen.exps = _.omit(experiment.isOpen.exps, _.flatten(arguments)) } } function setExperimentValue(name, value) { spyOnExp('getValue', exp => experiment.getValue.exps[exp]) experiment.getValue.exps[name] = value } return { openExperiments, closeExperiments, setExperimentValue }\\n}\\n\\n####"}
{"prompt":"define(['webidl2js','@tsconfig/node16','typescript-tslint-plugin','vega-runtime','@types/microsoft__typescript-etw','vega-geo','vega-schema','@types/fs-extra','vega-regression','svg2png-many'], function(webidl2Js,tsconfigNode16,vegaFunctions,vegaProjection,vegaSchemaUrlParser,vegaGeo,vegaParser,vegaView,vegaWordcloud,tsconfigNode12){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.wix.com/demone2/graphic-design-portf (8)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/graphic-design-portf', emulateMobileDevice: false, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/8-graphic-design-portfolio/mesh/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import webidl2Js from 'webidl2js'\\nimport tsconfigNode16 from '@tsconfig/node16'\\nimport vegaFunctions from 'typescript-tslint-plugin'\\nimport vegaProjection from 'vega-runtime'\\nimport vegaSchemaUrlParser from '@types/microsoft__typescript-etw'\\nimport vegaGeo from 'vega-geo'\\nimport vegaParser from 'vega-schema'\\nimport vegaView from '@types/fs-extra'\\nimport vegaWordcloud from 'vega-regression'\\nimport tsconfigNode12 from 'svg2png-many'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.wix.com/demone2/graphic-design-portf (8)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/graphic-design-portf', emulateMobileDevice: false, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/8-graphic-design-portfolio/mesh/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['detect-indent','yarn-deduplicate','ts-node-dev','jest-canvas-mock','vega-wordcloud','js-yaml','npm-packlist','vega-transforms','rollup-plugin-sourcemaps'], function(detectIndent,cspotcodeSourceMapSupport,recast,jestCanvasMock,typesGulpConcat,makeError,vinylSourcemapsApply,vegaTransforms,memfs){\\nimport useragent from 'express-useragent'; module.exports = { handle:function(request, response) { var value = request.query.value; if ((value !== null) && (value !== '')) { if (value === '0' || value === 'false') { response.clearCookie('isBeta'); } else { //TODO: Our current express version doesn't support setting sameSite - so for now, we're setting the cookie manually. const ua = useragent.parse(request.headers['user-agent']); //Safari should not contain SameSite. In addition, \\\"Prevent cross-site tracking\\\" should be disabled in preferences. const sameSite = ua.browser === 'Safari' ? '' : ' SameSite=None;'; const expires = new Date(Date.now() + 1000 * 60 * 60 * 24 * 365 * 10); response.set('set-cookie', `isBeta=${value}; Expires=${expires.toGMTString()};${sameSite} Secure`); } } response.render('beta', {value: value}); }\\n};\\n\\n})\\n####","completion":" import detectIndent from 'detect-indent'\\nimport cspotcodeSourceMapSupport from 'yarn-deduplicate'\\nimport recast from 'ts-node-dev'\\nimport jestCanvasMock from 'jest-canvas-mock'\\nimport typesGulpConcat from 'vega-wordcloud'\\nimport makeError from 'js-yaml'\\nimport vinylSourcemapsApply from 'npm-packlist'\\nimport vegaTransforms from 'vega-transforms'\\nimport memfs from 'rollup-plugin-sourcemaps'\\n\\nimport useragent from 'express-useragent'; module.exports = { handle:function(request, response) { var value = request.query.value; if ((value !== null) && (value !== '')) { if (value === '0' || value === 'false') { response.clearCookie('isBeta'); } else { //TODO: Our current express version doesn't support setting sameSite - so for now, we're setting the cookie manually. const ua = useragent.parse(request.headers['user-agent']); //Safari should not contain SameSite. In addition, \\\"Prevent cross-site tracking\\\" should be disabled in preferences. const sameSite = ua.browser === 'Safari' ? '' : ' SameSite=None;'; const expires = new Date(Date.now() + 1000 * 60 * 60 * 24 * 365 * 10); response.set('set-cookie', `isBeta=${value}; Expires=${expires.toGMTString()};${sameSite} Secure`); } } response.render('beta', {value: value}); }\\n};\\n\\n####"}
{"prompt":"define(['@types/mkdirp','d3-scale','@types/react','@types/gulp-rename','hashish','vega-parser','vega-view','vega-regression','cpr','@types/gulp-newer','svg2png-many','yarn-deduplicate','@types/proper-lockfile','ts-clean-built','@types/npm-packlist'], function(typesMinimist,d3Scale,vegaTime,gulpSourcemaps,hashish,vegaExpression,isBigint,vegaWordcloud,gulpInsert,path,tsconfigNode12,cspotcodeSourceMapSupport,typesProperLockfile,microsoftApiExtractor,prettyQuick){\\nimport React, { useEffect } from 'react';\\nimport I18nify from '@wix/restaurants-components/src/shared/I18nify';\\nimport { connect } from 'react-redux';\\nimport { bindActionCreators } from 'redux';\\nimport { I18n } from '@wix/wixrest-utils';\\nimport { SectionHelper, Text } from 'wix-style-react';\\nimport { redux as BIActions } from '@wix/wixrest-bi'; const { i18n, I18N_UGSTR, I18N_EXTERNAL } = I18n.getComponentHeader( 'openrest_wixrestaurantoloview_',\\n); export const SECTION_HELPER_DATA_HOOK = 'dine-in-section-helper-modal';\\nconst DineInSectionHelper = (props) => { useEffect(() => { props.biActions.dashboardBannerView({ origin: 'contactlessDineIn', source: props.biSource, }); }, []); return ( <SectionHelper dataHook={SECTION_HELPER_DATA_HOOK} actionText={props.actionText} onAction={() => { props.biActions.dashboardBannerClick({ source: props.biSource, origin: 'contactlessDineIn', }); props.sessionAction(); }} title={props.title} fullWidth > {props.text} </SectionHelper> );\\n}; export default I18nify( connect(null, (dispatch) => ({ biActions: bindActionCreators(BIActions.actions, dispatch), }))(DineInSectionHelper),\\n);\\n\\n})\\n####","completion":" import typesMinimist from '@types/mkdirp'\\nimport d3Scale from 'd3-scale'\\nimport vegaTime from '@types/react'\\nimport gulpSourcemaps from '@types/gulp-rename'\\nimport hashish from 'hashish'\\nimport vegaExpression from 'vega-parser'\\nimport isBigint from 'vega-view'\\nimport vegaWordcloud from 'vega-regression'\\nimport gulpInsert from 'cpr'\\nimport path from '@types/gulp-newer'\\nimport tsconfigNode12 from 'svg2png-many'\\nimport cspotcodeSourceMapSupport from 'yarn-deduplicate'\\nimport typesProperLockfile from '@types/proper-lockfile'\\nimport microsoftApiExtractor from 'ts-clean-built'\\nimport prettyQuick from '@types/npm-packlist'\\n\\nimport React, { useEffect } from 'react';\\nimport I18nify from '@wix/restaurants-components/src/shared/I18nify';\\nimport { connect } from 'react-redux';\\nimport { bindActionCreators } from 'redux';\\nimport { I18n } from '@wix/wixrest-utils';\\nimport { SectionHelper, Text } from 'wix-style-react';\\nimport { redux as BIActions } from '@wix/wixrest-bi'; const { i18n, I18N_UGSTR, I18N_EXTERNAL } = I18n.getComponentHeader( 'openrest_wixrestaurantoloview_',\\n); export const SECTION_HELPER_DATA_HOOK = 'dine-in-section-helper-modal';\\nconst DineInSectionHelper = (props) => { useEffect(() => { props.biActions.dashboardBannerView({ origin: 'contactlessDineIn', source: props.biSource, }); }, []); return ( <SectionHelper dataHook={SECTION_HELPER_DATA_HOOK} actionText={props.actionText} onAction={() => { props.biActions.dashboardBannerClick({ source: props.biSource, origin: 'contactlessDineIn', }); props.sessionAction(); }} title={props.title} fullWidth > {props.text} </SectionHelper> );\\n}; export default I18nify( connect(null, (dispatch) => ({ biActions: bindActionCreators(BIActions.actions, dispatch), }))(DineInSectionHelper),\\n);\\n\\n####"}