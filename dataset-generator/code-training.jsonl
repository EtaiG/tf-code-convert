{"prompt":"define(['airbnb-js-shims'], function(airbnbJsShims){\\ndefine(['lodash', 'documentServices/siteMetadata/dataManipulation'], function (_, dataManipulation) { 'use strict' /** * Enum for Favicon possible errors * @enum {string} documentServices.favicon.ERRORS * @readonly */ const ERRORS = { /** @property {string}*/ FAVICON_IS_NOT_STRING: 'FAVICON_IS_NOT_STRING' } function setFavicon(ps, faviconUri) { const result = validateFaviconUri(faviconUri) if (!result.success) { throw new Error(result.errorCode) } dataManipulation.setProperty(ps, dataManipulation.PROPERTY_NAMES.FAVICON, faviconUri || '') } function getFavicon(ps) { return dataManipulation.getProperty(ps, dataManipulation.PROPERTY_NAMES.FAVICON) } function validateFaviconUri(faviconUri) { if (!_.isString(faviconUri)) { return {success: false, errorCode: ERRORS.FAVICON_IS_NOT_STRING} } return {success: true} } /** @class documentServices.favicon */ return { /** * Retrieves the site's current Favicon * * @returns {string} the site's current Favicon */ get: getFavicon, /** * Sets the site's Favicon * * @param {string} faviconUri the URI of the requested Favicon */ set: setFavicon, ERRORS }\\n})\\n\\n})\\n####","completion":" import airbnbJsShims from 'airbnb-js-shims'\\n\\ndefine(['lodash', 'documentServices/siteMetadata/dataManipulation'], function (_, dataManipulation) { 'use strict' /** * Enum for Favicon possible errors * @enum {string} documentServices.favicon.ERRORS * @readonly */ const ERRORS = { /** @property {string}*/ FAVICON_IS_NOT_STRING: 'FAVICON_IS_NOT_STRING' } function setFavicon(ps, faviconUri) { const result = validateFaviconUri(faviconUri) if (!result.success) { throw new Error(result.errorCode) } dataManipulation.setProperty(ps, dataManipulation.PROPERTY_NAMES.FAVICON, faviconUri || '') } function getFavicon(ps) { return dataManipulation.getProperty(ps, dataManipulation.PROPERTY_NAMES.FAVICON) } function validateFaviconUri(faviconUri) { if (!_.isString(faviconUri)) { return {success: false, errorCode: ERRORS.FAVICON_IS_NOT_STRING} } return {success: true} } /** @class documentServices.favicon */ return { /** * Retrieves the site's current Favicon * * @returns {string} the site's current Favicon */ get: getFavicon, /** * Sets the site's Favicon * * @param {string} faviconUri the URI of the requested Favicon */ set: setFavicon, ERRORS }\\n})\\n\\n####"}
{"prompt":"define(['@parcel/optimizer-image','import-fresh'], function(parcelOptimizerImage,importFresh){\\nimport PropTypes from 'prop-types';\\nimport React from 'react';\\nimport Reservation from '@wix/wixrest-utils/dist/openrest-helpers/Reservation';\\nimport CancellationReason from '../CancellationReason'; function ReservationCancellationReason({ i18n, reservation, fontFamily, paddingVertical, paddingHorizontal, marginTop }) { const { cancellationReason } = Reservation.getDisplayableReservation(reservation); return cancellationReason ? <CancellationReason reason={cancellationReason} i18n={i18n} fontFamily={fontFamily} paddingVertical={paddingVertical} paddingHorizontal={paddingHorizontal} marginTop={marginTop} /> : null;\\n} ReservationCancellationReason.displayName = 'ReservationCancellationReason'; ReservationCancellationReason.propTypes = { i18n: PropTypes.object, reservation: PropTypes.object, fontFamily: PropTypes.string, paddingVertical: PropTypes.number, paddingHorizontal: PropTypes.number, marginTop: PropTypes.number,\\n}; export default ReservationCancellationReason;\\n\\n})\\n####","completion":" import parcelOptimizerImage from '@parcel/optimizer-image'\\nimport importFresh from 'import-fresh'\\n\\nimport PropTypes from 'prop-types';\\nimport React from 'react';\\nimport Reservation from '@wix/wixrest-utils/dist/openrest-helpers/Reservation';\\nimport CancellationReason from '../CancellationReason'; function ReservationCancellationReason({ i18n, reservation, fontFamily, paddingVertical, paddingHorizontal, marginTop }) { const { cancellationReason } = Reservation.getDisplayableReservation(reservation); return cancellationReason ? <CancellationReason reason={cancellationReason} i18n={i18n} fontFamily={fontFamily} paddingVertical={paddingVertical} paddingHorizontal={paddingHorizontal} marginTop={marginTop} /> : null;\\n} ReservationCancellationReason.displayName = 'ReservationCancellationReason'; ReservationCancellationReason.propTypes = { i18n: PropTypes.object, reservation: PropTypes.object, fontFamily: PropTypes.string, paddingVertical: PropTypes.number, paddingHorizontal: PropTypes.number, marginTop: PropTypes.number,\\n}; export default ReservationCancellationReason;\\n\\n####"}
{"prompt":"define(['grunt-contrib-watch'], function(gruntContribWatch){\\n'use strict' import _ from 'lodash' import querystring from 'querystring' export class FoursquareProxy { constructor({XMLHttpRequest, timeout = 0, baseUrl = 'https://api.foursquare.com/v2/', oauthToken}) { this._XMLHttpRequest = XMLHttpRequest this._baseUrl = baseUrl this._timeout = timeout this._oauthToken = oauthToken } getBaseUrl() { return this._baseUrl } api({path, params}) { const paramsWithOauthToken = _.extend(params, {oauth_token : this._oauthToken}) return new Promise((resolve, reject) => { const xhr = new this._XMLHttpRequest() xhr.ontimeout = () => { reject({ code: 'timeout', description: 'request timed out' }) } xhr.onerror = () => { reject({ code: 'network_down', description: 'network is down' }) } xhr.onload = () => { try { const value = JSON.parse(xhr.responseText) if (value.meta && value.meta.errorType) { reject({ code: value.meta.errorType, description: value.meta.errorDetail }) } else { resolve(JSON.parse(xhr.responseText)) } } catch (e) { reject({ code: 'protocol', description: 'unexpected response format' }) } } const foursquareResource = `${this._baseUrl}${path}?${querystring.stringify(paramsWithOauthToken)}` xhr.open('GET', foursquareResource, true) xhr.timeout = this._timeout xhr.send() }) } } \\n})\\n####","completion":" import gruntContribWatch from 'grunt-contrib-watch'\\n\\n'use strict' import _ from 'lodash' import querystring from 'querystring' export class FoursquareProxy { constructor({XMLHttpRequest, timeout = 0, baseUrl = 'https://api.foursquare.com/v2/', oauthToken}) { this._XMLHttpRequest = XMLHttpRequest this._baseUrl = baseUrl this._timeout = timeout this._oauthToken = oauthToken } getBaseUrl() { return this._baseUrl } api({path, params}) { const paramsWithOauthToken = _.extend(params, {oauth_token : this._oauthToken}) return new Promise((resolve, reject) => { const xhr = new this._XMLHttpRequest() xhr.ontimeout = () => { reject({ code: 'timeout', description: 'request timed out' }) } xhr.onerror = () => { reject({ code: 'network_down', description: 'network is down' }) } xhr.onload = () => { try { const value = JSON.parse(xhr.responseText) if (value.meta && value.meta.errorType) { reject({ code: value.meta.errorType, description: value.meta.errorDetail }) } else { resolve(JSON.parse(xhr.responseText)) } } catch (e) { reject({ code: 'protocol', description: 'unexpected response format' }) } } const foursquareResource = `${this._baseUrl}${path}?${querystring.stringify(paramsWithOauthToken)}` xhr.open('GET', foursquareResource, true) xhr.timeout = this._timeout xhr.send() }) } } \\n####"}
{"prompt":"define(['pirates','pkgfiles','foo','grunt-contrib-connect','@babel/plugin-transform-block-scoping','postcss-minify-selectors','object.fromentries','astring','@types/argparse','picocolors','espree','is-path-inside','dotenv-expand'], function(pirates,pkgfiles,foo,gruntContribConnect,babelPluginTransformBlockScoping,postcssMinifySelectors,objectFromentries,astring,typesArgparse,picocolors,espree,isPathInside,dotenvExpand){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.wix.com/demone2/wedding-photography (18)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/wedding-photography', emulateMobileDevice: true, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/18-wedding-photography/anchors/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import pirates from 'pirates'\\nimport pkgfiles from 'pkgfiles'\\nimport foo from 'foo'\\nimport gruntContribConnect from 'grunt-contrib-connect'\\nimport babelPluginTransformBlockScoping from '@babel/plugin-transform-block-scoping'\\nimport postcssMinifySelectors from 'postcss-minify-selectors'\\nimport objectFromentries from 'object.fromentries'\\nimport astring from 'astring'\\nimport typesArgparse from '@types/argparse'\\nimport picocolors from 'picocolors'\\nimport espree from 'espree'\\nimport isPathInside from 'is-path-inside'\\nimport dotenvExpand from 'dotenv-expand'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.wix.com/demone2/wedding-photography (18)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/wedding-photography', emulateMobileDevice: true, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/18-wedding-photography/anchors/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['lodash.uniq','asynckit','@my-scope/package-b','callsites','has-tostringtag','time-span','isomorphic-fetch','@babel/types','to-fast-properties','@types/progress','@babel/plugin-transform-block-scoped-functions','cssnano','gulp-filter','fbjs-scripts','@babel/plugin-proposal-private-methods','gzip-size-cli','browserify','json3'], function(lodashUniq,asynckit,myScopePackageB,callsites,hasTostringtag,timeSpan,isomorphicFetch,babelTypes,toFastProperties,typesProgress,babelPluginTransformBlockScopedFunctions,cssnano,gulpFilter,fbjsScripts,babelPluginProposalPrivateMethods,gzipSizeCli,browserify,json3){\\n'use strict' const rgbaRegexp = /^rgba?\\((\\d+),\\s*(\\d+),\\s*(\\d+)(?:,\\s*(\\d+(?:\\.\\d+)?))?\\)$/\\nconst hexRegexp = /^#([0-9a-f]{1,2})([0-9a-f]{1,2})([0-9a-f]{1,2})$/i const channelByIndex = ['r', 'g', 'b'] function extractRgbFromHex(color) { const isShortHex = !(color.length % 2) const parts = color.match(hexRegexp) return (parts || []).splice(1, 3).reduce((acc, hex, index) => { const channel = channelByIndex[index] acc[channel] = parseInt(isShortHex ? hex + hex : hex, 16) return acc }, {})\\n} function extractRgbFromRgbaString(color) { const parts = color.match(rgbaRegexp) return (parts || []).splice(1, 3).reduce((acc, dec, index) => { const channel = channelByIndex[index] acc[channel] = dec return acc }, {})\\n} module.exports = (color, opacity) => { if (!color) { return color } let rgb if (color[0] === '#') { rgb = extractRgbFromHex(color) } else { rgb = extractRgbFromRgbaString(color) } if ( typeof rgb.r === 'undefined' || typeof rgb.g === 'undefined' || typeof rgb.b === 'undefined' ) { return color } return `rgba(${rgb.r}, ${rgb.g}, ${rgb.b}, ${opacity})`\\n}\\n\\n})\\n####","completion":" import lodashUniq from 'lodash.uniq'\\nimport asynckit from 'asynckit'\\nimport myScopePackageB from '@my-scope/package-b'\\nimport callsites from 'callsites'\\nimport hasTostringtag from 'has-tostringtag'\\nimport timeSpan from 'time-span'\\nimport isomorphicFetch from 'isomorphic-fetch'\\nimport babelTypes from '@babel/types'\\nimport toFastProperties from 'to-fast-properties'\\nimport typesProgress from '@types/progress'\\nimport babelPluginTransformBlockScopedFunctions from '@babel/plugin-transform-block-scoped-functions'\\nimport cssnano from 'cssnano'\\nimport gulpFilter from 'gulp-filter'\\nimport fbjsScripts from 'fbjs-scripts'\\nimport babelPluginProposalPrivateMethods from '@babel/plugin-proposal-private-methods'\\nimport gzipSizeCli from 'gzip-size-cli'\\nimport browserify from 'browserify'\\nimport json3 from 'json3'\\n\\n'use strict' const rgbaRegexp = /^rgba?\\((\\d+),\\s*(\\d+),\\s*(\\d+)(?:,\\s*(\\d+(?:\\.\\d+)?))?\\)$/\\nconst hexRegexp = /^#([0-9a-f]{1,2})([0-9a-f]{1,2})([0-9a-f]{1,2})$/i const channelByIndex = ['r', 'g', 'b'] function extractRgbFromHex(color) { const isShortHex = !(color.length % 2) const parts = color.match(hexRegexp) return (parts || []).splice(1, 3).reduce((acc, hex, index) => { const channel = channelByIndex[index] acc[channel] = parseInt(isShortHex ? hex + hex : hex, 16) return acc }, {})\\n} function extractRgbFromRgbaString(color) { const parts = color.match(rgbaRegexp) return (parts || []).splice(1, 3).reduce((acc, dec, index) => { const channel = channelByIndex[index] acc[channel] = dec return acc }, {})\\n} module.exports = (color, opacity) => { if (!color) { return color } let rgb if (color[0] === '#') { rgb = extractRgbFromHex(color) } else { rgb = extractRgbFromRgbaString(color) } if ( typeof rgb.r === 'undefined' || typeof rgb.g === 'undefined' || typeof rgb.b === 'undefined' ) { return color } return `rgba(${rgb.r}, ${rgb.g}, ${rgb.b}, ${opacity})`\\n}\\n\\n####"}
{"prompt":"define(['is-builtin-module','react-addons-css-transition-group','@babel/plugin-transform-modules-systemjs','@mapbox/node-pre-gyp','buffer','function.prototype.name','dotenv-expand','sourcemap-codec','expect','eslint-plugin-flowtype','resumer','grunt-contrib-clean','nanoid'], function(isBuiltinModule,reactAddonsCssTransitionGroup,babelPluginTransformModulesSystemjs,mapboxNodePreGyp,buffer,functionPrototypeName,dotenvExpand,sourcemapCodec,expect,eslintPluginFlowtype,resumer,gruntContribClean,nanoid){\\n'use strict' const {createHelperAndMigratePage} = require('../helpers/CompsMigrationHelper') function getEmptyBackground(uniqueIdGenerator) { return { type: 'MediaContainerDesignData', id: uniqueIdGenerator.getUniqueId('dataItem', '-'), background: { id: uniqueIdGenerator.getUniqueId('dataItem', '-'), type: 'BackgroundMedia', mediaRef: null, alignType: 'center', fittingType: 'fill', colorOpacity: 0, colorOverlay: '', colorOverlayOpacity: 1, imageOverlay: '', scrollType: 'none', color: '#FFFFFF' } }\\n} function handleNoDesignDataInColumns(pageJson, cache, mobileView, comp, uniqueIdGenerator) { if (!comp.designQuery && !mobileView) { comp.layout.width = 980 const designDataWithEmptyBackground = getEmptyBackground(uniqueIdGenerator) this.setComponentDesignData(pageJson, comp, designDataWithEmptyBackground, cache) }\\n} const MIGRATION_MAP = { 'wysiwyg.viewer.components.StripColumnsContainer': handleNoDesignDataInColumns, 'wysiwyg.viewer.components.Column': handleNoDesignDataInColumns\\n} module.exports = { name: 'stripColumnsContainerNoDesignFixer', version: 1, exec: createHelperAndMigratePage(MIGRATION_MAP)\\n}\\n\\n})\\n####","completion":" import isBuiltinModule from 'is-builtin-module'\\nimport reactAddonsCssTransitionGroup from 'react-addons-css-transition-group'\\nimport babelPluginTransformModulesSystemjs from '@babel/plugin-transform-modules-systemjs'\\nimport mapboxNodePreGyp from '@mapbox/node-pre-gyp'\\nimport buffer from 'buffer'\\nimport functionPrototypeName from 'function.prototype.name'\\nimport dotenvExpand from 'dotenv-expand'\\nimport sourcemapCodec from 'sourcemap-codec'\\nimport expect from 'expect'\\nimport eslintPluginFlowtype from 'eslint-plugin-flowtype'\\nimport resumer from 'resumer'\\nimport gruntContribClean from 'grunt-contrib-clean'\\nimport nanoid from 'nanoid'\\n\\n'use strict' const {createHelperAndMigratePage} = require('../helpers/CompsMigrationHelper') function getEmptyBackground(uniqueIdGenerator) { return { type: 'MediaContainerDesignData', id: uniqueIdGenerator.getUniqueId('dataItem', '-'), background: { id: uniqueIdGenerator.getUniqueId('dataItem', '-'), type: 'BackgroundMedia', mediaRef: null, alignType: 'center', fittingType: 'fill', colorOpacity: 0, colorOverlay: '', colorOverlayOpacity: 1, imageOverlay: '', scrollType: 'none', color: '#FFFFFF' } }\\n} function handleNoDesignDataInColumns(pageJson, cache, mobileView, comp, uniqueIdGenerator) { if (!comp.designQuery && !mobileView) { comp.layout.width = 980 const designDataWithEmptyBackground = getEmptyBackground(uniqueIdGenerator) this.setComponentDesignData(pageJson, comp, designDataWithEmptyBackground, cache) }\\n} const MIGRATION_MAP = { 'wysiwyg.viewer.components.StripColumnsContainer': handleNoDesignDataInColumns, 'wysiwyg.viewer.components.Column': handleNoDesignDataInColumns\\n} module.exports = { name: 'stripColumnsContainerNoDesignFixer', version: 1, exec: createHelperAndMigratePage(MIGRATION_MAP)\\n}\\n\\n####"}
{"prompt":"define(['async-listen','is-glob','get-symbol-description','unicode-12.0.0','@babel/plugin-transform-classes','source-map','clinton','dtslint','@types/jest'], function(asyncListen,isGlob,getSymbolDescription,unicode1200,babelPluginTransformClasses,sourceMap,clinton,dtslint,typesJest){\\nimport React from 'react';\\nimport { string } from 'prop-types'; export function DeliveryIcon({ className }) { return ( <svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"14\\\" height=\\\"14\\\" viewBox=\\\"0 0 14 14\\\" className={className}> <g fill=\\\"none\\\"> <path stroke=\\\"#32536A\\\" d=\\\"M2.156 5.063L.762 12.13c-.153.776.336 1.37 1.13 1.37h10.216c.8 0 1.284-.59 1.13-1.37l-1.394-7.067c-.168-.85-1.033-1.563-1.9-1.563H4.056c-.868 0-1.732.711-1.9 1.563z\\\" /> <path stroke=\\\"#32536A\\\" d=\\\"M4.535 3.5h4.93a5.595 5.595 0 0 0-.308-1.324C8.755 1.103 8.077.5 7 .5c-1.076 0-1.755.603-2.157 1.676A5.595 5.595 0 0 0 4.535 3.5z\\\" /> <path fill=\\\"#32536A\\\" d=\\\"M4 4h1v1H4zM9 4h1v1H9z\\\" /> </g> </svg> );\\n} DeliveryIcon.displayName = 'DeliveryIcon';\\nDeliveryIcon.propTypes = { className: string,\\n}; export function LocationIcon({ className }) { return ( <svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"12\\\" height=\\\"15\\\" viewBox=\\\"0 0 12 15\\\" className={className}> <path fill=\\\"#32536A\\\" d=\\\"M6 13.5c3.333-2.744 5-4.87 5-7.379C11 3.234 8.757 1 6.455 1 3.243 1 1 3.234 1 6.121c0 3.767 3.614 6.596 5 7.379zM0 6c0-3.431 2.692-6 6-6 3.309 0 6 2.569 6 6 0 4.51-5.563 8.677-6 9-.436-.323-6-4.49-6-9zm6 2a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6z\\\" /> </svg> );\\n} LocationIcon.displayName = 'LocationIcon';\\nLocationIcon.propTypes = { className: string,\\n};\\n\\n})\\n####","completion":" import asyncListen from 'async-listen'\\nimport isGlob from 'is-glob'\\nimport getSymbolDescription from 'get-symbol-description'\\nimport unicode1200 from 'unicode-12.0.0'\\nimport babelPluginTransformClasses from '@babel/plugin-transform-classes'\\nimport sourceMap from 'source-map'\\nimport clinton from 'clinton'\\nimport dtslint from 'dtslint'\\nimport typesJest from '@types/jest'\\n\\nimport React from 'react';\\nimport { string } from 'prop-types'; export function DeliveryIcon({ className }) { return ( <svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"14\\\" height=\\\"14\\\" viewBox=\\\"0 0 14 14\\\" className={className}> <g fill=\\\"none\\\"> <path stroke=\\\"#32536A\\\" d=\\\"M2.156 5.063L.762 12.13c-.153.776.336 1.37 1.13 1.37h10.216c.8 0 1.284-.59 1.13-1.37l-1.394-7.067c-.168-.85-1.033-1.563-1.9-1.563H4.056c-.868 0-1.732.711-1.9 1.563z\\\" /> <path stroke=\\\"#32536A\\\" d=\\\"M4.535 3.5h4.93a5.595 5.595 0 0 0-.308-1.324C8.755 1.103 8.077.5 7 .5c-1.076 0-1.755.603-2.157 1.676A5.595 5.595 0 0 0 4.535 3.5z\\\" /> <path fill=\\\"#32536A\\\" d=\\\"M4 4h1v1H4zM9 4h1v1H9z\\\" /> </g> </svg> );\\n} DeliveryIcon.displayName = 'DeliveryIcon';\\nDeliveryIcon.propTypes = { className: string,\\n}; export function LocationIcon({ className }) { return ( <svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"12\\\" height=\\\"15\\\" viewBox=\\\"0 0 12 15\\\" className={className}> <path fill=\\\"#32536A\\\" d=\\\"M6 13.5c3.333-2.744 5-4.87 5-7.379C11 3.234 8.757 1 6.455 1 3.243 1 1 3.234 1 6.121c0 3.767 3.614 6.596 5 7.379zM0 6c0-3.431 2.692-6 6-6 3.309 0 6 2.569 6 6 0 4.51-5.563 8.677-6 9-.436-.323-6-4.49-6-9zm6 2a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6z\\\" /> </svg> );\\n} LocationIcon.displayName = 'LocationIcon';\\nLocationIcon.propTypes = { className: string,\\n};\\n\\n####"}
{"prompt":"define(['signal-exit'], function(signalExit){\\n'use strict'\\nconst {mapSantaTypesToProps, mapSantaTypesToActions} = require('../../../src/components/maps/toggleSwitch') describe('maps for toggleSwitch', () => { it('mapSantaTypesToProps', () => { const labelText = 'label text' const props = { compData: { checked: true, label: labelText }, compProp: { isDisabled: true } } const newProps = mapSantaTypesToProps(props) expect(newProps.disabled).toEqual(true) expect(newProps.value).toEqual(true) expect(newProps.label).toEqual(labelText) }) it('mapSantaTypesToActions', () => { const mockSetCompDataFunction = jest.fn() const props = { setCompData: mockSetCompDataFunction } const newProps = mapSantaTypesToActions(props) newProps.onChange(true) expect(mockSetCompDataFunction).toBeCalledWith({checked: true}) })\\n})\\n})\\n####","completion":" import signalExit from 'signal-exit'\\n\\n'use strict'\\nconst {mapSantaTypesToProps, mapSantaTypesToActions} = require('../../../src/components/maps/toggleSwitch') describe('maps for toggleSwitch', () => { it('mapSantaTypesToProps', () => { const labelText = 'label text' const props = { compData: { checked: true, label: labelText }, compProp: { isDisabled: true } } const newProps = mapSantaTypesToProps(props) expect(newProps.disabled).toEqual(true) expect(newProps.value).toEqual(true) expect(newProps.label).toEqual(labelText) }) it('mapSantaTypesToActions', () => { const mockSetCompDataFunction = jest.fn() const props = { setCompData: mockSetCompDataFunction } const newProps = mapSantaTypesToActions(props) newProps.onChange(true) expect(mockSetCompDataFunction).toBeCalledWith({checked: true}) })\\n})\\n####"}
{"prompt":"define(['is-json','release-it','karma-detect-browsers','@babel/core-7.12','@babel/parser','@parcel/config-default','pngjs','write','phantomjs-prebuilt','is-fullwidth-code-point','@babel/plugin-transform-property-literals','detect-browser','grunt-release','node-environment-flags','progress','jscs','better-assert','lines-and-columns'], function(isJson,releaseIt,karmaDetectBrowsers,babelCore712,babelParser,parcelConfigDefault,pngjs,write,phantomjsPrebuilt,isFullwidthCodePoint,babelPluginTransformPropertyLiterals,detectBrowser,gruntRelease,nodeEnvironmentFlags,progress,jscs,betterAssert,linesAndColumns){\\ndefine(['lodash', 'documentServices/page/page', 'documentServices/tpa/services/clientSpecMapService'], function (_, page, clientSpecMapService) { 'use strict' function getSubPages(ps, pageId) { const data = page.data.get(ps, pageId) if (data && data.tpaApplicationId > 0 && data.tpaPageId) { const appData = clientSpecMapService.getAppData(ps, data.tpaApplicationId) const widgetData = clientSpecMapService.getWidgetDataFromTPAPageId(ps, appData.appDefinitionId, data.tpaPageId) /* * In app CSM data, each widget can have router types (sub pages) linked to it. * These sub pages are a list of string identifiers that can be used to fetch sub page inner routes. * Each tpa page can have multiple usages and the app populates the content on runtime * The different usages are mapped to sub pages. */ return _.get(widgetData, ['componentFields', 'subPages'], []) } return [] } return { getSubPages }\\n})\\n\\n})\\n####","completion":" import isJson from 'is-json'\\nimport releaseIt from 'release-it'\\nimport karmaDetectBrowsers from 'karma-detect-browsers'\\nimport babelCore712 from '@babel/core-7.12'\\nimport babelParser from '@babel/parser'\\nimport parcelConfigDefault from '@parcel/config-default'\\nimport pngjs from 'pngjs'\\nimport write from 'write'\\nimport phantomjsPrebuilt from 'phantomjs-prebuilt'\\nimport isFullwidthCodePoint from 'is-fullwidth-code-point'\\nimport babelPluginTransformPropertyLiterals from '@babel/plugin-transform-property-literals'\\nimport detectBrowser from 'detect-browser'\\nimport gruntRelease from 'grunt-release'\\nimport nodeEnvironmentFlags from 'node-environment-flags'\\nimport progress from 'progress'\\nimport jscs from 'jscs'\\nimport betterAssert from 'better-assert'\\nimport linesAndColumns from 'lines-and-columns'\\n\\ndefine(['lodash', 'documentServices/page/page', 'documentServices/tpa/services/clientSpecMapService'], function (_, page, clientSpecMapService) { 'use strict' function getSubPages(ps, pageId) { const data = page.data.get(ps, pageId) if (data && data.tpaApplicationId > 0 && data.tpaPageId) { const appData = clientSpecMapService.getAppData(ps, data.tpaApplicationId) const widgetData = clientSpecMapService.getWidgetDataFromTPAPageId(ps, appData.appDefinitionId, data.tpaPageId) /* * In app CSM data, each widget can have router types (sub pages) linked to it. * These sub pages are a list of string identifiers that can be used to fetch sub page inner routes. * Each tpa page can have multiple usages and the app populates the content on runtime * The different usages are mapped to sub pages. */ return _.get(widgetData, ['componentFields', 'subPages'], []) } return [] } return { getSubPages }\\n})\\n\\n####"}
{"prompt":"define(['eslint-config-airbnb-base','resumer','@babel/plugin-proposal-optional-catch-binding','saucelabs','npm-normalize-package-bin','tinycolor2','@my-scope/package-a'], function(eslintConfigAirbnbBase,resumer,babelPluginProposalOptionalCatchBinding,saucelabs,npmNormalizePackageBin,tinycolor2,myScopePackageA){\\nimport React from 'react';\\nimport _ from 'lodash';\\nimport Overview from '../reservationsSettings/overview';\\nimport General from '../reservationsSettings/general';\\nimport Handling from '../reservationsSettings/handling';\\nimport Notifications from '../reservationsSettings/notifications';\\nimport InstantConfirmation from '../reservationsSettings/instantConfirmation';\\nimport AdvancedSettings from '../reservationsSettings/advancedSettings/AdvancedSettings'; export default class ReservationsSettingsRoutingManager { getViewsForRoute({ route }) { const subRoute = route.slice(1); if (!route[1]) { return { screen: <Overview /> }; } if (_.isEqual(subRoute, ['general'])) { return { screen: <General /> }; } if (_.isEqual(subRoute, ['handling'])) { return { screen: <Handling /> }; } if (_.isEqual(subRoute, ['notifications'])) { return { screen: <Notifications /> }; } if (_.isEqual(subRoute, ['instantConfirmation'])) { return { screen: <InstantConfirmation /> }; } if (_.isEqual(subRoute, ['advancedSettings'])) { return { screen: <AdvancedSettings /> }; } }\\n}\\n\\n})\\n####","completion":" import eslintConfigAirbnbBase from 'eslint-config-airbnb-base'\\nimport resumer from 'resumer'\\nimport babelPluginProposalOptionalCatchBinding from '@babel/plugin-proposal-optional-catch-binding'\\nimport saucelabs from 'saucelabs'\\nimport npmNormalizePackageBin from 'npm-normalize-package-bin'\\nimport tinycolor2 from 'tinycolor2'\\nimport myScopePackageA from '@my-scope/package-a'\\n\\nimport React from 'react';\\nimport _ from 'lodash';\\nimport Overview from '../reservationsSettings/overview';\\nimport General from '../reservationsSettings/general';\\nimport Handling from '../reservationsSettings/handling';\\nimport Notifications from '../reservationsSettings/notifications';\\nimport InstantConfirmation from '../reservationsSettings/instantConfirmation';\\nimport AdvancedSettings from '../reservationsSettings/advancedSettings/AdvancedSettings'; export default class ReservationsSettingsRoutingManager { getViewsForRoute({ route }) { const subRoute = route.slice(1); if (!route[1]) { return { screen: <Overview /> }; } if (_.isEqual(subRoute, ['general'])) { return { screen: <General /> }; } if (_.isEqual(subRoute, ['handling'])) { return { screen: <Handling /> }; } if (_.isEqual(subRoute, ['notifications'])) { return { screen: <Notifications /> }; } if (_.isEqual(subRoute, ['instantConfirmation'])) { return { screen: <InstantConfirmation /> }; } if (_.isEqual(subRoute, ['advancedSettings'])) { return { screen: <AdvancedSettings /> }; } }\\n}\\n\\n####"}
{"prompt":"define(['gitbook-plugin-github','adm-zip','unexpected','karma-typescript-es6-transform','split2','@types/jasmine','eslint','normalize-url','broccoli-uglify-js','@types/svgo','lintspaces-cli','bundle-collapser','@parcel/runtime-service-worker','@babel/plugin-syntax-import-assertions','levn','make-async-generator-function','is-string','domain-browser','async'], function(gitbookPluginGithub,admZip,unexpected,karmaTypescriptEs6Transform,split2,typesJasmine,eslint,normalizeUrl,broccoliUglifyJs,typesSvgo,lintspacesCli,bundleCollapser,parcelRuntimeServiceWorker,babelPluginSyntaxImportAssertions,levn,makeAsyncGeneratorFunction,isString,domainBrowser,async){\\n'use strict'\\nconst name = 'BaseFade'\\nconst properties = {} function register({engine, factory}/*, frame*/) { /** * Fade base animation object (defaults to always use 'autoAlpha' which treats visibility:hidden as opacity:0) * @param {Array<HTMLElement>|HTMLElement} elements DOM elements * @param {Number} [duration=1.0] * @param {Number} [delay=0] * @param {Object} params * @param {Object} to * @param {Object} from * @param {Number} [from.opacity] * @param {Number} [from.autoAlpha] * @param {Number} [to.opacity] * @param {Number} [to.autoAlpha] * @param {boolean} [lazy=false] GSAP 1.12.0 introduced 'lazy' rendering. we need the default to be false for opacity. * @returns {TweenMax} */ function animation(elements, duration = 0, delay = 0, {lazy = false, to = {}, from = {}, ...params} = {}) { if (to.opacity > 0) { to.autoAlpha = to.opacity delete to.opacity } if (from.opacity > 0) { from.autoAlpha = from.opacity delete from.opacity } return engine.tween(elements, {duration, delay, lazy, to, from, ...params}, ['opacity', 'autoAlpha']) } factory.registerAnimation(name, animation, properties)\\n} module.exports = { name, properties, register\\n} \\n})\\n####","completion":" import gitbookPluginGithub from 'gitbook-plugin-github'\\nimport admZip from 'adm-zip'\\nimport unexpected from 'unexpected'\\nimport karmaTypescriptEs6Transform from 'karma-typescript-es6-transform'\\nimport split2 from 'split2'\\nimport typesJasmine from '@types/jasmine'\\nimport eslint from 'eslint'\\nimport normalizeUrl from 'normalize-url'\\nimport broccoliUglifyJs from 'broccoli-uglify-js'\\nimport typesSvgo from '@types/svgo'\\nimport lintspacesCli from 'lintspaces-cli'\\nimport bundleCollapser from 'bundle-collapser'\\nimport parcelRuntimeServiceWorker from '@parcel/runtime-service-worker'\\nimport babelPluginSyntaxImportAssertions from '@babel/plugin-syntax-import-assertions'\\nimport levn from 'levn'\\nimport makeAsyncGeneratorFunction from 'make-async-generator-function'\\nimport isString from 'is-string'\\nimport domainBrowser from 'domain-browser'\\nimport async from 'async'\\n\\n'use strict'\\nconst name = 'BaseFade'\\nconst properties = {} function register({engine, factory}/*, frame*/) { /** * Fade base animation object (defaults to always use 'autoAlpha' which treats visibility:hidden as opacity:0) * @param {Array<HTMLElement>|HTMLElement} elements DOM elements * @param {Number} [duration=1.0] * @param {Number} [delay=0] * @param {Object} params * @param {Object} to * @param {Object} from * @param {Number} [from.opacity] * @param {Number} [from.autoAlpha] * @param {Number} [to.opacity] * @param {Number} [to.autoAlpha] * @param {boolean} [lazy=false] GSAP 1.12.0 introduced 'lazy' rendering. we need the default to be false for opacity. * @returns {TweenMax} */ function animation(elements, duration = 0, delay = 0, {lazy = false, to = {}, from = {}, ...params} = {}) { if (to.opacity > 0) { to.autoAlpha = to.opacity delete to.opacity } if (from.opacity > 0) { from.autoAlpha = from.opacity delete from.opacity } return engine.tween(elements, {duration, delay, lazy, to, from, ...params}, ['opacity', 'autoAlpha']) } factory.registerAnimation(name, animation, properties)\\n} module.exports = { name, properties, register\\n} \\n####"}
{"prompt":"define(['@commitlint/config-angular','@types/yargs','is-shared-array-buffer','jest-cli','gulp','@types/chalk','@parcel/transformer-posthtml','live-server'], function(commitlintConfigAngular,typesYargs,isSharedArrayBuffer,jestCli,gulp,typesChalk,parcelTransformerPosthtml,liveServer){\\nconst eventually = require('./eventually') const eventuallyExpectFile = async (ds, fileDescriptor, fileContent) => { await eventually(async () => { await expect(ds.wixCode.fileSystem.readFile(fileDescriptor)).resolves.toEqual(fileContent) })\\n} const ensureCSave = async ds => { await ds.wixCode.fileSystem.flush() // do not wait for auto-flush and update files on the server await new Promise((resolve, reject) => ds.autosave(resolve, reject)) // ensure csave is emitted after updating the server to update concurrent sessions\\n} const ensureFilesOnBothClients = async (ds1, ds2, fileContentByPath) => { const filePaths = Object.keys(fileContentByPath) const fileDescriptorByPath = Object.fromEntries( await Promise.all(filePaths.map(filePath => ds1.wixCode.fileSystem.getVirtualDescriptor(filePath).then(fileDescriptor => [filePath, fileDescriptor]))) ) await Promise.all(filePaths.map(filePath => ds1.wixCode.fileSystem.writeFile(fileDescriptorByPath[filePath], fileContentByPath[filePath]))) await ensureCSave(ds1) await Promise.all(filePaths.map(filePath => eventuallyExpectFile(ds2, fileDescriptorByPath[filePath], fileContentByPath[filePath])))\\n} module.exports = { ensureFilesOnBothClients, ensureCSave\\n}\\n\\n})\\n####","completion":" import commitlintConfigAngular from '@commitlint/config-angular'\\nimport typesYargs from '@types/yargs'\\nimport isSharedArrayBuffer from 'is-shared-array-buffer'\\nimport jestCli from 'jest-cli'\\nimport gulp from 'gulp'\\nimport typesChalk from '@types/chalk'\\nimport parcelTransformerPosthtml from '@parcel/transformer-posthtml'\\nimport liveServer from 'live-server'\\n\\nconst eventually = require('./eventually') const eventuallyExpectFile = async (ds, fileDescriptor, fileContent) => { await eventually(async () => { await expect(ds.wixCode.fileSystem.readFile(fileDescriptor)).resolves.toEqual(fileContent) })\\n} const ensureCSave = async ds => { await ds.wixCode.fileSystem.flush() // do not wait for auto-flush and update files on the server await new Promise((resolve, reject) => ds.autosave(resolve, reject)) // ensure csave is emitted after updating the server to update concurrent sessions\\n} const ensureFilesOnBothClients = async (ds1, ds2, fileContentByPath) => { const filePaths = Object.keys(fileContentByPath) const fileDescriptorByPath = Object.fromEntries( await Promise.all(filePaths.map(filePath => ds1.wixCode.fileSystem.getVirtualDescriptor(filePath).then(fileDescriptor => [filePath, fileDescriptor]))) ) await Promise.all(filePaths.map(filePath => ds1.wixCode.fileSystem.writeFile(fileDescriptorByPath[filePath], fileContentByPath[filePath]))) await ensureCSave(ds1) await Promise.all(filePaths.map(filePath => eventuallyExpectFile(ds2, fileDescriptorByPath[filePath], fileContentByPath[filePath])))\\n} module.exports = { ensureFilesOnBothClients, ensureCSave\\n}\\n\\n####"}
{"prompt":"define(['http-server','smoosh','heapdump','d3-dispatch','babel-plugin-transform-es2015-block-scoping','trash-cli','klaw','rollup','@babel/plugin-transform-arrow-functions','@babel/helper-compilation-targets','eslint-config-dev','istanbul','@trysound/sax','minimist'], function(httpServer,smoosh,heapdump,d3Dispatch,babelPluginTransformEs2015BlockScoping,trashCli,klaw,rollup,babelPluginTransformArrowFunctions,babelHelperCompilationTargets,eslintConfigDev,istanbul,trysoundSax,minimist){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.wix.com/demone2/landscape-photograph (15)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/landscape-photograph', emulateMobileDevice: false, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/15-landscape-photography/mesh/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import httpServer from 'http-server'\\nimport smoosh from 'smoosh'\\nimport heapdump from 'heapdump'\\nimport d3Dispatch from 'd3-dispatch'\\nimport babelPluginTransformEs2015BlockScoping from 'babel-plugin-transform-es2015-block-scoping'\\nimport trashCli from 'trash-cli'\\nimport klaw from 'klaw'\\nimport rollup from 'rollup'\\nimport babelPluginTransformArrowFunctions from '@babel/plugin-transform-arrow-functions'\\nimport babelHelperCompilationTargets from '@babel/helper-compilation-targets'\\nimport eslintConfigDev from 'eslint-config-dev'\\nimport istanbul from 'istanbul'\\nimport trysoundSax from '@trysound/sax'\\nimport minimist from 'minimist'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.wix.com/demone2/landscape-photograph (15)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/landscape-photograph', emulateMobileDevice: false, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/15-landscape-photography/mesh/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['nth-check','@parcel/events','domelementtype','ncp','sauce-connect-launcher','run-sequence','standard-markdown','postcss','nullthrows','@babel/helper-plugin-test-runner','gulp-bump'], function(nthCheck,parcelEvents,domelementtype,ncp,sauceConnectLauncher,runSequence,standardMarkdown,postcss,nullthrows,babelHelperPluginTestRunner,gulpBump){\\nimport PropTypes from 'prop-types';\\nimport React from 'react';\\nimport DishIcons from '@wix/restaurants-menus-icons/dist/DishIcons';\\nimport styles from './Slim.less';\\nimport classNames from 'classnames'; function getIcon(iconType, label) { const key = `${iconType}-${label}`; return components[key];\\n} export default function ItemIcons({ i18n, labels, iconType, primaryColor, secondaryColor }) { const className = classNames({ [styles.item_icons]: true, [styles.item_icons_circled]: iconType === 'outline' || iconType === 'full-bg', [styles.item_icons_label]: iconType === 'label', [styles.item_icons_full]: iconType === 'full' }); return ( <div data-hook=\\\"wixrest-menus-item-icons\\\" className={className} role='presentation'> <DishIcons i18n={i18n} labels={labels} iconType={iconType} primaryColor={primaryColor} secondaryColor={secondaryColor} /> </div> );\\n} ItemIcons.displayName = 'ItemIcons';\\nItemIcons.propTypes = { i18n: PropTypes.object, labels: PropTypes.array, iconType: PropTypes.string, primaryColor: PropTypes.string, secondaryColor: PropTypes.string\\n};\\nItemIcons.defaultProps = { labels: []\\n};\\n\\n})\\n####","completion":" import nthCheck from 'nth-check'\\nimport parcelEvents from '@parcel/events'\\nimport domelementtype from 'domelementtype'\\nimport ncp from 'ncp'\\nimport sauceConnectLauncher from 'sauce-connect-launcher'\\nimport runSequence from 'run-sequence'\\nimport standardMarkdown from 'standard-markdown'\\nimport postcss from 'postcss'\\nimport nullthrows from 'nullthrows'\\nimport babelHelperPluginTestRunner from '@babel/helper-plugin-test-runner'\\nimport gulpBump from 'gulp-bump'\\n\\nimport PropTypes from 'prop-types';\\nimport React from 'react';\\nimport DishIcons from '@wix/restaurants-menus-icons/dist/DishIcons';\\nimport styles from './Slim.less';\\nimport classNames from 'classnames'; function getIcon(iconType, label) { const key = `${iconType}-${label}`; return components[key];\\n} export default function ItemIcons({ i18n, labels, iconType, primaryColor, secondaryColor }) { const className = classNames({ [styles.item_icons]: true, [styles.item_icons_circled]: iconType === 'outline' || iconType === 'full-bg', [styles.item_icons_label]: iconType === 'label', [styles.item_icons_full]: iconType === 'full' }); return ( <div data-hook=\\\"wixrest-menus-item-icons\\\" className={className} role='presentation'> <DishIcons i18n={i18n} labels={labels} iconType={iconType} primaryColor={primaryColor} secondaryColor={secondaryColor} /> </div> );\\n} ItemIcons.displayName = 'ItemIcons';\\nItemIcons.propTypes = { i18n: PropTypes.object, labels: PropTypes.array, iconType: PropTypes.string, primaryColor: PropTypes.string, secondaryColor: PropTypes.string\\n};\\nItemIcons.defaultProps = { labels: []\\n};\\n\\n####"}
{"prompt":"define(['evalmd','@parcel/transformer-js','@babel/plugin-transform-parameters','eslint-config-babel','@babel/compat-data','chai-as-promised'], function(evalmd,parcelTransformerJs,babelPluginTransformParameters,eslintConfigBabel,babelCompatData,chaiAsPromised){\\n(function (f) { if (typeof exports === \\\"object\\\" && typeof module !== \\\"undefined\\\") { module.exports = f() } else if (typeof define === \\\"function\\\" && define.amd) { define([], f) } else { var g; if (typeof window !== \\\"undefined\\\") { g = window } else if (typeof global !== \\\"undefined\\\") { g = global } else if (typeof self !== \\\"undefined\\\") { g = self } else { g = this } g.TestModule = f() } })(function () { var define, module, exports; return (function () { function r(e, n, t) { function o(i, f) { if (!n[i]) { if (!e[i]) { var c = \\\"function\\\" == typeof require && require; if (!f && c) return c(i, !0); if (u) return u(i, !0); var a = new Error(\\\"Cannot find module '\\\" + i + \\\"'\\\"); throw a.code = \\\"MODULE_NOT_FOUND\\\", a } var p = n[i] = { exports: {} }; e[i][0].call(p.exports, function (r) { var n = e[i][1][r]; return o(n || r) }, p, p.exports, r, e, n, t) } return n[i].exports } for (var u = \\\"function\\\" == typeof require && require, i = 0; i < t.length; i++)o(t[i]); return o } return r })()({ 1: [function (require, module, exports) { $w.onReady(() => { $widget.onPropsChanged((oldProps, newProps) => { oldProps.prop2 = 'mutatedFromWithin' }) }) }, {}] }, {}, [1])(1)\\n});\\n})\\n####","completion":" import evalmd from 'evalmd'\\nimport parcelTransformerJs from '@parcel/transformer-js'\\nimport babelPluginTransformParameters from '@babel/plugin-transform-parameters'\\nimport eslintConfigBabel from 'eslint-config-babel'\\nimport babelCompatData from '@babel/compat-data'\\nimport chaiAsPromised from 'chai-as-promised'\\n\\n(function (f) { if (typeof exports === \\\"object\\\" && typeof module !== \\\"undefined\\\") { module.exports = f() } else if (typeof define === \\\"function\\\" && define.amd) { define([], f) } else { var g; if (typeof window !== \\\"undefined\\\") { g = window } else if (typeof global !== \\\"undefined\\\") { g = global } else if (typeof self !== \\\"undefined\\\") { g = self } else { g = this } g.TestModule = f() } })(function () { var define, module, exports; return (function () { function r(e, n, t) { function o(i, f) { if (!n[i]) { if (!e[i]) { var c = \\\"function\\\" == typeof require && require; if (!f && c) return c(i, !0); if (u) return u(i, !0); var a = new Error(\\\"Cannot find module '\\\" + i + \\\"'\\\"); throw a.code = \\\"MODULE_NOT_FOUND\\\", a } var p = n[i] = { exports: {} }; e[i][0].call(p.exports, function (r) { var n = e[i][1][r]; return o(n || r) }, p, p.exports, r, e, n, t) } return n[i].exports } for (var u = \\\"function\\\" == typeof require && require, i = 0; i < t.length; i++)o(t[i]); return o } return r })()({ 1: [function (require, module, exports) { $w.onReady(() => { $widget.onPropsChanged((oldProps, newProps) => { oldProps.prop2 = 'mutatedFromWithin' }) }) }, {}] }, {}, [1])(1)\\n});\\n####"}
{"prompt":"define(['es-abstract','us-atlas','@babel/plugin-proposal-dynamic-import'], function(esAbstract,usAtlas,babelPluginProposalDynamicImport){\\nimport md5 from 'md5'; // Using approach described in http://blog.richardweiss.org/2016/12/25/hash-splits.html const defaultSalt = 'E1F53135E559C253'; export default ({userId, alternatives = [], salt = defaultSalt, overrideURLParamName = null}) => { const numAlts = alternatives.length; if (numAlts === 0) return null; if (numAlts === 1) return alternatives[0]; // Use overrideURLParamName to grab an override from the URL query string // If you want to use a specific alternative number, use param=alt:4 if (overrideURLParamName && typeof window !== 'undefined' && window.location) { const match = RegExp(`${overrideURLParamName}=([^&]*)`).exec(window.location.search); if (match) { const chooseAlt = /alt:(.*)/.exec(match[1]); if (chooseAlt) { let overrideBucket = parseInt(chooseAlt[1]); if (isNaN(overrideBucket)) return match[1]; if (overrideBucket >= numAlts) overrideBucket = numAlts - 1; return alternatives[overrideBucket]; } return match[1]; } } const hashedValue = parseInt(md5(`${userId},${salt}`).substr(0,6), 16) / 0xFFFFFF; let bucket = Math.floor(hashedValue * numAlts); if (bucket === numAlts) bucket = bucket - 1; // protect against possible value of 1 return alternatives[bucket];\\n}\\n\\n})\\n####","completion":" import esAbstract from 'es-abstract'\\nimport usAtlas from 'us-atlas'\\nimport babelPluginProposalDynamicImport from '@babel/plugin-proposal-dynamic-import'\\n\\nimport md5 from 'md5'; // Using approach described in http://blog.richardweiss.org/2016/12/25/hash-splits.html const defaultSalt = 'E1F53135E559C253'; export default ({userId, alternatives = [], salt = defaultSalt, overrideURLParamName = null}) => { const numAlts = alternatives.length; if (numAlts === 0) return null; if (numAlts === 1) return alternatives[0]; // Use overrideURLParamName to grab an override from the URL query string // If you want to use a specific alternative number, use param=alt:4 if (overrideURLParamName && typeof window !== 'undefined' && window.location) { const match = RegExp(`${overrideURLParamName}=([^&]*)`).exec(window.location.search); if (match) { const chooseAlt = /alt:(.*)/.exec(match[1]); if (chooseAlt) { let overrideBucket = parseInt(chooseAlt[1]); if (isNaN(overrideBucket)) return match[1]; if (overrideBucket >= numAlts) overrideBucket = numAlts - 1; return alternatives[overrideBucket]; } return match[1]; } } const hashedValue = parseInt(md5(`${userId},${salt}`).substr(0,6), 16) / 0xFFFFFF; let bucket = Math.floor(hashedValue * numAlts); if (bucket === numAlts) bucket = bucket - 1; // protect against possible value of 1 return alternatives[bucket];\\n}\\n\\n####"}
{"prompt":"define(['gulp-git','mime-db','@babel/plugin-syntax-logical-assignment-operators','babel-preset-es2015-rollup','@babel/plugin-proposal-logical-assignment-operators','aud','preact-render-spy','make-generator-function','webpack-dev-server','@types/convert-source-map','prelude-ls','d3-format','xtend'], function(gulpGit,mimeDb,babelPluginSyntaxLogicalAssignmentOperators,babelPresetEs2015Rollup,babelPluginProposalLogicalAssignmentOperators,aud,preactRenderSpy,makeGeneratorFunction,webpackDevServer,typesConvertSourceMap,preludeLs,d3Format,xtend){\\nimport _ from 'lodash';\\nimport intervalsIntersection from './IntervalsIntersection'; export default function IntersectAvailabilities(a1, a2) { const a1Weekly = availabilityToWeekly(a1); const a2Weekly = availabilityToWeekly(a2); if (!_.size(a1Weekly)&& _.size(a2Weekly)) return a2; if (!_.size(a2Weekly) && _.size(a1Weekly)) return a1; const i1 = weeklyAvailabilityToIntervals(a1Weekly); const i2 = weeklyAvailabilityToIntervals(a2Weekly); const intersection = intervalsIntersection(i1, i2); const intersectionAvailability = intervalsToAvailability(intersection); return intersectionAvailability;\\n} function availabilityToWeekly(availability) { return availability ? availability.weekly : [];\\n} function weeklyAvailabilityToIntervals(weekly) { return _.map(weekly, availabilityRangeToInterval);\\n} function availabilityRangeToInterval({minuteOfWeek, durationMins}) { return [minuteOfWeek, minuteOfWeek + durationMins];\\n} function intervalsToAvailability(intervals) { const durations = _.map(intervals, i => ({ minuteOfWeek: i[0], durationMins: i[1] - i[0] })); return { weekly: durations };\\n}\\n\\n})\\n####","completion":" import gulpGit from 'gulp-git'\\nimport mimeDb from 'mime-db'\\nimport babelPluginSyntaxLogicalAssignmentOperators from '@babel/plugin-syntax-logical-assignment-operators'\\nimport babelPresetEs2015Rollup from 'babel-preset-es2015-rollup'\\nimport babelPluginProposalLogicalAssignmentOperators from '@babel/plugin-proposal-logical-assignment-operators'\\nimport aud from 'aud'\\nimport preactRenderSpy from 'preact-render-spy'\\nimport makeGeneratorFunction from 'make-generator-function'\\nimport webpackDevServer from 'webpack-dev-server'\\nimport typesConvertSourceMap from '@types/convert-source-map'\\nimport preludeLs from 'prelude-ls'\\nimport d3Format from 'd3-format'\\nimport xtend from 'xtend'\\n\\nimport _ from 'lodash';\\nimport intervalsIntersection from './IntervalsIntersection'; export default function IntersectAvailabilities(a1, a2) { const a1Weekly = availabilityToWeekly(a1); const a2Weekly = availabilityToWeekly(a2); if (!_.size(a1Weekly)&& _.size(a2Weekly)) return a2; if (!_.size(a2Weekly) && _.size(a1Weekly)) return a1; const i1 = weeklyAvailabilityToIntervals(a1Weekly); const i2 = weeklyAvailabilityToIntervals(a2Weekly); const intersection = intervalsIntersection(i1, i2); const intersectionAvailability = intervalsToAvailability(intersection); return intersectionAvailability;\\n} function availabilityToWeekly(availability) { return availability ? availability.weekly : [];\\n} function weeklyAvailabilityToIntervals(weekly) { return _.map(weekly, availabilityRangeToInterval);\\n} function availabilityRangeToInterval({minuteOfWeek, durationMins}) { return [minuteOfWeek, minuteOfWeek + durationMins];\\n} function intervalsToAvailability(intervals) { const durations = _.map(intervals, i => ({ minuteOfWeek: i[0], durationMins: i[1] - i[0] })); return { weekly: durations };\\n}\\n\\n####"}
{"prompt":"define(['@parcel/config-default','delay','@babel/plugin-proposal-private-property-in-object','@types/jasmine','rewire','ieee754','url-search-params','rollup-plugin-buble'], function(parcelConfigDefault,delay,babelPluginProposalPrivatePropertyInObject,typesJasmine,rewire,ieee754,urlSearchParams,rollupPluginBuble){\\nimport { call, put, take, fork, cancel, join, race } from 'redux-saga/effects'; // try / catch doesn't work properly around a fork task, so using it\\n// in a wrapped call task instead\\nfunction* workerWrapper(worker, payload) { try { return yield call(worker, payload); } catch (error) { return { error }; }\\n} export default function* genericWatcher({listenTo, predicate = () => true, request, worker, success, failure, cancelOn}) { while (true) { const { payload = {} } = yield take(listenTo); const shouldProceed = yield call(predicate, payload); if (shouldProceed) { (request) && (yield put(request(payload))); const task = yield fork(workerWrapper, worker, payload); let racingTasks = { result : join(task) }; if (cancelOn) { racingTasks.cancelled = take(cancelOn); } const { result, cancelled } = yield race(racingTasks); if (cancelled) { yield cancel(task); } else { if (result && result.error) { (failure) && (yield put(failure(result.error))); } else { (success) && (yield put(success(result))); } } } }\\n};\\n\\n})\\n####","completion":" import parcelConfigDefault from '@parcel/config-default'\\nimport delay from 'delay'\\nimport babelPluginProposalPrivatePropertyInObject from '@babel/plugin-proposal-private-property-in-object'\\nimport typesJasmine from '@types/jasmine'\\nimport rewire from 'rewire'\\nimport ieee754 from 'ieee754'\\nimport urlSearchParams from 'url-search-params'\\nimport rollupPluginBuble from 'rollup-plugin-buble'\\n\\nimport { call, put, take, fork, cancel, join, race } from 'redux-saga/effects'; // try / catch doesn't work properly around a fork task, so using it\\n// in a wrapped call task instead\\nfunction* workerWrapper(worker, payload) { try { return yield call(worker, payload); } catch (error) { return { error }; }\\n} export default function* genericWatcher({listenTo, predicate = () => true, request, worker, success, failure, cancelOn}) { while (true) { const { payload = {} } = yield take(listenTo); const shouldProceed = yield call(predicate, payload); if (shouldProceed) { (request) && (yield put(request(payload))); const task = yield fork(workerWrapper, worker, payload); let racingTasks = { result : join(task) }; if (cancelOn) { racingTasks.cancelled = take(cancelOn); } const { result, cancelled } = yield race(racingTasks); if (cancelled) { yield cancel(task); } else { if (result && result.error) { (failure) && (yield put(failure(result.error))); } else { (success) && (yield put(success(result))); } } } }\\n};\\n\\n####"}
{"prompt":"define(['jasmine','strip-ansi','benchmark'], function(jasmine,stripAnsi,benchmark){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.wix.com/demone2/jazz-musician (19)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/jazz-musician', emulateMobileDevice: true, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/19-jazz-musician/anchors/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import jasmine from 'jasmine'\\nimport stripAnsi from 'strip-ansi'\\nimport benchmark from 'benchmark'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.wix.com/demone2/jazz-musician (19)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/jazz-musician', emulateMobileDevice: true, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/19-jazz-musician/anchors/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['@parcel/runtime-browser-hmr','pixelmatch','assert','wrap-ansi','karma-browserify','array-shuffle','@swc/cli'], function(parcelRuntimeBrowserHmr,pixelmatch,assert,wrapAnsi,karmaBrowserify,arrayShuffle,swcCli){\\nimport React from 'react'; export default class extends React.Component { render() { return ( <svg viewBox='0 0 52.6 59.9'> <path fill='none' d='M3.8,138.9c-1.5,0-2.8-1.2-2.8-2.8l5.1-40.6v-0.1c0-1.6,1.2-2.9,2.8-2.9h34.8c1.5,0,2.8,1.3,2.8,2.9v0.1l5.1,40.6c0,1.5-1.3,2.8-2.8,2.8H3.8z'/> <path fill='#231F20' d='M47.5,15.6c0-2.1-1.7-3.7-3.8-3.7h-8.2c-0.1-3-0.7-6.4-2.6-8.8c-1.7-2-4-3.1-7-3.1c-2.5,0-4.6,1-6.1,2.8c-2.1,2.4-2.9,6.1-3.1,9.1H8.9c-2.1,0-3.8,1.6-3.8,3.7L0,56.1c0,2.1,1.7,3.8,3.8,3.8c0,0,10.5,0,23.1,0c12.3,0,21.9,0,21.9,0c2.1,0,3.8-1.7,3.8-3.8L47.5,15.6z M21.2,4c1.2-1.3,2.7-2,4.6-2c2.4,0,4.2,0.9,5.5,2.4c1.6,2,2.1,4.4,2.2,7.4H18.6C18.8,8.9,19.5,6,21.2,4z M48.8,57.9H26.9H3.8c-1,0-1.7-0.8-1.8-1.7l5.2-40.4l0.1-0.1v-0.1c0-1,0.6-1.6,1.6-1.6h7.6c0,2,0.2,3.3,0.2,3.4c0.1,0.5,0.5,0.8,1,0.8c0,0,0.1,0,0.1,0c0.5-0.1,0.9-0.4,0.9-1c0,0-0.2-1.2-0.1-3.2h15c-0.1,2-0.3,3.1-0.3,3.1c-0.1,0.5,0.2,1,0.8,1.1c0.5,0.1,1.1-0.1,1.2-0.7c0-0.1,0.3-1.5,0.4-3.5h8.2c1,0,1.6,0.5,1.6,1.6v0.1l0.1,0.1l5.1,40.4C50.5,57.1,49.8,57.9,48.8,57.9z'/> </svg> ); }\\n}\\n\\n})\\n####","completion":" import parcelRuntimeBrowserHmr from '@parcel/runtime-browser-hmr'\\nimport pixelmatch from 'pixelmatch'\\nimport assert from 'assert'\\nimport wrapAnsi from 'wrap-ansi'\\nimport karmaBrowserify from 'karma-browserify'\\nimport arrayShuffle from 'array-shuffle'\\nimport swcCli from '@swc/cli'\\n\\nimport React from 'react'; export default class extends React.Component { render() { return ( <svg viewBox='0 0 52.6 59.9'> <path fill='none' d='M3.8,138.9c-1.5,0-2.8-1.2-2.8-2.8l5.1-40.6v-0.1c0-1.6,1.2-2.9,2.8-2.9h34.8c1.5,0,2.8,1.3,2.8,2.9v0.1l5.1,40.6c0,1.5-1.3,2.8-2.8,2.8H3.8z'/> <path fill='#231F20' d='M47.5,15.6c0-2.1-1.7-3.7-3.8-3.7h-8.2c-0.1-3-0.7-6.4-2.6-8.8c-1.7-2-4-3.1-7-3.1c-2.5,0-4.6,1-6.1,2.8c-2.1,2.4-2.9,6.1-3.1,9.1H8.9c-2.1,0-3.8,1.6-3.8,3.7L0,56.1c0,2.1,1.7,3.8,3.8,3.8c0,0,10.5,0,23.1,0c12.3,0,21.9,0,21.9,0c2.1,0,3.8-1.7,3.8-3.8L47.5,15.6z M21.2,4c1.2-1.3,2.7-2,4.6-2c2.4,0,4.2,0.9,5.5,2.4c1.6,2,2.1,4.4,2.2,7.4H18.6C18.8,8.9,19.5,6,21.2,4z M48.8,57.9H26.9H3.8c-1,0-1.7-0.8-1.8-1.7l5.2-40.4l0.1-0.1v-0.1c0-1,0.6-1.6,1.6-1.6h7.6c0,2,0.2,3.3,0.2,3.4c0.1,0.5,0.5,0.8,1,0.8c0,0,0.1,0,0.1,0c0.5-0.1,0.9-0.4,0.9-1c0,0-0.2-1.2-0.1-3.2h15c-0.1,2-0.3,3.1-0.3,3.1c-0.1,0.5,0.2,1,0.8,1.1c0.5,0.1,1.1-0.1,1.2-0.7c0-0.1,0.3-1.5,0.4-3.5h8.2c1,0,1.6,0.5,1.6,1.6v0.1l0.1,0.1l5.1,40.4C50.5,57.1,49.8,57.9,48.8,57.9z'/> </svg> ); }\\n}\\n\\n####"}
{"prompt":"define(['ava','@babel/helper-simple-access','entities','phantomjs','@types/utf8','gulp'], function(ava,babelHelperSimpleAccess,entities,phantomjs,typesUtf8,gulp){\\nimport AvailabilityEditor from '../../../../../src/dashboard/web/components/AvailabilityEditor';\\nimport {occasionToException} from '../../../../../src/dashboard/web/components/AvailabilityEditor/Containers/apiObjectsMapper';\\nimport {I18n} from '@wix/wixrest-utils';\\nimport moment from 'moment'; let {i18n, I18N} = I18n.getComponentHeader('reservations_availability_'); export default React.createClass({ render() { return ( <div> <AvailabilityEditor isOpen={true} onRequestClose = {() => {}} availability = {{exceptions: [ occasionToException({name: 'Hanukkah', start: moment(1482665856000), end: moment(1483097856000), available: false}) ], weekly: [{minuteOfWeek: 7000, durationMins: 200}]}} openTimes = {{weekly: [{minuteOfWeek: 1000, durationMins: 800}]}} onAccept = {() => {}} i18n = {i18n} modalTitle = {I18N('title', 'Set Your Reservations Availability')} locale = {this.props.locale} scheduleAlways = {'aye'} /> </div> ); }\\n});\\n\\n})\\n####","completion":" import ava from 'ava'\\nimport babelHelperSimpleAccess from '@babel/helper-simple-access'\\nimport entities from 'entities'\\nimport phantomjs from 'phantomjs'\\nimport typesUtf8 from '@types/utf8'\\nimport gulp from 'gulp'\\n\\nimport AvailabilityEditor from '../../../../../src/dashboard/web/components/AvailabilityEditor';\\nimport {occasionToException} from '../../../../../src/dashboard/web/components/AvailabilityEditor/Containers/apiObjectsMapper';\\nimport {I18n} from '@wix/wixrest-utils';\\nimport moment from 'moment'; let {i18n, I18N} = I18n.getComponentHeader('reservations_availability_'); export default React.createClass({ render() { return ( <div> <AvailabilityEditor isOpen={true} onRequestClose = {() => {}} availability = {{exceptions: [ occasionToException({name: 'Hanukkah', start: moment(1482665856000), end: moment(1483097856000), available: false}) ], weekly: [{minuteOfWeek: 7000, durationMins: 200}]}} openTimes = {{weekly: [{minuteOfWeek: 1000, durationMins: 800}]}} onAccept = {() => {}} i18n = {i18n} modalTitle = {I18N('title', 'Set Your Reservations Availability')} locale = {this.props.locale} scheduleAlways = {'aye'} /> </div> ); }\\n});\\n\\n####"}
{"prompt":"define(['ansi','ieee754','idb','puppeteer','evalmd','@ungap/url-search-params','lilconfig','xtend','clone-deep','@parcel/optimizer-image','@babel/helper-transform-fixture-test-runner','require-ini','browserify-zlib','postcss-minify-selectors'], function(ansi,ieee754,idb,puppeteer,evalmd,ungapUrlSearchParams,lilconfig,xtend,cloneDeep,parcelOptimizerImage,babelHelperTransformFixtureTestRunner,requireIni,browserifyZlib,postcssMinifySelectors){\\n'use strict'\\nconst {mapSantaTypesToProps, mapSantaTypesToActions} = require('../../../src/components/maps/textInputLabeled') describe('maps for radioButtonsLabeled', () => { it('mapSantaTypesToProps', () => { const props = { compData: { label: 'text', value: 'value for textbox' }, compProp: { isDisabled: true } } const newProps = mapSantaTypesToProps(props) expect(newProps.disabled).toEqual(props.compProp.isDisabled) expect(newProps.value).toEqual(props.compData.value) expect(newProps.label).toEqual(props.compData.label) }) it('mapSantaTypesToActions', () => { const mockSetCompDataFunction = jest.fn() const props = { setCompData: mockSetCompDataFunction } const newProps = mapSantaTypesToActions(props) const newValue = 'new value for textbox' newProps.onChange(newValue) expect(mockSetCompDataFunction).toBeCalledWith({value: newValue}) })\\n})\\n})\\n####","completion":" import ansi from 'ansi'\\nimport ieee754 from 'ieee754'\\nimport idb from 'idb'\\nimport puppeteer from 'puppeteer'\\nimport evalmd from 'evalmd'\\nimport ungapUrlSearchParams from '@ungap/url-search-params'\\nimport lilconfig from 'lilconfig'\\nimport xtend from 'xtend'\\nimport cloneDeep from 'clone-deep'\\nimport parcelOptimizerImage from '@parcel/optimizer-image'\\nimport babelHelperTransformFixtureTestRunner from '@babel/helper-transform-fixture-test-runner'\\nimport requireIni from 'require-ini'\\nimport browserifyZlib from 'browserify-zlib'\\nimport postcssMinifySelectors from 'postcss-minify-selectors'\\n\\n'use strict'\\nconst {mapSantaTypesToProps, mapSantaTypesToActions} = require('../../../src/components/maps/textInputLabeled') describe('maps for radioButtonsLabeled', () => { it('mapSantaTypesToProps', () => { const props = { compData: { label: 'text', value: 'value for textbox' }, compProp: { isDisabled: true } } const newProps = mapSantaTypesToProps(props) expect(newProps.disabled).toEqual(props.compProp.isDisabled) expect(newProps.value).toEqual(props.compData.value) expect(newProps.label).toEqual(props.compData.label) }) it('mapSantaTypesToActions', () => { const mockSetCompDataFunction = jest.fn() const props = { setCompData: mockSetCompDataFunction } const newProps = mapSantaTypesToActions(props) const newValue = 'new value for textbox' newProps.onChange(newValue) expect(mockSetCompDataFunction).toBeCalledWith({value: newValue}) })\\n})\\n####"}
{"prompt":"define(['postcss-normalize-url','@babel/helper-module-transforms','matcha','@my-scope/package-b','browserify-zlib','broccoli-watchify','standardx','minipass','zuul','@babel/plugin-bugfix-safari-id-destructuring-collision-in-function-expression','domutils','object-keys'], function(postcssNormalizeUrl,babelHelperModuleTransforms,matcha,myScopePackageB,browserifyZlib,broccoliWatchify,standardx,minipass,zuul,babelPluginBugfixSafariIdDestructuringCollisionInFunctionExpression,domutils,objectKeys){\\nimport React from 'react';\\nimport PropTypes from 'prop-types';\\nimport { Text } from '@wix/wix-ui-adi/Text';\\nimport { Button } from '@wix/wix-ui-adi/Button';\\nimport { PremiumIcon } from '@wix/wix-ui-adi/PremiumIcon';\\nimport styles from './UpgradeSection.scss'; export default function UpgradeSection({ t, Wix }) { return ( <div className={styles.upgradeSection} data-hook=\\\"upgrade-part\\\"> <div className={styles.row}> {/* Must wrap the icon with an element, since we cannot */} {/* pass a class name as a prop to the icon itself */} <div className={styles.iconWrapper}> <PremiumIcon /> </div> <Text typography=\\\"T3\\\" color=\\\"D1\\\" data-hook=\\\"upgrade-text\\\" className={styles.title} > {t('adi_reservations_infosection_upgradedescription')} </Text> </div> <Button className={styles.button} data-hook=\\\"upgrade-button\\\" skin=\\\"premium\\\" size=\\\"control\\\" onClick={() => Wix.Settings.openBillingPage()} > {t('orderssettings_sidemenu_upgrade')} </Button> </div> );\\n} UpgradeSection.displayName = 'UpgradeSection';\\nUpgradeSection.propTypes = { t: PropTypes.func, Wix: PropTypes.object,\\n};\\n\\n})\\n####","completion":" import postcssNormalizeUrl from 'postcss-normalize-url'\\nimport babelHelperModuleTransforms from '@babel/helper-module-transforms'\\nimport matcha from 'matcha'\\nimport myScopePackageB from '@my-scope/package-b'\\nimport browserifyZlib from 'browserify-zlib'\\nimport broccoliWatchify from 'broccoli-watchify'\\nimport standardx from 'standardx'\\nimport minipass from 'minipass'\\nimport zuul from 'zuul'\\nimport babelPluginBugfixSafariIdDestructuringCollisionInFunctionExpression from '@babel/plugin-bugfix-safari-id-destructuring-collision-in-function-expression'\\nimport domutils from 'domutils'\\nimport objectKeys from 'object-keys'\\n\\nimport React from 'react';\\nimport PropTypes from 'prop-types';\\nimport { Text } from '@wix/wix-ui-adi/Text';\\nimport { Button } from '@wix/wix-ui-adi/Button';\\nimport { PremiumIcon } from '@wix/wix-ui-adi/PremiumIcon';\\nimport styles from './UpgradeSection.scss'; export default function UpgradeSection({ t, Wix }) { return ( <div className={styles.upgradeSection} data-hook=\\\"upgrade-part\\\"> <div className={styles.row}> {/* Must wrap the icon with an element, since we cannot */} {/* pass a class name as a prop to the icon itself */} <div className={styles.iconWrapper}> <PremiumIcon /> </div> <Text typography=\\\"T3\\\" color=\\\"D1\\\" data-hook=\\\"upgrade-text\\\" className={styles.title} > {t('adi_reservations_infosection_upgradedescription')} </Text> </div> <Button className={styles.button} data-hook=\\\"upgrade-button\\\" skin=\\\"premium\\\" size=\\\"control\\\" onClick={() => Wix.Settings.openBillingPage()} > {t('orderssettings_sidemenu_upgrade')} </Button> </div> );\\n} UpgradeSection.displayName = 'UpgradeSection';\\nUpgradeSection.propTypes = { t: PropTypes.func, Wix: PropTypes.object,\\n};\\n\\n####"}
{"prompt":"define(['@babel/plugin-proposal-dynamic-import','regjsgen','es6-promise','strip-ansi','rimraf','punycode','detect-libc','@babel/helper-module-transforms','@wdio/selenium-standalone-service','cross-env'], function(babelPluginProposalDynamicImport,regjsgen,es6Promise,stripAnsi,rimraf,punycode,detectLibc,babelHelperModuleTransforms,wdioSeleniumStandaloneService,crossEnv){\\n'use strict' const transformedExperimentsCache = new WeakMap() function getRunningExperiments(context) { const model = (context && (context.rendererModel || context.editorModel)) || {} //eslint-disable-line no-extra-parens const {runningExperiments = {}} = model return runningExperiments\\n} function transformRunningExperiments(runningExperiments) { return Object.keys(runningExperiments).reduce((acc, key) => { acc[key.toLowerCase()] = runningExperiments[key] return acc }, Object.create(null))\\n} function getValue(name, context) { const runningExperiments = getRunningExperiments(context) const value = runningExperiments[name] if (value !== undefined) { return value } let transformedExperiments = transformedExperimentsCache.get(runningExperiments) if (!transformedExperiments) { transformedExperiments = transformRunningExperiments(runningExperiments) transformedExperimentsCache.set(runningExperiments, transformedExperiments) } return transformedExperiments[name.toLowerCase()]\\n} function isMultiValueExperimentOpen(name, context) { const value = getValue(name, context) return !!(value && value !== 'old' && value !== 'false')\\n} module.exports = { getRunningExperiments, isMultiValueExperimentOpen, isOpen: isMultiValueExperimentOpen, getValue\\n}\\n\\n})\\n####","completion":" import babelPluginProposalDynamicImport from '@babel/plugin-proposal-dynamic-import'\\nimport regjsgen from 'regjsgen'\\nimport es6Promise from 'es6-promise'\\nimport stripAnsi from 'strip-ansi'\\nimport rimraf from 'rimraf'\\nimport punycode from 'punycode'\\nimport detectLibc from 'detect-libc'\\nimport babelHelperModuleTransforms from '@babel/helper-module-transforms'\\nimport wdioSeleniumStandaloneService from '@wdio/selenium-standalone-service'\\nimport crossEnv from 'cross-env'\\n\\n'use strict' const transformedExperimentsCache = new WeakMap() function getRunningExperiments(context) { const model = (context && (context.rendererModel || context.editorModel)) || {} //eslint-disable-line no-extra-parens const {runningExperiments = {}} = model return runningExperiments\\n} function transformRunningExperiments(runningExperiments) { return Object.keys(runningExperiments).reduce((acc, key) => { acc[key.toLowerCase()] = runningExperiments[key] return acc }, Object.create(null))\\n} function getValue(name, context) { const runningExperiments = getRunningExperiments(context) const value = runningExperiments[name] if (value !== undefined) { return value } let transformedExperiments = transformedExperimentsCache.get(runningExperiments) if (!transformedExperiments) { transformedExperiments = transformRunningExperiments(runningExperiments) transformedExperimentsCache.set(runningExperiments, transformedExperiments) } return transformedExperiments[name.toLowerCase()]\\n} function isMultiValueExperimentOpen(name, context) { const value = getValue(name, context) return !!(value && value !== 'old' && value !== 'false')\\n} module.exports = { getRunningExperiments, isMultiValueExperimentOpen, isOpen: isMultiValueExperimentOpen, getValue\\n}\\n\\n####"}
{"prompt":"define(['jquery','@types/parse-json','source-map-js','internal-slot','@parcel/markdown-ansi','@npmcli/eslint-config','gulp-filter','teeny-request','@parcel/packager-html','@parcel/node-resolver-core','@babel/helper-validator-identifier','postcss-colormin','@babel/helper-member-expression-to-functions','@types/jest','promises-aplus-tests'], function(jquery,typesParseJson,sourceMapJs,internalSlot,parcelMarkdownAnsi,npmcliEslintConfig,gulpFilter,teenyRequest,parcelPackagerHtml,parcelNodeResolverCore,babelHelperValidatorIdentifier,postcssColormin,babelHelperMemberExpressionToFunctions,typesJest,promisesAplusTests){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.wix.com/demone2/boutique-law-firm (13)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/boutique-law-firm', emulateMobileDevice: false, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/13-boutique-law-firm/anchors/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import jquery from 'jquery'\\nimport typesParseJson from '@types/parse-json'\\nimport sourceMapJs from 'source-map-js'\\nimport internalSlot from 'internal-slot'\\nimport parcelMarkdownAnsi from '@parcel/markdown-ansi'\\nimport npmcliEslintConfig from '@npmcli/eslint-config'\\nimport gulpFilter from 'gulp-filter'\\nimport teenyRequest from 'teeny-request'\\nimport parcelPackagerHtml from '@parcel/packager-html'\\nimport parcelNodeResolverCore from '@parcel/node-resolver-core'\\nimport babelHelperValidatorIdentifier from '@babel/helper-validator-identifier'\\nimport postcssColormin from 'postcss-colormin'\\nimport babelHelperMemberExpressionToFunctions from '@babel/helper-member-expression-to-functions'\\nimport typesJest from '@types/jest'\\nimport promisesAplusTests from 'promises-aplus-tests'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.wix.com/demone2/boutique-law-firm (13)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/boutique-law-firm', emulateMobileDevice: false, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/13-boutique-law-firm/anchors/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['semver','es6-promise','commondir','@parcel/transformer-posthtml','@tensorflow/tfjs-data'], function(semver,es6Promise,commondir,parcelTransformerPosthtml,tensorflowTfjsData){\\nconst _ = require('lodash')\\nconst {fullUrl, baseUrlList} = require('./staticsRequestHelper')\\nconst {PageFetchError, PageFetchSystemError} = require('../../errors/errors')\\nconst downloadAndReportFor = require('./downloadAndReport') module.exports = (config, httpClient, metricsReporter) => { const downloadAndReport = downloadAndReportFor(config, httpClient, metricsReporter) function pageNotExists(err) { return _.includes([403, 404], _.get(err, 'response.status')) } function throwException(err, pageId) { const ErrorClass = pageNotExists(err) ? PageFetchError : PageFetchSystemError throw new ErrorClass(err, pageId) } function downloadWithRetries(pageId, version) { return _.reduce(baseUrlList(config), (downloadPromise, baseURL, index) => downloadPromise.catch(() => downloadAndReport(fullUrl(baseURL, pageId, version), index)), Promise.reject() ).catch(err => { throwException(err, pageId) }) } return { download: (pageId, version) => metricsReporter.runAsyncAndReport(() => downloadWithRetries(pageId, version), 'timeToSuccessfulPageDownload') }\\n}\\n})\\n####","completion":" import semver from 'semver'\\nimport es6Promise from 'es6-promise'\\nimport commondir from 'commondir'\\nimport parcelTransformerPosthtml from '@parcel/transformer-posthtml'\\nimport tensorflowTfjsData from '@tensorflow/tfjs-data'\\n\\nconst _ = require('lodash')\\nconst {fullUrl, baseUrlList} = require('./staticsRequestHelper')\\nconst {PageFetchError, PageFetchSystemError} = require('../../errors/errors')\\nconst downloadAndReportFor = require('./downloadAndReport') module.exports = (config, httpClient, metricsReporter) => { const downloadAndReport = downloadAndReportFor(config, httpClient, metricsReporter) function pageNotExists(err) { return _.includes([403, 404], _.get(err, 'response.status')) } function throwException(err, pageId) { const ErrorClass = pageNotExists(err) ? PageFetchError : PageFetchSystemError throw new ErrorClass(err, pageId) } function downloadWithRetries(pageId, version) { return _.reduce(baseUrlList(config), (downloadPromise, baseURL, index) => downloadPromise.catch(() => downloadAndReport(fullUrl(baseURL, pageId, version), index)), Promise.reject() ).catch(err => { throwException(err, pageId) }) } return { download: (pageId, version) => metricsReporter.runAsyncAndReport(() => downloadWithRetries(pageId, version), 'timeToSuccessfulPageDownload') }\\n}\\n####"}
{"prompt":"define(['semver','@babel/helper-plugin-test-runner','babel-plugin-transform-es2015-parameters','@types/es6-promisify','esm','prop-types','is-callable','@babel/helper-module-transforms','tar-fs','hyperquest','@parcel/fs-write-stream-atomic','@parcel/graph','@parcel/logger','convert-source-map','@babel/eslint-parser','@babel/plugin-proposal-numeric-separator','https-browserify','object-keys','through','postcss-discard-comments'], function(semver,babelHelperPluginTestRunner,babelPluginTransformEs2015Parameters,typesEs6Promisify,esm,propTypes,isCallable,babelHelperModuleTransforms,tarFs,hyperquest,parcelFsWriteStreamAtomic,parcelGraph,parcelLogger,convertSourceMap,babelEslintParser,babelPluginProposalNumericSeparator,httpsBrowserify,objectKeys,through,postcssDiscardComments){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.wix.com/demone2/carpentry-service (12)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/carpentry-service', emulateMobileDevice: true, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/12-carpentry-service/mesh/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import semver from 'semver'\\nimport babelHelperPluginTestRunner from '@babel/helper-plugin-test-runner'\\nimport babelPluginTransformEs2015Parameters from 'babel-plugin-transform-es2015-parameters'\\nimport typesEs6Promisify from '@types/es6-promisify'\\nimport esm from 'esm'\\nimport propTypes from 'prop-types'\\nimport isCallable from 'is-callable'\\nimport babelHelperModuleTransforms from '@babel/helper-module-transforms'\\nimport tarFs from 'tar-fs'\\nimport hyperquest from 'hyperquest'\\nimport parcelFsWriteStreamAtomic from '@parcel/fs-write-stream-atomic'\\nimport parcelGraph from '@parcel/graph'\\nimport parcelLogger from '@parcel/logger'\\nimport convertSourceMap from 'convert-source-map'\\nimport babelEslintParser from '@babel/eslint-parser'\\nimport babelPluginProposalNumericSeparator from '@babel/plugin-proposal-numeric-separator'\\nimport httpsBrowserify from 'https-browserify'\\nimport objectKeys from 'object-keys'\\nimport through from 'through'\\nimport postcssDiscardComments from 'postcss-discard-comments'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.wix.com/demone2/carpentry-service (12)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/carpentry-service', emulateMobileDevice: true, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/12-carpentry-service/mesh/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['@typescript-eslint/parser','del','selenium-webdriver','@babel/plugin-transform-parameters','rsvp','world-atlas','string.prototype.trimstart'], function(typescriptEslintParser,del,seleniumWebdriver,babelPluginTransformParameters,rsvp,worldAtlas,stringPrototypeTrimstart){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.shaiyallin.com/about (57)', withViewer({ tpaInterceptor, baseUrl: 'https://www.shaiyallin.com/about', emulateMobileDevice: true, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/57-shai-yalin-about/anchors/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import typescriptEslintParser from '@typescript-eslint/parser'\\nimport del from 'del'\\nimport seleniumWebdriver from 'selenium-webdriver'\\nimport babelPluginTransformParameters from '@babel/plugin-transform-parameters'\\nimport rsvp from 'rsvp'\\nimport worldAtlas from 'world-atlas'\\nimport stringPrototypeTrimstart from 'string.prototype.trimstart'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.shaiyallin.com/about (57)', withViewer({ tpaInterceptor, baseUrl: 'https://www.shaiyallin.com/about', emulateMobileDevice: true, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/57-shai-yalin-about/anchors/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['regexpu-fixtures','console-control-strings','pegjs','resolve-from'], function(regexpuFixtures,consoleControlStrings,pegjs,resolveFrom){\\nimport PropTypes from 'prop-types';\\nimport React from 'react';\\nimport classnames from 'classnames';\\nimport onClickOutside from 'react-onclickoutside';\\nimport './Tooltip.css'; class Tooltip extends React.Component { static displayName = 'Tooltip'; static propTypes = { className: PropTypes.string, onClose: PropTypes.func }; autobind = false; handleClickOutside = () => { this.props.onClose && this.props.onClose(); }; renderArrow = () => { return ( <svg width={40} height={30} viewBox={[0,0,25,25]} className='arrow'> <path d='M0 0 L10 0 L5 7 Z' /> </svg> ); }; render() { return ( <div className={classnames('openrest_Tooltip_wrapper', { [this.props.className]: this.props.className })}> <div className='body'> {this.props.children} </div> {this.renderArrow()} </div> ); }\\n} export default onClickOutside(Tooltip);\\nexport {Tooltip};\\n\\n})\\n####","completion":" import regexpuFixtures from 'regexpu-fixtures'\\nimport consoleControlStrings from 'console-control-strings'\\nimport pegjs from 'pegjs'\\nimport resolveFrom from 'resolve-from'\\n\\nimport PropTypes from 'prop-types';\\nimport React from 'react';\\nimport classnames from 'classnames';\\nimport onClickOutside from 'react-onclickoutside';\\nimport './Tooltip.css'; class Tooltip extends React.Component { static displayName = 'Tooltip'; static propTypes = { className: PropTypes.string, onClose: PropTypes.func }; autobind = false; handleClickOutside = () => { this.props.onClose && this.props.onClose(); }; renderArrow = () => { return ( <svg width={40} height={30} viewBox={[0,0,25,25]} className='arrow'> <path d='M0 0 L10 0 L5 7 Z' /> </svg> ); }; render() { return ( <div className={classnames('openrest_Tooltip_wrapper', { [this.props.className]: this.props.className })}> <div className='body'> {this.props.children} </div> {this.renderArrow()} </div> ); }\\n} export default onClickOutside(Tooltip);\\nexport {Tooltip};\\n\\n####"}
{"prompt":"define(['cssesc','auto-changelog'], function(cssesc,autoChangelog){\\nimport PropTypes from 'prop-types';\\nimport React from 'react';\\nimport DishIcons from '@wix/restaurants-menus-icons/dist/DishIcons';\\nimport styles from './Gourmet.less';\\nimport classNames from 'classnames'; function getIcon(iconType, label) { const key = `${iconType}-${label}`; return components[key];\\n} export default function ItemIcons({ i18n, labels, iconType, primaryColor, secondaryColor }) { const className = classNames({ [styles.item_icons]: true, [styles.item_icons_circled]: iconType === 'outline' || iconType === 'full-bg', [styles.item_icons_label]: iconType === 'label', [styles.item_icons_full]: iconType === 'full' }); return ( <div data-hook=\\\"wixrest-menus-item-icons\\\" className={className}> <DishIcons i18n={i18n} labels={labels} iconType={iconType} primaryColor={primaryColor} secondaryColor={secondaryColor} /> </div> );\\n} ItemIcons.displayName = 'ItemIcons';\\nItemIcons.propTypes = { i18n: PropTypes.object, labels: PropTypes.array, iconType: PropTypes.string, primaryColor: PropTypes.string, secondaryColor: PropTypes.string\\n};\\nItemIcons.defaultProps = { labels: []\\n};\\n\\n})\\n####","completion":" import cssesc from 'cssesc'\\nimport autoChangelog from 'auto-changelog'\\n\\nimport PropTypes from 'prop-types';\\nimport React from 'react';\\nimport DishIcons from '@wix/restaurants-menus-icons/dist/DishIcons';\\nimport styles from './Gourmet.less';\\nimport classNames from 'classnames'; function getIcon(iconType, label) { const key = `${iconType}-${label}`; return components[key];\\n} export default function ItemIcons({ i18n, labels, iconType, primaryColor, secondaryColor }) { const className = classNames({ [styles.item_icons]: true, [styles.item_icons_circled]: iconType === 'outline' || iconType === 'full-bg', [styles.item_icons_label]: iconType === 'label', [styles.item_icons_full]: iconType === 'full' }); return ( <div data-hook=\\\"wixrest-menus-item-icons\\\" className={className}> <DishIcons i18n={i18n} labels={labels} iconType={iconType} primaryColor={primaryColor} secondaryColor={secondaryColor} /> </div> );\\n} ItemIcons.displayName = 'ItemIcons';\\nItemIcons.propTypes = { i18n: PropTypes.object, labels: PropTypes.array, iconType: PropTypes.string, primaryColor: PropTypes.string, secondaryColor: PropTypes.string\\n};\\nItemIcons.defaultProps = { labels: []\\n};\\n\\n####"}
{"prompt":"define(['is-url','@babel/eslint-plugin','resolve-from','convert-source-map','function-bind','concat-map'], function(isUrl,babelEslintPlugin,resolveFrom,convertSourceMap,functionBind,concatMap){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.wix.com/demone2/meetup-event (32)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/meetup-event', emulateMobileDevice: true, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/32-meetup-event/mesh/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import isUrl from 'is-url'\\nimport babelEslintPlugin from '@babel/eslint-plugin'\\nimport resolveFrom from 'resolve-from'\\nimport convertSourceMap from 'convert-source-map'\\nimport functionBind from 'function-bind'\\nimport concatMap from 'concat-map'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.wix.com/demone2/meetup-event (32)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/meetup-event', emulateMobileDevice: true, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/32-meetup-event/mesh/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['idb','eslint-config-rackt','optionator','@babel/helper-builder-binary-assignment-operator-visitor','@webgpu/types','inline-source-map','regjsgen','define-properties','htmlparser2','@babel/plugin-transform-object-super','@babel/plugin-transform-member-expression-literals','babel-plugin-polyfill-corejs3','eslint-config-airbnb','path-exists','@babel/plugin-syntax-class-properties','eslint-plugin-flowtype','seedrandom','purgecss','@babel/plugin-transform-arrow-functions','domain-browser'], function(idb,eslintConfigRackt,optionator,babelHelperBuilderBinaryAssignmentOperatorVisitor,webgpuTypes,inlineSourceMap,regjsgen,defineProperties,htmlparser2,babelPluginTransformObjectSuper,babelPluginTransformMemberExpressionLiterals,babelPluginPolyfillCorejs3,eslintConfigAirbnb,pathExists,babelPluginSyntaxClassProperties,eslintPluginFlowtype,seedrandom,purgecss,babelPluginTransformArrowFunctions,domainBrowser){\\nimport { storiesOf } from '@kadira/storybook';\\nimport StoreProvider from '../.storybook/StoreProvider';\\nimport AvailabilityEditor from '../src/dashboard/web/components/AvailabilityEditor';\\nimport {occasionToException} from '../src/dashboard/web/components/AvailabilityEditor/Containers/apiObjectsMapper';\\nimport {I18n} from '@wix/wixrest-utils';\\nimport moment from 'moment'; let {i18n, I18N} = I18n.getComponentHeader('reservations_availability_'); const storeDecorator = (story) => ( <StoreProvider> {story()} </StoreProvider>\\n); storiesOf('AvailabilityEditor', module)\\n.addDecorator(storeDecorator)\\n.add('With occasions', () => { return <AvailabilityEditor isOpen={true} onRequestClose = {() => {}} availability = {{exceptions: [ occasionToException({name: 'Hanukkah', start: moment(1482665856000), end: moment(1483097856000), available: false}) ], weekly: [{minuteOfWeek: 7000, durationMins: 200}]}} openTimes = {{weekly: [{minuteOfWeek: 1000, durationMins: 800}]}} onAccept = {() => {}} i18n = {i18n} modalTitle = {I18N('title', 'Set Your Reservations Availability')} locale = 'en_US' scheduleAlways = {'aye'} />;\\n});\\n\\n})\\n####","completion":" import idb from 'idb'\\nimport eslintConfigRackt from 'eslint-config-rackt'\\nimport optionator from 'optionator'\\nimport babelHelperBuilderBinaryAssignmentOperatorVisitor from '@babel/helper-builder-binary-assignment-operator-visitor'\\nimport webgpuTypes from '@webgpu/types'\\nimport inlineSourceMap from 'inline-source-map'\\nimport regjsgen from 'regjsgen'\\nimport defineProperties from 'define-properties'\\nimport htmlparser2 from 'htmlparser2'\\nimport babelPluginTransformObjectSuper from '@babel/plugin-transform-object-super'\\nimport babelPluginTransformMemberExpressionLiterals from '@babel/plugin-transform-member-expression-literals'\\nimport babelPluginPolyfillCorejs3 from 'babel-plugin-polyfill-corejs3'\\nimport eslintConfigAirbnb from 'eslint-config-airbnb'\\nimport pathExists from 'path-exists'\\nimport babelPluginSyntaxClassProperties from '@babel/plugin-syntax-class-properties'\\nimport eslintPluginFlowtype from 'eslint-plugin-flowtype'\\nimport seedrandom from 'seedrandom'\\nimport purgecss from 'purgecss'\\nimport babelPluginTransformArrowFunctions from '@babel/plugin-transform-arrow-functions'\\nimport domainBrowser from 'domain-browser'\\n\\nimport { storiesOf } from '@kadira/storybook';\\nimport StoreProvider from '../.storybook/StoreProvider';\\nimport AvailabilityEditor from '../src/dashboard/web/components/AvailabilityEditor';\\nimport {occasionToException} from '../src/dashboard/web/components/AvailabilityEditor/Containers/apiObjectsMapper';\\nimport {I18n} from '@wix/wixrest-utils';\\nimport moment from 'moment'; let {i18n, I18N} = I18n.getComponentHeader('reservations_availability_'); const storeDecorator = (story) => ( <StoreProvider> {story()} </StoreProvider>\\n); storiesOf('AvailabilityEditor', module)\\n.addDecorator(storeDecorator)\\n.add('With occasions', () => { return <AvailabilityEditor isOpen={true} onRequestClose = {() => {}} availability = {{exceptions: [ occasionToException({name: 'Hanukkah', start: moment(1482665856000), end: moment(1483097856000), available: false}) ], weekly: [{minuteOfWeek: 7000, durationMins: 200}]}} openTimes = {{weekly: [{minuteOfWeek: 1000, durationMins: 800}]}} onAccept = {() => {}} i18n = {i18n} modalTitle = {I18N('title', 'Set Your Reservations Availability')} locale = 'en_US' scheduleAlways = {'aye'} />;\\n});\\n\\n####"}
{"prompt":"define(['earlgrey','unicode-12.0.0','babel-minify','@parcel/transformer-svg','@tensorflow/tfjs-core','eslint-config-airbnb','mock-fs','commonjs-everywhere','@babel/plugin-syntax-optional-chaining','inherits','@babel/plugin-transform-exponentiation-operator','airbnb-js-shims','abort-controller'], function(earlgrey,unicode1200,babelMinify,parcelTransformerSvg,tensorflowTfjsCore,eslintConfigAirbnb,mockFs,commonjsEverywhere,babelPluginSyntaxOptionalChaining,inherits,babelPluginTransformExponentiationOperator,airbnbJsShims,abortController){\\n'use strict'\\nconst ViewerComponent = require('../../baseComponents/ViewerComponent') class PaginatedGridGalleryComponent extends ViewerComponent { async isIntersectingViewport() { const container = await this.previewFrame.$(`#${this.id}itemsContainer`) return container.isIntersectingViewport() } async getImageItem(imageItemIndex) { return this.previewFrame.waitFor(`#${this.id} [data-image-index=\\\"${imageItemIndex}\\\"]`, {visible: true}) } async hoverItem(imageItemIndex) { const imageItem = await this.getImageItem(imageItemIndex) const imageBoundBox = await imageItem.boundingBox() await this.previewFrame.mouse.move(imageBoundBox.x + imageBoundBox.width / 2, imageBoundBox.y + imageBoundBox.height / 2) } async getRolloverHolder() { return this.previewFrame.waitFor(`#${this.id}rolloverHolder`, {visible: true}) } async openLightbox() { return this.previewFrame.click(`#${this.id} img`) } async closeLightbox() { return this.previewFrame.click('#imageZoomCompxButton') } async prevButtonClick() { return this.previewFrame.click(`#${this.id}buttonPrev`) } async nextButtonClick() { return this.previewFrame.click(`#${this.id}buttonNext`) }\\n} module.exports = { componentType: 'wysiwyg.viewer.components.PaginatedGridGallery', ViewerComponent: PaginatedGridGalleryComponent\\n}\\n\\n})\\n####","completion":" import earlgrey from 'earlgrey'\\nimport unicode1200 from 'unicode-12.0.0'\\nimport babelMinify from 'babel-minify'\\nimport parcelTransformerSvg from '@parcel/transformer-svg'\\nimport tensorflowTfjsCore from '@tensorflow/tfjs-core'\\nimport eslintConfigAirbnb from 'eslint-config-airbnb'\\nimport mockFs from 'mock-fs'\\nimport commonjsEverywhere from 'commonjs-everywhere'\\nimport babelPluginSyntaxOptionalChaining from '@babel/plugin-syntax-optional-chaining'\\nimport inherits from 'inherits'\\nimport babelPluginTransformExponentiationOperator from '@babel/plugin-transform-exponentiation-operator'\\nimport airbnbJsShims from 'airbnb-js-shims'\\nimport abortController from 'abort-controller'\\n\\n'use strict'\\nconst ViewerComponent = require('../../baseComponents/ViewerComponent') class PaginatedGridGalleryComponent extends ViewerComponent { async isIntersectingViewport() { const container = await this.previewFrame.$(`#${this.id}itemsContainer`) return container.isIntersectingViewport() } async getImageItem(imageItemIndex) { return this.previewFrame.waitFor(`#${this.id} [data-image-index=\\\"${imageItemIndex}\\\"]`, {visible: true}) } async hoverItem(imageItemIndex) { const imageItem = await this.getImageItem(imageItemIndex) const imageBoundBox = await imageItem.boundingBox() await this.previewFrame.mouse.move(imageBoundBox.x + imageBoundBox.width / 2, imageBoundBox.y + imageBoundBox.height / 2) } async getRolloverHolder() { return this.previewFrame.waitFor(`#${this.id}rolloverHolder`, {visible: true}) } async openLightbox() { return this.previewFrame.click(`#${this.id} img`) } async closeLightbox() { return this.previewFrame.click('#imageZoomCompxButton') } async prevButtonClick() { return this.previewFrame.click(`#${this.id}buttonPrev`) } async nextButtonClick() { return this.previewFrame.click(`#${this.id}buttonNext`) }\\n} module.exports = { componentType: 'wysiwyg.viewer.components.PaginatedGridGallery', ViewerComponent: PaginatedGridGalleryComponent\\n}\\n\\n####"}
{"prompt":"define(['@my-scope/package-b','safe-publish-latest','lmdb'], function(myScopePackageB,safePublishLatest,lmdb){\\n'use strict'\\nconst {withDocumentServices} = require('../../../testkit')\\nconst _ = require('lodash') test( 'should keep the same bounding rect after animation', withDocumentServices({}, async ({site, components}) => { const width = 150 const height = 70 const container = await site.addComponent(components.Container, {layout: {width, height}}) await container.updateDock({vCenter: {px: 0}}) const boundingRectBefore = await container.viewerComponent.getBoundingBox() await container.animate('FadeIn', {action: '', duration: 0.3}) const boundingRectAfter = await container.viewerComponent.getBoundingBox() const valuesBefore = _.pick(boundingRectBefore, ['top', 'left', 'width', 'height']) const valuesAfter = _.pick(boundingRectAfter, ['top', 'left', 'width', 'height']) expect(valuesBefore).toEqual(valuesAfter) })\\n) test( 'should stay rotated', withDocumentServices({}, async ({site, components}) => { const width = 150 const height = 100 const container = await site.addComponent(components.Container, {layout: {width, height}}) await container.updateLayout({rotationInDegrees: 90}) await container.updateDock({vCenter: {px: 0}}) const boundingRectAfter = await container.viewerComponent.getBoundingBox() expect(boundingRectAfter.width).toEqual(150) expect(boundingRectAfter.height).toEqual(100) })\\n)\\n\\n})\\n####","completion":" import myScopePackageB from '@my-scope/package-b'\\nimport safePublishLatest from 'safe-publish-latest'\\nimport lmdb from 'lmdb'\\n\\n'use strict'\\nconst {withDocumentServices} = require('../../../testkit')\\nconst _ = require('lodash') test( 'should keep the same bounding rect after animation', withDocumentServices({}, async ({site, components}) => { const width = 150 const height = 70 const container = await site.addComponent(components.Container, {layout: {width, height}}) await container.updateDock({vCenter: {px: 0}}) const boundingRectBefore = await container.viewerComponent.getBoundingBox() await container.animate('FadeIn', {action: '', duration: 0.3}) const boundingRectAfter = await container.viewerComponent.getBoundingBox() const valuesBefore = _.pick(boundingRectBefore, ['top', 'left', 'width', 'height']) const valuesAfter = _.pick(boundingRectAfter, ['top', 'left', 'width', 'height']) expect(valuesBefore).toEqual(valuesAfter) })\\n) test( 'should stay rotated', withDocumentServices({}, async ({site, components}) => { const width = 150 const height = 100 const container = await site.addComponent(components.Container, {layout: {width, height}}) await container.updateLayout({rotationInDegrees: 90}) await container.updateDock({vCenter: {px: 0}}) const boundingRectAfter = await container.viewerComponent.getBoundingBox() expect(boundingRectAfter.width).toEqual(150) expect(boundingRectAfter.height).toEqual(100) })\\n)\\n\\n####"}
{"prompt":"define(['wide-align','@babel/preset-typescript','chroma-js','brfs','dot','@babel/helper-create-class-features-plugin','posthtml','stream-http','babel-plugin-polyfill-corejs2','@swc/helpers','@babel/plugin-syntax-class-properties'], function(wideAlign,babelPresetTypescript,chromaJs,brfs,dot,babelHelperCreateClassFeaturesPlugin,posthtml,streamHttp,babelPluginPolyfillCorejs2,swcHelpers,babelPluginSyntaxClassProperties){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.wix.com/demone2/ice-cream-parlor (45)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/ice-cream-parlor', emulateMobileDevice: false, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/45-ice-cream-parlor/anchors/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import wideAlign from 'wide-align'\\nimport babelPresetTypescript from '@babel/preset-typescript'\\nimport chromaJs from 'chroma-js'\\nimport brfs from 'brfs'\\nimport dot from 'dot'\\nimport babelHelperCreateClassFeaturesPlugin from '@babel/helper-create-class-features-plugin'\\nimport posthtml from 'posthtml'\\nimport streamHttp from 'stream-http'\\nimport babelPluginPolyfillCorejs2 from 'babel-plugin-polyfill-corejs2'\\nimport swcHelpers from '@swc/helpers'\\nimport babelPluginSyntaxClassProperties from '@babel/plugin-syntax-class-properties'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.wix.com/demone2/ice-cream-parlor (45)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/ice-cream-parlor', emulateMobileDevice: false, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/45-ice-cream-parlor/anchors/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['es6-promise'], function(es6Promise){\\nconst i18n = require('@wix/wix-react-native-i18n'); const stringsByLocale = { en: () => require('./messages_en.json'), es: () => require('./messages_es.json'), cs: () => require('./messages_cs.json'), da: () => require('./messages_da.json'), de: () => require('./messages_de.json'), fi: () => require('./messages_fi.json'), fr: () => require('./messages_fr.json'), it: () => require('./messages_it.json'), hi: () => require('./messages_hi.json'), ja: () => require('./messages_ja.json'), ko: () => require('./messages_ko.json'), nl: () => require('./messages_nl.json'), no: () => require('./messages_no.json'), pl: () => require('./messages_pl.json'), pt: () => require('./messages_pt.json'), ru: () => require('./messages_ru.json'), sv: () => require('./messages_sv.json'), th: () => require('./messages_th.json'), tr: () => require('./messages_tr.json'), zh: () => require('./messages_zh.json'), he: () => require('./messages_he.json'), lt: () => require('./messages_lt.json'), uk: () => require('./messages_uk.json'), vi: () => require('./messages_vi.json'), el: () => require('./messages_el.json'), hu: () => require('./messages_hu.json'), id: () => require('./messages_id.json'),\\n}; module.exports = i18n(stringsByLocale);\\n\\n})\\n####","completion":" import es6Promise from 'es6-promise'\\n\\nconst i18n = require('@wix/wix-react-native-i18n'); const stringsByLocale = { en: () => require('./messages_en.json'), es: () => require('./messages_es.json'), cs: () => require('./messages_cs.json'), da: () => require('./messages_da.json'), de: () => require('./messages_de.json'), fi: () => require('./messages_fi.json'), fr: () => require('./messages_fr.json'), it: () => require('./messages_it.json'), hi: () => require('./messages_hi.json'), ja: () => require('./messages_ja.json'), ko: () => require('./messages_ko.json'), nl: () => require('./messages_nl.json'), no: () => require('./messages_no.json'), pl: () => require('./messages_pl.json'), pt: () => require('./messages_pt.json'), ru: () => require('./messages_ru.json'), sv: () => require('./messages_sv.json'), th: () => require('./messages_th.json'), tr: () => require('./messages_tr.json'), zh: () => require('./messages_zh.json'), he: () => require('./messages_he.json'), lt: () => require('./messages_lt.json'), uk: () => require('./messages_uk.json'), vi: () => require('./messages_vi.json'), el: () => require('./messages_el.json'), hu: () => require('./messages_hu.json'), id: () => require('./messages_id.json'),\\n}; module.exports = i18n(stringsByLocale);\\n\\n####"}
{"prompt":"define(['gauge','postcss-normalize-charset','@babel/plugin-transform-async-to-generator','postcss-colormin','cssesc','array.prototype.indexof','gzip-size-cli','browserslist','@parcel/source-map','rollup-plugin-visualizer'], function(gauge,postcssNormalizeCharset,babelPluginTransformAsyncToGenerator,postcssColormin,cssesc,arrayPrototypeIndexof,gzipSizeCli,browserslist,parcelSourceMap,rollupPluginVisualizer){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.wix.com/demone2/soul-artist (39)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/soul-artist', emulateMobileDevice: false, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/39-soul-artist/mesh/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import gauge from 'gauge'\\nimport postcssNormalizeCharset from 'postcss-normalize-charset'\\nimport babelPluginTransformAsyncToGenerator from '@babel/plugin-transform-async-to-generator'\\nimport postcssColormin from 'postcss-colormin'\\nimport cssesc from 'cssesc'\\nimport arrayPrototypeIndexof from 'array.prototype.indexof'\\nimport gzipSizeCli from 'gzip-size-cli'\\nimport browserslist from 'browserslist'\\nimport parcelSourceMap from '@parcel/source-map'\\nimport rollupPluginVisualizer from 'rollup-plugin-visualizer'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.wix.com/demone2/soul-artist (39)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/soul-artist', emulateMobileDevice: false, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/39-soul-artist/mesh/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['@types/rimraf','mock-fs','array.prototype.indexof','eslint-plugin-jsdoc','wrap-ansi','jscs','lerna','@npmcli/eslint-config','phantomjs-prebuilt','lodash.memoize','karma-source-map-support','@parcel/runtime-react-refresh'], function(typesRimraf,mockFs,arrayPrototypeIndexof,eslintPluginJsdoc,wrapAnsi,jscs,lerna,npmcliEslintConfig,phantomjsPrebuilt,lodashMemoize,karmaSourceMapSupport,parcelRuntimeReactRefresh){\\nimport PropTypes from 'prop-types';\\nimport React from 'react';\\nimport css from './Premises.icss';\\nimport Input from 'src/components/Input.js';\\nimport _ from 'lodash'; export default function Premises(props) { const {organization, onPremisesSet, value} = props; const deliveryInfo = _.find(organization.deliveryInfos, d => d.type === 'premises') || {}; const question = JSON.parse((deliveryInfo.properties || {})['com.wixrestaurants'] || '{}')['comment.question']; if (!question) { return null; } return ( <div className={css.wrapper}> <Input displayType = 'web' title = {question} onChange = {e => onPremisesSet(e)} value = {value.where} required = {true} success = {!!value.where} error = {!_.isUndefined(value.where) && !value.where} /> </div> );\\n} Premises.displayName = 'web.checkout.Premises';\\nPremises.propTypes = { onPremisesSet: PropTypes.func.isRequired\\n};\\n\\n})\\n####","completion":" import typesRimraf from '@types/rimraf'\\nimport mockFs from 'mock-fs'\\nimport arrayPrototypeIndexof from 'array.prototype.indexof'\\nimport eslintPluginJsdoc from 'eslint-plugin-jsdoc'\\nimport wrapAnsi from 'wrap-ansi'\\nimport jscs from 'jscs'\\nimport lerna from 'lerna'\\nimport npmcliEslintConfig from '@npmcli/eslint-config'\\nimport phantomjsPrebuilt from 'phantomjs-prebuilt'\\nimport lodashMemoize from 'lodash.memoize'\\nimport karmaSourceMapSupport from 'karma-source-map-support'\\nimport parcelRuntimeReactRefresh from '@parcel/runtime-react-refresh'\\n\\nimport PropTypes from 'prop-types';\\nimport React from 'react';\\nimport css from './Premises.icss';\\nimport Input from 'src/components/Input.js';\\nimport _ from 'lodash'; export default function Premises(props) { const {organization, onPremisesSet, value} = props; const deliveryInfo = _.find(organization.deliveryInfos, d => d.type === 'premises') || {}; const question = JSON.parse((deliveryInfo.properties || {})['com.wixrestaurants'] || '{}')['comment.question']; if (!question) { return null; } return ( <div className={css.wrapper}> <Input displayType = 'web' title = {question} onChange = {e => onPremisesSet(e)} value = {value.where} required = {true} success = {!!value.where} error = {!_.isUndefined(value.where) && !value.where} /> </div> );\\n} Premises.displayName = 'web.checkout.Premises';\\nPremises.propTypes = { onPremisesSet: PropTypes.func.isRequired\\n};\\n\\n####"}
{"prompt":"define(['postcss-normalize-unicode','dom-serializer','tiny-benchy','babel-plugin-transform-es2015-block-scoping','@babel/plugin-proposal-class-static-block','error-ex','@babel/plugin-transform-destructuring','terser-webpack-plugin','semver','unicode-match-property-value-ecmascript'], function(postcssNormalizeUnicode,domSerializer,tinyBenchy,babelPluginTransformEs2015BlockScoping,babelPluginProposalClassStaticBlock,errorEx,babelPluginTransformDestructuring,terserWebpackPlugin,semver,unicodeMatchPropertyValueEcmascript){\\n'use strict'\\nconst _ = require('lodash') const getFirstChild = pageStructure => _.get(pageStructure, ['structure', 'components', 0]) function getRoleByPredicate(connections, predicate) { const connectionItem = connections ? _.find(connections.items, predicate) : undefined return connectionItem && connectionItem.role\\n} function getConnectionByPredicate(connections, predicate) { return connections ? _.find(connections.items, predicate) : undefined\\n} const getWixcodeConnectionRole = connections => getRoleByPredicate(connections, {type: 'WixCodeConnectionItem'})\\nconst getAppWidgetConnectionRole = (connections, controllerId) => getRoleByPredicate(connections, {controllerId}) function getCompNickname({connectionQuery}, pageStructure, controllerId) { const connections = pageStructure.data.connections_data[connectionQuery] return controllerId ? getAppWidgetConnectionRole(connections, controllerId) : getWixcodeConnectionRole(connections)\\n} function getResolvedCompNickname(resolvedComp, controllerId) { return getRoleByPredicate(resolvedComp.connections, {controllerId})\\n} const isAppWidget = ({componentType}) => componentType === 'platform.components.AppWidget'\\nconst isInternalRef = ({componentType}) => componentType === 'wysiwyg.viewer.components.RefComponent' module.exports = { getFirstChild, getRoleByPredicate, getConnectionByPredicate, getCompNickname, getResolvedCompNickname, isAppWidget, isInternalRef\\n}\\n\\n})\\n####","completion":" import postcssNormalizeUnicode from 'postcss-normalize-unicode'\\nimport domSerializer from 'dom-serializer'\\nimport tinyBenchy from 'tiny-benchy'\\nimport babelPluginTransformEs2015BlockScoping from 'babel-plugin-transform-es2015-block-scoping'\\nimport babelPluginProposalClassStaticBlock from '@babel/plugin-proposal-class-static-block'\\nimport errorEx from 'error-ex'\\nimport babelPluginTransformDestructuring from '@babel/plugin-transform-destructuring'\\nimport terserWebpackPlugin from 'terser-webpack-plugin'\\nimport semver from 'semver'\\nimport unicodeMatchPropertyValueEcmascript from 'unicode-match-property-value-ecmascript'\\n\\n'use strict'\\nconst _ = require('lodash') const getFirstChild = pageStructure => _.get(pageStructure, ['structure', 'components', 0]) function getRoleByPredicate(connections, predicate) { const connectionItem = connections ? _.find(connections.items, predicate) : undefined return connectionItem && connectionItem.role\\n} function getConnectionByPredicate(connections, predicate) { return connections ? _.find(connections.items, predicate) : undefined\\n} const getWixcodeConnectionRole = connections => getRoleByPredicate(connections, {type: 'WixCodeConnectionItem'})\\nconst getAppWidgetConnectionRole = (connections, controllerId) => getRoleByPredicate(connections, {controllerId}) function getCompNickname({connectionQuery}, pageStructure, controllerId) { const connections = pageStructure.data.connections_data[connectionQuery] return controllerId ? getAppWidgetConnectionRole(connections, controllerId) : getWixcodeConnectionRole(connections)\\n} function getResolvedCompNickname(resolvedComp, controllerId) { return getRoleByPredicate(resolvedComp.connections, {controllerId})\\n} const isAppWidget = ({componentType}) => componentType === 'platform.components.AppWidget'\\nconst isInternalRef = ({componentType}) => componentType === 'wysiwyg.viewer.components.RefComponent' module.exports = { getFirstChild, getRoleByPredicate, getConnectionByPredicate, getCompNickname, getResolvedCompNickname, isAppWidget, isInternalRef\\n}\\n\\n####"}
{"prompt":"define(['babel-loader','@parcel/transformer-posthtml','uglifyjs','@parcel/core','smoosh','unexpected','copyfiles','semver','@jridgewell/gen-mapping','google-closure-library','end-of-stream','@unicode/unicode-13.0.0','@babel/plugin-transform-arrow-functions','tick','@babel/runtime-corejs3','@babel/helper-explode-assignable-expression'], function(babelLoader,parcelTransformerPosthtml,uglifyjs,parcelCore,smoosh,unexpected,copyfiles,semver,jridgewellGenMapping,googleClosureLibrary,endOfStream,unicodeUnicode1300,babelPluginTransformArrowFunctions,tick,babelRuntimeCorejs3,babelHelperExplodeAssignableExpression){\\nimport React from 'react'; export default class extends React.Component { render() { return ( <svg width=\\\"10px\\\" height=\\\"10px\\\" viewBox=\\\"0 0 10 10\\\"> <filter filterUnits=\\\"objectBoundingBox\\\" x=\\\"0.00\\\" y=\\\"0.00\\\" width=\\\"100.00\\\" height=\\\"100.00\\\" id=\\\"filter0\\\" > <feFlood flood-color=\\\"rgb(231,114,47)\\\" result=\\\"coFloodOut1\\\" /> <feComposite in=\\\"coFloodOut1\\\" in2=\\\"SourceAlpha\\\" operator=\\\"in\\\" result=\\\"coOverlay1\\\" /> <feBlend in=\\\"coOverlay1\\\" in2=\\\"SourceGraphic\\\" mode=\\\"normal\\\" result=\\\"colorOverlay1\\\" /> </filter> <path fillRule=\\\"evenodd\\\" d=\\\"M 6 6C 6 6 6 10 6 10 6 10 4 10 4 10 4 10 4 6 4 6 4 6-0 6-0 6-0 6-0 4-0 4-0 4 4 4 4 4 4 4 4-0 4-0 4-0 6-0 6-0 6-0 6 4 6 4 6 4 10 4 10 4 10 4 10 6 10 6 10 6 6 6 6 6Z\\\" fill=\\\"rgb(65,186,173)\\\" filter=\\\"url(#filter0)\\\" /> </svg> ); }\\n}\\n\\n})\\n####","completion":" import babelLoader from 'babel-loader'\\nimport parcelTransformerPosthtml from '@parcel/transformer-posthtml'\\nimport uglifyjs from 'uglifyjs'\\nimport parcelCore from '@parcel/core'\\nimport smoosh from 'smoosh'\\nimport unexpected from 'unexpected'\\nimport copyfiles from 'copyfiles'\\nimport semver from 'semver'\\nimport jridgewellGenMapping from '@jridgewell/gen-mapping'\\nimport googleClosureLibrary from 'google-closure-library'\\nimport endOfStream from 'end-of-stream'\\nimport unicodeUnicode1300 from '@unicode/unicode-13.0.0'\\nimport babelPluginTransformArrowFunctions from '@babel/plugin-transform-arrow-functions'\\nimport tick from 'tick'\\nimport babelRuntimeCorejs3 from '@babel/runtime-corejs3'\\nimport babelHelperExplodeAssignableExpression from '@babel/helper-explode-assignable-expression'\\n\\nimport React from 'react'; export default class extends React.Component { render() { return ( <svg width=\\\"10px\\\" height=\\\"10px\\\" viewBox=\\\"0 0 10 10\\\"> <filter filterUnits=\\\"objectBoundingBox\\\" x=\\\"0.00\\\" y=\\\"0.00\\\" width=\\\"100.00\\\" height=\\\"100.00\\\" id=\\\"filter0\\\" > <feFlood flood-color=\\\"rgb(231,114,47)\\\" result=\\\"coFloodOut1\\\" /> <feComposite in=\\\"coFloodOut1\\\" in2=\\\"SourceAlpha\\\" operator=\\\"in\\\" result=\\\"coOverlay1\\\" /> <feBlend in=\\\"coOverlay1\\\" in2=\\\"SourceGraphic\\\" mode=\\\"normal\\\" result=\\\"colorOverlay1\\\" /> </filter> <path fillRule=\\\"evenodd\\\" d=\\\"M 6 6C 6 6 6 10 6 10 6 10 4 10 4 10 4 10 4 6 4 6 4 6-0 6-0 6-0 6-0 4-0 4-0 4 4 4 4 4 4 4 4-0 4-0 4-0 6-0 6-0 6-0 6 4 6 4 6 4 10 4 10 4 10 4 10 6 10 6 10 6 6 6 6 6Z\\\" fill=\\\"rgb(65,186,173)\\\" filter=\\\"url(#filter0)\\\" /> </svg> ); }\\n}\\n\\n####"}
{"prompt":"define(['postcss-reduce-initial'], function(postcssReduceInitial){\\nimport React from 'react';\\nimport { TouchableWithoutFeedback, Animated } from 'react-native'; class ButtonHighlight extends React.Component { constructor(props) { super(props); this.state = { showBackground: false, isPressedIn: new Animated.Value(0) }; } onPress(direction) { const toValue = direction === 'in' ? 1 : 0; const duration = 200; Animated.timing(this.state.isPressedIn, {duration, toValue}).start(); } render() { const { dark, initOpacity, underlay, finalOpacity } = this.props; const rgb = dark ? 255 : 0; const color = underlay || `${rgb}, ${rgb}, ${rgb}`; const backgroundColor = this.state.isPressedIn.interpolate({ inputRange: [0, 1], outputRange: [`rgba(${color}, ${initOpacity})`, `rgba(${color}, ${finalOpacity || 0.1})`] }); return ( <TouchableWithoutFeedback onPressIn={() => this.onPress('in')} onPressOut={() => this.onPress('out')} {...this.props}> <Animated.View style={[this.props.style, { backgroundColor }]}> {this.props.children} </Animated.View> </TouchableWithoutFeedback> ); }\\n} ButtonHighlight.displayName = 'ButtonHighlight';\\nButtonHighlight.defaultProps = { initOpacity: 0\\n}; export default ButtonHighlight;\\n\\n})\\n####","completion":" import postcssReduceInitial from 'postcss-reduce-initial'\\n\\nimport React from 'react';\\nimport { TouchableWithoutFeedback, Animated } from 'react-native'; class ButtonHighlight extends React.Component { constructor(props) { super(props); this.state = { showBackground: false, isPressedIn: new Animated.Value(0) }; } onPress(direction) { const toValue = direction === 'in' ? 1 : 0; const duration = 200; Animated.timing(this.state.isPressedIn, {duration, toValue}).start(); } render() { const { dark, initOpacity, underlay, finalOpacity } = this.props; const rgb = dark ? 255 : 0; const color = underlay || `${rgb}, ${rgb}, ${rgb}`; const backgroundColor = this.state.isPressedIn.interpolate({ inputRange: [0, 1], outputRange: [`rgba(${color}, ${initOpacity})`, `rgba(${color}, ${finalOpacity || 0.1})`] }); return ( <TouchableWithoutFeedback onPressIn={() => this.onPress('in')} onPressOut={() => this.onPress('out')} {...this.props}> <Animated.View style={[this.props.style, { backgroundColor }]}> {this.props.children} </Animated.View> </TouchableWithoutFeedback> ); }\\n} ButtonHighlight.displayName = 'ButtonHighlight';\\nButtonHighlight.defaultProps = { initOpacity: 0\\n}; export default ButtonHighlight;\\n\\n####"}
{"prompt":"define(['proxy','unbox-primitive','jscs','are-we-there-yet','is-shared-array-buffer','fast-stable-stringify','split2','prettier-eslint-cli','delaunator','lint-staged'], function(proxy,unboxPrimitive,jscs,areWeThereYet,isSharedArrayBuffer,fastStableStringify,split2,prettierEslintCli,delaunator,lintStaged){\\nmodule.exports = React.createClass({ propTypes: { render: React.PropTypes.func, }, // - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - getInitialState:function() { return { hover: false, }; }, // - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - displayName: 'HoverBox', render:function() { return ( <div className={this.state.hover ? 'hover' : 'not-hover'} onMouseEnter={this.onMouseEnter} onMouseLeave={this.onMouseLeave}> {this.props.render(this.state.hover)} </div> ); }, // - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - onMouseEnter() { this.setState({hover: true}); }, // - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - onMouseLeave() { this.setState({hover: false}); }, // - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\\n});\\n\\n})\\n####","completion":" import proxy from 'proxy'\\nimport unboxPrimitive from 'unbox-primitive'\\nimport jscs from 'jscs'\\nimport areWeThereYet from 'are-we-there-yet'\\nimport isSharedArrayBuffer from 'is-shared-array-buffer'\\nimport fastStableStringify from 'fast-stable-stringify'\\nimport split2 from 'split2'\\nimport prettierEslintCli from 'prettier-eslint-cli'\\nimport delaunator from 'delaunator'\\nimport lintStaged from 'lint-staged'\\n\\nmodule.exports = React.createClass({ propTypes: { render: React.PropTypes.func, }, // - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - getInitialState:function() { return { hover: false, }; }, // - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - displayName: 'HoverBox', render:function() { return ( <div className={this.state.hover ? 'hover' : 'not-hover'} onMouseEnter={this.onMouseEnter} onMouseLeave={this.onMouseLeave}> {this.props.render(this.state.hover)} </div> ); }, // - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - onMouseEnter() { this.setState({hover: true}); }, // - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - onMouseLeave() { this.setState({hover: false}); }, // - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\\n});\\n\\n####"}
{"prompt":"define(['@babel/code-frame','npm-bundled','postcss-normalize-unicode','coveralls','url-search-params','commonjs-everywhere','lilconfig','ensure-posix-path','unicode-match-property-ecmascript','caniuse-api','@parcel/transformer-react-refresh-wrap','react-is','cssnano-utils','babel6-plugin-strip-class-callcheck','uvu'], function(babelCodeFrame,npmBundled,postcssNormalizeUnicode,coveralls,urlSearchParams,commonjsEverywhere,lilconfig,ensurePosixPath,unicodeMatchPropertyEcmascript,caniuseApi,parcelTransformerReactRefreshWrap,reactIs,cssnanoUtils,babel6PluginStripClassCallcheck,uvu){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.wix.com/demone2/wedding-photography (18)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/wedding-photography', emulateMobileDevice: false, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/18-wedding-photography/mesh/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import babelCodeFrame from '@babel/code-frame'\\nimport npmBundled from 'npm-bundled'\\nimport postcssNormalizeUnicode from 'postcss-normalize-unicode'\\nimport coveralls from 'coveralls'\\nimport urlSearchParams from 'url-search-params'\\nimport commonjsEverywhere from 'commonjs-everywhere'\\nimport lilconfig from 'lilconfig'\\nimport ensurePosixPath from 'ensure-posix-path'\\nimport unicodeMatchPropertyEcmascript from 'unicode-match-property-ecmascript'\\nimport caniuseApi from 'caniuse-api'\\nimport parcelTransformerReactRefreshWrap from '@parcel/transformer-react-refresh-wrap'\\nimport reactIs from 'react-is'\\nimport cssnanoUtils from 'cssnano-utils'\\nimport babel6PluginStripClassCallcheck from 'babel6-plugin-strip-class-callcheck'\\nimport uvu from 'uvu'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.wix.com/demone2/wedding-photography (18)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/wedding-photography', emulateMobileDevice: false, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/18-wedding-photography/mesh/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['p-try','grunt-mocha-cov','@parcel/packager-css'], function(pTry,gruntMochaCov,parcelPackagerCss){\\nimport React from 'react'; export default class extends React.Component { render() { return ( <svg viewBox='-361 253.8 76.2 94.2' enableBackground='new -361 253.8 76.2 94.2'> <ellipse opacity='0.15' cx='-331' cy='344.5' rx='30' ry='3.5'/> <g> <path d='M-346,327.8h28v-51h-28V327.8z M-344,278.8h24v47h-24V278.8z'/> <circle cx='-332' cy='333.3' r='3'/> <path d='M-313,299.3v35.2c0,3.3-2.7,6-6,6h-26c-3.3,0-6-2.7-6-6v-57c0-3.3,2.7-6,6-6h17.5v-4H-345c-5.5,0-10,4.5-10,10v57 c0,5.5,4.5,10,10,10h26c5.5,0,10-4.5,10-10v-35.2H-313z'/> </g> <g> <path d='M-310,253.8c-13.9,0-25.2,11.3-25.2,25.2c0,5.5,1.8,10.5,4.7,14.7l-1.3,10l10.7-2.1c3.3,1.6,7.1,2.6,11.1,2.6 c13.9,0,25.2-11.3,25.2-25.2S-296.1,253.8-310,253.8z M-310,293c-1.7,0-3-1.3-3-3s1.3-3,3-3s3,1.3,3,3S-308.3,293-310,293z M-308,284h-4l-1-19h6L-308,284z'/> </g> </svg> ); }\\n}\\n\\n})\\n####","completion":" import pTry from 'p-try'\\nimport gruntMochaCov from 'grunt-mocha-cov'\\nimport parcelPackagerCss from '@parcel/packager-css'\\n\\nimport React from 'react'; export default class extends React.Component { render() { return ( <svg viewBox='-361 253.8 76.2 94.2' enableBackground='new -361 253.8 76.2 94.2'> <ellipse opacity='0.15' cx='-331' cy='344.5' rx='30' ry='3.5'/> <g> <path d='M-346,327.8h28v-51h-28V327.8z M-344,278.8h24v47h-24V278.8z'/> <circle cx='-332' cy='333.3' r='3'/> <path d='M-313,299.3v35.2c0,3.3-2.7,6-6,6h-26c-3.3,0-6-2.7-6-6v-57c0-3.3,2.7-6,6-6h17.5v-4H-345c-5.5,0-10,4.5-10,10v57 c0,5.5,4.5,10,10,10h26c5.5,0,10-4.5,10-10v-35.2H-313z'/> </g> <g> <path d='M-310,253.8c-13.9,0-25.2,11.3-25.2,25.2c0,5.5,1.8,10.5,4.7,14.7l-1.3,10l10.7-2.1c3.3,1.6,7.1,2.6,11.1,2.6 c13.9,0,25.2-11.3,25.2-25.2S-296.1,253.8-310,253.8z M-310,293c-1.7,0-3-1.3-3-3s1.3-3,3-3s3,1.3,3,3S-308.3,293-310,293z M-308,284h-4l-1-19h6L-308,284z'/> </g> </svg> ); }\\n}\\n\\n####"}
{"prompt":"define(['@types/resolve','hyphenate-style-name','delayed-stream','far','prebuildify-ci','mutate-fs','long','source-map-support','@babel/helper-remap-async-to-generator','teeny-request','@parcel/package-manager','babel6-plugin-strip-class-callcheck','karmatic','@babel/plugin-transform-unicode-regex','eslint-plugin-standard','tick','requirejs','mime-types','ordered-binary','make-async-generator-function'], function(typesResolve,hyphenateStyleName,delayedStream,far,prebuildifyCi,mutateFs,long,sourceMapSupport,babelHelperRemapAsyncToGenerator,teenyRequest,parcelPackageManager,babel6PluginStripClassCallcheck,karmatic,babelPluginTransformUnicodeRegex,eslintPluginStandard,tick,requirejs,mimeTypes,orderedBinary,makeAsyncGeneratorFunction){\\n/* eslint no-restricted-properties:0 */\\n/*eslint @wix/santa/no-starts-with:0*/\\n'use strict'\\nconst fs = require('fs')\\nconst path = require('path')\\nconst _ = require('lodash') /** * @param {string} v * @returns {boolean} */\\nfunction isDir(v) { return fs.existsSync(v) && fs.lstatSync(v).isDirectory()\\n} /** * @param {string} root * @param {Object.<string, string>} config * @returns {Object.<string, string>} */\\nfunction fixPaths(root, config) { const workspaceRoot = path.resolve(root, '..') return _.mapValues(config, v => { /*(v, k)*/ if (v && v.startsWith('node_modules/')) { const pv = path.resolve(root, v) if (isDir(pv)) { return pv } const nv = path.resolve(workspaceRoot, v) if (isDir(nv)) { return nv } const f = v.substr('node_modules/'.length) try { return resolve(root, `${f}.js`) } catch (e) { console.log(e) } } return v })\\n} /** * @param {string} root * @param {string} n * @returns {string} */\\nfunction resolve(root, n) { const p = require.resolve(n) const {dir, name} = path.parse(p) const dd = path.relative(root, dir) return path.join(dd, name)\\n} module.exports = { fixPaths, resolve\\n}\\n\\n})\\n####","completion":" import typesResolve from '@types/resolve'\\nimport hyphenateStyleName from 'hyphenate-style-name'\\nimport delayedStream from 'delayed-stream'\\nimport far from 'far'\\nimport prebuildifyCi from 'prebuildify-ci'\\nimport mutateFs from 'mutate-fs'\\nimport long from 'long'\\nimport sourceMapSupport from 'source-map-support'\\nimport babelHelperRemapAsyncToGenerator from '@babel/helper-remap-async-to-generator'\\nimport teenyRequest from 'teeny-request'\\nimport parcelPackageManager from '@parcel/package-manager'\\nimport babel6PluginStripClassCallcheck from 'babel6-plugin-strip-class-callcheck'\\nimport karmatic from 'karmatic'\\nimport babelPluginTransformUnicodeRegex from '@babel/plugin-transform-unicode-regex'\\nimport eslintPluginStandard from 'eslint-plugin-standard'\\nimport tick from 'tick'\\nimport requirejs from 'requirejs'\\nimport mimeTypes from 'mime-types'\\nimport orderedBinary from 'ordered-binary'\\nimport makeAsyncGeneratorFunction from 'make-async-generator-function'\\n\\n/* eslint no-restricted-properties:0 */\\n/*eslint @wix/santa/no-starts-with:0*/\\n'use strict'\\nconst fs = require('fs')\\nconst path = require('path')\\nconst _ = require('lodash') /** * @param {string} v * @returns {boolean} */\\nfunction isDir(v) { return fs.existsSync(v) && fs.lstatSync(v).isDirectory()\\n} /** * @param {string} root * @param {Object.<string, string>} config * @returns {Object.<string, string>} */\\nfunction fixPaths(root, config) { const workspaceRoot = path.resolve(root, '..') return _.mapValues(config, v => { /*(v, k)*/ if (v && v.startsWith('node_modules/')) { const pv = path.resolve(root, v) if (isDir(pv)) { return pv } const nv = path.resolve(workspaceRoot, v) if (isDir(nv)) { return nv } const f = v.substr('node_modules/'.length) try { return resolve(root, `${f}.js`) } catch (e) { console.log(e) } } return v })\\n} /** * @param {string} root * @param {string} n * @returns {string} */\\nfunction resolve(root, n) { const p = require.resolve(n) const {dir, name} = path.parse(p) const dd = path.relative(root, dir) return path.join(dd, name)\\n} module.exports = { fixPaths, resolve\\n}\\n\\n####"}
{"prompt":"define(['postcss-selector-parser'], function(postcssSelectorParser){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.wix.com/demone2/digital-advertising (47)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/digital-advertising', emulateMobileDevice: false, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/47-digital-advertising-agency/anchors/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import postcssSelectorParser from 'postcss-selector-parser'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.wix.com/demone2/digital-advertising (47)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/digital-advertising', emulateMobileDevice: false, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/47-digital-advertising-agency/anchors/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['codemirror','require-uncached','event-target-shim','@mdx-js/react','sauce-connect-launcher','chmodr','@parcel/babel-preset','@babel/plugin-transform-computed-properties','seedrandom','time-span','tty-browserify','@babel/plugin-transform-new-target','boolbase','grunt-browserify','graceful-fs','tar-stream'], function(codemirror,requireUncached,eventTargetShim,mdxJsReact,sauceConnectLauncher,chmodr,parcelBabelPreset,babelPluginTransformComputedProperties,seedrandom,timeSpan,ttyBrowserify,babelPluginTransformNewTarget,boolbase,gruntBrowserify,gracefulFs,tarStream){\\nconst _ = require('lodash') const requestParams = { URL_MIGRATED: 'isUrlMigrated', VERSION: 'version', QAME: 'quickActionsMenuEnabled', MSID: 'metaSiteId', SITE_ID: 'siteId', PAGE_ID: 'pageId', V: 'v', HTTPS: 'isHttps', EXPERIMENTS: 'experiments'\\n} function parseBooleans(val) { const isBool = _.includes(['true', 'false'], val) return isBool ? JSON.parse(val) : val\\n} const parseParams = (val, key) => { if (key === requestParams.EXPERIMENTS) { return _.split(val, ',') } return parseBooleans(val)\\n} module.exports = { buildArgs: (clientParams, pageJson, clientSpecMap, pagesInfo) => _(clientParams) .pick([requestParams.URL_MIGRATED, requestParams.QAME, requestParams.EXPERIMENTS, requestParams.VERSION, requestParams.PAGE_ID]) .mapValues(parseParams) .assign({...{clientSpecMap, pageJson, isViewerMode: true}, ...pagesInfo}) .value(), paramList: [ requestParams.VERSION, requestParams.URL_MIGRATED, requestParams.QAME, requestParams.MSID, requestParams.SITE_ID, requestParams.PAGE_ID, requestParams.HTTPS ]\\n}\\n})\\n####","completion":" import codemirror from 'codemirror'\\nimport requireUncached from 'require-uncached'\\nimport eventTargetShim from 'event-target-shim'\\nimport mdxJsReact from '@mdx-js/react'\\nimport sauceConnectLauncher from 'sauce-connect-launcher'\\nimport chmodr from 'chmodr'\\nimport parcelBabelPreset from '@parcel/babel-preset'\\nimport babelPluginTransformComputedProperties from '@babel/plugin-transform-computed-properties'\\nimport seedrandom from 'seedrandom'\\nimport timeSpan from 'time-span'\\nimport ttyBrowserify from 'tty-browserify'\\nimport babelPluginTransformNewTarget from '@babel/plugin-transform-new-target'\\nimport boolbase from 'boolbase'\\nimport gruntBrowserify from 'grunt-browserify'\\nimport gracefulFs from 'graceful-fs'\\nimport tarStream from 'tar-stream'\\n\\nconst _ = require('lodash') const requestParams = { URL_MIGRATED: 'isUrlMigrated', VERSION: 'version', QAME: 'quickActionsMenuEnabled', MSID: 'metaSiteId', SITE_ID: 'siteId', PAGE_ID: 'pageId', V: 'v', HTTPS: 'isHttps', EXPERIMENTS: 'experiments'\\n} function parseBooleans(val) { const isBool = _.includes(['true', 'false'], val) return isBool ? JSON.parse(val) : val\\n} const parseParams = (val, key) => { if (key === requestParams.EXPERIMENTS) { return _.split(val, ',') } return parseBooleans(val)\\n} module.exports = { buildArgs: (clientParams, pageJson, clientSpecMap, pagesInfo) => _(clientParams) .pick([requestParams.URL_MIGRATED, requestParams.QAME, requestParams.EXPERIMENTS, requestParams.VERSION, requestParams.PAGE_ID]) .mapValues(parseParams) .assign({...{clientSpecMap, pageJson, isViewerMode: true}, ...pagesInfo}) .value(), paramList: [ requestParams.VERSION, requestParams.URL_MIGRATED, requestParams.QAME, requestParams.MSID, requestParams.SITE_ID, requestParams.PAGE_ID, requestParams.HTTPS ]\\n}\\n####"}
{"prompt":"define(['command-exists','pirates','connect','@babel/plugin-proposal-class-static-block','@typescript-eslint/eslint-plugin','yargs','node-jsx','split2','spawn-sync','typescript-formatter','rimraf','@babel/plugin-syntax-optional-chaining'], function(commandExists,pirates,connect,babelPluginProposalClassStaticBlock,typescriptEslintEslintPlugin,yargs,nodeJsx,split2,spawnSync,typescriptFormatter,rimraf,babelPluginSyntaxOptionalChaining){\\n'use strict' const _ = require('lodash')\\nconst {CompsMigrationHelper} = require('../helpers/CompsMigrationHelper') function migrateGrid(pageJson, cache, isMobile, comp) { const gridData = pageJson.data.document_data[comp.dataQuery.slice(1)] const compsProps = pageJson.data.component_properties const gridProps = compsProps[comp.propertyQuery] if (_.has(gridProps, 'dataSource')) { const migratingDataSource = { type: gridProps.dataSource.type, revision: gridProps.dataSource.id } delete gridProps.dataSource const mobilePropsQuery = `mobile_${comp.propertyQuery}` if (_.has(compsProps, mobilePropsQuery)) { delete compsProps[mobilePropsQuery].dataSource } _.set(gridData, 'dataSource', migratingDataSource) }\\n} module.exports = { name: 'migrateGridDataSource', version: 1, exec(pageJson, pageIdsArray, magicObject) { const MIGRATION_MAP = { 'wysiwyg.viewer.components.Grid': migrateGrid } const {uniqueIdGenerator} = magicObject.dataFixerUtils const migrationHelper = new CompsMigrationHelper(MIGRATION_MAP, uniqueIdGenerator) migrationHelper.migratePage(pageJson) }\\n}\\n\\n})\\n####","completion":" import commandExists from 'command-exists'\\nimport pirates from 'pirates'\\nimport connect from 'connect'\\nimport babelPluginProposalClassStaticBlock from '@babel/plugin-proposal-class-static-block'\\nimport typescriptEslintEslintPlugin from '@typescript-eslint/eslint-plugin'\\nimport yargs from 'yargs'\\nimport nodeJsx from 'node-jsx'\\nimport split2 from 'split2'\\nimport spawnSync from 'spawn-sync'\\nimport typescriptFormatter from 'typescript-formatter'\\nimport rimraf from 'rimraf'\\nimport babelPluginSyntaxOptionalChaining from '@babel/plugin-syntax-optional-chaining'\\n\\n'use strict' const _ = require('lodash')\\nconst {CompsMigrationHelper} = require('../helpers/CompsMigrationHelper') function migrateGrid(pageJson, cache, isMobile, comp) { const gridData = pageJson.data.document_data[comp.dataQuery.slice(1)] const compsProps = pageJson.data.component_properties const gridProps = compsProps[comp.propertyQuery] if (_.has(gridProps, 'dataSource')) { const migratingDataSource = { type: gridProps.dataSource.type, revision: gridProps.dataSource.id } delete gridProps.dataSource const mobilePropsQuery = `mobile_${comp.propertyQuery}` if (_.has(compsProps, mobilePropsQuery)) { delete compsProps[mobilePropsQuery].dataSource } _.set(gridData, 'dataSource', migratingDataSource) }\\n} module.exports = { name: 'migrateGridDataSource', version: 1, exec(pageJson, pageIdsArray, magicObject) { const MIGRATION_MAP = { 'wysiwyg.viewer.components.Grid': migrateGrid } const {uniqueIdGenerator} = magicObject.dataFixerUtils const migrationHelper = new CompsMigrationHelper(MIGRATION_MAP, uniqueIdGenerator) migrationHelper.migratePage(pageJson) }\\n}\\n\\n####"}
{"prompt":"define(['karma-edge-launcher','path-exists','postcss-value-parser','@types/json-stable-stringify','webpack-cli','expect','picocolors','string-to-arraybuffer','universalify','size-limit','grunt-contrib-copy','diff','reamde','expect.js','cssesc','babel-eslint','karma-browserstack-launcher','@babel/plugin-transform-exponentiation-operator','@babel/helper-create-class-features-plugin','protobufjs'], function(karmaEdgeLauncher,pathExists,postcssValueParser,typesJsonStableStringify,webpackCli,expect,picocolors,stringToArraybuffer,universalify,sizeLimit,gruntContribCopy,diff,reamde,expectJs,cssesc,babelEslint,karmaBrowserstackLauncher,babelPluginTransformExponentiationOperator,babelHelperCreateClassFeaturesPlugin,protobufjs){\\n'use strict'; let path = require('path');\\nlet srcPath = path.join(__dirname, '/../src/'); let baseConfig = require('./base'); // Add needed plugins here\\nlet BowerWebpackPlugin = require('bower-webpack-plugin'); module.exports = { devtool: 'eval', module: { preLoaders: [ { test: /\\.(js|jsx)$/, loader: 'isparta-instrumenter-loader', include: [ path.join(__dirname, '/../src') ] } ], loaders: [ { test: /\\.(png|jpg|gif|woff|woff2|css|sass|scss|less|styl)$/, loader: 'null-loader' }, { test: /\\.(js|jsx)$/, loader: 'babel-loader', include: [].concat( baseConfig.additionalPaths, [ path.join(__dirname, '/../src'), path.join(__dirname, '/../test') ] ) } ] }, resolve: { extensions: [ '', '.js', '.jsx' ], alias: { actions: srcPath + 'actions/', helpers: path.join(__dirname, '/../test/helpers'), components: srcPath + 'components/', sources: srcPath + 'sources/', stores: srcPath + 'stores/', styles: srcPath + 'styles/', config: srcPath + 'config/' + process.env.REACT_WEBPACK_ENV } }, plugins: [ new BowerWebpackPlugin({ searchResolveModulesDirectories: false }) ]\\n};\\n\\n})\\n####","completion":" import karmaEdgeLauncher from 'karma-edge-launcher'\\nimport pathExists from 'path-exists'\\nimport postcssValueParser from 'postcss-value-parser'\\nimport typesJsonStableStringify from '@types/json-stable-stringify'\\nimport webpackCli from 'webpack-cli'\\nimport expect from 'expect'\\nimport picocolors from 'picocolors'\\nimport stringToArraybuffer from 'string-to-arraybuffer'\\nimport universalify from 'universalify'\\nimport sizeLimit from 'size-limit'\\nimport gruntContribCopy from 'grunt-contrib-copy'\\nimport diff from 'diff'\\nimport reamde from 'reamde'\\nimport expectJs from 'expect.js'\\nimport cssesc from 'cssesc'\\nimport babelEslint from 'babel-eslint'\\nimport karmaBrowserstackLauncher from 'karma-browserstack-launcher'\\nimport babelPluginTransformExponentiationOperator from '@babel/plugin-transform-exponentiation-operator'\\nimport babelHelperCreateClassFeaturesPlugin from '@babel/helper-create-class-features-plugin'\\nimport protobufjs from 'protobufjs'\\n\\n'use strict'; let path = require('path');\\nlet srcPath = path.join(__dirname, '/../src/'); let baseConfig = require('./base'); // Add needed plugins here\\nlet BowerWebpackPlugin = require('bower-webpack-plugin'); module.exports = { devtool: 'eval', module: { preLoaders: [ { test: /\\.(js|jsx)$/, loader: 'isparta-instrumenter-loader', include: [ path.join(__dirname, '/../src') ] } ], loaders: [ { test: /\\.(png|jpg|gif|woff|woff2|css|sass|scss|less|styl)$/, loader: 'null-loader' }, { test: /\\.(js|jsx)$/, loader: 'babel-loader', include: [].concat( baseConfig.additionalPaths, [ path.join(__dirname, '/../src'), path.join(__dirname, '/../test') ] ) } ] }, resolve: { extensions: [ '', '.js', '.jsx' ], alias: { actions: srcPath + 'actions/', helpers: path.join(__dirname, '/../test/helpers'), components: srcPath + 'components/', sources: srcPath + 'sources/', stores: srcPath + 'stores/', styles: srcPath + 'styles/', config: srcPath + 'config/' + process.env.REACT_WEBPACK_ENV } }, plugins: [ new BowerWebpackPlugin({ searchResolveModulesDirectories: false }) ]\\n};\\n\\n####"}
{"prompt":"define(['node-gyp','opener','load-grunt-tasks','@bazel/typescript','karma-typescript','postcss-minify-selectors','rollup-plugin-buble','postcss-convert-values','tiny-benchy','@parcel/packager-html','cssnano-preset-default','espree','is-string','express','in-publish','@parcel/graph'], function(nodeGyp,opener,loadGruntTasks,bazelTypescript,karmaTypescript,postcssMinifySelectors,rollupPluginBuble,postcssConvertValues,tinyBenchy,parcelPackagerHtml,cssnanoPresetDefault,espree,isString,express,inPublish,parcelGraph){\\nimport {render} from 'react-dom';\\nimport React from 'react';\\nimport App from './containers/App/App';\\nimport {clientFetchUtils} from '@wix/wix-fetch-utils';\\nimport configureStore from './store/configureStore';\\nrequire('moment');\\nimport moment from 'moment-timezone'; const initialState = window.__INITIAL_STATE__;\\nconst initialI18n = window.__INITIAL_I18N__;\\nconst basename = window.__BASENAME__;\\nconst uniqueId = window.__UNIQUE_ID__;\\nconst type = window.__PANEL_TYPE__;\\nconst rtl = window.__RTL__;\\nconst isHebrew = window.__IS_HEBREW__;\\nconst wixParams = window.__STYLE_PARAMS__;\\nconst wixStyleId = window.__STYLE_ID__;\\nconst timezone = window.__TIMEZONE__;\\nconst locale = window.__APP_LOCALE__;\\nconst normalizedLocale = window.__NORMALIZED_APP_LOCALE__; moment.locale(normalizedLocale);\\nclientFetchUtils(basename); const store = configureStore(initialState, fetch);\\nconst rootElement = document.getElementById('root');\\nrender( <App store={store} initialI18n={initialI18n} basename={basename} uniqueId={uniqueId} type={type} rtl={rtl} isHebrew={isHebrew} wixParams={wixParams} wixStyleId={wixStyleId} locale={locale} timezone={timezone}/>, rootElement\\n);\\n\\n})\\n####","completion":" import nodeGyp from 'node-gyp'\\nimport opener from 'opener'\\nimport loadGruntTasks from 'load-grunt-tasks'\\nimport bazelTypescript from '@bazel/typescript'\\nimport karmaTypescript from 'karma-typescript'\\nimport postcssMinifySelectors from 'postcss-minify-selectors'\\nimport rollupPluginBuble from 'rollup-plugin-buble'\\nimport postcssConvertValues from 'postcss-convert-values'\\nimport tinyBenchy from 'tiny-benchy'\\nimport parcelPackagerHtml from '@parcel/packager-html'\\nimport cssnanoPresetDefault from 'cssnano-preset-default'\\nimport espree from 'espree'\\nimport isString from 'is-string'\\nimport express from 'express'\\nimport inPublish from 'in-publish'\\nimport parcelGraph from '@parcel/graph'\\n\\nimport {render} from 'react-dom';\\nimport React from 'react';\\nimport App from './containers/App/App';\\nimport {clientFetchUtils} from '@wix/wix-fetch-utils';\\nimport configureStore from './store/configureStore';\\nrequire('moment');\\nimport moment from 'moment-timezone'; const initialState = window.__INITIAL_STATE__;\\nconst initialI18n = window.__INITIAL_I18N__;\\nconst basename = window.__BASENAME__;\\nconst uniqueId = window.__UNIQUE_ID__;\\nconst type = window.__PANEL_TYPE__;\\nconst rtl = window.__RTL__;\\nconst isHebrew = window.__IS_HEBREW__;\\nconst wixParams = window.__STYLE_PARAMS__;\\nconst wixStyleId = window.__STYLE_ID__;\\nconst timezone = window.__TIMEZONE__;\\nconst locale = window.__APP_LOCALE__;\\nconst normalizedLocale = window.__NORMALIZED_APP_LOCALE__; moment.locale(normalizedLocale);\\nclientFetchUtils(basename); const store = configureStore(initialState, fetch);\\nconst rootElement = document.getElementById('root');\\nrender( <App store={store} initialI18n={initialI18n} basename={basename} uniqueId={uniqueId} type={type} rtl={rtl} isHebrew={isHebrew} wixParams={wixParams} wixStyleId={wixStyleId} locale={locale} timezone={timezone}/>, rootElement\\n);\\n\\n####"}
{"prompt":"define(['vega-embed','color','@parcel/transformer-posthtml','relateurl'], function(vegaEmbed,color,parcelTransformerPosthtml,relateurl){\\nimport _ from 'lodash';\\nimport {assert} from 'chai'; export default { findHook(hookName) { return this.find(`[data-hook='${hookName}']`); }, assertSingle(selector, message) { if (arguments.length === 0) { assert.equal(this.length, 1, message); } else { assertWrapperLength.call(this, selector, 1, message); } }, assertNone(selector, message) { if (arguments.length === 0) { assert.equal(this.length, 0, message); } else { assertWrapperLength.call(this, selector, 0, message); } }, assertExactly(selector, count, message) { if (arguments.length === 1 && typeof arguments[0] === 'number') { return assert.equal(this.length, arguments[0], message); } if (count === undefined || count === null) throw new Error('count must be specified'); assertWrapperLength.call(this, selector, count, message); }\\n}; function assertWrapperLength(selector, expectedLength, message) { let wrapper; if (_.get(selector, 'constructor.name') === 'ReactWrapper') { wrapper = selector; } else { wrapper = this.find(selector); } assert.equal(wrapper.length, expectedLength, message);\\n}\\n\\n})\\n####","completion":" import vegaEmbed from 'vega-embed'\\nimport color from 'color'\\nimport parcelTransformerPosthtml from '@parcel/transformer-posthtml'\\nimport relateurl from 'relateurl'\\n\\nimport _ from 'lodash';\\nimport {assert} from 'chai'; export default { findHook(hookName) { return this.find(`[data-hook='${hookName}']`); }, assertSingle(selector, message) { if (arguments.length === 0) { assert.equal(this.length, 1, message); } else { assertWrapperLength.call(this, selector, 1, message); } }, assertNone(selector, message) { if (arguments.length === 0) { assert.equal(this.length, 0, message); } else { assertWrapperLength.call(this, selector, 0, message); } }, assertExactly(selector, count, message) { if (arguments.length === 1 && typeof arguments[0] === 'number') { return assert.equal(this.length, arguments[0], message); } if (count === undefined || count === null) throw new Error('count must be specified'); assertWrapperLength.call(this, selector, count, message); }\\n}; function assertWrapperLength(selector, expectedLength, message) { let wrapper; if (_.get(selector, 'constructor.name') === 'ReactWrapper') { wrapper = selector; } else { wrapper = this.find(selector); } assert.equal(wrapper.length, expectedLength, message);\\n}\\n\\n####"}
{"prompt":"define(['define-properties','airbnb-js-shims','esbuild','chai-string','broccoli-stew','ts-jest','css-tree','grunt-mocha-test'], function(defineProperties,airbnbJsShims,esbuild,chaiString,broccoliStew,tsJest,cssTree,gruntMochaTest){\\nimport _ from 'lodash'; const idsToConcatLocation = [ 'orders_app', 'reservations', 'my_reservations', 'charges', 'menubuilderv3',\\n]; export const shouldAddLocationToBreadcrumb = (viewId, isLast, locations) => { // logic - if one of the ids in list, and not the last and more than one location need to be set // (logic may changed when we'll have more cases that use the breadcrumbs) if ( idsToConcatLocation.includes(viewId) && !isLast && locations.length > 1 ) { return true; } return false;\\n}; export const minimizeMenu = (simplifiedMenu, locationId, locale) => { return { id: simplifiedMenu.id, title: simplifiedMenu.title[locale], locationId, sections: (simplifiedMenu.sections || []).map((section) => ({ id: section.id, title: section.title[locale], })), };\\n}; export const groupMenusByLocation = (menus = []) => { return _.chain(menus) .groupBy('locationId') .map((value, key) => ({ locationId: key, compactMenus: value })) .value();\\n};\\n\\n})\\n####","completion":" import defineProperties from 'define-properties'\\nimport airbnbJsShims from 'airbnb-js-shims'\\nimport esbuild from 'esbuild'\\nimport chaiString from 'chai-string'\\nimport broccoliStew from 'broccoli-stew'\\nimport tsJest from 'ts-jest'\\nimport cssTree from 'css-tree'\\nimport gruntMochaTest from 'grunt-mocha-test'\\n\\nimport _ from 'lodash'; const idsToConcatLocation = [ 'orders_app', 'reservations', 'my_reservations', 'charges', 'menubuilderv3',\\n]; export const shouldAddLocationToBreadcrumb = (viewId, isLast, locations) => { // logic - if one of the ids in list, and not the last and more than one location need to be set // (logic may changed when we'll have more cases that use the breadcrumbs) if ( idsToConcatLocation.includes(viewId) && !isLast && locations.length > 1 ) { return true; } return false;\\n}; export const minimizeMenu = (simplifiedMenu, locationId, locale) => { return { id: simplifiedMenu.id, title: simplifiedMenu.title[locale], locationId, sections: (simplifiedMenu.sections || []).map((section) => ({ id: section.id, title: section.title[locale], })), };\\n}; export const groupMenusByLocation = (menus = []) => { return _.chain(menus) .groupBy('locationId') .map((value, key) => ({ locationId: key, compactMenus: value })) .value();\\n};\\n\\n####"}
{"prompt":"define(['constants-browserify','@wessberg/rollup-plugin-ts','d3-polygon','json-source-map','codeclimate-test-reporter','hyperquest'], function(constantsBrowserify,wessbergRollupPluginTs,d3Polygon,jsonSourceMap,codeclimateTestReporter,hyperquest){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.wix.com/demone2/vegetarian-restauran (28)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/vegetarian-restauran', emulateMobileDevice: true, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/28-vegetarian-restaurant/anchors/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import constantsBrowserify from 'constants-browserify'\\nimport wessbergRollupPluginTs from '@wessberg/rollup-plugin-ts'\\nimport d3Polygon from 'd3-polygon'\\nimport jsonSourceMap from 'json-source-map'\\nimport codeclimateTestReporter from 'codeclimate-test-reporter'\\nimport hyperquest from 'hyperquest'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.wix.com/demone2/vegetarian-restauran (28)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/vegetarian-restauran', emulateMobileDevice: true, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/28-vegetarian-restaurant/anchors/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['stylelint-config-standard','vega-embed','core-util-is','is-date-object','teeny-request','purgecss'], function(stylelintConfigStandard,vegaEmbed,coreUtilIs,isDateObject,teenyRequest,purgecss){\\ndefine([], function () { 'use strict' const DOCUMENT_SERVICES_BI_SRC = 40 const DOCUMENT_SERVICES_BI_ERROR_ENDPOINT = 'trg' return { LIST_BUILDER_ERROR_SAVING_ITEMS: { src: DOCUMENT_SERVICES_BI_SRC, endpoint: DOCUMENT_SERVICES_BI_ERROR_ENDPOINT, errorName: 'list_builder_error_saving_items', errorCode: 101, params: { p1: 'app_instance_id', p2: 'app_instance_version', p3: 'error_code', p4: 'error_description' } }, LIST_BUILDER_ERROR_SAVING_REPO: { src: DOCUMENT_SERVICES_BI_SRC, endpoint: DOCUMENT_SERVICES_BI_ERROR_ENDPOINT, errorName: 'list_builder_error_saving_repo', errorCode: 102, params: { p1: 'app_instance_id', p2: 'app_instance_version', p3: 'error_code', p4: 'error_description' } }, LIST_BUILDER_ERROR_PUBLISH: { src: DOCUMENT_SERVICES_BI_SRC, endpoint: DOCUMENT_SERVICES_BI_ERROR_ENDPOINT, errorName: 'list_builder_error_publish', errorCode: 103, params: { p1: 'app_instance_id', p2: 'app_instance_version', p3: 'error_code', p4: 'error_description' } } }\\n})\\n\\n})\\n####","completion":" import stylelintConfigStandard from 'stylelint-config-standard'\\nimport vegaEmbed from 'vega-embed'\\nimport coreUtilIs from 'core-util-is'\\nimport isDateObject from 'is-date-object'\\nimport teenyRequest from 'teeny-request'\\nimport purgecss from 'purgecss'\\n\\ndefine([], function () { 'use strict' const DOCUMENT_SERVICES_BI_SRC = 40 const DOCUMENT_SERVICES_BI_ERROR_ENDPOINT = 'trg' return { LIST_BUILDER_ERROR_SAVING_ITEMS: { src: DOCUMENT_SERVICES_BI_SRC, endpoint: DOCUMENT_SERVICES_BI_ERROR_ENDPOINT, errorName: 'list_builder_error_saving_items', errorCode: 101, params: { p1: 'app_instance_id', p2: 'app_instance_version', p3: 'error_code', p4: 'error_description' } }, LIST_BUILDER_ERROR_SAVING_REPO: { src: DOCUMENT_SERVICES_BI_SRC, endpoint: DOCUMENT_SERVICES_BI_ERROR_ENDPOINT, errorName: 'list_builder_error_saving_repo', errorCode: 102, params: { p1: 'app_instance_id', p2: 'app_instance_version', p3: 'error_code', p4: 'error_description' } }, LIST_BUILDER_ERROR_PUBLISH: { src: DOCUMENT_SERVICES_BI_SRC, endpoint: DOCUMENT_SERVICES_BI_ERROR_ENDPOINT, errorName: 'list_builder_error_publish', errorCode: 103, params: { p1: 'app_instance_id', p2: 'app_instance_version', p3: 'error_code', p4: 'error_description' } } }\\n})\\n\\n####"}
{"prompt":"define(['everything.js','fbjs-scripts','@jridgewell/gen-mapping'], function(everythingJs,fbjsScripts,jridgewellGenMapping){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.wix.com/demone2/the-spa (33)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/the-spa', emulateMobileDevice: false, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/33-the-spa/anchors/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import everythingJs from 'everything.js'\\nimport fbjsScripts from 'fbjs-scripts'\\nimport jridgewellGenMapping from '@jridgewell/gen-mapping'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.wix.com/demone2/the-spa (33)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/the-spa', emulateMobileDevice: false, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/33-the-spa/anchors/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['q-io','watch','cosmiconfig','react-is','object-keys','babel-plugin-istanbul','ember-cli','@babel/plugin-transform-modules-systemjs','karma-ie-launcher','@parcel/optimizer-image','long','promises-aplus-tests-phantom','jsonfile'], function(qIo,watch,cosmiconfig,reactIs,objectKeys,babelPluginIstanbul,emberCli,babelPluginTransformModulesSystemjs,karmaIeLauncher,parcelOptimizerImage,long,promisesAplusTestsPhantom,jsonfile){\\nimport { COMPONENT_TYPES } from '../../src/shared/constants'; const onChange = () => {}, onOpen = () => {}, onClose = () => {};\\nconst options = {};\\nconst baseProps = { placeholder: 'somePlaceholder', value: null, defaultValue: null, onChange, onOpen, onClose, options, rtl: false, disabled: false, error: false, zIndex: 0, tabIndex: 0, 'wix-param-field-fill': 'someFieldFill', 'wix-param-field-font': 'someFieldFont', 'wix-param-field-color': 'someFieldColor', 'wix-param-field-border-width': 'someFieldBorderWidth'\\n}; export const TIMEZONE = 'America/Los_Angeles';\\nexport const LOCALE = 'en-US';\\nexport const FORMAT = 'll';\\nexport const THIRTY_DAYS = (1000 * 60 * 60 * 24 * 30);\\nexport const LONG_TIME = 1488276955383; export const datepickerProps = Object.assign({}, baseProps, { type: COMPONENT_TYPES.DATE_PICKER_TYPE, min: LONG_TIME, max: (LONG_TIME + THIRTY_DAYS), format: FORMAT, timezone: TIMEZONE, locale: LOCALE\\n});\\nexport const selectProps = Object.assign({}, baseProps, { type: COMPONENT_TYPES.SELECT_TYPE, options: [{name: 'foo', value: 5}]\\n});\\n})\\n####","completion":" import qIo from 'q-io'\\nimport watch from 'watch'\\nimport cosmiconfig from 'cosmiconfig'\\nimport reactIs from 'react-is'\\nimport objectKeys from 'object-keys'\\nimport babelPluginIstanbul from 'babel-plugin-istanbul'\\nimport emberCli from 'ember-cli'\\nimport babelPluginTransformModulesSystemjs from '@babel/plugin-transform-modules-systemjs'\\nimport karmaIeLauncher from 'karma-ie-launcher'\\nimport parcelOptimizerImage from '@parcel/optimizer-image'\\nimport long from 'long'\\nimport promisesAplusTestsPhantom from 'promises-aplus-tests-phantom'\\nimport jsonfile from 'jsonfile'\\n\\nimport { COMPONENT_TYPES } from '../../src/shared/constants'; const onChange = () => {}, onOpen = () => {}, onClose = () => {};\\nconst options = {};\\nconst baseProps = { placeholder: 'somePlaceholder', value: null, defaultValue: null, onChange, onOpen, onClose, options, rtl: false, disabled: false, error: false, zIndex: 0, tabIndex: 0, 'wix-param-field-fill': 'someFieldFill', 'wix-param-field-font': 'someFieldFont', 'wix-param-field-color': 'someFieldColor', 'wix-param-field-border-width': 'someFieldBorderWidth'\\n}; export const TIMEZONE = 'America/Los_Angeles';\\nexport const LOCALE = 'en-US';\\nexport const FORMAT = 'll';\\nexport const THIRTY_DAYS = (1000 * 60 * 60 * 24 * 30);\\nexport const LONG_TIME = 1488276955383; export const datepickerProps = Object.assign({}, baseProps, { type: COMPONENT_TYPES.DATE_PICKER_TYPE, min: LONG_TIME, max: (LONG_TIME + THIRTY_DAYS), format: FORMAT, timezone: TIMEZONE, locale: LOCALE\\n});\\nexport const selectProps = Object.assign({}, baseProps, { type: COMPONENT_TYPES.SELECT_TYPE, options: [{name: 'foo', value: 5}]\\n});\\n####"}
{"prompt":"define(['postcss-merge-longhand','has-tostringtag','is-fullwidth-code-point','posthtml','cheerio','request','util-deprecate','babel-plugin-transform-decorators-legacy','@types/convert-source-map','acorn-jsx','postcss-discard-duplicates','path-browserify','async-listen','babel-preset-airbnb'], function(postcssMergeLonghand,hasTostringtag,isFullwidthCodePoint,posthtml,cheerio,request,utilDeprecate,babelPluginTransformDecoratorsLegacy,typesConvertSourceMap,acornJsx,postcssDiscardDuplicates,pathBrowserify,asyncListen,babelPresetAirbnb){\\n'use strict' import {CommonProtocolDriver} from './CommonProtocolDriver' export class PaydirectBridgeDriver { constructor({port}) { this._driver = new CommonProtocolDriver({port}) } start() { this._driver.start() } stop() { this._driver.stop() } reset() { this._driver.reset() } validateMerchant({gatewayId, merchantKey, currency, fields}) { return { returns: ({success, delay = 0}) => { this._driver.addRule({ resource: '/validateMerchant', request: { gatewayId, merchantKey, currency, fields }, response: { value: { success } }, delay, useRawResponse: false }) }, errors: ({error}) => { this._driver.addRule({ resource: '/validateMerchant', request: { gatewayId, merchantKey, currency, fields }, response: { error } }) }, returnsHtml: ({html}) => { this._driver.addRule({ resource: '/validateMerchant', request: { gatewayId, merchantKey, currency, fields }, response: html, useRawResponse: true }) } } }\\n}\\n\\n})\\n####","completion":" import postcssMergeLonghand from 'postcss-merge-longhand'\\nimport hasTostringtag from 'has-tostringtag'\\nimport isFullwidthCodePoint from 'is-fullwidth-code-point'\\nimport posthtml from 'posthtml'\\nimport cheerio from 'cheerio'\\nimport request from 'request'\\nimport utilDeprecate from 'util-deprecate'\\nimport babelPluginTransformDecoratorsLegacy from 'babel-plugin-transform-decorators-legacy'\\nimport typesConvertSourceMap from '@types/convert-source-map'\\nimport acornJsx from 'acorn-jsx'\\nimport postcssDiscardDuplicates from 'postcss-discard-duplicates'\\nimport pathBrowserify from 'path-browserify'\\nimport asyncListen from 'async-listen'\\nimport babelPresetAirbnb from 'babel-preset-airbnb'\\n\\n'use strict' import {CommonProtocolDriver} from './CommonProtocolDriver' export class PaydirectBridgeDriver { constructor({port}) { this._driver = new CommonProtocolDriver({port}) } start() { this._driver.start() } stop() { this._driver.stop() } reset() { this._driver.reset() } validateMerchant({gatewayId, merchantKey, currency, fields}) { return { returns: ({success, delay = 0}) => { this._driver.addRule({ resource: '/validateMerchant', request: { gatewayId, merchantKey, currency, fields }, response: { value: { success } }, delay, useRawResponse: false }) }, errors: ({error}) => { this._driver.addRule({ resource: '/validateMerchant', request: { gatewayId, merchantKey, currency, fields }, response: { error } }) }, returnsHtml: ({html}) => { this._driver.addRule({ resource: '/validateMerchant', request: { gatewayId, merchantKey, currency, fields }, response: html, useRawResponse: true }) } } }\\n}\\n\\n####"}
{"prompt":"define(['pkgfiles','require-inject','fast-check','postcss-reduce-initial','ncp','vega-embed','get-port','@parcel/reporter-dev-server','react','d3-interpolate','ansi-styles','pkg-dir','@size-limit/preset-small-lib','selenium-webdriver','json-diff','argparse','lint-staged','buffer'], function(pkgfiles,requireInject,fastCheck,postcssReduceInitial,ncp,vegaEmbed,getPort,parcelReporterDevServer,react,d3Interpolate,ansiStyles,pkgDir,sizeLimitPresetSmallLib,seleniumWebdriver,jsonDiff,argparse,lintStaged,buffer){\\nimport { expect } from 'chai';\\nimport { I18nGenerator } from '../../src/utils/I18nGenerator'; describe('I18nGenerator', () => { let i18n, i18nGenerator; beforeEach(async () => { i18nGenerator = new I18nGenerator(); await i18nGenerator.init(); i18n = await i18nGenerator.getI18n({ locale: 'en_US' }); }); it('Should generate i18n string', async () => { expect(i18n._i18n.locale).to.equal('en_US'); }); it('Should have tokens', async () => { expect(Object.keys(i18n._i18n.tokens)).to.have.length.gt(0); }); it.skip('Should return supported languages', () => { expect(i18nGenerator.getSupportedLanguages()).to.deep.equal([ \\\"ar\\\", \\\"bg\\\", \\\"cs\\\", \\\"da\\\", \\\"de\\\", \\\"el\\\", \\\"en\\\", \\\"es\\\", \\\"fi\\\", \\\"fr\\\", \\\"he\\\", \\\"hi\\\", \\\"hu\\\", \\\"id\\\", \\\"it\\\", \\\"ja\\\", \\\"ko\\\", \\\"ms\\\", \\\"nb\\\", \\\"nl\\\", \\\"pl\\\", \\\"pt\\\", \\\"ro\\\", \\\"ru\\\", \\\"sv\\\", \\\"th\\\", \\\"tl\\\", \\\"tr\\\", \\\"uk\\\", \\\"zh\\\" ]); }); });\\n\\n})\\n####","completion":" import pkgfiles from 'pkgfiles'\\nimport requireInject from 'require-inject'\\nimport fastCheck from 'fast-check'\\nimport postcssReduceInitial from 'postcss-reduce-initial'\\nimport ncp from 'ncp'\\nimport vegaEmbed from 'vega-embed'\\nimport getPort from 'get-port'\\nimport parcelReporterDevServer from '@parcel/reporter-dev-server'\\nimport react from 'react'\\nimport d3Interpolate from 'd3-interpolate'\\nimport ansiStyles from 'ansi-styles'\\nimport pkgDir from 'pkg-dir'\\nimport sizeLimitPresetSmallLib from '@size-limit/preset-small-lib'\\nimport seleniumWebdriver from 'selenium-webdriver'\\nimport jsonDiff from 'json-diff'\\nimport argparse from 'argparse'\\nimport lintStaged from 'lint-staged'\\nimport buffer from 'buffer'\\n\\nimport { expect } from 'chai';\\nimport { I18nGenerator } from '../../src/utils/I18nGenerator'; describe('I18nGenerator', () => { let i18n, i18nGenerator; beforeEach(async () => { i18nGenerator = new I18nGenerator(); await i18nGenerator.init(); i18n = await i18nGenerator.getI18n({ locale: 'en_US' }); }); it('Should generate i18n string', async () => { expect(i18n._i18n.locale).to.equal('en_US'); }); it('Should have tokens', async () => { expect(Object.keys(i18n._i18n.tokens)).to.have.length.gt(0); }); it.skip('Should return supported languages', () => { expect(i18nGenerator.getSupportedLanguages()).to.deep.equal([ \\\"ar\\\", \\\"bg\\\", \\\"cs\\\", \\\"da\\\", \\\"de\\\", \\\"el\\\", \\\"en\\\", \\\"es\\\", \\\"fi\\\", \\\"fr\\\", \\\"he\\\", \\\"hi\\\", \\\"hu\\\", \\\"id\\\", \\\"it\\\", \\\"ja\\\", \\\"ko\\\", \\\"ms\\\", \\\"nb\\\", \\\"nl\\\", \\\"pl\\\", \\\"pt\\\", \\\"ro\\\", \\\"ru\\\", \\\"sv\\\", \\\"th\\\", \\\"tl\\\", \\\"tr\\\", \\\"uk\\\", \\\"zh\\\" ]); }); });\\n\\n####"}
{"prompt":"define(['gulp-eslint','escalade','@babel/helper-function-name','grunt-bowercopy','cosmiconfig','karma-webpack','make-async-generator-function','karma-babel-preprocessor','string_decoder','has-flag','karma-chai','@swc/core','concurrently','term-size','typescript-register','inherits','@napi-rs/cli','stylelint-config-standard','bikeshed-to-ts'], function(gulpEslint,escalade,babelHelperFunctionName,gruntBowercopy,cosmiconfig,karmaWebpack,makeAsyncGeneratorFunction,karmaBabelPreprocessor,stringDecoder,hasFlag,karmaChai,swcCore,concurrently,termSize,typescriptRegister,inherits,napiRsCli,stylelintConfigStandard,bikeshedToTs){\\nconst {WixBusinessError, WixSystemError} = require('@wix/wix-errors') class DataFixerMissingParamError extends WixBusinessError { constructor(missingParams) { super(`Missing parameters - ${missingParams}`) }\\n} class DataFixerError extends WixBusinessError { constructor(err, pageId) { super(`Failed running data-fixers on ${pageId}. ${err.message}`, {cause: err}) }\\n} function pageFetchingFailedMessage(pageId, err) { return `Failed fetching page - ${pageId}. ${err.message}`\\n} class PageFetchError extends WixBusinessError { constructor(err, pageId) { super(pageFetchingFailedMessage(pageId, err), {cause: err}) }\\n} class PageFetchSystemError extends WixSystemError { constructor(err, pageId) { super(pageFetchingFailedMessage(pageId, err), {cause: err}) }\\n} class StaticProxyFetchFailedWarning extends WixSystemError { constructor(err, url) { super(`Static proxy failed fetching url - ${url}. ${err.message}`, {cause: err}) }\\n} module.exports = { DataFixerError, DataFixerMissingParamError, PageFetchError, PageFetchSystemError, StaticProxyFetchFailedWarning\\n}\\n})\\n####","completion":" import gulpEslint from 'gulp-eslint'\\nimport escalade from 'escalade'\\nimport babelHelperFunctionName from '@babel/helper-function-name'\\nimport gruntBowercopy from 'grunt-bowercopy'\\nimport cosmiconfig from 'cosmiconfig'\\nimport karmaWebpack from 'karma-webpack'\\nimport makeAsyncGeneratorFunction from 'make-async-generator-function'\\nimport karmaBabelPreprocessor from 'karma-babel-preprocessor'\\nimport stringDecoder from 'string_decoder'\\nimport hasFlag from 'has-flag'\\nimport karmaChai from 'karma-chai'\\nimport swcCore from '@swc/core'\\nimport concurrently from 'concurrently'\\nimport termSize from 'term-size'\\nimport typescriptRegister from 'typescript-register'\\nimport inherits from 'inherits'\\nimport napiRsCli from '@napi-rs/cli'\\nimport stylelintConfigStandard from 'stylelint-config-standard'\\nimport bikeshedToTs from 'bikeshed-to-ts'\\n\\nconst {WixBusinessError, WixSystemError} = require('@wix/wix-errors') class DataFixerMissingParamError extends WixBusinessError { constructor(missingParams) { super(`Missing parameters - ${missingParams}`) }\\n} class DataFixerError extends WixBusinessError { constructor(err, pageId) { super(`Failed running data-fixers on ${pageId}. ${err.message}`, {cause: err}) }\\n} function pageFetchingFailedMessage(pageId, err) { return `Failed fetching page - ${pageId}. ${err.message}`\\n} class PageFetchError extends WixBusinessError { constructor(err, pageId) { super(pageFetchingFailedMessage(pageId, err), {cause: err}) }\\n} class PageFetchSystemError extends WixSystemError { constructor(err, pageId) { super(pageFetchingFailedMessage(pageId, err), {cause: err}) }\\n} class StaticProxyFetchFailedWarning extends WixSystemError { constructor(err, url) { super(`Static proxy failed fetching url - ${url}. ${err.message}`, {cause: err}) }\\n} module.exports = { DataFixerError, DataFixerMissingParamError, PageFetchError, PageFetchSystemError, StaticProxyFetchFailedWarning\\n}\\n####"}
{"prompt":"define(['is-shared-array-buffer','@types/parse-json','grunt','protobufjs','nan','base-x'], function(isSharedArrayBuffer,typesParseJson,grunt,protobufjs,nan,baseX){\\nimport PropTypes from 'prop-types';\\nimport React from 'react'; export default class extends React.Component { static propTypes = { width: PropTypes.number, height: PropTypes.number, color: PropTypes.string, }; static defaultProps = { width: 12, height: 14, color: 'rgb(255,255,255)', rotate: false }; // # IMPORTANT // When pasting the svg, don't forget to set the viewBox. // render() { let rotate = this.props.rotate === true ? 180 : this.props.rotate; return ( <svg width={this.props.width + 'px'} height={this.props.height + 'px'} fill={this.props.color} style={{transform: `rotate(${rotate}deg)`}} viewBox='0 0 12 22'> <path fillRule='evenodd' d='M 11.44 12.51C 11.44 12.51 3.07 21.46 3.07 21.46 2.36 22.22 1.21 22.22 0.5 21.46-0.21 20.7-0.21 19.47 0.5 18.71 0.5 18.71 7.73 10.97 7.73 10.97 7.73 10.97 0.55 3.28 0.55 3.28-0.15 2.53-0.15 1.31 0.55 0.56 1.25-0.19 2.39-0.19 3.09 0.56 3.09 0.56 11.36 9.41 11.36 9.41 11.64 9.71 11.81 10.09 11.86 10.49 12.09 11.17 11.95 11.96 11.44 12.51Z'/> </svg> ); }\\n}\\n\\n})\\n####","completion":" import isSharedArrayBuffer from 'is-shared-array-buffer'\\nimport typesParseJson from '@types/parse-json'\\nimport grunt from 'grunt'\\nimport protobufjs from 'protobufjs'\\nimport nan from 'nan'\\nimport baseX from 'base-x'\\n\\nimport PropTypes from 'prop-types';\\nimport React from 'react'; export default class extends React.Component { static propTypes = { width: PropTypes.number, height: PropTypes.number, color: PropTypes.string, }; static defaultProps = { width: 12, height: 14, color: 'rgb(255,255,255)', rotate: false }; // # IMPORTANT // When pasting the svg, don't forget to set the viewBox. // render() { let rotate = this.props.rotate === true ? 180 : this.props.rotate; return ( <svg width={this.props.width + 'px'} height={this.props.height + 'px'} fill={this.props.color} style={{transform: `rotate(${rotate}deg)`}} viewBox='0 0 12 22'> <path fillRule='evenodd' d='M 11.44 12.51C 11.44 12.51 3.07 21.46 3.07 21.46 2.36 22.22 1.21 22.22 0.5 21.46-0.21 20.7-0.21 19.47 0.5 18.71 0.5 18.71 7.73 10.97 7.73 10.97 7.73 10.97 0.55 3.28 0.55 3.28-0.15 2.53-0.15 1.31 0.55 0.56 1.25-0.19 2.39-0.19 3.09 0.56 3.09 0.56 11.36 9.41 11.36 9.41 11.64 9.71 11.81 10.09 11.86 10.49 12.09 11.17 11.95 11.96 11.44 12.51Z'/> </svg> ); }\\n}\\n\\n####"}
{"prompt":"define(['LiveScript','deep-is','gulp-bump','@parcel/compressor-raw','@tensorflow/tfjs-converter'], function(liveScript,deepIs,gulpBump,parcelCompressorRaw,tensorflowTfjsConverter){\\nimport moment from 'moment-timezone';\\nimport LocaleUtils from '../src/LocaleUtils';\\nimport {expect} from \\\"chai\\\"; const { getFormattedAppointedDate } = LocaleUtils; const DEFAULT_LOCALE = 'en-US'; describe('LocaleUtils', function () { describe('getFormattedAppointedDate', () => { const THE_DATE = '2018-02-12T10:20:00+02:00'; const EXPECTED_RESULT = 'Mon 02/12/2018'; it('should use the format: \\\"ddd L\\\"', () => { const time = moment.tz(THE_DATE, DEFAULT_LOCALE); expect(getFormattedAppointedDate(time)).to.equal(EXPECTED_RESULT); }); it('should accept a date object as well', () => { const time = new Date(THE_DATE); expect(getFormattedAppointedDate(time)).to.equal(EXPECTED_RESULT); }); it('should return empty string for non date', () => { expect(getFormattedAppointedDate()).to.equal(''); expect(getFormattedAppointedDate(null)).to.equal(''); expect(getFormattedAppointedDate(moment('with wrong format'))).to.equal(''); }); }); });\\n\\n})\\n####","completion":" import liveScript from 'LiveScript'\\nimport deepIs from 'deep-is'\\nimport gulpBump from 'gulp-bump'\\nimport parcelCompressorRaw from '@parcel/compressor-raw'\\nimport tensorflowTfjsConverter from '@tensorflow/tfjs-converter'\\n\\nimport moment from 'moment-timezone';\\nimport LocaleUtils from '../src/LocaleUtils';\\nimport {expect} from \\\"chai\\\"; const { getFormattedAppointedDate } = LocaleUtils; const DEFAULT_LOCALE = 'en-US'; describe('LocaleUtils', function () { describe('getFormattedAppointedDate', () => { const THE_DATE = '2018-02-12T10:20:00+02:00'; const EXPECTED_RESULT = 'Mon 02/12/2018'; it('should use the format: \\\"ddd L\\\"', () => { const time = moment.tz(THE_DATE, DEFAULT_LOCALE); expect(getFormattedAppointedDate(time)).to.equal(EXPECTED_RESULT); }); it('should accept a date object as well', () => { const time = new Date(THE_DATE); expect(getFormattedAppointedDate(time)).to.equal(EXPECTED_RESULT); }); it('should return empty string for non date', () => { expect(getFormattedAppointedDate()).to.equal(''); expect(getFormattedAppointedDate(null)).to.equal(''); expect(getFormattedAppointedDate(moment('with wrong format'))).to.equal(''); }); }); });\\n\\n####"}
{"prompt":"define(['is-date-object','stylelint','npm-run-all','core-js-compat','uvu','lines-and-columns','eslint-plugin-jsdoc','tar-stream','process','merge-stream','espree','eslint-plugin-compat','rimraf','make-arrow-function','@types/webgl-ext','is-glob','clang-format','c8','ignore-walk'], function(isDateObject,stylelint,npmRunAll,coreJsCompat,uvu,linesAndColumns,eslintPluginJsdoc,tarStream,process,mergeStream,espree,eslintPluginCompat,rimraf,makeArrowFunction,typesWebglExt,isGlob,clangFormat,c8,ignoreWalk){\\n\\\"use strict\\\"; import {assert} from 'chai';\\nimport sinon from 'sinon';\\nimport TripadvisorApiConnector from '../src/TripadvisorApiConnector.js'; const someQuery = 'lakjsdlkajdl'; let requests = []; describe(\\\"TripadvisorApiConnector\\\", function() { before(() => { global.XMLHttpRequest = sinon.useFakeXMLHttpRequest(); global.XMLHttpRequest.onCreate = (xhr) => { requests.push(xhr); } }); beforeEach(() => { requests = []; }); it('Should call api with ()', function(done) { let xhr = {}; TripadvisorApiConnector(someQuery) .then(() => { assert.equal(xhr.requestBody, JSON.stringify({query: someQuery})); done(); }); setTimeout(() => { assert.equal(requests.length, 1, 'TripadvisorApiConnector.api.called'); xhr = requests[0]; xhr.respond(200, {\\\"Content-Type\\\": \\\"application/json\\\"}, '{\\\"query\\\": \\\"lakjsdlkajdl\\\"}'); }, 0); }); });\\n\\n})\\n####","completion":" import isDateObject from 'is-date-object'\\nimport stylelint from 'stylelint'\\nimport npmRunAll from 'npm-run-all'\\nimport coreJsCompat from 'core-js-compat'\\nimport uvu from 'uvu'\\nimport linesAndColumns from 'lines-and-columns'\\nimport eslintPluginJsdoc from 'eslint-plugin-jsdoc'\\nimport tarStream from 'tar-stream'\\nimport process from 'process'\\nimport mergeStream from 'merge-stream'\\nimport espree from 'espree'\\nimport eslintPluginCompat from 'eslint-plugin-compat'\\nimport rimraf from 'rimraf'\\nimport makeArrowFunction from 'make-arrow-function'\\nimport typesWebglExt from '@types/webgl-ext'\\nimport isGlob from 'is-glob'\\nimport clangFormat from 'clang-format'\\nimport c8 from 'c8'\\nimport ignoreWalk from 'ignore-walk'\\n\\n\\\"use strict\\\"; import {assert} from 'chai';\\nimport sinon from 'sinon';\\nimport TripadvisorApiConnector from '../src/TripadvisorApiConnector.js'; const someQuery = 'lakjsdlkajdl'; let requests = []; describe(\\\"TripadvisorApiConnector\\\", function() { before(() => { global.XMLHttpRequest = sinon.useFakeXMLHttpRequest(); global.XMLHttpRequest.onCreate = (xhr) => { requests.push(xhr); } }); beforeEach(() => { requests = []; }); it('Should call api with ()', function(done) { let xhr = {}; TripadvisorApiConnector(someQuery) .then(() => { assert.equal(xhr.requestBody, JSON.stringify({query: someQuery})); done(); }); setTimeout(() => { assert.equal(requests.length, 1, 'TripadvisorApiConnector.api.called'); xhr = requests[0]; xhr.respond(200, {\\\"Content-Type\\\": \\\"application/json\\\"}, '{\\\"query\\\": \\\"lakjsdlkajdl\\\"}'); }, 0); }); });\\n\\n####"}
{"prompt":"define(['@parcel/packager-svg','@tensorflow/tfjs-backend-webgl','rollup-plugin-terser','@babel/helper-check-duplicate-nodes','json-diff','mocha','nock','phantomjs','pegjs'], function(parcelPackagerSvg,tensorflowTfjsBackendWebgl,rollupPluginTerser,babelHelperCheckDuplicateNodes,jsonDiff,mocha,nock,phantomjs,pegjs){\\nconst constants = require('@wix/document-services-implementation/src/constants/constants') const addMobileOnlyComponent = async (ds, {type = 'wixui.StylableButton', containerPointer} = {}) => { if (ds.viewMode.get() !== constants.VIEW_MODES.MOBILE) { ds.viewMode.set(constants.VIEW_MODES.MOBILE) await ds.SOQ.waitForChangesAppliedAsync() } const compDef = ds.components.buildDefaultComponentStructure(type) const componentContainer = containerPointer ?? ds.pages.getCurrentPage() const mobileCompPointer = ds.components.add(componentContainer, compDef) await ds.SOQ.waitForChangesAppliedAsync() return mobileCompPointer\\n} const addRegularComponent = async (ds, {type = 'wysiwyg.viewer.components.SiteButton', containerPointer} = {}) => { ds.viewMode.set(constants.VIEW_MODES.DESKTOP) await ds.SOQ.waitForChangesAppliedAsync() const compDef = ds.components.buildDefaultComponentStructure(type) const container = containerPointer ?? ds.pages.getCurrentPage() const compPointer = ds.components.add(container, compDef) await ds.SOQ.waitForChangesAppliedAsync() return compPointer\\n} module.exports = { addMobileOnlyComponent, addRegularComponent\\n}\\n\\n})\\n####","completion":" import parcelPackagerSvg from '@parcel/packager-svg'\\nimport tensorflowTfjsBackendWebgl from '@tensorflow/tfjs-backend-webgl'\\nimport rollupPluginTerser from 'rollup-plugin-terser'\\nimport babelHelperCheckDuplicateNodes from '@babel/helper-check-duplicate-nodes'\\nimport jsonDiff from 'json-diff'\\nimport mocha from 'mocha'\\nimport nock from 'nock'\\nimport phantomjs from 'phantomjs'\\nimport pegjs from 'pegjs'\\n\\nconst constants = require('@wix/document-services-implementation/src/constants/constants') const addMobileOnlyComponent = async (ds, {type = 'wixui.StylableButton', containerPointer} = {}) => { if (ds.viewMode.get() !== constants.VIEW_MODES.MOBILE) { ds.viewMode.set(constants.VIEW_MODES.MOBILE) await ds.SOQ.waitForChangesAppliedAsync() } const compDef = ds.components.buildDefaultComponentStructure(type) const componentContainer = containerPointer ?? ds.pages.getCurrentPage() const mobileCompPointer = ds.components.add(componentContainer, compDef) await ds.SOQ.waitForChangesAppliedAsync() return mobileCompPointer\\n} const addRegularComponent = async (ds, {type = 'wysiwyg.viewer.components.SiteButton', containerPointer} = {}) => { ds.viewMode.set(constants.VIEW_MODES.DESKTOP) await ds.SOQ.waitForChangesAppliedAsync() const compDef = ds.components.buildDefaultComponentStructure(type) const container = containerPointer ?? ds.pages.getCurrentPage() const compPointer = ds.components.add(container, compDef) await ds.SOQ.waitForChangesAppliedAsync() return compPointer\\n} module.exports = { addMobileOnlyComponent, addRegularComponent\\n}\\n\\n####"}
{"prompt":"define(['@babel/helper-check-duplicate-nodes','babel-preset-react'], function(babelHelperCheckDuplicateNodes,babelPresetReact){\\nimport React from 'react';\\nimport PropTypes from 'prop-types';\\nimport Banner, { BANNER_TYPES } from '../Banner';\\nimport CurrencyUtils from '@wix/wixrest-utils/dist/CurrencyUtils';\\nimport './AddressInformationBanner.scss'; export default function AddressInformationBanner({ organization, t, bannerInfo, deliveryInfo }) { const deliveryInfoCharge = deliveryInfo && deliveryInfo.charge ? deliveryInfo.charge : 0; const deliveryCharge = deliveryInfo && CurrencyUtils.toStr(deliveryInfoCharge / 100, organization.currency, organization.locale); return ( <Banner type={bannerInfo.type}> {bannerInfo.type === BANNER_TYPES.SUCCESS ? ( t('phoneordering_customerinfo_ordertype_deliverycharge_inarea', { actualDeliveryCharge: deliveryCharge }) ) : ( <div> <div style={{ fontWeight: 'normal' }}>{bannerInfo.mainText}</div> <div>{bannerInfo.text}</div> </div> )} </Banner> );\\n} AddressInformationBanner.displayName = 'AddressInformationBanner';\\nAddressInformationBanner.propTypes = { organization: PropTypes.object, bannerInfo: PropTypes.object, deliveryInfo: PropTypes.object, t: PropTypes.func,\\n};\\n\\n})\\n####","completion":" import babelHelperCheckDuplicateNodes from '@babel/helper-check-duplicate-nodes'\\nimport babelPresetReact from 'babel-preset-react'\\n\\nimport React from 'react';\\nimport PropTypes from 'prop-types';\\nimport Banner, { BANNER_TYPES } from '../Banner';\\nimport CurrencyUtils from '@wix/wixrest-utils/dist/CurrencyUtils';\\nimport './AddressInformationBanner.scss'; export default function AddressInformationBanner({ organization, t, bannerInfo, deliveryInfo }) { const deliveryInfoCharge = deliveryInfo && deliveryInfo.charge ? deliveryInfo.charge : 0; const deliveryCharge = deliveryInfo && CurrencyUtils.toStr(deliveryInfoCharge / 100, organization.currency, organization.locale); return ( <Banner type={bannerInfo.type}> {bannerInfo.type === BANNER_TYPES.SUCCESS ? ( t('phoneordering_customerinfo_ordertype_deliverycharge_inarea', { actualDeliveryCharge: deliveryCharge }) ) : ( <div> <div style={{ fontWeight: 'normal' }}>{bannerInfo.mainText}</div> <div>{bannerInfo.text}</div> </div> )} </Banner> );\\n} AddressInformationBanner.displayName = 'AddressInformationBanner';\\nAddressInformationBanner.propTypes = { organization: PropTypes.object, bannerInfo: PropTypes.object, deliveryInfo: PropTypes.object, t: PropTypes.func,\\n};\\n\\n####"}
{"prompt":"define(['brfs','parse-node-version','react-dom','@babel/plugin-transform-flow-strip-types','base-x','yallist','balanced-match','filesize','sauce-connect-launcher','eslint-config-semistandard','prop-types','v8-compile-cache','@babel/runtime-corejs3','callsites'], function(brfs,parseNodeVersion,reactDom,babelPluginTransformFlowStripTypes,baseX,yallist,balancedMatch,filesize,sauceConnectLauncher,eslintConfigSemistandard,propTypes,v8CompileCache,babelRuntimeCorejs3,callsites){\\n'use strict'\\nconst testUtils = require('../testUtils')\\nconst createReactElement = require('../../src/utils/createReactElement')\\nconst animatableMixin = require('../../src/mixins/animatableMixin') describe('animatableMixin', function () { function getCompWithMixin() { const simpleCompDefinition = { mixins: [animatableMixin], render() { return createReactElement('div') } } return testUtils.getComponentFromDefinition(simpleCompDefinition) } describe('isCurrentlyAnimating', function () { it('should be false by default', function () { const comp = getCompWithMixin() expect(comp.isCurrentlyAnimating).toBeFalsy() }) it('should assign to true when starting animation', function () { const comp = getCompWithMixin() comp.animationStarted() expect(comp.isCurrentlyAnimating).toBeTruthy() }) it('should assign to false when ending all animations', function () { const comp = getCompWithMixin() comp.animationStarted() comp.animationStarted() comp.animationEnded() expect(comp.isCurrentlyAnimating).toBeTruthy() comp.animationEnded() expect(comp.isCurrentlyAnimating).toBeFalsy() }) })\\n})\\n})\\n####","completion":" import brfs from 'brfs'\\nimport parseNodeVersion from 'parse-node-version'\\nimport reactDom from 'react-dom'\\nimport babelPluginTransformFlowStripTypes from '@babel/plugin-transform-flow-strip-types'\\nimport baseX from 'base-x'\\nimport yallist from 'yallist'\\nimport balancedMatch from 'balanced-match'\\nimport filesize from 'filesize'\\nimport sauceConnectLauncher from 'sauce-connect-launcher'\\nimport eslintConfigSemistandard from 'eslint-config-semistandard'\\nimport propTypes from 'prop-types'\\nimport v8CompileCache from 'v8-compile-cache'\\nimport babelRuntimeCorejs3 from '@babel/runtime-corejs3'\\nimport callsites from 'callsites'\\n\\n'use strict'\\nconst testUtils = require('../testUtils')\\nconst createReactElement = require('../../src/utils/createReactElement')\\nconst animatableMixin = require('../../src/mixins/animatableMixin') describe('animatableMixin', function () { function getCompWithMixin() { const simpleCompDefinition = { mixins: [animatableMixin], render() { return createReactElement('div') } } return testUtils.getComponentFromDefinition(simpleCompDefinition) } describe('isCurrentlyAnimating', function () { it('should be false by default', function () { const comp = getCompWithMixin() expect(comp.isCurrentlyAnimating).toBeFalsy() }) it('should assign to true when starting animation', function () { const comp = getCompWithMixin() comp.animationStarted() expect(comp.isCurrentlyAnimating).toBeTruthy() }) it('should assign to false when ending all animations', function () { const comp = getCompWithMixin() comp.animationStarted() comp.animationStarted() comp.animationEnded() expect(comp.isCurrentlyAnimating).toBeTruthy() comp.animationEnded() expect(comp.isCurrentlyAnimating).toBeFalsy() }) })\\n})\\n####"}
{"prompt":"define(['esbuild-register','karma-phantomjs-launcher','google-closure-compiler','d3-dispatch','grunt-cli','prebuildify','abbrev','@babel/core-7.12','import-fresh','adm-zip','@babel/helper-remap-async-to-generator','typedoc','unorm','eslint-config-moxy'], function(esbuildRegister,karmaPhantomjsLauncher,googleClosureCompiler,d3Dispatch,gruntCli,prebuildify,abbrev,babelCore712,importFresh,admZip,babelHelperRemapAsyncToGenerator,typedoc,unorm,eslintConfigMoxy){\\nimport React from 'react';\\nimport { StyleSheet, TouchableOpacity, Image } from 'react-native';\\nimport { TextRoman } from '../WixText'; const SocialLoginButton = ({logo, text, color, action}) => ( <TouchableOpacity style = {[socialLoginButtonStyles.socialLoginContainer, { backgroundColor : color }]} onPress = {action} > <Image source = {logo}/> <TextRoman style = {socialLoginButtonStyles.socialLoginText}> {text} </TextRoman> </TouchableOpacity>\\n); const socialLoginButtonStyles = StyleSheet.create({ socialLoginContainer : { flexDirection : 'row', alignSelf : 'stretch', paddingHorizontal : 30, marginVertical : 8, justifyContent : 'center', height : 54, borderRadius : 100, alignItems : 'center' }, socialLoginText : { flex : 1, textAlign : 'center', color : 'white', fontSize : 16, },\\n}); export default SocialLoginButton;\\n\\n})\\n####","completion":" import esbuildRegister from 'esbuild-register'\\nimport karmaPhantomjsLauncher from 'karma-phantomjs-launcher'\\nimport googleClosureCompiler from 'google-closure-compiler'\\nimport d3Dispatch from 'd3-dispatch'\\nimport gruntCli from 'grunt-cli'\\nimport prebuildify from 'prebuildify'\\nimport abbrev from 'abbrev'\\nimport babelCore712 from '@babel/core-7.12'\\nimport importFresh from 'import-fresh'\\nimport admZip from 'adm-zip'\\nimport babelHelperRemapAsyncToGenerator from '@babel/helper-remap-async-to-generator'\\nimport typedoc from 'typedoc'\\nimport unorm from 'unorm'\\nimport eslintConfigMoxy from 'eslint-config-moxy'\\n\\nimport React from 'react';\\nimport { StyleSheet, TouchableOpacity, Image } from 'react-native';\\nimport { TextRoman } from '../WixText'; const SocialLoginButton = ({logo, text, color, action}) => ( <TouchableOpacity style = {[socialLoginButtonStyles.socialLoginContainer, { backgroundColor : color }]} onPress = {action} > <Image source = {logo}/> <TextRoman style = {socialLoginButtonStyles.socialLoginText}> {text} </TextRoman> </TouchableOpacity>\\n); const socialLoginButtonStyles = StyleSheet.create({ socialLoginContainer : { flexDirection : 'row', alignSelf : 'stretch', paddingHorizontal : 30, marginVertical : 8, justifyContent : 'center', height : 54, borderRadius : 100, alignItems : 'center' }, socialLoginText : { flex : 1, textAlign : 'center', color : 'white', fontSize : 16, },\\n}); export default SocialLoginButton;\\n\\n####"}
{"prompt":"define(['postcss-normalize-url','parse-node-version','postcss-svgo','concat-map','eslint-config-airbnb','@swc/core','grunt-contrib-compress','regenerate-unicode-properties','@babel/helper-fixtures','random-int','@parcel/markdown-ansi','uglify-js','globals','wd','debug','mock-fs','stream-to-array'], function(postcssNormalizeUrl,parseNodeVersion,postcssSvgo,concatMap,eslintConfigAirbnb,swcCore,gruntContribCompress,regenerateUnicodeProperties,babelHelperFixtures,randomInt,parcelMarkdownAnsi,uglifyJs,globals,wd,debug,mockFs,streamToArray){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.wix.com/demone2/art-photographer (38)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/art-photographer', emulateMobileDevice: true, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/38-art-photographer/mesh/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import postcssNormalizeUrl from 'postcss-normalize-url'\\nimport parseNodeVersion from 'parse-node-version'\\nimport postcssSvgo from 'postcss-svgo'\\nimport concatMap from 'concat-map'\\nimport eslintConfigAirbnb from 'eslint-config-airbnb'\\nimport swcCore from '@swc/core'\\nimport gruntContribCompress from 'grunt-contrib-compress'\\nimport regenerateUnicodeProperties from 'regenerate-unicode-properties'\\nimport babelHelperFixtures from '@babel/helper-fixtures'\\nimport randomInt from 'random-int'\\nimport parcelMarkdownAnsi from '@parcel/markdown-ansi'\\nimport uglifyJs from 'uglify-js'\\nimport globals from 'globals'\\nimport wd from 'wd'\\nimport debug from 'debug'\\nimport mockFs from 'mock-fs'\\nimport streamToArray from 'stream-to-array'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.wix.com/demone2/art-photographer (38)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/art-photographer', emulateMobileDevice: true, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/38-art-photographer/mesh/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['grunt-contrib-connect','write','nth-check','cross-env','concurrently','canvas','@types/d3-format','ms','@iarna/toml'], function(gruntContribConnect,write,nthCheck,crossEnv,concurrently,canvas,typesD3Format,ms,iarnaToml){\\nmodule.exports = { getRendererModel: ({metaSiteId, siteId, experimentsList = [], isUrlMigrated, pages, quickActionsMenuEnabled, v}) => ({ urlFormatModel: { format: isUrlMigrated ? 'slash' : 'hashBang' }, siteMetaData: { quickActions: { configuration: { quickActionsMenuEnabled } } }, siteId, metaSiteId, siteInfo: { siteId }, runningExperiments: experimentsList.reduce((acc, next) => { acc[next] = 'new' return acc }, {}), userId: 'shaharzur', pageList: { pages, topology: [{parts: `sites/{filename}.z?v=${v}`}] } }), getPublicModel: ({isHttps, ck, siteRevision}) => ({ siteRevision, externalBaseUrl: `http${isHttps ? 's' : ''}://ssrdev.wixsite.com/site-with-button`, unicodeExternalBaseUrl: `http${isHttps ? 's' : ''}://ssrdev.wixsite.com/site-with-button`, siteAssets: { cacheVersions: { dataFixer: ck } } }), getServiceTopology: ({dfVersion}) => ({ scriptsVersionsMap: { 'santa-data-fixer': dfVersion } })\\n}\\n})\\n####","completion":" import gruntContribConnect from 'grunt-contrib-connect'\\nimport write from 'write'\\nimport nthCheck from 'nth-check'\\nimport crossEnv from 'cross-env'\\nimport concurrently from 'concurrently'\\nimport canvas from 'canvas'\\nimport typesD3Format from '@types/d3-format'\\nimport ms from 'ms'\\nimport iarnaToml from '@iarna/toml'\\n\\nmodule.exports = { getRendererModel: ({metaSiteId, siteId, experimentsList = [], isUrlMigrated, pages, quickActionsMenuEnabled, v}) => ({ urlFormatModel: { format: isUrlMigrated ? 'slash' : 'hashBang' }, siteMetaData: { quickActions: { configuration: { quickActionsMenuEnabled } } }, siteId, metaSiteId, siteInfo: { siteId }, runningExperiments: experimentsList.reduce((acc, next) => { acc[next] = 'new' return acc }, {}), userId: 'shaharzur', pageList: { pages, topology: [{parts: `sites/{filename}.z?v=${v}`}] } }), getPublicModel: ({isHttps, ck, siteRevision}) => ({ siteRevision, externalBaseUrl: `http${isHttps ? 's' : ''}://ssrdev.wixsite.com/site-with-button`, unicodeExternalBaseUrl: `http${isHttps ? 's' : ''}://ssrdev.wixsite.com/site-with-button`, siteAssets: { cacheVersions: { dataFixer: ck } } }), getServiceTopology: ({dfVersion}) => ({ scriptsVersionsMap: { 'santa-data-fixer': dfVersion } })\\n}\\n####"}
{"prompt":"define(['terser-webpack-plugin','prebuildify-ci','grunt-banner','css-declaration-sorter','eslint-config-rackt','@parcel/transformer-postcss','@commitlint/config-angular','@nuxtjs/eslint-config','postcss-discard-empty','postcss-normalize-repeat-style','@babel/plugin-transform-duplicate-keys'], function(terserWebpackPlugin,prebuildifyCi,gruntBanner,cssDeclarationSorter,eslintConfigRackt,parcelTransformerPostcss,commitlintConfigAngular,nuxtjsEslintConfig,postcssDiscardEmpty,postcssNormalizeRepeatStyle,babelPluginTransformDuplicateKeys){\\nimport PropTypes from 'prop-types';\\nimport React from 'react';\\nimport ImageUtils from 'openrest4js/dist/openrest4js-helpers/Image';\\nimport { getSourceSet, getDefaultSource, getSizes } from './utils/imageUtils'; function Image(props) { const { alt, width, modes, className, dataHook } = props; const defaultSource = getDefaultSource({ ImageUtils, ...props }); const srcSet = getSourceSet({ ImageUtils, ...props }); const sizes = getSizes(modes, width); return <img aria-hidden role='presentation' src={defaultSource} srcSet={srcSet} alt={alt} sizes={sizes} className={className} data-hook={dataHook} />;\\n} Image.displayName = 'Image';\\nImage.propTypes = { src: PropTypes.string.isRequired, alt: PropTypes.string.isRequired, width: PropTypes.number.isRequired, height: PropTypes.number.isRequired, webpEnabled: PropTypes.bool.isRequired, sizes: PropTypes.string, className: PropTypes.string, dataHook: PropTypes.string\\n};\\nImage.defaultProps = { dataHook: 'wixrest-menus-item-image'\\n}; export default Image;\\n})\\n####","completion":" import terserWebpackPlugin from 'terser-webpack-plugin'\\nimport prebuildifyCi from 'prebuildify-ci'\\nimport gruntBanner from 'grunt-banner'\\nimport cssDeclarationSorter from 'css-declaration-sorter'\\nimport eslintConfigRackt from 'eslint-config-rackt'\\nimport parcelTransformerPostcss from '@parcel/transformer-postcss'\\nimport commitlintConfigAngular from '@commitlint/config-angular'\\nimport nuxtjsEslintConfig from '@nuxtjs/eslint-config'\\nimport postcssDiscardEmpty from 'postcss-discard-empty'\\nimport postcssNormalizeRepeatStyle from 'postcss-normalize-repeat-style'\\nimport babelPluginTransformDuplicateKeys from '@babel/plugin-transform-duplicate-keys'\\n\\nimport PropTypes from 'prop-types';\\nimport React from 'react';\\nimport ImageUtils from 'openrest4js/dist/openrest4js-helpers/Image';\\nimport { getSourceSet, getDefaultSource, getSizes } from './utils/imageUtils'; function Image(props) { const { alt, width, modes, className, dataHook } = props; const defaultSource = getDefaultSource({ ImageUtils, ...props }); const srcSet = getSourceSet({ ImageUtils, ...props }); const sizes = getSizes(modes, width); return <img aria-hidden role='presentation' src={defaultSource} srcSet={srcSet} alt={alt} sizes={sizes} className={className} data-hook={dataHook} />;\\n} Image.displayName = 'Image';\\nImage.propTypes = { src: PropTypes.string.isRequired, alt: PropTypes.string.isRequired, width: PropTypes.number.isRequired, height: PropTypes.number.isRequired, webpEnabled: PropTypes.bool.isRequired, sizes: PropTypes.string, className: PropTypes.string, dataHook: PropTypes.string\\n};\\nImage.defaultProps = { dataHook: 'wixrest-menus-item-image'\\n}; export default Image;\\n####"}
{"prompt":"define(['@npmcli/eslint-config','array.prototype.map','tape-await','@parcel/babel-register','bluebird-retry','@rollup/plugin-json','@babel/generator','csv-parse','grunt-css-url-embed','picocolors','string.prototype.repeat','@babel/plugin-syntax-async-generators','jasmine','faster-stable-stringify','functions-have-names','random-int','chai-string'], function(npmcliEslintConfig,arrayPrototypeMap,tapeAwait,parcelBabelRegister,bluebirdRetry,rollupPluginJson,babelGenerator,csvParse,gruntCssUrlEmbed,picocolors,stringPrototypeRepeat,babelPluginSyntaxAsyncGenerators,jasmine,fasterStableStringify,functionsHaveNames,randomInt,chaiString){\\nimport _ from 'lodash';\\nimport React, { Component } from 'react';\\nimport I18nify from '@wix/restaurants-components/src/shared/I18nify';\\nimport msidInjector from '../../hoc/msidInjector';\\nimport * as PropTypes from 'prop-types'; @msidInjector\\n@I18nify\\nexport default class DeliveryPartners extends Component { static propTypes = { msid: PropTypes.string, }; constructor(props) { super(props); this.AppsCollection = window.ModuleRegistry.component( 'AppsCollectionWidget', ); } render() { return ( <div> {this.AppsCollection && ( <this.AppsCollection locale={this.props.i18n.getLanguage()} collectionTag=\\\"fulfillment-apps\\\" originPageComponentId=\\\"restaurants\\\" originPageComponentLabel=\\\"Delivery Partners\\\" metaSiteId={this.props.msid} geoFilter /> )} </div> ); }\\n}\\n\\n})\\n####","completion":" import npmcliEslintConfig from '@npmcli/eslint-config'\\nimport arrayPrototypeMap from 'array.prototype.map'\\nimport tapeAwait from 'tape-await'\\nimport parcelBabelRegister from '@parcel/babel-register'\\nimport bluebirdRetry from 'bluebird-retry'\\nimport rollupPluginJson from '@rollup/plugin-json'\\nimport babelGenerator from '@babel/generator'\\nimport csvParse from 'csv-parse'\\nimport gruntCssUrlEmbed from 'grunt-css-url-embed'\\nimport picocolors from 'picocolors'\\nimport stringPrototypeRepeat from 'string.prototype.repeat'\\nimport babelPluginSyntaxAsyncGenerators from '@babel/plugin-syntax-async-generators'\\nimport jasmine from 'jasmine'\\nimport fasterStableStringify from 'faster-stable-stringify'\\nimport functionsHaveNames from 'functions-have-names'\\nimport randomInt from 'random-int'\\nimport chaiString from 'chai-string'\\n\\nimport _ from 'lodash';\\nimport React, { Component } from 'react';\\nimport I18nify from '@wix/restaurants-components/src/shared/I18nify';\\nimport msidInjector from '../../hoc/msidInjector';\\nimport * as PropTypes from 'prop-types'; @msidInjector\\n@I18nify\\nexport default class DeliveryPartners extends Component { static propTypes = { msid: PropTypes.string, }; constructor(props) { super(props); this.AppsCollection = window.ModuleRegistry.component( 'AppsCollectionWidget', ); } render() { return ( <div> {this.AppsCollection && ( <this.AppsCollection locale={this.props.i18n.getLanguage()} collectionTag=\\\"fulfillment-apps\\\" originPageComponentId=\\\"restaurants\\\" originPageComponentLabel=\\\"Delivery Partners\\\" metaSiteId={this.props.msid} geoFilter /> )} </div> ); }\\n}\\n\\n####"}
{"prompt":"define(['concat-map','karma-edge-launcher','cross-env','make-dir','eslint-config-dev','better-assert','broccoli-babel-transpiler','timers-browserify','airtap'], function(concatMap,karmaEdgeLauncher,crossEnv,makeDir,eslintConfigDev,betterAssert,broccoliBabelTranspiler,timersBrowserify,airtap){\\nrequire('./WixRestCheckbox.css'); import PropTypes from 'prop-types'; import React from 'react';\\nimport createReactClass from 'create-react-class';\\nimport * as sharedLogic from '../../logic/Misc'; // - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - export default createReactClass({ displayName: 'WixRestCheckbox', propTypes: { checked: PropTypes.bool, disabled: PropTypes.bool, hover: PropTypes.bool, // FOR AUTOMATIC TESTING active: PropTypes.bool, // FOR AUTOMATIC TESTING }, shouldComponentUpdate(nextProps, nextState, nextContext) { return sharedLogic.$shouldComponentUpdate.bind(this)(arguments); }, displayType: 'WixRestRadioButton', // - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - render() { let className = 'wixrestreact_wixrestcheckbox' + (this.props.checked ? ' checked' : ' unchecked') + (this.props.hover ? ' hover' : '') + (this.props.active ? ' active' : '') + (this.props.disabled ? ' disabled' : ''); return ( <div className={className} onMouseUp={this.props.disabled ? null : this.props.onClick}> <div className='inner'> </div> <div className='children'>{this.props.children}</div> </div> ); },\\n});\\n\\n})\\n####","completion":" import concatMap from 'concat-map'\\nimport karmaEdgeLauncher from 'karma-edge-launcher'\\nimport crossEnv from 'cross-env'\\nimport makeDir from 'make-dir'\\nimport eslintConfigDev from 'eslint-config-dev'\\nimport betterAssert from 'better-assert'\\nimport broccoliBabelTranspiler from 'broccoli-babel-transpiler'\\nimport timersBrowserify from 'timers-browserify'\\nimport airtap from 'airtap'\\n\\nrequire('./WixRestCheckbox.css'); import PropTypes from 'prop-types'; import React from 'react';\\nimport createReactClass from 'create-react-class';\\nimport * as sharedLogic from '../../logic/Misc'; // - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - export default createReactClass({ displayName: 'WixRestCheckbox', propTypes: { checked: PropTypes.bool, disabled: PropTypes.bool, hover: PropTypes.bool, // FOR AUTOMATIC TESTING active: PropTypes.bool, // FOR AUTOMATIC TESTING }, shouldComponentUpdate(nextProps, nextState, nextContext) { return sharedLogic.$shouldComponentUpdate.bind(this)(arguments); }, displayType: 'WixRestRadioButton', // - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - render() { let className = 'wixrestreact_wixrestcheckbox' + (this.props.checked ? ' checked' : ' unchecked') + (this.props.hover ? ' hover' : '') + (this.props.active ? ' active' : '') + (this.props.disabled ? ' disabled' : ''); return ( <div className={className} onMouseUp={this.props.disabled ? null : this.props.onClick}> <div className='inner'> </div> <div className='children'>{this.props.children}</div> </div> ); },\\n});\\n\\n####"}
{"prompt":"define(['detect-browser','@babel/plugin-proposal-async-generator-functions','parse-node-version','google-closure-compiler','ncp','chai'], function(detectBrowser,babelPluginProposalAsyncGeneratorFunctions,parseNodeVersion,googleClosureCompiler,ncp,chai){\\nmodule.exports = function (webpackConfig, webpack) { webpackConfig.plugins.unshift( new webpack.IgnorePlugin({resourceRegExp: /iconv-loader$/}), new webpack.IgnorePlugin({resourceRegExp: /uws$/}), new webpack.IgnorePlugin({resourceRegExp: /iconv-loader$/}), new webpack.IgnorePlugin({resourceRegExp: /bufferutil$/}), new webpack.IgnorePlugin({resourceRegExp: /utf-8-validate$/}), new webpack.IgnorePlugin({resourceRegExp: /dtrace-provider$/}), new webpack.IgnorePlugin({resourceRegExp: /terser-webpack-plugin$/}) ) webpackConfig.plugins.unshift() webpackConfig.plugins.unshift( new webpack.NormalModuleReplacementPlugin(/es6-error$/, resource => { resource.request = 'es6-error/lib/index.js' }) ) webpackConfig.module.rules = webpackConfig.module.rules.map(rule => { if (!rule.exclude) { return rule } return { ...rule, exclude: /node_modules\\/(?!@wix\\/(thunderbolt|editor)-(commons|e2e-testkit|ssr-api))/ } }) // some deps, like santa-integration-tests have a require for it webpackConfig.externals = webpackConfig.externals || {} webpackConfig.externals['aws-sdk'] = 'aws-sdk' webpackConfig.externals['utf-8-validate'] = 'utf-8-validate' webpackConfig.externals.bufferutil = 'bufferutil' return webpackConfig\\n}\\n\\n})\\n####","completion":" import detectBrowser from 'detect-browser'\\nimport babelPluginProposalAsyncGeneratorFunctions from '@babel/plugin-proposal-async-generator-functions'\\nimport parseNodeVersion from 'parse-node-version'\\nimport googleClosureCompiler from 'google-closure-compiler'\\nimport ncp from 'ncp'\\nimport chai from 'chai'\\n\\nmodule.exports = function (webpackConfig, webpack) { webpackConfig.plugins.unshift( new webpack.IgnorePlugin({resourceRegExp: /iconv-loader$/}), new webpack.IgnorePlugin({resourceRegExp: /uws$/}), new webpack.IgnorePlugin({resourceRegExp: /iconv-loader$/}), new webpack.IgnorePlugin({resourceRegExp: /bufferutil$/}), new webpack.IgnorePlugin({resourceRegExp: /utf-8-validate$/}), new webpack.IgnorePlugin({resourceRegExp: /dtrace-provider$/}), new webpack.IgnorePlugin({resourceRegExp: /terser-webpack-plugin$/}) ) webpackConfig.plugins.unshift() webpackConfig.plugins.unshift( new webpack.NormalModuleReplacementPlugin(/es6-error$/, resource => { resource.request = 'es6-error/lib/index.js' }) ) webpackConfig.module.rules = webpackConfig.module.rules.map(rule => { if (!rule.exclude) { return rule } return { ...rule, exclude: /node_modules\\/(?!@wix\\/(thunderbolt|editor)-(commons|e2e-testkit|ssr-api))/ } }) // some deps, like santa-integration-tests have a require for it webpackConfig.externals = webpackConfig.externals || {} webpackConfig.externals['aws-sdk'] = 'aws-sdk' webpackConfig.externals['utf-8-validate'] = 'utf-8-validate' webpackConfig.externals.bufferutil = 'bufferutil' return webpackConfig\\n}\\n\\n####"}
{"prompt":"define(['karma-detect-browsers','karma-mocha-reporter','connect'], function(karmaDetectBrowsers,karmaMochaReporter,connect){\\ndefine(['lodash', 'documentServices/dataModel/dataModel'], function (_, dataModel) { 'use strict' function getDevicePropName(ps, pointer) { return ps.pointers.components.getViewMode(pointer).toLowerCase() } function getPageProperties(ps, pagePointer) { return _.get(dataModel.getPropertiesItem(ps, pagePointer), getDevicePropName(ps, pagePointer)) } function mergePageProps(ps, pagePointer, chunkToMerge) { const allPageProps = dataModel.getPropertiesItem(ps, pagePointer) || dataModel.createPropertiesItemByType(ps, 'PageProperties') const path = getDevicePropName(ps, pagePointer) let mergedChunk if (_.isPlainObject(chunkToMerge)) { const chunkFromDAL = _.get(allPageProps, path, {}) mergedChunk = _.assign(chunkFromDAL, chunkToMerge) } else { mergedChunk = chunkToMerge } _.set(allPageProps, path, mergedChunk) return allPageProps } function updatePageProperties(ps, pagePointer, props) { const mergedProps = mergePageProps(ps, pagePointer, props) dataModel.updatePropertiesItem(ps, pagePointer, mergedProps) } return { getPageProperties, updatePageProperties }\\n})\\n\\n})\\n####","completion":" import karmaDetectBrowsers from 'karma-detect-browsers'\\nimport karmaMochaReporter from 'karma-mocha-reporter'\\nimport connect from 'connect'\\n\\ndefine(['lodash', 'documentServices/dataModel/dataModel'], function (_, dataModel) { 'use strict' function getDevicePropName(ps, pointer) { return ps.pointers.components.getViewMode(pointer).toLowerCase() } function getPageProperties(ps, pagePointer) { return _.get(dataModel.getPropertiesItem(ps, pagePointer), getDevicePropName(ps, pagePointer)) } function mergePageProps(ps, pagePointer, chunkToMerge) { const allPageProps = dataModel.getPropertiesItem(ps, pagePointer) || dataModel.createPropertiesItemByType(ps, 'PageProperties') const path = getDevicePropName(ps, pagePointer) let mergedChunk if (_.isPlainObject(chunkToMerge)) { const chunkFromDAL = _.get(allPageProps, path, {}) mergedChunk = _.assign(chunkFromDAL, chunkToMerge) } else { mergedChunk = chunkToMerge } _.set(allPageProps, path, mergedChunk) return allPageProps } function updatePageProperties(ps, pagePointer, props) { const mergedProps = mergePageProps(ps, pagePointer, props) dataModel.updatePropertiesItem(ps, pagePointer, mergedProps) } return { getPageProperties, updatePageProperties }\\n})\\n\\n####"}
{"prompt":"define(['babel-plugin-transform-es2015-block-scoping','terser-webpack-plugin','dom-serializer','postcss-discard-empty','karma-ie-launcher','code-point-at','process-nextick-args','object.fromentries','array.prototype.filter','es-abstract','@babel/preset-flow','xo','codecov.io','delayed-stream','json-pointer','gitbook-plugin-prism','uglifyify','@size-limit/preset-small-lib'], function(babelPluginTransformEs2015BlockScoping,terserWebpackPlugin,domSerializer,postcssDiscardEmpty,karmaIeLauncher,codePointAt,processNextickArgs,objectFromentries,arrayPrototypeFilter,esAbstract,babelPresetFlow,xo,codecovIo,delayedStream,jsonPointer,gitbookPluginPrism,uglifyify,sizeLimitPresetSmallLib){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.shaiyallin.com/about (57)', withViewer({ tpaInterceptor, baseUrl: 'https://www.shaiyallin.com/about', emulateMobileDevice: false, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/57-shai-yalin-about/mesh/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import babelPluginTransformEs2015BlockScoping from 'babel-plugin-transform-es2015-block-scoping'\\nimport terserWebpackPlugin from 'terser-webpack-plugin'\\nimport domSerializer from 'dom-serializer'\\nimport postcssDiscardEmpty from 'postcss-discard-empty'\\nimport karmaIeLauncher from 'karma-ie-launcher'\\nimport codePointAt from 'code-point-at'\\nimport processNextickArgs from 'process-nextick-args'\\nimport objectFromentries from 'object.fromentries'\\nimport arrayPrototypeFilter from 'array.prototype.filter'\\nimport esAbstract from 'es-abstract'\\nimport babelPresetFlow from '@babel/preset-flow'\\nimport xo from 'xo'\\nimport codecovIo from 'codecov.io'\\nimport delayedStream from 'delayed-stream'\\nimport jsonPointer from 'json-pointer'\\nimport gitbookPluginPrism from 'gitbook-plugin-prism'\\nimport uglifyify from 'uglifyify'\\nimport sizeLimitPresetSmallLib from '@size-limit/preset-small-lib'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.shaiyallin.com/about (57)', withViewer({ tpaInterceptor, baseUrl: 'https://www.shaiyallin.com/about', emulateMobileDevice: false, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/57-shai-yalin-about/mesh/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['karma-chrome-launcher','css-what','karma-sinon','fbjs-scripts','@parcel/types','typescript-register','@babel/helper-create-class-features-plugin'], function(karmaChromeLauncher,cssWhat,karmaSinon,fbjsScripts,parcelTypes,typescriptRegister,babelHelperCreateClassFeaturesPlugin){\\n'use strict'\\nconst {withViewer} = require('@wix/santa-integration-tests') test('uploaded fonts render correctly', withViewer({ baseUrl: 'https://odedg1.wixsite.com/uploadfonts' }, async ({viewer, componentDriverFactory}) => { const buttonId = 'comp-jd1m5mkb' const textId = 'comp-jd1mch1u' const themedTextId = 'comp-jd1mecez' const buttonComp = await componentDriverFactory.create(buttonId) const textComp = await componentDriverFactory.create(textId) const themedTextComp = await componentDriverFactory.create(themedTextId) const buttonFontFamily = await buttonComp.getFontFamily() const textFontFamily = await textComp.getFontFamily() const themedTextFontFamily = await themedTextComp.getFontFamily() expect(await viewer.fonts.isFontLoaded(buttonFontFamily)).toEqual(true) expect(await viewer.fonts.isFontLoaded(textFontFamily)).toEqual(true) expect(await viewer.fonts.isFontLoaded(themedTextFontFamily)).toEqual(true) })\\n) \\n})\\n####","completion":" import karmaChromeLauncher from 'karma-chrome-launcher'\\nimport cssWhat from 'css-what'\\nimport karmaSinon from 'karma-sinon'\\nimport fbjsScripts from 'fbjs-scripts'\\nimport parcelTypes from '@parcel/types'\\nimport typescriptRegister from 'typescript-register'\\nimport babelHelperCreateClassFeaturesPlugin from '@babel/helper-create-class-features-plugin'\\n\\n'use strict'\\nconst {withViewer} = require('@wix/santa-integration-tests') test('uploaded fonts render correctly', withViewer({ baseUrl: 'https://odedg1.wixsite.com/uploadfonts' }, async ({viewer, componentDriverFactory}) => { const buttonId = 'comp-jd1m5mkb' const textId = 'comp-jd1mch1u' const themedTextId = 'comp-jd1mecez' const buttonComp = await componentDriverFactory.create(buttonId) const textComp = await componentDriverFactory.create(textId) const themedTextComp = await componentDriverFactory.create(themedTextId) const buttonFontFamily = await buttonComp.getFontFamily() const textFontFamily = await textComp.getFontFamily() const themedTextFontFamily = await themedTextComp.getFontFamily() expect(await viewer.fonts.isFontLoaded(buttonFontFamily)).toEqual(true) expect(await viewer.fonts.isFontLoaded(textFontFamily)).toEqual(true) expect(await viewer.fonts.isFontLoaded(themedTextFontFamily)).toEqual(true) })\\n) \\n####"}
{"prompt":"define(['error-cause','postcss-discard-comments','core-js','vm-browserify','typescript','q','run-sequence','@types/css-declaration-sorter','htmlnano','csso','supports-preserve-symlinks-flag','karma-webpack','node-environment-flags','bundlesize','sinon','covert','@babel/helper-hoist-variables','import-fresh','browserslist','core-js-compat'], function(errorCause,postcssDiscardComments,coreJs,vmBrowserify,typescript,q,runSequence,typesCssDeclarationSorter,htmlnano,csso,supportsPreserveSymlinksFlag,karmaWebpack,nodeEnvironmentFlags,bundlesize,sinon,covert,babelHelperHoistVariables,importFresh,browserslist,coreJsCompat){\\n'use strict' const styleUtils = require('../../src/coreUtils/core/style') describe('style utils spec', function () { describe('prefix', function () { it('should return an object with both regular and vendor-prefixed styles', function () { const styles = { styleA: 'some value', styleB: 'some value' } const prefixedStyles = styleUtils.prefix(styles) const expectedPrefixedStyles = { styleA: 'some value', WebkitStyleA: 'some value', MozStyleA: 'some value', msStyleA: 'some value', styleB: 'some value', WebkitStyleB: 'some value', MozStyleB: 'some value', msStyleB: 'some value' } expect(prefixedStyles).toEqual(expectedPrefixedStyles) }) }) describe('unitize', function () { it('should return the value as is if it is a string', function () { expect(styleUtils.unitize('someVal')).toEqual('someVal') }) it('should return the value with default px units if it is a number', function () { expect(styleUtils.unitize(10)).toEqual('10px') }) it('should return the value with the specified units if the value is a number', function () { expect(styleUtils.unitize(10, 'em')).toEqual('10em') }) })\\n})\\n\\n})\\n####","completion":" import errorCause from 'error-cause'\\nimport postcssDiscardComments from 'postcss-discard-comments'\\nimport coreJs from 'core-js'\\nimport vmBrowserify from 'vm-browserify'\\nimport typescript from 'typescript'\\nimport q from 'q'\\nimport runSequence from 'run-sequence'\\nimport typesCssDeclarationSorter from '@types/css-declaration-sorter'\\nimport htmlnano from 'htmlnano'\\nimport csso from 'csso'\\nimport supportsPreserveSymlinksFlag from 'supports-preserve-symlinks-flag'\\nimport karmaWebpack from 'karma-webpack'\\nimport nodeEnvironmentFlags from 'node-environment-flags'\\nimport bundlesize from 'bundlesize'\\nimport sinon from 'sinon'\\nimport covert from 'covert'\\nimport babelHelperHoistVariables from '@babel/helper-hoist-variables'\\nimport importFresh from 'import-fresh'\\nimport browserslist from 'browserslist'\\nimport coreJsCompat from 'core-js-compat'\\n\\n'use strict' const styleUtils = require('../../src/coreUtils/core/style') describe('style utils spec', function () { describe('prefix', function () { it('should return an object with both regular and vendor-prefixed styles', function () { const styles = { styleA: 'some value', styleB: 'some value' } const prefixedStyles = styleUtils.prefix(styles) const expectedPrefixedStyles = { styleA: 'some value', WebkitStyleA: 'some value', MozStyleA: 'some value', msStyleA: 'some value', styleB: 'some value', WebkitStyleB: 'some value', MozStyleB: 'some value', msStyleB: 'some value' } expect(prefixedStyles).toEqual(expectedPrefixedStyles) }) }) describe('unitize', function () { it('should return the value as is if it is a string', function () { expect(styleUtils.unitize('someVal')).toEqual('someVal') }) it('should return the value with default px units if it is a number', function () { expect(styleUtils.unitize(10)).toEqual('10px') }) it('should return the value with the specified units if the value is a number', function () { expect(styleUtils.unitize(10, 'em')).toEqual('10em') }) })\\n})\\n\\n####"}
{"prompt":"define(['@babel/plugin-proposal-class-static-block','klaw-sync','@types/d3-format','es-to-primitive','rollup-plugin-buble','doctoc','css-declaration-sorter','fast-glob','karma-qunit','css-what','fs-extra','abbrev','@parcel/config-default','xtend','unicode-canonical-property-names-ecmascript'], function(babelPluginProposalClassStaticBlock,klawSync,typesD3Format,esToPrimitive,rollupPluginBuble,doctoc,cssDeclarationSorter,fastGlob,karmaQunit,cssWhat,fsExtra,abbrev,parcelConfigDefault,xtend,unicodeCanonicalPropertyNamesEcmascript){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.wix.com/demone2/cinematographer (34)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/cinematographer', emulateMobileDevice: true, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/34-cinematographer/mesh/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import babelPluginProposalClassStaticBlock from '@babel/plugin-proposal-class-static-block'\\nimport klawSync from 'klaw-sync'\\nimport typesD3Format from '@types/d3-format'\\nimport esToPrimitive from 'es-to-primitive'\\nimport rollupPluginBuble from 'rollup-plugin-buble'\\nimport doctoc from 'doctoc'\\nimport cssDeclarationSorter from 'css-declaration-sorter'\\nimport fastGlob from 'fast-glob'\\nimport karmaQunit from 'karma-qunit'\\nimport cssWhat from 'css-what'\\nimport fsExtra from 'fs-extra'\\nimport abbrev from 'abbrev'\\nimport parcelConfigDefault from '@parcel/config-default'\\nimport xtend from 'xtend'\\nimport unicodeCanonicalPropertyNamesEcmascript from 'unicode-canonical-property-names-ecmascript'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.wix.com/demone2/cinematographer (34)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/cinematographer', emulateMobileDevice: true, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/34-cinematographer/mesh/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['ajv','@parcel/transformer-posthtml','css-select','foreach','@babel/plugin-syntax-export-namespace-from','babel-plugin-transform-class-properties','ua-parser-js','@types/jest','far','babel-plugin-transform-es2015-arrow-functions','@babel/helper-optimise-call-expression','is-shared-array-buffer','cssnano-preset-advanced','del-cli','caniuse-lite'], function(ajv,parcelTransformerPosthtml,cssSelect,foreach,babelPluginSyntaxExportNamespaceFrom,babelPluginTransformClassProperties,uaParserJs,typesJest,far,babelPluginTransformEs2015ArrowFunctions,babelHelperOptimiseCallExpression,isSharedArrayBuffer,cssnanoPresetAdvanced,delCli,caniuseLite){\\ndefine(['lodash', 'documentServices/dataModel/dataModel'], function (_, dataModel) { 'use strict' function getConnections(ps, compRef) { const connections = dataModel.getConnectionsItem(ps, compRef) return connections || [] } function getPlatformAppConnections(ps, compRef) { return _.reject(getConnections(ps, compRef), {type: 'WixCodeConnectionItem'}) } function isCompConnectedToController(ps, compRef, controllerRef) { return _.some(getConnections(ps, compRef), {controllerRef}) } function getPrimaryConnection(ps, compRef) { return _.find(getPlatformAppConnections(ps, compRef), {isPrimary: true}) } function getConnectionsByPointer(ps, connectionPtr, pagePtr) { return dataModel.getConnectionsItemByPointer(ps, connectionPtr, pagePtr) } return { getConnections, getConnectionsByPointer, getPlatformAppConnections, isCompConnectedToController, getPrimaryConnection }\\n})\\n\\n})\\n####","completion":" import ajv from 'ajv'\\nimport parcelTransformerPosthtml from '@parcel/transformer-posthtml'\\nimport cssSelect from 'css-select'\\nimport foreach from 'foreach'\\nimport babelPluginSyntaxExportNamespaceFrom from '@babel/plugin-syntax-export-namespace-from'\\nimport babelPluginTransformClassProperties from 'babel-plugin-transform-class-properties'\\nimport uaParserJs from 'ua-parser-js'\\nimport typesJest from '@types/jest'\\nimport far from 'far'\\nimport babelPluginTransformEs2015ArrowFunctions from 'babel-plugin-transform-es2015-arrow-functions'\\nimport babelHelperOptimiseCallExpression from '@babel/helper-optimise-call-expression'\\nimport isSharedArrayBuffer from 'is-shared-array-buffer'\\nimport cssnanoPresetAdvanced from 'cssnano-preset-advanced'\\nimport delCli from 'del-cli'\\nimport caniuseLite from 'caniuse-lite'\\n\\ndefine(['lodash', 'documentServices/dataModel/dataModel'], function (_, dataModel) { 'use strict' function getConnections(ps, compRef) { const connections = dataModel.getConnectionsItem(ps, compRef) return connections || [] } function getPlatformAppConnections(ps, compRef) { return _.reject(getConnections(ps, compRef), {type: 'WixCodeConnectionItem'}) } function isCompConnectedToController(ps, compRef, controllerRef) { return _.some(getConnections(ps, compRef), {controllerRef}) } function getPrimaryConnection(ps, compRef) { return _.find(getPlatformAppConnections(ps, compRef), {isPrimary: true}) } function getConnectionsByPointer(ps, connectionPtr, pagePtr) { return dataModel.getConnectionsItemByPointer(ps, connectionPtr, pagePtr) } return { getConnections, getConnectionsByPointer, getPlatformAppConnections, isCompConnectedToController, getPrimaryConnection }\\n})\\n\\n####"}
{"prompt":"define(['postcss-unique-selectors','@types/ws','eslint-plugin-import','jasmine-core','json5','babel-plugin-transform-es2015-block-scoping','canvas','function.prototype.name','color-convert','rollup-plugin-typescript2','@babel/plugin-transform-flow-strip-types','jscs'], function(postcssUniqueSelectors,typesWs,eslintPluginImport,jasmineCore,json5,babelPluginTransformEs2015BlockScoping,canvas,functionPrototypeName,colorConvert,rollupPluginTypescript2,babelPluginTransformFlowStripTypes,jscs){\\nimport React from 'react';\\nimport { storiesOf } from '@storybook/react';\\nimport NavigationSideBar from '../../src/components/NavigationSideBar';\\nimport { menu } from '../../__tests__/helpers/menu.mock';\\nimport StoryComponent from '../StoryComponent';\\nimport { contacts, addresses } from '../../__tests__/helpers/dataTypes.mocks'; function useBoolean(initial) { const [bool, setBool] = React.useState(initial); const toggle = () => { setBool(!bool); }; return [bool, toggle];\\n} function NavigationSideBarStory() { const style = { margin: 20, width: 300, height: '90vh', overflow: 'hidden' }; const [showSummary, toggleSummary] = useBoolean(); return ( <StoryComponent> <div style={style}> <NavigationSideBar simplifiedMenu={menu} locale=\\\"en_US\\\" deliveryType=\\\"delivery\\\" showSummary={showSummary} onSummaryTitleClick={toggleSummary} customer={contacts[0]} address={addresses[0]} /> </div> </StoryComponent> );\\n} storiesOf('NavigationSideBar', module).add('NavigationSideBar', () => <NavigationSideBarStory />);\\n\\n})\\n####","completion":" import postcssUniqueSelectors from 'postcss-unique-selectors'\\nimport typesWs from '@types/ws'\\nimport eslintPluginImport from 'eslint-plugin-import'\\nimport jasmineCore from 'jasmine-core'\\nimport json5 from 'json5'\\nimport babelPluginTransformEs2015BlockScoping from 'babel-plugin-transform-es2015-block-scoping'\\nimport canvas from 'canvas'\\nimport functionPrototypeName from 'function.prototype.name'\\nimport colorConvert from 'color-convert'\\nimport rollupPluginTypescript2 from 'rollup-plugin-typescript2'\\nimport babelPluginTransformFlowStripTypes from '@babel/plugin-transform-flow-strip-types'\\nimport jscs from 'jscs'\\n\\nimport React from 'react';\\nimport { storiesOf } from '@storybook/react';\\nimport NavigationSideBar from '../../src/components/NavigationSideBar';\\nimport { menu } from '../../__tests__/helpers/menu.mock';\\nimport StoryComponent from '../StoryComponent';\\nimport { contacts, addresses } from '../../__tests__/helpers/dataTypes.mocks'; function useBoolean(initial) { const [bool, setBool] = React.useState(initial); const toggle = () => { setBool(!bool); }; return [bool, toggle];\\n} function NavigationSideBarStory() { const style = { margin: 20, width: 300, height: '90vh', overflow: 'hidden' }; const [showSummary, toggleSummary] = useBoolean(); return ( <StoryComponent> <div style={style}> <NavigationSideBar simplifiedMenu={menu} locale=\\\"en_US\\\" deliveryType=\\\"delivery\\\" showSummary={showSummary} onSummaryTitleClick={toggleSummary} customer={contacts[0]} address={addresses[0]} /> </div> </StoryComponent> );\\n} storiesOf('NavigationSideBar', module).add('NavigationSideBar', () => <NavigationSideBarStory />);\\n\\n####"}
{"prompt":"define(['babel-plugin-transform-es2015-block-scoping','commondir','https-browserify','babel-eslint','@parcel/fs-search'], function(babelPluginTransformEs2015BlockScoping,commondir,httpsBrowserify,babelEslint,parcelFsSearch){\\nconst initBrowser = require('./initBrowser')\\nconst _ = require('lodash')\\nconst querystring = require('querystring') const APPSTUDIO_URL = 'https://editor.wix.com/html/app-builder/web/renderer/edit/bd2acfec-6746-4d8d-9861-b8db926f506a?metaSiteId=402066c2-647a-427c-91c6-680f6f47b478&editorSessionId=9E88DFF5-6CA6-4013-A93B-14B3B6988126&leavePagePopUp=false' const openAppStudio = async (page, config) => { const defaultDebug = !_.isUndefined(config.isPlatform) && config.isPlatform === true ? 'eliran' : '' const queryParams = { debug: process.env.debug || process.env.DEBUG || global.debug || defaultDebug, ...config.queryParams } if (queryParams.debug === 'all') { page.setDefaultNavigationTimeout(60000) } const querySeparator = _.includes(APPSTUDIO_URL, '?') ? '&' : '?' const url = `${APPSTUDIO_URL}${querySeparator}${querystring.stringify(queryParams)}` const res = await initBrowser(page, url) return res\\n} module.exports = openAppStudio\\n\\n})\\n####","completion":" import babelPluginTransformEs2015BlockScoping from 'babel-plugin-transform-es2015-block-scoping'\\nimport commondir from 'commondir'\\nimport httpsBrowserify from 'https-browserify'\\nimport babelEslint from 'babel-eslint'\\nimport parcelFsSearch from '@parcel/fs-search'\\n\\nconst initBrowser = require('./initBrowser')\\nconst _ = require('lodash')\\nconst querystring = require('querystring') const APPSTUDIO_URL = 'https://editor.wix.com/html/app-builder/web/renderer/edit/bd2acfec-6746-4d8d-9861-b8db926f506a?metaSiteId=402066c2-647a-427c-91c6-680f6f47b478&editorSessionId=9E88DFF5-6CA6-4013-A93B-14B3B6988126&leavePagePopUp=false' const openAppStudio = async (page, config) => { const defaultDebug = !_.isUndefined(config.isPlatform) && config.isPlatform === true ? 'eliran' : '' const queryParams = { debug: process.env.debug || process.env.DEBUG || global.debug || defaultDebug, ...config.queryParams } if (queryParams.debug === 'all') { page.setDefaultNavigationTimeout(60000) } const querySeparator = _.includes(APPSTUDIO_URL, '?') ? '&' : '?' const url = `${APPSTUDIO_URL}${querySeparator}${querystring.stringify(queryParams)}` const res = await initBrowser(page, url) return res\\n} module.exports = openAppStudio\\n\\n####"}
{"prompt":"define(['v8-compile-cache','@parcel/transformer-react-refresh-wrap','url','d3-color','parent-module','karma-chai'], function(v8CompileCache,parcelTransformerReactRefreshWrap,url,d3Color,parentModule,karmaChai){\\nimport React from 'react';\\nimport { string } from 'prop-types'; export default function CartEmptyStateSvg({ className }) { return ( <svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"100\\\" height=\\\"101\\\" viewBox=\\\"0 0 100 101\\\" className={className}> <g fill=\\\"none\\\"> <path fill=\\\"#FFF\\\" d=\\\"M0 1h100v100H0z\\\" /> <g> <path fill=\\\"#B0DFFB\\\" d=\\\"M80.397 99.992H19.014a8.708 8.708 0 0 1-6.439-2.434 8.425 8.425 0 0 1-2.571-6.299l5.817-60.362c.596-4.382 4.507-7.581 8.993-7.356h49.783c4.474-.207 8.364 2.988 8.96 7.356l5.851 60.362a8.425 8.425 0 0 1-2.571 6.3 8.708 8.708 0 0 1-6.44 2.433z\\\" /> <path fill=\\\"#D9EFFC\\\" d=\\\"M65.341 38.235c-1.923 0-3.482-1.488-3.482-3.325V14.13c0-4.156-4.283-7.48-9.541-7.48h-5.224c-5.223 0-9.54 3.324-9.54 7.48v20.78c0 1.837-1.56 3.325-3.483 3.325s-3.482-1.488-3.482-3.325V14.13C30.519 6.334 37.919 0 47.025 0h5.223c9.176 0 16.576 6.334 16.576 14.13v20.78c0 1.837-1.56 3.325-3.483 3.325z\\\" /> <path fill=\\\"#D8EFFD\\\" d=\\\"M10.004 91.177a8.546 8.546 0 0 0 2.571 6.358 8.662 8.662 0 0 0 6.44 2.457h61.382a8.662 8.662 0 0 0 6.44-2.457 8.546 8.546 0 0 0 2.571-6.358l-1.156-11.765H11.16l-1.156 11.765z\\\" /> </g> </g> </svg> );\\n} CartEmptyStateSvg.propTypes = { className: string,\\n};\\n\\n})\\n####","completion":" import v8CompileCache from 'v8-compile-cache'\\nimport parcelTransformerReactRefreshWrap from '@parcel/transformer-react-refresh-wrap'\\nimport url from 'url'\\nimport d3Color from 'd3-color'\\nimport parentModule from 'parent-module'\\nimport karmaChai from 'karma-chai'\\n\\nimport React from 'react';\\nimport { string } from 'prop-types'; export default function CartEmptyStateSvg({ className }) { return ( <svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"100\\\" height=\\\"101\\\" viewBox=\\\"0 0 100 101\\\" className={className}> <g fill=\\\"none\\\"> <path fill=\\\"#FFF\\\" d=\\\"M0 1h100v100H0z\\\" /> <g> <path fill=\\\"#B0DFFB\\\" d=\\\"M80.397 99.992H19.014a8.708 8.708 0 0 1-6.439-2.434 8.425 8.425 0 0 1-2.571-6.299l5.817-60.362c.596-4.382 4.507-7.581 8.993-7.356h49.783c4.474-.207 8.364 2.988 8.96 7.356l5.851 60.362a8.425 8.425 0 0 1-2.571 6.3 8.708 8.708 0 0 1-6.44 2.433z\\\" /> <path fill=\\\"#D9EFFC\\\" d=\\\"M65.341 38.235c-1.923 0-3.482-1.488-3.482-3.325V14.13c0-4.156-4.283-7.48-9.541-7.48h-5.224c-5.223 0-9.54 3.324-9.54 7.48v20.78c0 1.837-1.56 3.325-3.483 3.325s-3.482-1.488-3.482-3.325V14.13C30.519 6.334 37.919 0 47.025 0h5.223c9.176 0 16.576 6.334 16.576 14.13v20.78c0 1.837-1.56 3.325-3.483 3.325z\\\" /> <path fill=\\\"#D8EFFD\\\" d=\\\"M10.004 91.177a8.546 8.546 0 0 0 2.571 6.358 8.662 8.662 0 0 0 6.44 2.457h61.382a8.662 8.662 0 0 0 6.44-2.457 8.546 8.546 0 0 0 2.571-6.358l-1.156-11.765H11.16l-1.156 11.765z\\\" /> </g> </g> </svg> );\\n} CartEmptyStateSvg.propTypes = { className: string,\\n};\\n\\n####"}
{"prompt":"define(['require-ini','@babel/plugin-proposal-class-properties','cssnano-preset-lite','tap-spec','webpack-dev-server','iconv-lite','chai-subset','@mapbox/cloudfriend','if-env','@ljharb/eslint-config','@babel/plugin-transform-block-scoped-functions','jasmine-core','LiveScript','@parcel/codeframe','eslint-config-prettier','auto-changelog','@parcel/graph','classnames','path-parse','bluebird-retry'], function(requireIni,babelPluginProposalClassProperties,cssnanoPresetLite,tapSpec,webpackDevServer,iconvLite,chaiSubset,mapboxCloudfriend,ifEnv,ljharbEslintConfig,babelPluginTransformBlockScopedFunctions,jasmineCore,liveScript,parcelCodeframe,eslintConfigPrettier,autoChangelog,parcelGraph,classnames,pathParse,bluebirdRetry){\\n'use strict'\\nconst santaTypesDefinitions = require('../definitions/santaTypesDefinitions') function getState(publicState) { const propsInfo = { props: this.props.compProp, data: this.props.compData } return publicState.call(this, this.state, propsInfo)\\n} /** * Creates a mixin that update RuntimeDal with the public state of the component. * @param {function(state: Object, {data: Object?, props: Object?})} getPublicState Function to get the public state out of the current state, data and properties * @returns {Object} The mixin definition */\\nfunction compStateMixin(getPublicState) { return { statics: { publicState: getPublicState }, propTypes: { setCompState: santaTypesDefinitions.DAL.setCompState.isRequired, removeCompState: santaTypesDefinitions.DAL.removeCompState.isRequired, id: santaTypesDefinitions.Component.id.isRequired }, componentWillUnmount() { this.props.removeCompState(this.props.id) }, componentDidMount() { this.props.setCompState(this.props.id, getState.call(this, getPublicState)) }, componentDidUpdate() { this.props.setCompState(this.props.id, getState.call(this, getPublicState)) } }\\n} module.exports = compStateMixin\\n\\n})\\n####","completion":" import requireIni from 'require-ini'\\nimport babelPluginProposalClassProperties from '@babel/plugin-proposal-class-properties'\\nimport cssnanoPresetLite from 'cssnano-preset-lite'\\nimport tapSpec from 'tap-spec'\\nimport webpackDevServer from 'webpack-dev-server'\\nimport iconvLite from 'iconv-lite'\\nimport chaiSubset from 'chai-subset'\\nimport mapboxCloudfriend from '@mapbox/cloudfriend'\\nimport ifEnv from 'if-env'\\nimport ljharbEslintConfig from '@ljharb/eslint-config'\\nimport babelPluginTransformBlockScopedFunctions from '@babel/plugin-transform-block-scoped-functions'\\nimport jasmineCore from 'jasmine-core'\\nimport liveScript from 'LiveScript'\\nimport parcelCodeframe from '@parcel/codeframe'\\nimport eslintConfigPrettier from 'eslint-config-prettier'\\nimport autoChangelog from 'auto-changelog'\\nimport parcelGraph from '@parcel/graph'\\nimport classnames from 'classnames'\\nimport pathParse from 'path-parse'\\nimport bluebirdRetry from 'bluebird-retry'\\n\\n'use strict'\\nconst santaTypesDefinitions = require('../definitions/santaTypesDefinitions') function getState(publicState) { const propsInfo = { props: this.props.compProp, data: this.props.compData } return publicState.call(this, this.state, propsInfo)\\n} /** * Creates a mixin that update RuntimeDal with the public state of the component. * @param {function(state: Object, {data: Object?, props: Object?})} getPublicState Function to get the public state out of the current state, data and properties * @returns {Object} The mixin definition */\\nfunction compStateMixin(getPublicState) { return { statics: { publicState: getPublicState }, propTypes: { setCompState: santaTypesDefinitions.DAL.setCompState.isRequired, removeCompState: santaTypesDefinitions.DAL.removeCompState.isRequired, id: santaTypesDefinitions.Component.id.isRequired }, componentWillUnmount() { this.props.removeCompState(this.props.id) }, componentDidMount() { this.props.setCompState(this.props.id, getState.call(this, getPublicState)) }, componentDidUpdate() { this.props.setCompState(this.props.id, getState.call(this, getPublicState)) } }\\n} module.exports = compStateMixin\\n\\n####"}
{"prompt":"define(['hyphenate-style-name','qunitjs','@parcel/packager-raw','postcss-discard-empty','postcss-reduce-initial','json5','standard-markdown'], function(hyphenateStyleName,qunitjs,parcelPackagerRaw,postcssDiscardEmpty,postcssReduceInitial,json5,standardMarkdown){\\nimport PropTypes from 'prop-types';\\nimport React, { Component } from 'react';\\nimport classNames from 'classnames';\\nimport './StatusIcon.css';\\nimport { Badge } from 'wix-style-react'; export const palette = { RED: 'danger', BLUE: 'standard', GREEN: 'success', DARK: 'general', ORANGE: 'urgent', // RED: '#ff6666', // BLUE: '#4eb7f5', // GREEN: '#60bc57',\\n}; export default class StatusIcon extends Component { static propTypes = { color: PropTypes.oneOf(Object.values(palette)), invert: PropTypes.bool, label: PropTypes.string.isRequired, rtl: PropTypes.bool.isRequired, }; render() { const { color, invert, label } = this.props; return ( <Badge className={classNames('userRequestDetails-statusIcon', { rtl: this.props.rtl, })} skin={color} type={invert ? 'outlined' : 'solid'} > {label} </Badge> ); }\\n}\\n\\n})\\n####","completion":" import hyphenateStyleName from 'hyphenate-style-name'\\nimport qunitjs from 'qunitjs'\\nimport parcelPackagerRaw from '@parcel/packager-raw'\\nimport postcssDiscardEmpty from 'postcss-discard-empty'\\nimport postcssReduceInitial from 'postcss-reduce-initial'\\nimport json5 from 'json5'\\nimport standardMarkdown from 'standard-markdown'\\n\\nimport PropTypes from 'prop-types';\\nimport React, { Component } from 'react';\\nimport classNames from 'classnames';\\nimport './StatusIcon.css';\\nimport { Badge } from 'wix-style-react'; export const palette = { RED: 'danger', BLUE: 'standard', GREEN: 'success', DARK: 'general', ORANGE: 'urgent', // RED: '#ff6666', // BLUE: '#4eb7f5', // GREEN: '#60bc57',\\n}; export default class StatusIcon extends Component { static propTypes = { color: PropTypes.oneOf(Object.values(palette)), invert: PropTypes.bool, label: PropTypes.string.isRequired, rtl: PropTypes.bool.isRequired, }; render() { const { color, invert, label } = this.props; return ( <Badge className={classNames('userRequestDetails-statusIcon', { rtl: this.props.rtl, })} skin={color} type={invert ? 'outlined' : 'solid'} > {label} </Badge> ); }\\n}\\n\\n####"}
{"prompt":"define(['tap-spec','babel-plugin-transform-object-rest-spread','clean-publish','async'], function(tapSpec,babelPluginTransformObjectRestSpread,cleanPublish,async){\\nrequire('./SelectPaymentReact.css'); import _ from 'lodash';\\nimport XButton from 'src/components/XButton.js';\\nimport * as logic from '../../../logic/checkout/payment/SelectPaymentReact.js';\\nimport {I18n} from '@wix/wixrest-utils';\\nimport PaymentTypeSelector from '../../../components/PaymentTypeSelector'; let {I18N} = I18n.getComponentHeader('openrest_checkoutpaymentview_'); export default class SelectPaymentReact extends React.Component { static displayName = 'Checkout.Payment.SelectPaymentReact'; static propTypes = logic.propTypes; render() { let { paymentTypes } = logic.prepare(this.props); const { onDelete = () => {}, select = () => {}, hideCloseButton = false, dummyRow = false } = this.props; var removeButton = hideCloseButton ? <span/> : <XButton displayType='web' onClick={onDelete} title={I18N('remove', 'Remove')}/>; return ( <div className = 'openrest_Checkout_Payment_SelectPaymentReact_wrapper' role='radiogroup' tabIndex={-1}> {_.map(paymentTypes, type => ( <PaymentTypeSelector key={`PaymentTypeSelector-type-${type.value}`} displayType='web' type={type.value} onClick={_.partial(select, type.value)} enabled={!dummyRow} /> ))} {removeButton} </div> ); }\\n}\\n\\n})\\n####","completion":" import tapSpec from 'tap-spec'\\nimport babelPluginTransformObjectRestSpread from 'babel-plugin-transform-object-rest-spread'\\nimport cleanPublish from 'clean-publish'\\nimport async from 'async'\\n\\nrequire('./SelectPaymentReact.css'); import _ from 'lodash';\\nimport XButton from 'src/components/XButton.js';\\nimport * as logic from '../../../logic/checkout/payment/SelectPaymentReact.js';\\nimport {I18n} from '@wix/wixrest-utils';\\nimport PaymentTypeSelector from '../../../components/PaymentTypeSelector'; let {I18N} = I18n.getComponentHeader('openrest_checkoutpaymentview_'); export default class SelectPaymentReact extends React.Component { static displayName = 'Checkout.Payment.SelectPaymentReact'; static propTypes = logic.propTypes; render() { let { paymentTypes } = logic.prepare(this.props); const { onDelete = () => {}, select = () => {}, hideCloseButton = false, dummyRow = false } = this.props; var removeButton = hideCloseButton ? <span/> : <XButton displayType='web' onClick={onDelete} title={I18N('remove', 'Remove')}/>; return ( <div className = 'openrest_Checkout_Payment_SelectPaymentReact_wrapper' role='radiogroup' tabIndex={-1}> {_.map(paymentTypes, type => ( <PaymentTypeSelector key={`PaymentTypeSelector-type-${type.value}`} displayType='web' type={type.value} onClick={_.partial(select, type.value)} enabled={!dummyRow} /> ))} {removeButton} </div> ); }\\n}\\n\\n####"}
{"prompt":"define(['@babel/plugin-transform-sticky-regex','lines-and-columns','grunt-banner'], function(babelPluginTransformStickyRegex,linesAndColumns,gruntBanner){\\nconst googleImagesApiMaxPixels = 2000; const googleImagesApiUrlPattern = /^https?:\\/\\/(.+)\\.(googleusercontent|ggpht)\\.com\\/(.+)$/; const wixMediaPlatformMaxPixels = 5100; // Actually, width*height must be <= (5100)^2 const wixMediaPlatformUrlPattern = /^https?:\\/\\/(media\\.wixapps\\.net|.+\\.wixmp\\.com)\\/(.+)\\/images\\/(.+)\\/$/; const wixMediaManagerUrlPattern = /^https?:\\/\\/static\\.wixstatic\\.com\\/media\\/(.+)$/; // File should probably be renamed to something like ImageServiceUtils (it's not just GAE now) export default { /** * @param size The bigger side of the image (eg, if picture box is 200px x 100px, give 200). 0 means max size. */ getImageUrl({url = null, size = 0} = {}) { if (!url) { return null; } let extension = url.match(/\\.[0-9A-z]+$/) || '.jpg'; if (googleImagesApiUrlPattern.test(url)) { return `${url}=s${(size >= 0 && size <= googleImagesApiMaxPixels) ? size : 0}`; } if (wixMediaManagerUrlPattern.test(url)) { return (size > 0 && size <= wixMediaPlatformMaxPixels) ? `${url}/v1/fill/w_${size},h_${size}/file${extension}` : url; } if (wixMediaPlatformUrlPattern.test(url)) { return (size > 0 && size <= wixMediaPlatformMaxPixels) ? `${url}v1/fill/w_${size},h_${size}/file${extension}` : url; } return url; } } \\n})\\n####","completion":" import babelPluginTransformStickyRegex from '@babel/plugin-transform-sticky-regex'\\nimport linesAndColumns from 'lines-and-columns'\\nimport gruntBanner from 'grunt-banner'\\n\\nconst googleImagesApiMaxPixels = 2000; const googleImagesApiUrlPattern = /^https?:\\/\\/(.+)\\.(googleusercontent|ggpht)\\.com\\/(.+)$/; const wixMediaPlatformMaxPixels = 5100; // Actually, width*height must be <= (5100)^2 const wixMediaPlatformUrlPattern = /^https?:\\/\\/(media\\.wixapps\\.net|.+\\.wixmp\\.com)\\/(.+)\\/images\\/(.+)\\/$/; const wixMediaManagerUrlPattern = /^https?:\\/\\/static\\.wixstatic\\.com\\/media\\/(.+)$/; // File should probably be renamed to something like ImageServiceUtils (it's not just GAE now) export default { /** * @param size The bigger side of the image (eg, if picture box is 200px x 100px, give 200). 0 means max size. */ getImageUrl({url = null, size = 0} = {}) { if (!url) { return null; } let extension = url.match(/\\.[0-9A-z]+$/) || '.jpg'; if (googleImagesApiUrlPattern.test(url)) { return `${url}=s${(size >= 0 && size <= googleImagesApiMaxPixels) ? size : 0}`; } if (wixMediaManagerUrlPattern.test(url)) { return (size > 0 && size <= wixMediaPlatformMaxPixels) ? `${url}/v1/fill/w_${size},h_${size}/file${extension}` : url; } if (wixMediaPlatformUrlPattern.test(url)) { return (size > 0 && size <= wixMediaPlatformMaxPixels) ? `${url}v1/fill/w_${size},h_${size}/file${extension}` : url; } return url; } } \\n####"}
{"prompt":"define(['crypto-browserify','safe-buffer','babel-preset-es2015-rollup','file-loader','postcss-normalize-display-values','rollup-plugin-memory'], function(cryptoBrowserify,safeBuffer,babelPresetEs2015Rollup,fileLoader,postcssNormalizeDisplayValues,rollupPluginMemory){\\n// let $stack = document.createElement('div');\\n// let $style = document.createElement('style');\\n// $style.innerHTML = `\\n// .history-entry {\\n// background: #8bc34a;\\n// padding: 4px 7px;\\n// }\\n// .history-entry.current {\\n// background: #cddc39;\\n// }\\n// .history-entry.navigation {\\n// background: #f44336;\\n// }\\n// `; // document.head.appendChild($style) // $stack.style.position = 'fixed';\\n// $stack.style.zIndex = '1234567890';\\n// $stack.style.top = '5px';\\n// $stack.style.left = '5px';\\n// $stack.style.background = 'white'; // document.body.appendChild($stack); // function renderStack() {\\n// $stack.innerHTML = '';\\n// historyStack.forEach((entry, idx) => {\\n// let className = 'history-entry', description; // if (entry.navigatedAway) {\\n// className += ' navigation';\\n// description = 'navigation';\\n// } else {\\n// description = entry.state.sectionId;\\n// if (idx === currentIndex) className += ' current';\\n// } // $stack.innerHTML += `<div class=\\\"${className}\\\">${description}</div>`;\\n// });\\n// }\\n\\n})\\n####","completion":" import cryptoBrowserify from 'crypto-browserify'\\nimport safeBuffer from 'safe-buffer'\\nimport babelPresetEs2015Rollup from 'babel-preset-es2015-rollup'\\nimport fileLoader from 'file-loader'\\nimport postcssNormalizeDisplayValues from 'postcss-normalize-display-values'\\nimport rollupPluginMemory from 'rollup-plugin-memory'\\n\\n// let $stack = document.createElement('div');\\n// let $style = document.createElement('style');\\n// $style.innerHTML = `\\n// .history-entry {\\n// background: #8bc34a;\\n// padding: 4px 7px;\\n// }\\n// .history-entry.current {\\n// background: #cddc39;\\n// }\\n// .history-entry.navigation {\\n// background: #f44336;\\n// }\\n// `; // document.head.appendChild($style) // $stack.style.position = 'fixed';\\n// $stack.style.zIndex = '1234567890';\\n// $stack.style.top = '5px';\\n// $stack.style.left = '5px';\\n// $stack.style.background = 'white'; // document.body.appendChild($stack); // function renderStack() {\\n// $stack.innerHTML = '';\\n// historyStack.forEach((entry, idx) => {\\n// let className = 'history-entry', description; // if (entry.navigatedAway) {\\n// className += ' navigation';\\n// description = 'navigation';\\n// } else {\\n// description = entry.state.sectionId;\\n// if (idx === currentIndex) className += ' current';\\n// } // $stack.innerHTML += `<div class=\\\"${className}\\\">${description}</div>`;\\n// });\\n// }\\n\\n####"}
{"prompt":"define(['parse-passwd','lodash.uniq','@babel/plugin-transform-modules-commonjs','nullthrows','gts','string-width','dtslint','babel-loader','lint-staged','@tensorflow/tfjs','d3-format','gulp-eslint','broccoli-uglify-js','resolve'], function(parsePasswd,lodashUniq,babelPluginTransformModulesCommonjs,nullthrows,gts,stringWidth,dtslint,babelLoader,lintStaged,tensorflowTfjs,d3Format,gulpEslint,broccoliUglifyJs,resolve){\\nimport SelectCreditReact from '../../checkout/payment/SelectCreditReact.js';\\nimport { Creditcards } from 'creditcards-info'; export default class extends React.Component { static displayName = 'ClientInfo.Cards.Editor'; onSave = (payment) => { this.props.onSave({ data: payment.cardToken, onSuccess: () => {}, onError: () => {} }); }; render() { var payment = { amount: 0, cardToken: { _id: 'new' }, done: false, internalkey: '1', type: 'credit', }; let creditcardsInfoForCountry = Creditcards.getCreditcardDataForCountry( this.props.restaurant.address.countryCode); let creditcardsInfo = { ...creditcardsInfoForCountry, collectionMethod: 'online' }; return ( <SelectCreditReact iframeOnly={true} payment={payment} key={payment.internalkey + 'newcredit'} change={payment => this.onSave(payment)} onDelete={() => this.props.onClose()} creditcardsInfo={creditcardsInfo} locale={this.props.restaurant.locale}/> ); }\\n}\\n\\n})\\n####","completion":" import parsePasswd from 'parse-passwd'\\nimport lodashUniq from 'lodash.uniq'\\nimport babelPluginTransformModulesCommonjs from '@babel/plugin-transform-modules-commonjs'\\nimport nullthrows from 'nullthrows'\\nimport gts from 'gts'\\nimport stringWidth from 'string-width'\\nimport dtslint from 'dtslint'\\nimport babelLoader from 'babel-loader'\\nimport lintStaged from 'lint-staged'\\nimport tensorflowTfjs from '@tensorflow/tfjs'\\nimport d3Format from 'd3-format'\\nimport gulpEslint from 'gulp-eslint'\\nimport broccoliUglifyJs from 'broccoli-uglify-js'\\nimport resolve from 'resolve'\\n\\nimport SelectCreditReact from '../../checkout/payment/SelectCreditReact.js';\\nimport { Creditcards } from 'creditcards-info'; export default class extends React.Component { static displayName = 'ClientInfo.Cards.Editor'; onSave = (payment) => { this.props.onSave({ data: payment.cardToken, onSuccess: () => {}, onError: () => {} }); }; render() { var payment = { amount: 0, cardToken: { _id: 'new' }, done: false, internalkey: '1', type: 'credit', }; let creditcardsInfoForCountry = Creditcards.getCreditcardDataForCountry( this.props.restaurant.address.countryCode); let creditcardsInfo = { ...creditcardsInfoForCountry, collectionMethod: 'online' }; return ( <SelectCreditReact iframeOnly={true} payment={payment} key={payment.internalkey + 'newcredit'} change={payment => this.onSave(payment)} onDelete={() => this.props.onClose()} creditcardsInfo={creditcardsInfo} locale={this.props.restaurant.locale}/> ); }\\n}\\n\\n####"}
{"prompt":"define(['p-limit','@babel/helper-function-name','chai-string'], function(pLimit,babelHelperFunctionName,chaiString){\\n'use strict'\\nconst {createHelperAndMigratePage} = require('../helpers/CompsMigrationHelper') const MIGRATION_MAP = { 'wysiwyg.common.components.verticalmenu.viewer.VerticalMenu': migrateCompToSupportMultipleMenus, 'wysiwyg.viewer.components.menus.DropDownMenu': migrateCompToSupportMultipleMenus, 'wysiwyg.viewer.components.mobile.TinyMenu': migrateTinyMenuCompToSupportMultipleMenus\\n} function migrateCompToSupportMultipleMenus(pageJson, cache, mobileView, comp) { const compData = this.getComponentData(pageJson, comp) if (!compData || compData.type !== 'CustomMenuDataRef') { delete comp.dataQuery this.setComponentData( pageJson, comp, { menuRef: '#CUSTOM_MAIN_MENU', type: 'CustomMenuDataRef' }, cache ) }\\n} function migrateTinyMenuCompToSupportMultipleMenus(pageJson, cache, mobileView, comp) { const compData = this.getComponentData(pageJson, comp) if (!compData || compData.type !== 'TinyMenu') { delete comp.dataQuery this.setComponentData( pageJson, comp, { menuRef: '#CUSTOM_MAIN_MENU', type: 'TinyMenu' }, cache ) }\\n} module.exports = { name: 'multipleMenusFixer', version: 1, exec: createHelperAndMigratePage(MIGRATION_MAP)\\n}\\n\\n})\\n####","completion":" import pLimit from 'p-limit'\\nimport babelHelperFunctionName from '@babel/helper-function-name'\\nimport chaiString from 'chai-string'\\n\\n'use strict'\\nconst {createHelperAndMigratePage} = require('../helpers/CompsMigrationHelper') const MIGRATION_MAP = { 'wysiwyg.common.components.verticalmenu.viewer.VerticalMenu': migrateCompToSupportMultipleMenus, 'wysiwyg.viewer.components.menus.DropDownMenu': migrateCompToSupportMultipleMenus, 'wysiwyg.viewer.components.mobile.TinyMenu': migrateTinyMenuCompToSupportMultipleMenus\\n} function migrateCompToSupportMultipleMenus(pageJson, cache, mobileView, comp) { const compData = this.getComponentData(pageJson, comp) if (!compData || compData.type !== 'CustomMenuDataRef') { delete comp.dataQuery this.setComponentData( pageJson, comp, { menuRef: '#CUSTOM_MAIN_MENU', type: 'CustomMenuDataRef' }, cache ) }\\n} function migrateTinyMenuCompToSupportMultipleMenus(pageJson, cache, mobileView, comp) { const compData = this.getComponentData(pageJson, comp) if (!compData || compData.type !== 'TinyMenu') { delete comp.dataQuery this.setComponentData( pageJson, comp, { menuRef: '#CUSTOM_MAIN_MENU', type: 'TinyMenu' }, cache ) }\\n} module.exports = { name: 'multipleMenusFixer', version: 1, exec: createHelperAndMigratePage(MIGRATION_MAP)\\n}\\n\\n####"}
{"prompt":"define(['gulp-filter','@babel/helper-fixtures','resumer','inline-source-map','postcss-discard-comments','@mapbox/cloudfriend','path-parse','array.prototype.indexof','json5','error-ex','google-protobuf','@babel/plugin-transform-computed-properties','@mapbox/node-pre-gyp','@babel/plugin-bugfix-v8-spread-parameters-in-optional-chaining','@types/argparse','escomplex-js','@unicode/unicode-14.0.0','console-browserify','chmodr','mock-aws-s3'], function(gulpFilter,babelHelperFixtures,resumer,inlineSourceMap,postcssDiscardComments,mapboxCloudfriend,pathParse,arrayPrototypeIndexof,json5,errorEx,googleProtobuf,babelPluginTransformComputedProperties,mapboxNodePreGyp,babelPluginBugfixV8SpreadParametersInOptionalChaining,typesArgparse,escomplexJs,unicodeUnicode1400,consoleBrowserify,chmodr,mockAwsS3){\\nimport React from 'react';\\nimport { storiesOf } from '@storybook/react';\\nimport OrderPrintout from '../../src/components/OrderPrintout';\\nimport { displayableOrders } from '../../__tests__/helpers/orderHistory.mock';\\nimport StoryComponent from '../StoryComponent'; class OrderPrintoutStory extends React.PureComponent { render() { const style = { margin: 20, width: 600, backgroundColor: 'white', borderRadius: 6, border: '1px gray solid', padding: 12, display: 'inline-block', }; const components = displayableOrders.map((displayableOrder) => { return ( <div style={style} key={displayableOrder.id}> <OrderPrintout displayableOrder={displayableOrder} /> </div> ); }); return ( <StoryComponent> <div id=\\\"components\\\" style={{ height: '100vh', overflow: 'auto' }}> {components} </div> </StoryComponent> ); }\\n} storiesOf('OrderPrintout', module).add('OrderPrintout', () => <OrderPrintoutStory />);\\n\\n})\\n####","completion":" import gulpFilter from 'gulp-filter'\\nimport babelHelperFixtures from '@babel/helper-fixtures'\\nimport resumer from 'resumer'\\nimport inlineSourceMap from 'inline-source-map'\\nimport postcssDiscardComments from 'postcss-discard-comments'\\nimport mapboxCloudfriend from '@mapbox/cloudfriend'\\nimport pathParse from 'path-parse'\\nimport arrayPrototypeIndexof from 'array.prototype.indexof'\\nimport json5 from 'json5'\\nimport errorEx from 'error-ex'\\nimport googleProtobuf from 'google-protobuf'\\nimport babelPluginTransformComputedProperties from '@babel/plugin-transform-computed-properties'\\nimport mapboxNodePreGyp from '@mapbox/node-pre-gyp'\\nimport babelPluginBugfixV8SpreadParametersInOptionalChaining from '@babel/plugin-bugfix-v8-spread-parameters-in-optional-chaining'\\nimport typesArgparse from '@types/argparse'\\nimport escomplexJs from 'escomplex-js'\\nimport unicodeUnicode1400 from '@unicode/unicode-14.0.0'\\nimport consoleBrowserify from 'console-browserify'\\nimport chmodr from 'chmodr'\\nimport mockAwsS3 from 'mock-aws-s3'\\n\\nimport React from 'react';\\nimport { storiesOf } from '@storybook/react';\\nimport OrderPrintout from '../../src/components/OrderPrintout';\\nimport { displayableOrders } from '../../__tests__/helpers/orderHistory.mock';\\nimport StoryComponent from '../StoryComponent'; class OrderPrintoutStory extends React.PureComponent { render() { const style = { margin: 20, width: 600, backgroundColor: 'white', borderRadius: 6, border: '1px gray solid', padding: 12, display: 'inline-block', }; const components = displayableOrders.map((displayableOrder) => { return ( <div style={style} key={displayableOrder.id}> <OrderPrintout displayableOrder={displayableOrder} /> </div> ); }); return ( <StoryComponent> <div id=\\\"components\\\" style={{ height: '100vh', overflow: 'auto' }}> {components} </div> </StoryComponent> ); }\\n} storiesOf('OrderPrintout', module).add('OrderPrintout', () => <OrderPrintoutStory />);\\n\\n####"}
{"prompt":"define(['ignore-walk','node-gyp-build','file-loader','@types/shelljs','regexpu-fixtures','tslint','adm-zip','es6-promise','cheerio-soupselect'], function(ignoreWalk,nodeGypBuild,fileLoader,typesShelljs,regexpuFixtures,tslint,admZip,es6Promise,cheerioSoupselect){\\nexport {RemoteGlobalsInterface} from './RemoteGlobalsInterface'\\nexport {RemoteModelInterface} from './RemoteModelInterface'\\nimport * as backgroundUtils from './backgroundUtils'\\nimport * as componentsHooks from './RMIHooks/componentsHooks'\\nimport * as linkUtils from './linkUtils'\\nimport * as richTextUtils from './richTextUtils'\\nimport * as typeData from './typeUtils/typeData'\\nimport * as uriUtils from './uriUtils'\\nimport * as videoUrlsUtils from './videoUrlsUtils/videoUrlsUtils'\\nimport * as widgetUtils from './widgetUtils'\\nimport * as mediaItemUtils from './mediaItemUtils/mediaItemUtils'\\nimport * as loggingUtils from './loggingUtils/loggingUtils'\\nimport {TypeUtils} from './typeUtils/typeUtils'\\nimport repeaterUtils from './repeaterUtils/repeaterUtils'\\nimport * as platformizedEndpointsUtils from './platformizedEndpointsUtils'\\nimport * as mediaSrcHandler from './mediaSrcHandler/mediaSrcHandler' export const typeUtils = new TypeUtils(typeData)\\nexport { linkUtils, widgetUtils, mediaItemUtils, mediaSrcHandler, uriUtils, richTextUtils, videoUrlsUtils, repeaterUtils, backgroundUtils, componentsHooks, platformizedEndpointsUtils, loggingUtils\\n}\\n\\n})\\n####","completion":" import ignoreWalk from 'ignore-walk'\\nimport nodeGypBuild from 'node-gyp-build'\\nimport fileLoader from 'file-loader'\\nimport typesShelljs from '@types/shelljs'\\nimport regexpuFixtures from 'regexpu-fixtures'\\nimport tslint from 'tslint'\\nimport admZip from 'adm-zip'\\nimport es6Promise from 'es6-promise'\\nimport cheerioSoupselect from 'cheerio-soupselect'\\n\\nexport {RemoteGlobalsInterface} from './RemoteGlobalsInterface'\\nexport {RemoteModelInterface} from './RemoteModelInterface'\\nimport * as backgroundUtils from './backgroundUtils'\\nimport * as componentsHooks from './RMIHooks/componentsHooks'\\nimport * as linkUtils from './linkUtils'\\nimport * as richTextUtils from './richTextUtils'\\nimport * as typeData from './typeUtils/typeData'\\nimport * as uriUtils from './uriUtils'\\nimport * as videoUrlsUtils from './videoUrlsUtils/videoUrlsUtils'\\nimport * as widgetUtils from './widgetUtils'\\nimport * as mediaItemUtils from './mediaItemUtils/mediaItemUtils'\\nimport * as loggingUtils from './loggingUtils/loggingUtils'\\nimport {TypeUtils} from './typeUtils/typeUtils'\\nimport repeaterUtils from './repeaterUtils/repeaterUtils'\\nimport * as platformizedEndpointsUtils from './platformizedEndpointsUtils'\\nimport * as mediaSrcHandler from './mediaSrcHandler/mediaSrcHandler' export const typeUtils = new TypeUtils(typeData)\\nexport { linkUtils, widgetUtils, mediaItemUtils, mediaSrcHandler, uriUtils, richTextUtils, videoUrlsUtils, repeaterUtils, backgroundUtils, componentsHooks, platformizedEndpointsUtils, loggingUtils\\n}\\n\\n####"}
{"prompt":"define(['@jridgewell/gen-mapping'], function(jridgewellGenMapping){\\n'use strict'\\nconst ViewerComponent = require('../../baseComponents/ViewerComponent') const componentType = 'wysiwyg.viewer.components.LoginSocialButton' /** * @extends ViewerComponent */\\nclass ViewerLoginSocialButtonComponent extends ViewerComponent { /** * @hideconstructor */ constructor(previewFrame, id, componentDriverFactory) { super(previewFrame, id) this.componentDriverFactory = componentDriverFactory } /** * @returns {Promise.<ViewerIconComponent> */ async getIcon() { const drivers = await this.componentDriverFactory.create(this.id, '[data-comp=\\\"wysiwyg.viewer.components.Icon\\\"]') return drivers[0] } async getBadge() { return this.previewFrame.$eval(`#${this.id} [class$=\\\"badge\\\"]`, elem => elem.textContent) } async getSvg() { return this.previewFrame.$eval(`#${this.id} svg`, elem => elem.textContent) } async getHref() { return this.previewFrame.$eval(`#${this.id} a`, elem => elem.href) }\\n} module.exports = { componentType, ViewerComponent: ViewerLoginSocialButtonComponent\\n}\\n})\\n####","completion":" import jridgewellGenMapping from '@jridgewell/gen-mapping'\\n\\n'use strict'\\nconst ViewerComponent = require('../../baseComponents/ViewerComponent') const componentType = 'wysiwyg.viewer.components.LoginSocialButton' /** * @extends ViewerComponent */\\nclass ViewerLoginSocialButtonComponent extends ViewerComponent { /** * @hideconstructor */ constructor(previewFrame, id, componentDriverFactory) { super(previewFrame, id) this.componentDriverFactory = componentDriverFactory } /** * @returns {Promise.<ViewerIconComponent> */ async getIcon() { const drivers = await this.componentDriverFactory.create(this.id, '[data-comp=\\\"wysiwyg.viewer.components.Icon\\\"]') return drivers[0] } async getBadge() { return this.previewFrame.$eval(`#${this.id} [class$=\\\"badge\\\"]`, elem => elem.textContent) } async getSvg() { return this.previewFrame.$eval(`#${this.id} svg`, elem => elem.textContent) } async getHref() { return this.previewFrame.$eval(`#${this.id} a`, elem => elem.href) }\\n} module.exports = { componentType, ViewerComponent: ViewerLoginSocialButtonComponent\\n}\\n####"}
{"prompt":"define(['color','gitbook-plugin-edit-link','eslint-config-moxy','@babel/plugin-transform-literals','standardx','regenerate','is-core-module','locate-path','coffee-script','idb','progress','unexpected','@wdio/jasmine-framework','array-shuffle','ts-node'], function(color,gitbookPluginEditLink,eslintConfigMoxy,babelPluginTransformLiterals,standardx,regenerate,isCoreModule,locatePath,coffeeScript,idb,progress,unexpected,wdioJasmineFramework,arrayShuffle,tsNode){\\nimport PropTypes from 'prop-types';\\nimport React from 'react';\\nimport Star from './Star';\\nimport classnames from 'classnames';\\nimport styles from './TrigangleStar.icss';\\nimport OrdersTooltip from '../../web/components/OrdersTooltip';\\nimport {I18n} from '@wix/wixrest-utils';\\nconst { I18N } = I18n.getComponentHeader('openrest_menubuilderv3_'); export default function TriangleStar({isMobile, isRtl = false}) { const className = classnames({ [styles.trianglestar]: true, [styles.mobile]: isMobile, [styles.rtl]: isRtl, [styles.ltr]: !isRtl }); return <div className={className}> <div className={styles.inner}> <div className={styles.triangle} /> <div className={styles.starWrapper}> <div className={styles.starInnerWrapper}> {!isMobile ? ( <OrdersTooltip child={<Star />} yOffset={0}> {I18N('dishlabels_special', 'Special')} </OrdersTooltip> ) : ( <Star/> )} </div> </div> </div> </div>;\\n} TriangleStar.displayName = 'TriangleStar'; TriangleStar.propTypes = { isMobile: PropTypes.bool, isRtl: PropTypes.bool\\n};\\n\\n})\\n####","completion":" import color from 'color'\\nimport gitbookPluginEditLink from 'gitbook-plugin-edit-link'\\nimport eslintConfigMoxy from 'eslint-config-moxy'\\nimport babelPluginTransformLiterals from '@babel/plugin-transform-literals'\\nimport standardx from 'standardx'\\nimport regenerate from 'regenerate'\\nimport isCoreModule from 'is-core-module'\\nimport locatePath from 'locate-path'\\nimport coffeeScript from 'coffee-script'\\nimport idb from 'idb'\\nimport progress from 'progress'\\nimport unexpected from 'unexpected'\\nimport wdioJasmineFramework from '@wdio/jasmine-framework'\\nimport arrayShuffle from 'array-shuffle'\\nimport tsNode from 'ts-node'\\n\\nimport PropTypes from 'prop-types';\\nimport React from 'react';\\nimport Star from './Star';\\nimport classnames from 'classnames';\\nimport styles from './TrigangleStar.icss';\\nimport OrdersTooltip from '../../web/components/OrdersTooltip';\\nimport {I18n} from '@wix/wixrest-utils';\\nconst { I18N } = I18n.getComponentHeader('openrest_menubuilderv3_'); export default function TriangleStar({isMobile, isRtl = false}) { const className = classnames({ [styles.trianglestar]: true, [styles.mobile]: isMobile, [styles.rtl]: isRtl, [styles.ltr]: !isRtl }); return <div className={className}> <div className={styles.inner}> <div className={styles.triangle} /> <div className={styles.starWrapper}> <div className={styles.starInnerWrapper}> {!isMobile ? ( <OrdersTooltip child={<Star />} yOffset={0}> {I18N('dishlabels_special', 'Special')} </OrdersTooltip> ) : ( <Star/> )} </div> </div> </div> </div>;\\n} TriangleStar.displayName = 'TriangleStar'; TriangleStar.propTypes = { isMobile: PropTypes.bool, isRtl: PropTypes.bool\\n};\\n\\n####"}
{"prompt":"define(['@babel/plugin-transform-modules-umd','regjsparser','@commitlint/cli','ember-cli','gzip-size','v8flags','color-convert','isomorphic-fetch','@types/minimatch','array.prototype.map','q','weak-map','gitbook-plugin-github','timers-browserify','git-repo-version'], function(babelPluginTransformModulesUmd,regjsparser,commitlintCli,emberCli,gzipSize,v8Flags,colorConvert,isomorphicFetch,typesMinimatch,arrayPrototypeMap,q,weakMap,gitbookPluginGithub,timersBrowserify,gitRepoVersion){\\n'use strict'; Object.defineProperty(exports, \\\"__esModule\\\", { value: true\\n}); exports.default = function (window) { function isAvailable(name) { try { var unique = 'testStorage' + Date.now(); var st = window[name]; st.setItem(unique, unique); var value = st.getItem(unique); st.removeItem(unique); if (value !== unique) { throw 'not equal'; //eslint-disable-line no-throw-literal } } catch (e) { return false; } return true; } var storage = void 0; if (isAvailable('localStorage')) { storage = window.localStorage; } else if (isAvailable('sessionStorage')) { storage = window.sessionStorage; } else { storage = { setItem: function setItem() {}, getItem: function getItem() {}, removeItem: function removeItem() {} }; } return { save: function save(key, value) { storage.setItem(key, value); }, load: function load(key) { return storage.getItem(key); }, remove: function remove(key) { storage.removeItem(key); } };\\n};\\n//# sourceMappingURL=storageUtil.js.map\\n})\\n####","completion":" import babelPluginTransformModulesUmd from '@babel/plugin-transform-modules-umd'\\nimport regjsparser from 'regjsparser'\\nimport commitlintCli from '@commitlint/cli'\\nimport emberCli from 'ember-cli'\\nimport gzipSize from 'gzip-size'\\nimport v8Flags from 'v8flags'\\nimport colorConvert from 'color-convert'\\nimport isomorphicFetch from 'isomorphic-fetch'\\nimport typesMinimatch from '@types/minimatch'\\nimport arrayPrototypeMap from 'array.prototype.map'\\nimport q from 'q'\\nimport weakMap from 'weak-map'\\nimport gitbookPluginGithub from 'gitbook-plugin-github'\\nimport timersBrowserify from 'timers-browserify'\\nimport gitRepoVersion from 'git-repo-version'\\n\\n'use strict'; Object.defineProperty(exports, \\\"__esModule\\\", { value: true\\n}); exports.default = function (window) { function isAvailable(name) { try { var unique = 'testStorage' + Date.now(); var st = window[name]; st.setItem(unique, unique); var value = st.getItem(unique); st.removeItem(unique); if (value !== unique) { throw 'not equal'; //eslint-disable-line no-throw-literal } } catch (e) { return false; } return true; } var storage = void 0; if (isAvailable('localStorage')) { storage = window.localStorage; } else if (isAvailable('sessionStorage')) { storage = window.sessionStorage; } else { storage = { setItem: function setItem() {}, getItem: function getItem() {}, removeItem: function removeItem() {} }; } return { save: function save(key, value) { storage.setItem(key, value); }, load: function load(key) { return storage.getItem(key); }, remove: function remove(key) { storage.removeItem(key); } };\\n};\\n//# sourceMappingURL=storageUtil.js.map\\n####"}
{"prompt":"define(['@babel/runtime','random-int','esprima','require-xml','fs.realpath','eslint-plugin-no-only-tests','@babel/plugin-syntax-class-static-block','browserify','json-diff','safe-publish-latest','require-inject','mock-property','is-callable','eslint-plugin-jest','pegjs','xo'], function(babelRuntime,randomInt,esprima,requireXml,fsRealpath,eslintPluginNoOnlyTests,babelPluginSyntaxClassStaticBlock,browserify,jsonDiff,safePublishLatest,requireInject,mockProperty,isCallable,eslintPluginJest,pegjs,xo){\\nimport AutoCompleteTextbox from '../../../../src/shared/web/AutoCompleteTextbox'; export default React.createClass({ render() { let suggestions = [ 'with empty value', 'with many values', 'with no values' ]; return ( <div style={{height:'145px'}} > <AutoCompleteTextbox style={{width:'200px', display:'inline-block', margin:'0px 5px'}} value={''} /> <AutoCompleteTextbox style={{width:'200px', display:'inline-block', margin:'0px 5px'}} magnifyingGlass={true} value={''} /> <AutoCompleteTextbox style={{width:'200px', display:'inline-block', margin:'0px 5px'}} value={'with value'} suggestions={suggestions} /> <AutoCompleteTextbox style={{width:'200px', display:'inline-block', margin:'0px 5px'}} value={'with value and error'} error={true} /> <AutoCompleteTextbox style={{width:'200px', display:'inline-block', margin:'0px 5px'}} value={'with value, error and magnifying glass'} error={true} magnifyingGlass={true} /> </div> ); }\\n});\\n\\n})\\n####","completion":" import babelRuntime from '@babel/runtime'\\nimport randomInt from 'random-int'\\nimport esprima from 'esprima'\\nimport requireXml from 'require-xml'\\nimport fsRealpath from 'fs.realpath'\\nimport eslintPluginNoOnlyTests from 'eslint-plugin-no-only-tests'\\nimport babelPluginSyntaxClassStaticBlock from '@babel/plugin-syntax-class-static-block'\\nimport browserify from 'browserify'\\nimport jsonDiff from 'json-diff'\\nimport safePublishLatest from 'safe-publish-latest'\\nimport requireInject from 'require-inject'\\nimport mockProperty from 'mock-property'\\nimport isCallable from 'is-callable'\\nimport eslintPluginJest from 'eslint-plugin-jest'\\nimport pegjs from 'pegjs'\\nimport xo from 'xo'\\n\\nimport AutoCompleteTextbox from '../../../../src/shared/web/AutoCompleteTextbox'; export default React.createClass({ render() { let suggestions = [ 'with empty value', 'with many values', 'with no values' ]; return ( <div style={{height:'145px'}} > <AutoCompleteTextbox style={{width:'200px', display:'inline-block', margin:'0px 5px'}} value={''} /> <AutoCompleteTextbox style={{width:'200px', display:'inline-block', margin:'0px 5px'}} magnifyingGlass={true} value={''} /> <AutoCompleteTextbox style={{width:'200px', display:'inline-block', margin:'0px 5px'}} value={'with value'} suggestions={suggestions} /> <AutoCompleteTextbox style={{width:'200px', display:'inline-block', margin:'0px 5px'}} value={'with value and error'} error={true} /> <AutoCompleteTextbox style={{width:'200px', display:'inline-block', margin:'0px 5px'}} value={'with value, error and magnifying glass'} error={true} magnifyingGlass={true} /> </div> ); }\\n});\\n\\n####"}
{"prompt":"define(['@types/argparse','saucelabs','postcss-reduce-initial','concat-stream','@parcel/events'], function(typesArgparse,saucelabs,postcssReduceInitial,concatStream,parcelEvents){\\nexport class CommonProtocolClient { constructor({XMLHttpRequest, endpointUrl, timeout}) { this.XMLHttpRequest = XMLHttpRequest; this.endpointUrl = endpointUrl; this.timeout = timeout || 0 } doRequest(resource, request) { return new Promise((resolve, reject) => { let xhr = new this.XMLHttpRequest(); xhr.ontimeout = () => reject({ code: 'timeout', description: 'request timed out' }); xhr.onerror = () => reject({ code: 'network_down', description: 'network is down' }); xhr.onload = () => { try { const response = JSON.parse(xhr.responseText); if (response.error) { reject(response.error) } else { resolve(response.value) } } catch (e) { reject({ code: 'protocol', description: 'unexpected response format' }) } }; xhr.open('POST', this.endpointUrl + resource, true); xhr.timeout = this.timeout; xhr.setRequestHeader('Content-Type', 'application/json'); xhr.send(JSON.stringify(request)) }) } }\\n})\\n####","completion":" import typesArgparse from '@types/argparse'\\nimport saucelabs from 'saucelabs'\\nimport postcssReduceInitial from 'postcss-reduce-initial'\\nimport concatStream from 'concat-stream'\\nimport parcelEvents from '@parcel/events'\\n\\nexport class CommonProtocolClient { constructor({XMLHttpRequest, endpointUrl, timeout}) { this.XMLHttpRequest = XMLHttpRequest; this.endpointUrl = endpointUrl; this.timeout = timeout || 0 } doRequest(resource, request) { return new Promise((resolve, reject) => { let xhr = new this.XMLHttpRequest(); xhr.ontimeout = () => reject({ code: 'timeout', description: 'request timed out' }); xhr.onerror = () => reject({ code: 'network_down', description: 'network is down' }); xhr.onload = () => { try { const response = JSON.parse(xhr.responseText); if (response.error) { reject(response.error) } else { resolve(response.value) } } catch (e) { reject({ code: 'protocol', description: 'unexpected response format' }) } }; xhr.open('POST', this.endpointUrl + resource, true); xhr.timeout = this.timeout; xhr.setRequestHeader('Content-Type', 'application/json'); xhr.send(JSON.stringify(request)) }) } }\\n####"}
{"prompt":"define(['grunt-bowercopy','babel-plugin-transform-class-properties','adm-zip','ac-colors','postcss-normalize-unicode','@iarna/toml','@types/offscreencanvas','bowser','shebang-regex','karma-chrome-launcher','postcss-discard-duplicates','parse-node-version','dtslint','@babel/plugin-transform-block-scoped-functions','gulp-babel','postcss-colormin'], function(gruntBowercopy,babelPluginTransformClassProperties,admZip,acColors,postcssNormalizeUnicode,iarnaToml,typesOffscreencanvas,bowser,shebangRegex,karmaChromeLauncher,postcssDiscardDuplicates,parseNodeVersion,dtslint,babelPluginTransformBlockScopedFunctions,gulpBabel,postcssColormin){\\nimport PropTypes from 'prop-types';\\nimport React from 'react'; import createReactClass from 'create-react-class'; export default createReactClass({ displayName: 'SvgExclamation2', PropTypes: { className: PropTypes.string, size: PropTypes.number }, getDefaultProps() { return { size: 18 }; }, render() { return ( <svg className={this.props.className} width={this.props.size} height={this.props.size} viewBox=\\\"0 0 18 18\\\"> <g id=\\\"Symbols\\\" stroke=\\\"none\\\" strokeWidth=\\\"1\\\" fill=\\\"none\\\" fillRule=\\\"evenodd\\\"> <g id=\\\"Open-Search-Error\\\" transform=\\\"translate(-157.000000, -62.000000)\\\"> <g id=\\\"Error-Circle\\\" transform=\\\"translate(157.000000, 62.000000)\\\"> <circle id=\\\"Oval-3\\\" fill=\\\"#D7233E\\\" cx=\\\"9\\\" cy=\\\"9\\\" r=\\\"9\\\"></circle> <polygon id=\\\"Path\\\" fill=\\\"#FFFFFF\\\" points=\\\"8 4 8 10 10 10 10 4\\\"></polygon> <polygon id=\\\"Path-Copy\\\" fill=\\\"#FFFFFF\\\" points=\\\"8 12 8 14 10 14 10 12\\\"></polygon> </g> </g> </g> </svg> ); },\\n});\\n\\n})\\n####","completion":" import gruntBowercopy from 'grunt-bowercopy'\\nimport babelPluginTransformClassProperties from 'babel-plugin-transform-class-properties'\\nimport admZip from 'adm-zip'\\nimport acColors from 'ac-colors'\\nimport postcssNormalizeUnicode from 'postcss-normalize-unicode'\\nimport iarnaToml from '@iarna/toml'\\nimport typesOffscreencanvas from '@types/offscreencanvas'\\nimport bowser from 'bowser'\\nimport shebangRegex from 'shebang-regex'\\nimport karmaChromeLauncher from 'karma-chrome-launcher'\\nimport postcssDiscardDuplicates from 'postcss-discard-duplicates'\\nimport parseNodeVersion from 'parse-node-version'\\nimport dtslint from 'dtslint'\\nimport babelPluginTransformBlockScopedFunctions from '@babel/plugin-transform-block-scoped-functions'\\nimport gulpBabel from 'gulp-babel'\\nimport postcssColormin from 'postcss-colormin'\\n\\nimport PropTypes from 'prop-types';\\nimport React from 'react'; import createReactClass from 'create-react-class'; export default createReactClass({ displayName: 'SvgExclamation2', PropTypes: { className: PropTypes.string, size: PropTypes.number }, getDefaultProps() { return { size: 18 }; }, render() { return ( <svg className={this.props.className} width={this.props.size} height={this.props.size} viewBox=\\\"0 0 18 18\\\"> <g id=\\\"Symbols\\\" stroke=\\\"none\\\" strokeWidth=\\\"1\\\" fill=\\\"none\\\" fillRule=\\\"evenodd\\\"> <g id=\\\"Open-Search-Error\\\" transform=\\\"translate(-157.000000, -62.000000)\\\"> <g id=\\\"Error-Circle\\\" transform=\\\"translate(157.000000, 62.000000)\\\"> <circle id=\\\"Oval-3\\\" fill=\\\"#D7233E\\\" cx=\\\"9\\\" cy=\\\"9\\\" r=\\\"9\\\"></circle> <polygon id=\\\"Path\\\" fill=\\\"#FFFFFF\\\" points=\\\"8 4 8 10 10 10 10 4\\\"></polygon> <polygon id=\\\"Path-Copy\\\" fill=\\\"#FFFFFF\\\" points=\\\"8 12 8 14 10 14 10 12\\\"></polygon> </g> </g> </g> </svg> ); },\\n});\\n\\n####"}
{"prompt":"define(['delegates','ua-parser-js','shebang-command','available-typed-arrays','regexpu-fixtures','run-sequence','eslint-config-airbnb-base','has-tostringtag'], function(delegates,uaParserJs,shebangCommand,availableTypedArrays,regexpuFixtures,runSequence,eslintConfigAirbnbBase,hasTostringtag){\\n'use strict' import http from 'http'\\nimport querystring from 'query-string'\\nimport _ from 'lodash' export class ProgrammableJsonServer { constructor({port}) { this._server = http.createServer(this._handler.bind(this)) this._port = port this.reset() } start() { this._server.listen(this._port, '127.0.0.1') } stop() { this._server.close() } reset() { this._rules = [] } addRule({resource, params = {}, headers = {}, delay = 0, responseText, ignoreParams = []}) { this._rules.push({resource, params, headers, delay, responseText, ignoreParams}) } _handler(req, res) { const headers = req.headers const query = querystring.extract(req.url) const resource = (query.length > 0) ? req.url.substr(0, req.url.length - query.length - 1) : req.url const params = querystring.parse(query) const rule = _.find(this._rules, (rule) => { let paramsSent = _.omit(params, rule.ignoreParams); let ruleParams = _.omit(rule.params, rule.ignoreParams); return (rule.resource === resource) && _.isEqual(ruleParams, paramsSent) && _.matches(rule.headers)(headers) }) if (rule) { _.delay(() => { res.writeHead(200) res.end(rule.responseText) }, rule.delay) } else { res.writeHead(404) res.end() } }\\n}\\n\\n})\\n####","completion":" import delegates from 'delegates'\\nimport uaParserJs from 'ua-parser-js'\\nimport shebangCommand from 'shebang-command'\\nimport availableTypedArrays from 'available-typed-arrays'\\nimport regexpuFixtures from 'regexpu-fixtures'\\nimport runSequence from 'run-sequence'\\nimport eslintConfigAirbnbBase from 'eslint-config-airbnb-base'\\nimport hasTostringtag from 'has-tostringtag'\\n\\n'use strict' import http from 'http'\\nimport querystring from 'query-string'\\nimport _ from 'lodash' export class ProgrammableJsonServer { constructor({port}) { this._server = http.createServer(this._handler.bind(this)) this._port = port this.reset() } start() { this._server.listen(this._port, '127.0.0.1') } stop() { this._server.close() } reset() { this._rules = [] } addRule({resource, params = {}, headers = {}, delay = 0, responseText, ignoreParams = []}) { this._rules.push({resource, params, headers, delay, responseText, ignoreParams}) } _handler(req, res) { const headers = req.headers const query = querystring.extract(req.url) const resource = (query.length > 0) ? req.url.substr(0, req.url.length - query.length - 1) : req.url const params = querystring.parse(query) const rule = _.find(this._rules, (rule) => { let paramsSent = _.omit(params, rule.ignoreParams); let ruleParams = _.omit(rule.params, rule.ignoreParams); return (rule.resource === resource) && _.isEqual(ruleParams, paramsSent) && _.matches(rule.headers)(headers) }) if (rule) { _.delay(() => { res.writeHead(200) res.end(rule.responseText) }, rule.delay) } else { res.writeHead(404) res.end() } }\\n}\\n\\n####"}
{"prompt":"define(['js-tokens','eslint-config-rackt','mutate-fs','@parcel/cache','ordered-binary','webpack','zuul','graceful-fs','css-in-js-utils','npmlog','@babel/plugin-transform-block-scoped-functions','autoprefixer'], function(jsTokens,eslintConfigRackt,mutateFs,parcelCache,orderedBinary,webpack,zuul,gracefulFs,cssInJsUtils,npmlog,babelPluginTransformBlockScopedFunctions,autoprefixer){\\nimport {default as clientInfoContactSelector, __RewireAPI__} from 'src/selectors/clientInfoContactSelector.js';\\nimport {expect} from 'chai';\\nimport sinon from 'sinon'; describe('clientInfoContactSelector', function () { let state, organization, clientInfo; const COUNTRY_CODE = 'country-code'; const CONTACT = 'contact'; beforeEach(() => { organization = { address: {countryCode: COUNTRY_CODE} }; clientInfo = { editModal: { value: CONTACT }, }; state = { organization: { organization: organization }, clientInfo, }; }); context('validateContact', () => { it('validates selected contact using validateContact', () => { const VALIDATE_CONTACT_RETURN_VALUE = 'validate-contact-return-value'; let validateContact = sinon.spy(() => VALIDATE_CONTACT_RETURN_VALUE); const unserRewire = __RewireAPI__.__set__('validateContact', validateContact); expect(clientInfoContactSelector(state)).to.eql({ showSaved: false, value: CONTACT, errors: VALIDATE_CONTACT_RETURN_VALUE }); expect(validateContact).to.have.been.calledWith(CONTACT, COUNTRY_CODE); unserRewire(); }); });\\n});\\n\\n})\\n####","completion":" import jsTokens from 'js-tokens'\\nimport eslintConfigRackt from 'eslint-config-rackt'\\nimport mutateFs from 'mutate-fs'\\nimport parcelCache from '@parcel/cache'\\nimport orderedBinary from 'ordered-binary'\\nimport webpack from 'webpack'\\nimport zuul from 'zuul'\\nimport gracefulFs from 'graceful-fs'\\nimport cssInJsUtils from 'css-in-js-utils'\\nimport npmlog from 'npmlog'\\nimport babelPluginTransformBlockScopedFunctions from '@babel/plugin-transform-block-scoped-functions'\\nimport autoprefixer from 'autoprefixer'\\n\\nimport {default as clientInfoContactSelector, __RewireAPI__} from 'src/selectors/clientInfoContactSelector.js';\\nimport {expect} from 'chai';\\nimport sinon from 'sinon'; describe('clientInfoContactSelector', function () { let state, organization, clientInfo; const COUNTRY_CODE = 'country-code'; const CONTACT = 'contact'; beforeEach(() => { organization = { address: {countryCode: COUNTRY_CODE} }; clientInfo = { editModal: { value: CONTACT }, }; state = { organization: { organization: organization }, clientInfo, }; }); context('validateContact', () => { it('validates selected contact using validateContact', () => { const VALIDATE_CONTACT_RETURN_VALUE = 'validate-contact-return-value'; let validateContact = sinon.spy(() => VALIDATE_CONTACT_RETURN_VALUE); const unserRewire = __RewireAPI__.__set__('validateContact', validateContact); expect(clientInfoContactSelector(state)).to.eql({ showSaved: false, value: CONTACT, errors: VALIDATE_CONTACT_RETURN_VALUE }); expect(validateContact).to.have.been.calledWith(CONTACT, COUNTRY_CODE); unserRewire(); }); });\\n});\\n\\n####"}
{"prompt":"define(['karma-safaritechpreview-launcher','babel-plugin-istanbul','levn','@types/mocha','@unicode/unicode-13.0.0','postcss-convert-values','broccoli-watchify'], function(karmaSafaritechpreviewLauncher,babelPluginIstanbul,levn,typesMocha,unicodeUnicode1300,postcssConvertValues,broccoliWatchify){\\n'use strict' const _ = require('lodash')\\nconst MeshDockedGridLayer = require('@wix/santa-mesh/cjs/src/MeshDockedLayer')\\nconst MeshDockedFixedLayer = require('@wix/santa-mesh/cjs/src/MeshDockedFixedLayer')\\nconst createReactElement = require('./createReactElement') module.exports = { createPinnedLayer({id, children, childrenMeshParams, browser, zIndex, wixTopAdsHeight = 0}) { if (_.isEmpty(children)) { return null } return browser.ie ? createReactElement(MeshDockedFixedLayer.default, { id, key: id, childrenMeshLayout: childrenMeshParams, marginTop: wixTopAdsHeight }, ...children) : createReactElement(MeshDockedGridLayer.default, { id, key: id, childrenMeshLayout: childrenMeshParams, marginTop: wixTopAdsHeight, isFixedLayer: true, growToContent: false, cssGridVariant: 'standard', zIndex }, ...children) }\\n}\\n\\n})\\n####","completion":" import karmaSafaritechpreviewLauncher from 'karma-safaritechpreview-launcher'\\nimport babelPluginIstanbul from 'babel-plugin-istanbul'\\nimport levn from 'levn'\\nimport typesMocha from '@types/mocha'\\nimport unicodeUnicode1300 from '@unicode/unicode-13.0.0'\\nimport postcssConvertValues from 'postcss-convert-values'\\nimport broccoliWatchify from 'broccoli-watchify'\\n\\n'use strict' const _ = require('lodash')\\nconst MeshDockedGridLayer = require('@wix/santa-mesh/cjs/src/MeshDockedLayer')\\nconst MeshDockedFixedLayer = require('@wix/santa-mesh/cjs/src/MeshDockedFixedLayer')\\nconst createReactElement = require('./createReactElement') module.exports = { createPinnedLayer({id, children, childrenMeshParams, browser, zIndex, wixTopAdsHeight = 0}) { if (_.isEmpty(children)) { return null } return browser.ie ? createReactElement(MeshDockedFixedLayer.default, { id, key: id, childrenMeshLayout: childrenMeshParams, marginTop: wixTopAdsHeight }, ...children) : createReactElement(MeshDockedGridLayer.default, { id, key: id, childrenMeshLayout: childrenMeshParams, marginTop: wixTopAdsHeight, isFixedLayer: true, growToContent: false, cssGridVariant: 'standard', zIndex }, ...children) }\\n}\\n\\n####"}
{"prompt":"define(['babel-plugin-polyfill-corejs3','postcss-normalize-repeat-style','@tensorflow/tfjs-backend-webgl','sinon','fastest-levenshtein','chai','foreach','gts','has-strict-mode'], function(babelPluginPolyfillCorejs3,postcssNormalizeRepeatStyle,tensorflowTfjsBackendWebgl,sinon,fastestLevenshtein,chai,foreach,gts,hasStrictMode){\\nimport PropTypes from 'prop-types';\\nimport React from 'react'; export default class extends React.Component { static propTypes = { width: PropTypes.number, height: PropTypes.number, color: PropTypes.string, }; static defaultProps = { width: 12, height: 14, color: 'rgb(255,255,255)', rotate: false }; // # IMPORTANT // When pasting the svg, don't forget to set the viewBox. // render() { let rotate = this.props.rotate === true ? 180 : this.props.rotate; return ( <svg width={this.props.width + 'px'} height={this.props.height + 'px'} //fill={this.props.color} style={{transform: `rotate(${rotate}deg)`}} viewBox='0 0 12 22'> <path fillRule='evenodd' d='M 11.43 3.31C 11.43 3.31 4.28 10.97 4.28 10.97 4.28 10.97 11.48 18.68 11.48 18.68 12.19 19.44 12.19 20.67 11.48 21.43 10.78 22.18 9.63 22.18 8.92 21.43 8.92 21.43 0.59 12.51 0.59 12.51 0.07 11.96-0.06 11.17 0.16 10.49 0.22 10.09 0.38 9.72 0.66 9.41 0.66 9.41 8.9 0.6 8.9 0.6 9.6-0.15 10.73-0.15 11.43 0.6 12.13 1.35 12.13 2.56 11.43 3.31Z'/> </svg> ); }\\n}\\n\\n})\\n####","completion":" import babelPluginPolyfillCorejs3 from 'babel-plugin-polyfill-corejs3'\\nimport postcssNormalizeRepeatStyle from 'postcss-normalize-repeat-style'\\nimport tensorflowTfjsBackendWebgl from '@tensorflow/tfjs-backend-webgl'\\nimport sinon from 'sinon'\\nimport fastestLevenshtein from 'fastest-levenshtein'\\nimport chai from 'chai'\\nimport foreach from 'foreach'\\nimport gts from 'gts'\\nimport hasStrictMode from 'has-strict-mode'\\n\\nimport PropTypes from 'prop-types';\\nimport React from 'react'; export default class extends React.Component { static propTypes = { width: PropTypes.number, height: PropTypes.number, color: PropTypes.string, }; static defaultProps = { width: 12, height: 14, color: 'rgb(255,255,255)', rotate: false }; // # IMPORTANT // When pasting the svg, don't forget to set the viewBox. // render() { let rotate = this.props.rotate === true ? 180 : this.props.rotate; return ( <svg width={this.props.width + 'px'} height={this.props.height + 'px'} //fill={this.props.color} style={{transform: `rotate(${rotate}deg)`}} viewBox='0 0 12 22'> <path fillRule='evenodd' d='M 11.43 3.31C 11.43 3.31 4.28 10.97 4.28 10.97 4.28 10.97 11.48 18.68 11.48 18.68 12.19 19.44 12.19 20.67 11.48 21.43 10.78 22.18 9.63 22.18 8.92 21.43 8.92 21.43 0.59 12.51 0.59 12.51 0.07 11.96-0.06 11.17 0.16 10.49 0.22 10.09 0.38 9.72 0.66 9.41 0.66 9.41 8.9 0.6 8.9 0.6 9.6-0.15 10.73-0.15 11.43 0.6 12.13 1.35 12.13 2.56 11.43 3.31Z'/> </svg> ); }\\n}\\n\\n####"}
{"prompt":"define(['ws','babel-plugin-react-require','@babel/preset-modules','@babel/plugin-transform-for-of','unicode-9.0.0','opener','nan','grunt-benchmark','@types/svgo','envify','load-grunt-tasks','@babel/helper-split-export-declaration','babel-jest','bower-registry-client'], function(ws,babelPluginReactRequire,babelPresetModules,babelPluginTransformForOf,unicode900,opener,nan,gruntBenchmark,typesSvgo,envify,loadGruntTasks,babelHelperSplitExportDeclaration,babelJest,bowerRegistryClient){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.wix.com/demone2/soul-artist (39)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/soul-artist', emulateMobileDevice: true, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/39-soul-artist/anchors/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import ws from 'ws'\\nimport babelPluginReactRequire from 'babel-plugin-react-require'\\nimport babelPresetModules from '@babel/preset-modules'\\nimport babelPluginTransformForOf from '@babel/plugin-transform-for-of'\\nimport unicode900 from 'unicode-9.0.0'\\nimport opener from 'opener'\\nimport nan from 'nan'\\nimport gruntBenchmark from 'grunt-benchmark'\\nimport typesSvgo from '@types/svgo'\\nimport envify from 'envify'\\nimport loadGruntTasks from 'load-grunt-tasks'\\nimport babelHelperSplitExportDeclaration from '@babel/helper-split-export-declaration'\\nimport babelJest from 'babel-jest'\\nimport bowerRegistryClient from 'bower-registry-client'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.wix.com/demone2/soul-artist (39)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/soul-artist', emulateMobileDevice: true, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/39-soul-artist/anchors/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['lintspaces-cli','d3-array','grunt-contrib-uglify','concat-stream','@parcel/transformer-html','@babel/helpers','whatwg-fetch','d3-selection','ndoc','jison-gho','v8flags','qunitjs','has-flag','@commitlint/config-angular','seedrandom','q','@types/shelljs','c8','@babel/plugin-syntax-nullish-coalescing-operator','ts-node'], function(lintspacesCli,d3Array,gruntContribUglify,concatStream,parcelTransformerHtml,babelHelpers,whatwgFetch,d3Selection,ndoc,jisonGho,v8Flags,qunitjs,hasFlag,commitlintConfigAngular,seedrandom,q,typesShelljs,c8,babelPluginSyntaxNullishCoalescingOperator,tsNode){\\nimport React from 'react';\\nimport styles from './FeaturedIcon.less'; function FeaturedIcon() { return ( <svg width=\\\"253px\\\" height=\\\"255px\\\" viewBox=\\\"0 0 250 255\\\" className={styles.featuredIcon} role='image' aria-hidden> <rect x=\\\"0\\\" y=\\\"5\\\" width=\\\"245\\\" height=\\\"245\\\" fill=\\\"none\\\"/> <g className={styles.star}> <path className={styles.star_background} fillRule=\\\"evenodd\\\" d=\\\"M 125 32C 125 32 103 43 103 43 103 43 103 0 103 0 103 0 147 0 147 0 147 0 147 43 147 43 147 43 125 32 125 32Z\\\"/> <path fillRule=\\\"evenodd\\\" d=\\\"M 125.5 7C 125.5 7 127.59 13.87 127.59 13.87 127.59 13.87 135 13.88 135 13.88 135 13.88 128.88 17.65 128.88 17.65 128.88 17.65 131.37 25 131.37 25 131.37 25 125.5 19.98 125.5 19.98 125.5 19.98 119.63 25 119.63 25 119.63 25 122.12 17.65 122.12 17.65 122.12 17.65 116 13.88 116 13.88 116 13.88 123.41 13.87 123.41 13.87 123.41 13.87 125.5 7 125.5 7\\\"/> </g> </svg> );\\n} FeaturedIcon.displayName = 'FeaturedIcon'; export default FeaturedIcon;\\n})\\n####","completion":" import lintspacesCli from 'lintspaces-cli'\\nimport d3Array from 'd3-array'\\nimport gruntContribUglify from 'grunt-contrib-uglify'\\nimport concatStream from 'concat-stream'\\nimport parcelTransformerHtml from '@parcel/transformer-html'\\nimport babelHelpers from '@babel/helpers'\\nimport whatwgFetch from 'whatwg-fetch'\\nimport d3Selection from 'd3-selection'\\nimport ndoc from 'ndoc'\\nimport jisonGho from 'jison-gho'\\nimport v8Flags from 'v8flags'\\nimport qunitjs from 'qunitjs'\\nimport hasFlag from 'has-flag'\\nimport commitlintConfigAngular from '@commitlint/config-angular'\\nimport seedrandom from 'seedrandom'\\nimport q from 'q'\\nimport typesShelljs from '@types/shelljs'\\nimport c8 from 'c8'\\nimport babelPluginSyntaxNullishCoalescingOperator from '@babel/plugin-syntax-nullish-coalescing-operator'\\nimport tsNode from 'ts-node'\\n\\nimport React from 'react';\\nimport styles from './FeaturedIcon.less'; function FeaturedIcon() { return ( <svg width=\\\"253px\\\" height=\\\"255px\\\" viewBox=\\\"0 0 250 255\\\" className={styles.featuredIcon} role='image' aria-hidden> <rect x=\\\"0\\\" y=\\\"5\\\" width=\\\"245\\\" height=\\\"245\\\" fill=\\\"none\\\"/> <g className={styles.star}> <path className={styles.star_background} fillRule=\\\"evenodd\\\" d=\\\"M 125 32C 125 32 103 43 103 43 103 43 103 0 103 0 103 0 147 0 147 0 147 0 147 43 147 43 147 43 125 32 125 32Z\\\"/> <path fillRule=\\\"evenodd\\\" d=\\\"M 125.5 7C 125.5 7 127.59 13.87 127.59 13.87 127.59 13.87 135 13.88 135 13.88 135 13.88 128.88 17.65 128.88 17.65 128.88 17.65 131.37 25 131.37 25 131.37 25 125.5 19.98 125.5 19.98 125.5 19.98 119.63 25 119.63 25 119.63 25 122.12 17.65 122.12 17.65 122.12 17.65 116 13.88 116 13.88 116 13.88 123.41 13.87 123.41 13.87 123.41 13.87 125.5 7 125.5 7\\\"/> </g> </svg> );\\n} FeaturedIcon.displayName = 'FeaturedIcon'; export default FeaturedIcon;\\n####"}
{"prompt":"define(['delegates','webdriverio','karma-chrome-launcher','gulp','@babel/plugin-transform-async-to-generator','yargs','random-int','del-cli','uvu','karma-phantomjs-launcher','timsort'], function(delegates,webdriverio,karmaChromeLauncher,gulp,babelPluginTransformAsyncToGenerator,yargs,randomInt,delCli,uvu,karmaPhantomjsLauncher,timsort){\\n'use strict' const { SIZE_ALIASES, COLOR_ALIASES, COLOR_ALPHA_ALIASES, BG_COLOR_ALIASES, checkIsParamAnAliasAndGetUnaliasedValue\\n} = require('../src/runtime/paramAliases') const makeTempTestObj = (aliasesArray, value) => ({ aliasesArray, value\\n}) describe('checkIsParamAnAliasAndGetUnaliasedValue', () => { [ makeTempTestObj(SIZE_ALIASES, 'SIZE'), makeTempTestObj(COLOR_ALIASES, 'COLOR'), makeTempTestObj(COLOR_ALPHA_ALIASES, 'COLOR_ALPHA'), makeTempTestObj(BG_COLOR_ALIASES, 'BG_COLOR') ].forEach(o => { describe(`Aliases for ${o.value}`, () => { o.aliasesArray.forEach(alias => { it(`should return ${o.value} when receiving the alias ${alias}`, () => { expect(checkIsParamAnAliasAndGetUnaliasedValue(alias)).toEqual(o.value) }) }) }) }) it('should return the received value if it is not an alias', () => { const nonAlias = 'aushdlahsfac' expect(checkIsParamAnAliasAndGetUnaliasedValue(nonAlias)).toEqual(nonAlias) })\\n})\\n})\\n####","completion":" import delegates from 'delegates'\\nimport webdriverio from 'webdriverio'\\nimport karmaChromeLauncher from 'karma-chrome-launcher'\\nimport gulp from 'gulp'\\nimport babelPluginTransformAsyncToGenerator from '@babel/plugin-transform-async-to-generator'\\nimport yargs from 'yargs'\\nimport randomInt from 'random-int'\\nimport delCli from 'del-cli'\\nimport uvu from 'uvu'\\nimport karmaPhantomjsLauncher from 'karma-phantomjs-launcher'\\nimport timsort from 'timsort'\\n\\n'use strict' const { SIZE_ALIASES, COLOR_ALIASES, COLOR_ALPHA_ALIASES, BG_COLOR_ALIASES, checkIsParamAnAliasAndGetUnaliasedValue\\n} = require('../src/runtime/paramAliases') const makeTempTestObj = (aliasesArray, value) => ({ aliasesArray, value\\n}) describe('checkIsParamAnAliasAndGetUnaliasedValue', () => { [ makeTempTestObj(SIZE_ALIASES, 'SIZE'), makeTempTestObj(COLOR_ALIASES, 'COLOR'), makeTempTestObj(COLOR_ALPHA_ALIASES, 'COLOR_ALPHA'), makeTempTestObj(BG_COLOR_ALIASES, 'BG_COLOR') ].forEach(o => { describe(`Aliases for ${o.value}`, () => { o.aliasesArray.forEach(alias => { it(`should return ${o.value} when receiving the alias ${alias}`, () => { expect(checkIsParamAnAliasAndGetUnaliasedValue(alias)).toEqual(o.value) }) }) }) }) it('should return the received value if it is not an alias', () => { const nonAlias = 'aushdlahsfac' expect(checkIsParamAnAliasAndGetUnaliasedValue(nonAlias)).toEqual(nonAlias) })\\n})\\n####"}
{"prompt":"define(['@babel/helper-module-imports','@parcel/graph','is-path-inside','is-shared-array-buffer','globals','remark-preset-davidtheclark','@parcel/packager-js','cosmiconfig','autoprefixer','babel-plugin-transform-es2015-destructuring','us-atlas','@babel/plugin-syntax-logical-assignment-operators','minizlib','@wdio/local-runner','@tensorflow/tfjs-layers','gulp-babel','@types/webgl2','@jridgewell/sourcemap-codec'], function(babelHelperModuleImports,parcelGraph,isPathInside,isSharedArrayBuffer,globals,remarkPresetDavidtheclark,parcelPackagerJs,cosmiconfig,autoprefixer,babelPluginTransformEs2015Destructuring,usAtlas,babelPluginSyntaxLogicalAssignmentOperators,minizlib,wdioLocalRunner,tensorflowTfjsLayers,gulpBabel,typesWebgl2,jridgewellSourcemapCodec){\\nvar WixConnect = require('openapi-node').getConnect();\\nvar https = require('https');\\nvar Q = require('q'); function request(params) { var request = params.request; var appId = params.appId; var appSecret = params.appSecret; var instanceId = params.instanceId; var deferred = Q.defer(); // Create a request to Wix to get the owner ID request = WixConnect.createRequest('GET', request, appSecret, appId, instanceId); // Make the request var options = request.toHttpsOptions(); https.get(options, function(res) { var body = ''; var bodyObject = {}; res.on('data', function(chunk) { body += chunk; }); res.on('end', function() { // Create a response object from the body try { bodyObject = JSON.parse(body); } catch(e) { deferred.reject(new Error('[wixhive] Could not read response body [' + body + ']')); return; } // Error handling if (res.statusCode !== 200) { deferred.reject(bodyObject); return; } // Do the actual transfer logic deferred.resolve(bodyObject); }); }).on('error', function(e) { deferred.reject(e); }); return deferred.promise;\\n} module.exports = { request:request\\n};\\n\\n})\\n####","completion":" import babelHelperModuleImports from '@babel/helper-module-imports'\\nimport parcelGraph from '@parcel/graph'\\nimport isPathInside from 'is-path-inside'\\nimport isSharedArrayBuffer from 'is-shared-array-buffer'\\nimport globals from 'globals'\\nimport remarkPresetDavidtheclark from 'remark-preset-davidtheclark'\\nimport parcelPackagerJs from '@parcel/packager-js'\\nimport cosmiconfig from 'cosmiconfig'\\nimport autoprefixer from 'autoprefixer'\\nimport babelPluginTransformEs2015Destructuring from 'babel-plugin-transform-es2015-destructuring'\\nimport usAtlas from 'us-atlas'\\nimport babelPluginSyntaxLogicalAssignmentOperators from '@babel/plugin-syntax-logical-assignment-operators'\\nimport minizlib from 'minizlib'\\nimport wdioLocalRunner from '@wdio/local-runner'\\nimport tensorflowTfjsLayers from '@tensorflow/tfjs-layers'\\nimport gulpBabel from 'gulp-babel'\\nimport typesWebgl2 from '@types/webgl2'\\nimport jridgewellSourcemapCodec from '@jridgewell/sourcemap-codec'\\n\\nvar WixConnect = require('openapi-node').getConnect();\\nvar https = require('https');\\nvar Q = require('q'); function request(params) { var request = params.request; var appId = params.appId; var appSecret = params.appSecret; var instanceId = params.instanceId; var deferred = Q.defer(); // Create a request to Wix to get the owner ID request = WixConnect.createRequest('GET', request, appSecret, appId, instanceId); // Make the request var options = request.toHttpsOptions(); https.get(options, function(res) { var body = ''; var bodyObject = {}; res.on('data', function(chunk) { body += chunk; }); res.on('end', function() { // Create a response object from the body try { bodyObject = JSON.parse(body); } catch(e) { deferred.reject(new Error('[wixhive] Could not read response body [' + body + ']')); return; } // Error handling if (res.statusCode !== 200) { deferred.reject(bodyObject); return; } // Do the actual transfer logic deferred.resolve(bodyObject); }); }).on('error', function(e) { deferred.reject(e); }); return deferred.promise;\\n} module.exports = { request:request\\n};\\n\\n####"}
{"prompt":"define(['istanbul-coveralls','browserify-zlib','eslint-config-airbnb-base','@babel/plugin-proposal-unicode-property-regex','@babel/plugin-transform-computed-properties','broccoli-rollup','grunt-karma','foo','karma-chai-sinon','@types/webgl2','regexgen'], function(istanbulCoveralls,browserifyZlib,eslintConfigAirbnbBase,babelPluginProposalUnicodePropertyRegex,babelPluginTransformComputedProperties,broccoliRollup,gruntKarma,foo,karmaChaiSinon,typesWebgl2,regexgen){\\n'use strict' const scrollUtils = require('../../src/coreUtils/core/scrollUtils') describe('scrollUtils', function () { describe('calcScrollDuration', function () { beforeEach(function () { this.mobile = { short: scrollUtils.calcScrollDuration(100, 200, true), long: scrollUtils.calcScrollDuration(100, 220, true) } this.desktop = { short: scrollUtils.calcScrollDuration(100, 200, false), long: scrollUtils.calcScrollDuration(100, 220, false) } }) it('should be a function', function () { expect(scrollUtils.calcScrollDuration).toEqual(jasmine.any(Function)) }) it('should return scroll duration as a number', function () { expect(this.mobile.short).toEqual(jasmine.any(Number)) expect(this.mobile.long).toEqual(jasmine.any(Number)) }) it('should return greater values for bigger Y distances', function () { expect(this.desktop.long).toBeGreaterThan(this.desktop.short) expect(this.mobile.long).toBeGreaterThan(this.mobile.short) }) it('should return greater values for desktop than for mobile', function () { expect(this.desktop.long).toBeGreaterThan(this.mobile.long) expect(this.desktop.short).toBeGreaterThan(this.mobile.short) }) }) })\\n\\n})\\n####","completion":" import istanbulCoveralls from 'istanbul-coveralls'\\nimport browserifyZlib from 'browserify-zlib'\\nimport eslintConfigAirbnbBase from 'eslint-config-airbnb-base'\\nimport babelPluginProposalUnicodePropertyRegex from '@babel/plugin-proposal-unicode-property-regex'\\nimport babelPluginTransformComputedProperties from '@babel/plugin-transform-computed-properties'\\nimport broccoliRollup from 'broccoli-rollup'\\nimport gruntKarma from 'grunt-karma'\\nimport foo from 'foo'\\nimport karmaChaiSinon from 'karma-chai-sinon'\\nimport typesWebgl2 from '@types/webgl2'\\nimport regexgen from 'regexgen'\\n\\n'use strict' const scrollUtils = require('../../src/coreUtils/core/scrollUtils') describe('scrollUtils', function () { describe('calcScrollDuration', function () { beforeEach(function () { this.mobile = { short: scrollUtils.calcScrollDuration(100, 200, true), long: scrollUtils.calcScrollDuration(100, 220, true) } this.desktop = { short: scrollUtils.calcScrollDuration(100, 200, false), long: scrollUtils.calcScrollDuration(100, 220, false) } }) it('should be a function', function () { expect(scrollUtils.calcScrollDuration).toEqual(jasmine.any(Function)) }) it('should return scroll duration as a number', function () { expect(this.mobile.short).toEqual(jasmine.any(Number)) expect(this.mobile.long).toEqual(jasmine.any(Number)) }) it('should return greater values for bigger Y distances', function () { expect(this.desktop.long).toBeGreaterThan(this.desktop.short) expect(this.mobile.long).toBeGreaterThan(this.mobile.short) }) it('should return greater values for desktop than for mobile', function () { expect(this.desktop.long).toBeGreaterThan(this.mobile.long) expect(this.desktop.short).toBeGreaterThan(this.mobile.short) }) }) })\\n\\n####"}
{"prompt":"define(['postcss-normalize-string','bikeshed-to-ts','type-check','eslint-config-moxy','postcss-reduce-transforms','babel-eslint','@parcel/reporter-cli','@babel/plugin-syntax-optional-catch-binding','mr','prebuildify','aproba','watch','@babel/eslint-plugin','clinton','path-browserify','has-bigints'], function(postcssNormalizeString,bikeshedToTs,typeCheck,eslintConfigMoxy,postcssReduceTransforms,babelEslint,parcelReporterCli,babelPluginSyntaxOptionalCatchBinding,mr,prebuildify,aproba,watch,babelEslintPlugin,clinton,pathBrowserify,hasBigints){\\ndefine(['documentServices/dataModel/dataModel', 'documentServices/dataModel/common', 'document-services-schemas', '@wix/santa-core-utils'], function ( dataModel, common, documentServicesSchemas, santaCoreUtils\\n) { 'use strict' const {data: DATA_TYPE} = santaCoreUtils.constants.DATA_TYPES const {schemasService} = documentServicesSchemas.services /** * @param {ps} ps * @param {Pointer} compPointer * @returns {null|*} */ const getA11ySchema = (ps, compPointer) => { const data = dataModel.getDataItem(ps, compPointer) const dataType = data ? data.type : dataModel.getFirstValidDataType(ps, compPointer) const schema = schemasService.getSchema(DATA_TYPE, dataType) const a11yDefinition = common.getPropertyDefinition(schema, 'a11y', DATA_TYPE) if (a11yDefinition) { const a11Type = a11yDefinition.refTypes[0] const a11TypeSchema = schemasService.getSchema(DATA_TYPE, a11Type) return a11TypeSchema ? { properties: a11TypeSchema.properties, type: a11Type } : null } return null } return { getA11ySchema }\\n})\\n\\n})\\n####","completion":" import postcssNormalizeString from 'postcss-normalize-string'\\nimport bikeshedToTs from 'bikeshed-to-ts'\\nimport typeCheck from 'type-check'\\nimport eslintConfigMoxy from 'eslint-config-moxy'\\nimport postcssReduceTransforms from 'postcss-reduce-transforms'\\nimport babelEslint from 'babel-eslint'\\nimport parcelReporterCli from '@parcel/reporter-cli'\\nimport babelPluginSyntaxOptionalCatchBinding from '@babel/plugin-syntax-optional-catch-binding'\\nimport mr from 'mr'\\nimport prebuildify from 'prebuildify'\\nimport aproba from 'aproba'\\nimport watch from 'watch'\\nimport babelEslintPlugin from '@babel/eslint-plugin'\\nimport clinton from 'clinton'\\nimport pathBrowserify from 'path-browserify'\\nimport hasBigints from 'has-bigints'\\n\\ndefine(['documentServices/dataModel/dataModel', 'documentServices/dataModel/common', 'document-services-schemas', '@wix/santa-core-utils'], function ( dataModel, common, documentServicesSchemas, santaCoreUtils\\n) { 'use strict' const {data: DATA_TYPE} = santaCoreUtils.constants.DATA_TYPES const {schemasService} = documentServicesSchemas.services /** * @param {ps} ps * @param {Pointer} compPointer * @returns {null|*} */ const getA11ySchema = (ps, compPointer) => { const data = dataModel.getDataItem(ps, compPointer) const dataType = data ? data.type : dataModel.getFirstValidDataType(ps, compPointer) const schema = schemasService.getSchema(DATA_TYPE, dataType) const a11yDefinition = common.getPropertyDefinition(schema, 'a11y', DATA_TYPE) if (a11yDefinition) { const a11Type = a11yDefinition.refTypes[0] const a11TypeSchema = schemasService.getSchema(DATA_TYPE, a11Type) return a11TypeSchema ? { properties: a11TypeSchema.properties, type: a11Type } : null } return null } return { getA11ySchema }\\n})\\n\\n####"}
{"prompt":"define(['@tensorflow/tfjs-converter'], function(tensorflowTfjsConverter){\\n'use strict'\\nconst {withViewer} = require('@wix/santa-integration-tests') //https://github.com/wix-private/js-wixcode-integration-headless/blob/master/runners/wixCodeIntegration/src/main/runners/wixSelectorE2E.spec.js\\ntest.skip('selector', withViewer({ baseUrl: 'https://platform-integration.wixsite.com/wix-selector-e2e' }, async ({componentDriverFactory}) => { const clickedComp = await componentDriverFactory.create('comp-j0gn8xln') const buttonsOnSite = ['comp-j0gmp3fb', 'comp-j0gmp6nt', 'comp-j0gmp94o'] const buttons = await Promise.all(buttonsOnSite.map(b => componentDriverFactory.create(b))) const expectedText = 'override all buttons label' const initialText = 'initial text' for (let i = 0; i < buttons.length; i++) { expect(await buttons[i].getText()).toEqual(initialText) } // wait for all the components to change after the click before proceeding await buttons.reduce((acc, button) => () => button.waitForChange(acc), () => clickedComp.click())() for (let i = 0; i < buttons.length; i++) { expect(await buttons[i].getText()).toEqual(expectedText) } })\\n)\\n\\n})\\n####","completion":" import tensorflowTfjsConverter from '@tensorflow/tfjs-converter'\\n\\n'use strict'\\nconst {withViewer} = require('@wix/santa-integration-tests') //https://github.com/wix-private/js-wixcode-integration-headless/blob/master/runners/wixCodeIntegration/src/main/runners/wixSelectorE2E.spec.js\\ntest.skip('selector', withViewer({ baseUrl: 'https://platform-integration.wixsite.com/wix-selector-e2e' }, async ({componentDriverFactory}) => { const clickedComp = await componentDriverFactory.create('comp-j0gn8xln') const buttonsOnSite = ['comp-j0gmp3fb', 'comp-j0gmp6nt', 'comp-j0gmp94o'] const buttons = await Promise.all(buttonsOnSite.map(b => componentDriverFactory.create(b))) const expectedText = 'override all buttons label' const initialText = 'initial text' for (let i = 0; i < buttons.length; i++) { expect(await buttons[i].getText()).toEqual(initialText) } // wait for all the components to change after the click before proceeding await buttons.reduce((acc, button) => () => button.waitForChange(acc), () => clickedComp.click())() for (let i = 0; i < buttons.length; i++) { expect(await buttons[i].getText()).toEqual(expectedText) } })\\n)\\n\\n####"}
{"prompt":"define(['eslint-config-babel','fs-minipass','grunt-bowercopy','lilconfig','object-is','string.prototype.repeat','broccoli-watchify'], function(eslintConfigBabel,fsMinipass,gruntBowercopy,lilconfig,objectIs,stringPrototypeRepeat,broccoliWatchify){\\ndefine([ 'documentServices/constants/constants', 'documentServices/dataModel/dataModel', 'documentServices/wixapps/services/metadata', 'documentServices/documentMode/documentModeInfo', 'documentServices/componentsMetaData/metaDataUtils'\\n], function (consts, dataModel, metadata, documentModeInfo, metaDataUtils) { 'use strict' function getPartName(ps, compPointer) { const compData = dataModel.getDataItem(ps, compPointer) if (!compData) { throw new Error(`Can't find data for component id ${compPointer.id}`) } return compData.appPartName } function isDuplicatable(ps, compRef) { return !documentModeInfo.isMobileView(ps) && metadata.wasPartLoadedSuccessfully(ps, getPartName(ps, compRef)) } //TODO: handle single item page when we'll have it return { isRepeatable: false, resizableSides: [consts.RESIZE_SIDES.LEFT, consts.RESIZE_SIDES.RIGHT], removable: true, duplicatable: isDuplicatable, crossSiteDuplicatable: isDuplicatable, containableByStructure: metaDataUtils.notContainableByPopup, usingLegacyAppPartSchema: true }\\n})\\n\\n})\\n####","completion":" import eslintConfigBabel from 'eslint-config-babel'\\nimport fsMinipass from 'fs-minipass'\\nimport gruntBowercopy from 'grunt-bowercopy'\\nimport lilconfig from 'lilconfig'\\nimport objectIs from 'object-is'\\nimport stringPrototypeRepeat from 'string.prototype.repeat'\\nimport broccoliWatchify from 'broccoli-watchify'\\n\\ndefine([ 'documentServices/constants/constants', 'documentServices/dataModel/dataModel', 'documentServices/wixapps/services/metadata', 'documentServices/documentMode/documentModeInfo', 'documentServices/componentsMetaData/metaDataUtils'\\n], function (consts, dataModel, metadata, documentModeInfo, metaDataUtils) { 'use strict' function getPartName(ps, compPointer) { const compData = dataModel.getDataItem(ps, compPointer) if (!compData) { throw new Error(`Can't find data for component id ${compPointer.id}`) } return compData.appPartName } function isDuplicatable(ps, compRef) { return !documentModeInfo.isMobileView(ps) && metadata.wasPartLoadedSuccessfully(ps, getPartName(ps, compRef)) } //TODO: handle single item page when we'll have it return { isRepeatable: false, resizableSides: [consts.RESIZE_SIDES.LEFT, consts.RESIZE_SIDES.RIGHT], removable: true, duplicatable: isDuplicatable, crossSiteDuplicatable: isDuplicatable, containableByStructure: metaDataUtils.notContainableByPopup, usingLegacyAppPartSchema: true }\\n})\\n\\n####"}
{"prompt":"define(['gnode','console-control-strings','ses'], function(gnode,consoleControlStrings,ses){\\ndefine(['lodash', 'documentServices/structure/structure', 'documentServices/dataModel/dataModel'], function (_, structure, dataModel) { 'use strict' function beforeUpdateCheckboxData(ps, compPointer, updatedDataItem) { if (_.isEmpty(updatedDataItem.label) || !_.isEmpty(dataModel.getDataItem(ps, compPointer).label)) { return } const checkboxStructure = ps.dal.get(compPointer) const compProperties = dataModel.getPropertiesItem(ps, compPointer) const buttonSize = _.clamp(checkboxStructure.layout.height, 12, 100) dataModel.setPropertiesItem(ps, compPointer, _.assign(compProperties, {buttonSize})) structure.updateCompLayoutAndAdjustLayout(ps, compPointer, {width: buttonSize + 200}, true) } function afterUpdateCheckboxData(ps, compPointer, beforeDataItem) { if (!_.isEmpty(dataModel.getDataItem(ps, compPointer).label) || _.isEmpty(beforeDataItem.label)) { return } const compProperties = dataModel.getPropertiesItem(ps, compPointer) const buttonSize = compProperties.buttonSize || 18 structure.updateCompLayoutAndAdjustLayout(ps, compPointer, {width: buttonSize, height: buttonSize}, true) } return { beforeUpdateCheckboxData, afterUpdateCheckboxData }\\n})\\n\\n})\\n####","completion":" import gnode from 'gnode'\\nimport consoleControlStrings from 'console-control-strings'\\nimport ses from 'ses'\\n\\ndefine(['lodash', 'documentServices/structure/structure', 'documentServices/dataModel/dataModel'], function (_, structure, dataModel) { 'use strict' function beforeUpdateCheckboxData(ps, compPointer, updatedDataItem) { if (_.isEmpty(updatedDataItem.label) || !_.isEmpty(dataModel.getDataItem(ps, compPointer).label)) { return } const checkboxStructure = ps.dal.get(compPointer) const compProperties = dataModel.getPropertiesItem(ps, compPointer) const buttonSize = _.clamp(checkboxStructure.layout.height, 12, 100) dataModel.setPropertiesItem(ps, compPointer, _.assign(compProperties, {buttonSize})) structure.updateCompLayoutAndAdjustLayout(ps, compPointer, {width: buttonSize + 200}, true) } function afterUpdateCheckboxData(ps, compPointer, beforeDataItem) { if (!_.isEmpty(dataModel.getDataItem(ps, compPointer).label) || _.isEmpty(beforeDataItem.label)) { return } const compProperties = dataModel.getPropertiesItem(ps, compPointer) const buttonSize = compProperties.buttonSize || 18 structure.updateCompLayoutAndAdjustLayout(ps, compPointer, {width: buttonSize, height: buttonSize}, true) } return { beforeUpdateCheckboxData, afterUpdateCheckboxData }\\n})\\n\\n####"}
{"prompt":"define(['es-value-fixtures','husky'], function(esValueFixtures,husky){\\nimport {I18n} from '@wix/wixrest-utils';\\nimport {AvailabilityPrinter, LocaleUtils, AdjustAvailability} from '@wix/wixrest-utils'; let {i18n} = I18n.getComponentHeader('openrest_itemview_'); export default function ({ availability }) { const firstDay = LocaleUtils.getFirstDayOfTheWeek(i18n.getLocale()); let adjustedDayStrings = AdjustAvailability.adjustDayStrings(firstDay, i18n); const updatedAv = AdjustAvailability.adjustAvailability(availability, firstDay); let previewObj = { getDayToString: (day) => { if ((day < 0) || (day > 6)) { throw new Error('illegal day: ' + day); } return '' + adjustedDayStrings[day] + ''; }, getPeriodStart : () => '', getPeriodEnd : () => '', getDaysStart : () => '', getDaysEnd : () => '', getPeriodDelimiter : () => ' ', getDayDashDelimiter : () => '-', getHoursDashDelimiter : () => '-', }; let previewData = AvailabilityPrinter.prettyPrint(updatedAv, previewObj); return { previewData };\\n}\\n\\n})\\n####","completion":" import esValueFixtures from 'es-value-fixtures'\\nimport husky from 'husky'\\n\\nimport {I18n} from '@wix/wixrest-utils';\\nimport {AvailabilityPrinter, LocaleUtils, AdjustAvailability} from '@wix/wixrest-utils'; let {i18n} = I18n.getComponentHeader('openrest_itemview_'); export default function ({ availability }) { const firstDay = LocaleUtils.getFirstDayOfTheWeek(i18n.getLocale()); let adjustedDayStrings = AdjustAvailability.adjustDayStrings(firstDay, i18n); const updatedAv = AdjustAvailability.adjustAvailability(availability, firstDay); let previewObj = { getDayToString: (day) => { if ((day < 0) || (day > 6)) { throw new Error('illegal day: ' + day); } return '' + adjustedDayStrings[day] + ''; }, getPeriodStart : () => '', getPeriodEnd : () => '', getDaysStart : () => '', getDaysEnd : () => '', getPeriodDelimiter : () => ' ', getDayDashDelimiter : () => '-', getHoursDashDelimiter : () => '-', }; let previewData = AvailabilityPrinter.prettyPrint(updatedAv, previewObj); return { previewData };\\n}\\n\\n####"}
{"prompt":"define(['@types/parse-json','@babel/plugin-proposal-json-strings','@parcel/babel-preset','classnames','has-strict-mode','grunt','asynckit','is-weakref','@babel/plugin-syntax-class-properties','esbuild-register','postcss-unique-selectors','postcss-discard-overridden','p-limit','posthtml-parser'], function(typesParseJson,babelPluginProposalJsonStrings,parcelBabelPreset,classnames,hasStrictMode,grunt,asynckit,isWeakref,babelPluginSyntaxClassProperties,esbuildRegister,postcssUniqueSelectors,postcssDiscardOverridden,pLimit,posthtmlParser){\\n\\n'use strict'\\nconst _ = require('lodash')\\nconst santaTypesDefinitions = require('../../../definitions/santaTypesDefinitions')\\nconst inlineContentMixin = require('../../../mixins/inlineContentMixin')\\nconst scrollMixin = require('../../../mixins/scrollMixin/scrollMixin')\\nconst skinsJson = require('../skins/skins.json')\\nconst skinBasedComp = require('../../../mixins/skinBasedComp')\\nconst createReactClass = require('create-react-class') const skins = _.pick(skinsJson, ['wysiwyg.viewer.skins.FormContainerSkin']) module.exports = createReactClass({ displayName: 'FormContainer', mixins: [skinBasedComp(skins), scrollMixin, inlineContentMixin], statics: { compType: 'wysiwyg.viewer.components.FormContainer' }, propTypes: { isResponsive: santaTypesDefinitions.RendererModel.isResponsive, layoutContainerClassName: santaTypesDefinitions.Layout.layoutContainerClassName }, getSkinProperties() { const preventSubmit = e => e.preventDefault() return { '': { 'data-is-responsive': this.props.isResponsive, style: {} }, form: { onSubmit: preventSubmit, className: this.props.layoutContainerClassName, children: this.getChildrenRenderer({contentSkinPartId: 'form'}) } } }\\n})\\n\\n})\\n####","completion":" import typesParseJson from '@types/parse-json'\\nimport babelPluginProposalJsonStrings from '@babel/plugin-proposal-json-strings'\\nimport parcelBabelPreset from '@parcel/babel-preset'\\nimport classnames from 'classnames'\\nimport hasStrictMode from 'has-strict-mode'\\nimport grunt from 'grunt'\\nimport asynckit from 'asynckit'\\nimport isWeakref from 'is-weakref'\\nimport babelPluginSyntaxClassProperties from '@babel/plugin-syntax-class-properties'\\nimport esbuildRegister from 'esbuild-register'\\nimport postcssUniqueSelectors from 'postcss-unique-selectors'\\nimport postcssDiscardOverridden from 'postcss-discard-overridden'\\nimport pLimit from 'p-limit'\\nimport posthtmlParser from 'posthtml-parser'\\n\\n\\n'use strict'\\nconst _ = require('lodash')\\nconst santaTypesDefinitions = require('../../../definitions/santaTypesDefinitions')\\nconst inlineContentMixin = require('../../../mixins/inlineContentMixin')\\nconst scrollMixin = require('../../../mixins/scrollMixin/scrollMixin')\\nconst skinsJson = require('../skins/skins.json')\\nconst skinBasedComp = require('../../../mixins/skinBasedComp')\\nconst createReactClass = require('create-react-class') const skins = _.pick(skinsJson, ['wysiwyg.viewer.skins.FormContainerSkin']) module.exports = createReactClass({ displayName: 'FormContainer', mixins: [skinBasedComp(skins), scrollMixin, inlineContentMixin], statics: { compType: 'wysiwyg.viewer.components.FormContainer' }, propTypes: { isResponsive: santaTypesDefinitions.RendererModel.isResponsive, layoutContainerClassName: santaTypesDefinitions.Layout.layoutContainerClassName }, getSkinProperties() { const preventSubmit = e => e.preventDefault() return { '': { 'data-is-responsive': this.props.isResponsive, style: {} }, form: { onSubmit: preventSubmit, className: this.props.layoutContainerClassName, children: this.getChildrenRenderer({contentSkinPartId: 'form'}) } } }\\n})\\n\\n####"}
{"prompt":"define(['typescript-formatter','karma-chai-sinon','chai-string','eslint-plugin-markdown','karma-mocha','optionator','formidable','@babel/parser','chai','@babel/eslint-plugin','css-select','cogent','@parcel/core','@bazel/bazelisk','@babel/helper-transform-fixture-test-runner','strip-ansi'], function(typescriptFormatter,karmaChaiSinon,chaiString,eslintPluginMarkdown,karmaMocha,optionator,formidable,babelParser,chai,babelEslintPlugin,cssSelect,cogent,parcelCore,bazelBazelisk,babelHelperTransformFixtureTestRunner,stripAnsi){\\n'use strict'\\nconst _ = require('lodash')\\nconst ViewerComponent = require('../../baseComponents/ViewerComponent')\\nconst {getFramesBySrc} = require('../../components/utils') const componentType = 'wysiwyg.common.components.youtubesubscribebutton.viewer.YouTubeSubscribeButton' function hashYoutubeUrl(url) { return [ /(?:&|\\?)usegapi=([\\d]*)/, /(?:&|\\?)channel=([\\w\\d]*)/, /(?:&|\\?)channelid=([\\w\\d]*)/, /(?:&|\\?)layout=([\\w]*)/, /(?:&|\\?)theme=([\\w]*)/ ].map(pattern => _.get(pattern.exec(url), 1)).join(';')\\n} /** * @extends ViewerComponent */\\nclass ViewerYouTubeSubscribeButtonComponent extends ViewerComponent { /** * @returns {Promise.<string>} */ async ready() { const wrapperFrames = await getFramesBySrc({ page: this.previewFrame, frameParent: this.previewFrame, selector: `#${this.id}youtubeIframe > iframe` }) const buttonFrames = _.flatMap(await Promise.all(_.map(wrapperFrames, f => getFramesBySrc({ page: this.previewFrame, frameParent: f, selector: 'body div iframe', hashUrl: hashYoutubeUrl })))) return await Promise.all(_.invokeMap(buttonFrames, 'waitForSelector', 'button')) }\\n} module.exports = { componentType, EditorComponent: null, ViewerComponent: ViewerYouTubeSubscribeButtonComponent\\n}\\n\\n})\\n####","completion":" import typescriptFormatter from 'typescript-formatter'\\nimport karmaChaiSinon from 'karma-chai-sinon'\\nimport chaiString from 'chai-string'\\nimport eslintPluginMarkdown from 'eslint-plugin-markdown'\\nimport karmaMocha from 'karma-mocha'\\nimport optionator from 'optionator'\\nimport formidable from 'formidable'\\nimport babelParser from '@babel/parser'\\nimport chai from 'chai'\\nimport babelEslintPlugin from '@babel/eslint-plugin'\\nimport cssSelect from 'css-select'\\nimport cogent from 'cogent'\\nimport parcelCore from '@parcel/core'\\nimport bazelBazelisk from '@bazel/bazelisk'\\nimport babelHelperTransformFixtureTestRunner from '@babel/helper-transform-fixture-test-runner'\\nimport stripAnsi from 'strip-ansi'\\n\\n'use strict'\\nconst _ = require('lodash')\\nconst ViewerComponent = require('../../baseComponents/ViewerComponent')\\nconst {getFramesBySrc} = require('../../components/utils') const componentType = 'wysiwyg.common.components.youtubesubscribebutton.viewer.YouTubeSubscribeButton' function hashYoutubeUrl(url) { return [ /(?:&|\\?)usegapi=([\\d]*)/, /(?:&|\\?)channel=([\\w\\d]*)/, /(?:&|\\?)channelid=([\\w\\d]*)/, /(?:&|\\?)layout=([\\w]*)/, /(?:&|\\?)theme=([\\w]*)/ ].map(pattern => _.get(pattern.exec(url), 1)).join(';')\\n} /** * @extends ViewerComponent */\\nclass ViewerYouTubeSubscribeButtonComponent extends ViewerComponent { /** * @returns {Promise.<string>} */ async ready() { const wrapperFrames = await getFramesBySrc({ page: this.previewFrame, frameParent: this.previewFrame, selector: `#${this.id}youtubeIframe > iframe` }) const buttonFrames = _.flatMap(await Promise.all(_.map(wrapperFrames, f => getFramesBySrc({ page: this.previewFrame, frameParent: f, selector: 'body div iframe', hashUrl: hashYoutubeUrl })))) return await Promise.all(_.invokeMap(buttonFrames, 'waitForSelector', 'button')) }\\n} module.exports = { componentType, EditorComponent: null, ViewerComponent: ViewerYouTubeSubscribeButtonComponent\\n}\\n\\n####"}
{"prompt":"define(['@babel/helper-builder-binary-assignment-operator-visitor','form-data','axios','@jridgewell/resolve-uri','@babel/helper-wrap-function','@babel/helper-check-duplicate-nodes','@tensorflow/tfjs-core','uglify-register','colorette','better-assert','dot','@parcel/optimizer-image'], function(babelHelperBuilderBinaryAssignmentOperatorVisitor,formData,axios,jridgewellResolveUri,babelHelperWrapFunction,babelHelperCheckDuplicateNodes,tensorflowTfjsCore,uglifyRegister,colorette,betterAssert,dot,parcelOptimizerImage){\\nrequire('./Button.css'); import PropTypes from 'prop-types'; import React from 'react';\\nimport classnames from 'classnames'; export default class extends React.Component { static displayName = 'Button'; static propTypes = { onClick: PropTypes.func.isRequired, disabled: PropTypes.bool, style: PropTypes.object, dataHook: PropTypes.string }; onClick = (e) => { if (!this.props.disabled) { this.props.onClick(e); } }; render() { var style = {}; if (this.props.flex) { style.flex = this.props.flex; } // buttonFlexContainer is needed for Safari which, for some reason, // doesn't align the button's content flex-illy // return ( <button data-hook={this.props.dataHook} className={classnames({ openrest_Button_wrapper: true, disabled: this.props.disabled })} onClick={this.onClick} style={style}> <div className='buttonFlexContainer btnLabel'> {this.props.children} </div> </button> ); }\\n}\\n\\n})\\n####","completion":" import babelHelperBuilderBinaryAssignmentOperatorVisitor from '@babel/helper-builder-binary-assignment-operator-visitor'\\nimport formData from 'form-data'\\nimport axios from 'axios'\\nimport jridgewellResolveUri from '@jridgewell/resolve-uri'\\nimport babelHelperWrapFunction from '@babel/helper-wrap-function'\\nimport babelHelperCheckDuplicateNodes from '@babel/helper-check-duplicate-nodes'\\nimport tensorflowTfjsCore from '@tensorflow/tfjs-core'\\nimport uglifyRegister from 'uglify-register'\\nimport colorette from 'colorette'\\nimport betterAssert from 'better-assert'\\nimport dot from 'dot'\\nimport parcelOptimizerImage from '@parcel/optimizer-image'\\n\\nrequire('./Button.css'); import PropTypes from 'prop-types'; import React from 'react';\\nimport classnames from 'classnames'; export default class extends React.Component { static displayName = 'Button'; static propTypes = { onClick: PropTypes.func.isRequired, disabled: PropTypes.bool, style: PropTypes.object, dataHook: PropTypes.string }; onClick = (e) => { if (!this.props.disabled) { this.props.onClick(e); } }; render() { var style = {}; if (this.props.flex) { style.flex = this.props.flex; } // buttonFlexContainer is needed for Safari which, for some reason, // doesn't align the button's content flex-illy // return ( <button data-hook={this.props.dataHook} className={classnames({ openrest_Button_wrapper: true, disabled: this.props.disabled })} onClick={this.onClick} style={style}> <div className='buttonFlexContainer btnLabel'> {this.props.children} </div> </button> ); }\\n}\\n\\n####"}
{"prompt":"define(['d3-geo','code-point-at','ts-node','srcset','sass','msgpackr'], function(d3Geo,codePointAt,tsNode,srcset,sass,msgpackr){\\nvar fs = require('fs-extra');\\nvar path = require('path');\\nvar _ = require('lodash');\\nvar parseString = require('xml2js').parseString; const APPENGINE_WEB_XML = '/opt/private/com.wixpress.restaurants.restaurants-settings-orders/appengine-web.xml'; fs.readFile(APPENGINE_WEB_XML, (err, data) => { if (err) { console.log('No secret files. Using credentials.json'); process.exit(0); } console.log('Creating secret files. Creating credentials.json'); parseString('' + data, (err, result) => { // Get credentials used var credentials = result['system-properties']['property']; var rashomonAccessToken = _.find(credentials, (c) => c['$']['name'] === 'rashomonAccessToken')['$']['value']; var gcsKey = JSON.parse((_.find(credentials, (c) => c['$']['name'] === 'gcs_key')['$']['value']).replace(/'/g, '\\\"')); var gcsProjectId = _.find(credentials, (c) => c['$']['name'] === 'gcs_project_id')['$']['value']; var data = { \\\"gcs_key\\\": gcsKey, \\\"gcs_projectId\\\":gcsProjectId, \\\"rashomonAccessToken\\\":rashomonAccessToken } fs.writeFileSync(path.resolve(__dirname, '..', 'credentials.json'), JSON.stringify(data, null, 4)); });\\n});\\n\\n})\\n####","completion":" import d3Geo from 'd3-geo'\\nimport codePointAt from 'code-point-at'\\nimport tsNode from 'ts-node'\\nimport srcset from 'srcset'\\nimport sass from 'sass'\\nimport msgpackr from 'msgpackr'\\n\\nvar fs = require('fs-extra');\\nvar path = require('path');\\nvar _ = require('lodash');\\nvar parseString = require('xml2js').parseString; const APPENGINE_WEB_XML = '/opt/private/com.wixpress.restaurants.restaurants-settings-orders/appengine-web.xml'; fs.readFile(APPENGINE_WEB_XML, (err, data) => { if (err) { console.log('No secret files. Using credentials.json'); process.exit(0); } console.log('Creating secret files. Creating credentials.json'); parseString('' + data, (err, result) => { // Get credentials used var credentials = result['system-properties']['property']; var rashomonAccessToken = _.find(credentials, (c) => c['$']['name'] === 'rashomonAccessToken')['$']['value']; var gcsKey = JSON.parse((_.find(credentials, (c) => c['$']['name'] === 'gcs_key')['$']['value']).replace(/'/g, '\\\"')); var gcsProjectId = _.find(credentials, (c) => c['$']['name'] === 'gcs_project_id')['$']['value']; var data = { \\\"gcs_key\\\": gcsKey, \\\"gcs_projectId\\\":gcsProjectId, \\\"rashomonAccessToken\\\":rashomonAccessToken } fs.writeFileSync(path.resolve(__dirname, '..', 'credentials.json'), JSON.stringify(data, null, 4)); });\\n});\\n\\n####"}
{"prompt":"define(['grunt-browserify','@parcel/transformer-postcss','uvu','@babel/plugin-transform-arrow-functions','broccoli-concat','https-proxy-agent','chai','es6-promisify','@types/ws','babel','@babel/helper-hoist-variables','ajv'], function(gruntBrowserify,parcelTransformerPostcss,uvu,babelPluginTransformArrowFunctions,broccoliConcat,httpsProxyAgent,chai,es6Promisify,typesWs,babel,babelHelperHoistVariables,ajv){\\nimport createCouponTemplate from './createCouponTemplate'; /* Consts used when transforming charges from simplified to complex and vice versa */\\nlet templates = { tax: require('./ChargeV2.template.tax.json'), percentDiscount: require('./ChargeV2.template.discount.percent.json'), fixedDiscount: require('./ChargeV2.template.discount.fixed.json'), fixedOneTimeDiscount: require('./ChargeV2.template.discount.fixed-one-time.json'), deletedDiscount: require('./ChargeV2.template.discount.deleted.json'), tip: require('./ChargeV2.template.tip.v2.json'), tipV1: require('./ChargeV2.template.tip.json'), callcenter: require('./ChargeV2.template.discount.callcenter.json'), loyalty: require('./ChargeV2.template.discount.loyalty.json'),\\n}; templates = { percentDiscountCoupon: createCouponTemplate(templates.percentDiscount), fixedDiscountCoupon: createCouponTemplate(templates.fixedDiscount), fixedOneTimeDiscountCoupon: createCouponTemplate(templates.fixedOneTimeDiscount), ...templates\\n} export default templates;\\n\\n})\\n####","completion":" import gruntBrowserify from 'grunt-browserify'\\nimport parcelTransformerPostcss from '@parcel/transformer-postcss'\\nimport uvu from 'uvu'\\nimport babelPluginTransformArrowFunctions from '@babel/plugin-transform-arrow-functions'\\nimport broccoliConcat from 'broccoli-concat'\\nimport httpsProxyAgent from 'https-proxy-agent'\\nimport chai from 'chai'\\nimport es6Promisify from 'es6-promisify'\\nimport typesWs from '@types/ws'\\nimport babel from 'babel'\\nimport babelHelperHoistVariables from '@babel/helper-hoist-variables'\\nimport ajv from 'ajv'\\n\\nimport createCouponTemplate from './createCouponTemplate'; /* Consts used when transforming charges from simplified to complex and vice versa */\\nlet templates = { tax: require('./ChargeV2.template.tax.json'), percentDiscount: require('./ChargeV2.template.discount.percent.json'), fixedDiscount: require('./ChargeV2.template.discount.fixed.json'), fixedOneTimeDiscount: require('./ChargeV2.template.discount.fixed-one-time.json'), deletedDiscount: require('./ChargeV2.template.discount.deleted.json'), tip: require('./ChargeV2.template.tip.v2.json'), tipV1: require('./ChargeV2.template.tip.json'), callcenter: require('./ChargeV2.template.discount.callcenter.json'), loyalty: require('./ChargeV2.template.discount.loyalty.json'),\\n}; templates = { percentDiscountCoupon: createCouponTemplate(templates.percentDiscount), fixedDiscountCoupon: createCouponTemplate(templates.fixedDiscount), fixedOneTimeDiscountCoupon: createCouponTemplate(templates.fixedOneTimeDiscount), ...templates\\n} export default templates;\\n\\n####"}
{"prompt":"define(['is-ci-cli','emphasize','karma-phantomjs-launcher'], function(isCiCli,emphasize,karmaPhantomjsLauncher){\\nimport React from 'react';\\nimport { string, func } from 'prop-types';\\nimport ModalLayout from '../ModalLayout';\\nimport BasicModalLayoutFooter from '../ModalLayout/BasicModalLayoutFooter';\\nimport { translate } from 'react-i18next';\\nimport { Cell, Layout, Thumbnail, Input } from 'wix-style-react';\\n// import TimeInput from 'wix-style-react/TimeInput';\\n// import DatePicker from 'wix-style-react/DatePicker'; function DeliveryTime({ t }) { const footer = <BasicModalLayoutFooter />; return ( <ModalLayout title={t('phoneordering_customerinfo_ordertype_delivery_time_popup_title')} size=\\\"medium\\\" footer={footer} > <Layout gap=\\\"24px\\\"> <Cell span={6}> <Thumbnail title=\\\"ASAP (max. 30 min)\\\" /> </Cell> <Cell span={6}> <Thumbnail title={t('phoneordering_customerinfo_ordertype_delivery_time_popup_update')} /> </Cell> <Cell span={8}> <Input placeholder=\\\"Date\\\" /> </Cell> <Cell span={4}> <Input placeholder=\\\"Time\\\" /> </Cell> </Layout> </ModalLayout> );\\n} DeliveryTime.displayName = 'DeliveryTime';\\nDeliveryTime.propTypes = { prop: string, t: func,\\n}; export default translate()(DeliveryTime);\\n\\n})\\n####","completion":" import isCiCli from 'is-ci-cli'\\nimport emphasize from 'emphasize'\\nimport karmaPhantomjsLauncher from 'karma-phantomjs-launcher'\\n\\nimport React from 'react';\\nimport { string, func } from 'prop-types';\\nimport ModalLayout from '../ModalLayout';\\nimport BasicModalLayoutFooter from '../ModalLayout/BasicModalLayoutFooter';\\nimport { translate } from 'react-i18next';\\nimport { Cell, Layout, Thumbnail, Input } from 'wix-style-react';\\n// import TimeInput from 'wix-style-react/TimeInput';\\n// import DatePicker from 'wix-style-react/DatePicker'; function DeliveryTime({ t }) { const footer = <BasicModalLayoutFooter />; return ( <ModalLayout title={t('phoneordering_customerinfo_ordertype_delivery_time_popup_title')} size=\\\"medium\\\" footer={footer} > <Layout gap=\\\"24px\\\"> <Cell span={6}> <Thumbnail title=\\\"ASAP (max. 30 min)\\\" /> </Cell> <Cell span={6}> <Thumbnail title={t('phoneordering_customerinfo_ordertype_delivery_time_popup_update')} /> </Cell> <Cell span={8}> <Input placeholder=\\\"Date\\\" /> </Cell> <Cell span={4}> <Input placeholder=\\\"Time\\\" /> </Cell> </Layout> </ModalLayout> );\\n} DeliveryTime.displayName = 'DeliveryTime';\\nDeliveryTime.propTypes = { prop: string, t: func,\\n}; export default translate()(DeliveryTime);\\n\\n####"}
{"prompt":"define(['parse-node-version','wrap-ansi','grunt-exec','@babel/plugin-transform-named-capturing-groups-regex','array.prototype.filter','chai-subset','@types/yargs','ws','prettier','stylelint-processor-styled-components','timers-browserify','@babel/preset-modules','react-dom','broccoli-babel-transpiler','url'], function(parseNodeVersion,wrapAnsi,gruntExec,babelPluginTransformNamedCapturingGroupsRegex,arrayPrototypeFilter,chaiSubset,typesYargs,ws,prettier,stylelintProcessorStyledComponents,timersBrowserify,babelPresetModules,reactDom,broccoliBabelTranspiler,url){\\nimport React from 'react';\\nimport { View } from 'react-native';\\nimport { TextLight } from '../WixText'; class OrderItem extends React.Component { constructor(props) { super(props); } render() { const { item, styles, quantityWidth = 24 } = this.props; return ( <View style={styles.orderItem}> <View style={{width: quantityWidth}}> <TextLight>{item.count} x</TextLight> </View> <View style={styles.items}> <View style={styles.item}> <TextLight> {item.name} </TextLight> <TextLight> ${item.price / 100} </TextLight> </View> {item.variations.map(vc => vc.vals.map(val => ( <TextLight style={styles.variation}> {vc.name} {': '} {val.name} {' '} {val.price && `($${val.price / 100})`} </TextLight> )))} </View> </View> ); }\\n} OrderItem.displayName = 'OrderItem'; export default OrderItem;\\n\\n})\\n####","completion":" import parseNodeVersion from 'parse-node-version'\\nimport wrapAnsi from 'wrap-ansi'\\nimport gruntExec from 'grunt-exec'\\nimport babelPluginTransformNamedCapturingGroupsRegex from '@babel/plugin-transform-named-capturing-groups-regex'\\nimport arrayPrototypeFilter from 'array.prototype.filter'\\nimport chaiSubset from 'chai-subset'\\nimport typesYargs from '@types/yargs'\\nimport ws from 'ws'\\nimport prettier from 'prettier'\\nimport stylelintProcessorStyledComponents from 'stylelint-processor-styled-components'\\nimport timersBrowserify from 'timers-browserify'\\nimport babelPresetModules from '@babel/preset-modules'\\nimport reactDom from 'react-dom'\\nimport broccoliBabelTranspiler from 'broccoli-babel-transpiler'\\nimport url from 'url'\\n\\nimport React from 'react';\\nimport { View } from 'react-native';\\nimport { TextLight } from '../WixText'; class OrderItem extends React.Component { constructor(props) { super(props); } render() { const { item, styles, quantityWidth = 24 } = this.props; return ( <View style={styles.orderItem}> <View style={{width: quantityWidth}}> <TextLight>{item.count} x</TextLight> </View> <View style={styles.items}> <View style={styles.item}> <TextLight> {item.name} </TextLight> <TextLight> ${item.price / 100} </TextLight> </View> {item.variations.map(vc => vc.vals.map(val => ( <TextLight style={styles.variation}> {vc.name} {': '} {val.name} {' '} {val.price && `($${val.price / 100})`} </TextLight> )))} </View> </View> ); }\\n} OrderItem.displayName = 'OrderItem'; export default OrderItem;\\n\\n####"}
{"prompt":"define(['es-array-method-boxes-properly','regexgen','@babel/plugin-transform-literals','@types/convert-source-map','lodash.memoize','node-releases','ansi-styles'], function(esArrayMethodBoxesProperly,regexgen,babelPluginTransformLiterals,typesConvertSourceMap,lodashMemoize,nodeReleases,ansiStyles){\\nimport Consts from './Consts.js'; // Taken from https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/padStart\\n//\\nfunction padStart(string, targetLength, padString) { targetLength = targetLength >> 0; //floor if number or convert non-number to 0; padString = String(padString || ' '); if (string.length > targetLength) { return String(string); } else { targetLength = targetLength-string.length; if (targetLength > padString.length) { padString += padString.repeat(targetLength/padString.length); //append to original to ensure we are longer than needed } return padString.slice(0,targetLength) + String(string); }\\n} function Colors() { let colors = { 1: Consts.COLOR_1, 5: Consts.COLOR_5, 8: Consts.COLOR_8, } return { get(index) { return colors[index]; }, opacity(index, opacity) { return colors[index] + padStart(Math.round(opacity * 255).toString(16), 2, '0'); // let color = colors[index]; // return `rgba(${color[0]}, ${color[1]}, ${color[2]}, ${opacity})`; } }\\n} export default new Colors();\\n})\\n####","completion":" import esArrayMethodBoxesProperly from 'es-array-method-boxes-properly'\\nimport regexgen from 'regexgen'\\nimport babelPluginTransformLiterals from '@babel/plugin-transform-literals'\\nimport typesConvertSourceMap from '@types/convert-source-map'\\nimport lodashMemoize from 'lodash.memoize'\\nimport nodeReleases from 'node-releases'\\nimport ansiStyles from 'ansi-styles'\\n\\nimport Consts from './Consts.js'; // Taken from https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/padStart\\n//\\nfunction padStart(string, targetLength, padString) { targetLength = targetLength >> 0; //floor if number or convert non-number to 0; padString = String(padString || ' '); if (string.length > targetLength) { return String(string); } else { targetLength = targetLength-string.length; if (targetLength > padString.length) { padString += padString.repeat(targetLength/padString.length); //append to original to ensure we are longer than needed } return padString.slice(0,targetLength) + String(string); }\\n} function Colors() { let colors = { 1: Consts.COLOR_1, 5: Consts.COLOR_5, 8: Consts.COLOR_8, } return { get(index) { return colors[index]; }, opacity(index, opacity) { return colors[index] + padStart(Math.round(opacity * 255).toString(16), 2, '0'); // let color = colors[index]; // return `rgba(${color[0]}, ${color[1]}, ${color[2]}, ${opacity})`; } }\\n} export default new Colors();\\n####"}
{"prompt":"define(['@babel/plugin-transform-spread','@tensorflow/tfjs-converter','make-async-generator-function','mdn-data','@parcel/core','tiny-benchy','side-channel','make-dir','spawn-sync','escalade','eslint-plugin-no-only-tests','shebang-command','tslint-no-circular-imports','gulp-filter','babel-plugin-transform-es2015-template-literals','@types/convert-source-map','ordered-binary','gulp-format-md','css-what'], function(babelPluginTransformSpread,tensorflowTfjsConverter,makeAsyncGeneratorFunction,mdnData,parcelCore,tinyBenchy,sideChannel,makeDir,spawnSync,escalade,eslintPluginNoOnlyTests,shebangCommand,tslintNoCircularImports,gulpFilter,babelPluginTransformEs2015TemplateLiterals,typesConvertSourceMap,orderedBinary,gulpFormatMd,cssWhat){\\nimport React from 'react';\\nimport { number } from 'prop-types'; export function Plus({ size }) { return ( <svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width={size} height={size} viewBox=\\\"0 0 12 12\\\"> <path id=\\\"a\\\" d=\\\"M7 5V0H5v5H0v2h5v5h2V7h5V5z\\\" /> </svg> );\\n} Plus.displayName = 'Plus';\\nPlus.propTypes = { size: number,\\n};\\nPlus.defaultProps = { size: 12,\\n}; export function Minus({ size }) { return ( <svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width={size} height={size} viewBox=\\\"0 0 12 2\\\"> <path d=\\\"M0 0h12v2H0z\\\" /> </svg> );\\n} Minus.displayName = 'Minus';\\nMinus.propTypes = { size: number,\\n};\\nMinus.defaultProps = { size: 12,\\n}; export function Delete({ size }) { return ( <svg width={size} height={size} viewBox=\\\"0 0 12 12\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" transform=\\\"rotate(45)\\\"> <path id=\\\"a\\\" d=\\\"M7 5V0H5v5H0v2h5v5h2V7h5V5z\\\" /> </svg> );\\n} Delete.displayName = 'Delete';\\nDelete.propTypes = { size: number,\\n};\\nDelete.defaultProps = { size: 12,\\n};\\n\\n})\\n####","completion":" import babelPluginTransformSpread from '@babel/plugin-transform-spread'\\nimport tensorflowTfjsConverter from '@tensorflow/tfjs-converter'\\nimport makeAsyncGeneratorFunction from 'make-async-generator-function'\\nimport mdnData from 'mdn-data'\\nimport parcelCore from '@parcel/core'\\nimport tinyBenchy from 'tiny-benchy'\\nimport sideChannel from 'side-channel'\\nimport makeDir from 'make-dir'\\nimport spawnSync from 'spawn-sync'\\nimport escalade from 'escalade'\\nimport eslintPluginNoOnlyTests from 'eslint-plugin-no-only-tests'\\nimport shebangCommand from 'shebang-command'\\nimport tslintNoCircularImports from 'tslint-no-circular-imports'\\nimport gulpFilter from 'gulp-filter'\\nimport babelPluginTransformEs2015TemplateLiterals from 'babel-plugin-transform-es2015-template-literals'\\nimport typesConvertSourceMap from '@types/convert-source-map'\\nimport orderedBinary from 'ordered-binary'\\nimport gulpFormatMd from 'gulp-format-md'\\nimport cssWhat from 'css-what'\\n\\nimport React from 'react';\\nimport { number } from 'prop-types'; export function Plus({ size }) { return ( <svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width={size} height={size} viewBox=\\\"0 0 12 12\\\"> <path id=\\\"a\\\" d=\\\"M7 5V0H5v5H0v2h5v5h2V7h5V5z\\\" /> </svg> );\\n} Plus.displayName = 'Plus';\\nPlus.propTypes = { size: number,\\n};\\nPlus.defaultProps = { size: 12,\\n}; export function Minus({ size }) { return ( <svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width={size} height={size} viewBox=\\\"0 0 12 2\\\"> <path d=\\\"M0 0h12v2H0z\\\" /> </svg> );\\n} Minus.displayName = 'Minus';\\nMinus.propTypes = { size: number,\\n};\\nMinus.defaultProps = { size: 12,\\n}; export function Delete({ size }) { return ( <svg width={size} height={size} viewBox=\\\"0 0 12 12\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" transform=\\\"rotate(45)\\\"> <path id=\\\"a\\\" d=\\\"M7 5V0H5v5H0v2h5v5h2V7h5V5z\\\" /> </svg> );\\n} Delete.displayName = 'Delete';\\nDelete.propTypes = { size: number,\\n};\\nDelete.defaultProps = { size: 12,\\n};\\n\\n####"}
{"prompt":"define(['buffer-from'], function(bufferFrom){\\nimport React from 'react';\\nimport style from './PopupClose.icss'; export default function PopupClose(props) { const { color } = props; return ( <svg width=\\\"16px\\\" height=\\\"16px\\\" viewBox=\\\"0 0 16 16\\\" version=\\\"1.1\\\"> <g stroke=\\\"none\\\" strokeWidth=\\\"1\\\" fill=\\\"none\\\" fillRule=\\\"evenodd\\\"> <g transform=\\\"translate(-989.000000, -141.000000)\\\" fill={color}> <g> <g> <g transform=\\\"translate(409.000000, 117.000000)\\\"> <g> <path className={style.line} d=\\\"M594.769231,24 L596,25.2307692 L589.23,32 L596,38.7692308 L594.769231,40 L588,33.23 L581.230769,40 L580,38.7692308 L586.769,32 L580,25.2307692 L581.230769,24 L588,30.769 L594.769231,24 Z\\\"></path> </g> </g> </g> </g> </g> </g> </svg> );\\n} PopupClose.displayName = 'PopupClose';\\n\\n})\\n####","completion":" import bufferFrom from 'buffer-from'\\n\\nimport React from 'react';\\nimport style from './PopupClose.icss'; export default function PopupClose(props) { const { color } = props; return ( <svg width=\\\"16px\\\" height=\\\"16px\\\" viewBox=\\\"0 0 16 16\\\" version=\\\"1.1\\\"> <g stroke=\\\"none\\\" strokeWidth=\\\"1\\\" fill=\\\"none\\\" fillRule=\\\"evenodd\\\"> <g transform=\\\"translate(-989.000000, -141.000000)\\\" fill={color}> <g> <g> <g transform=\\\"translate(409.000000, 117.000000)\\\"> <g> <path className={style.line} d=\\\"M594.769231,24 L596,25.2307692 L589.23,32 L596,38.7692308 L594.769231,40 L588,33.23 L581.230769,40 L580,38.7692308 L586.769,32 L580,25.2307692 L581.230769,24 L588,30.769 L594.769231,24 Z\\\"></path> </g> </g> </g> </g> </g> </g> </svg> );\\n} PopupClose.displayName = 'PopupClose';\\n\\n####"}
{"prompt":"define(['@babel/helper-module-transforms','wd','unicode-10.0.0','proxy','@jridgewell/trace-mapping','has','covert','escomplex-js','@types/yargs','debug','cheerio-soupselect','abort-controller','domutils'], function(babelHelperModuleTransforms,wd,unicode1000,proxy,jridgewellTraceMapping,has,covert,escomplexJs,typesYargs,debug,cheerioSoupselect,abortController,domutils){\\n'use strict'\\nconst _ = require('lodash')\\nconst {CompsMigrationHelper} = require('../helpers/CompsMigrationHelper') const INPUTS_WITH_PLACEHOLDERS = [ 'wysiwyg.viewer.components.inputs.TextInput', 'wixapps.integration.components.inputs.TextArea', 'wysiwyg.viewer.components.inputs.TextAreaInput', 'wysiwyg.viewer.components.inputs.ComboBoxInput', 'wysiwyg.viewer.components.inputs.DatePicker'\\n] const exec = (pageJson, pageIdsArray, magicObject) => { function fixInputPlaceholder(innerPageJson, cache, mobileView, comp) { const placeholder = _.get(this.getComponentProperties(innerPageJson, comp), 'placeholder') const compData = this.getComponentData(innerPageJson, comp) if (!compData) { return } const newCompData = _.merge({placeholder}, compData) this.setComponentData(innerPageJson, comp, newCompData, cache) } const migrationMap = _.mapValues(_.keyBy(INPUTS_WITH_PLACEHOLDERS), () => fixInputPlaceholder) const {uniqueIdGenerator} = magicObject.dataFixerUtils const migrationHelper = new CompsMigrationHelper(migrationMap, uniqueIdGenerator) migrationHelper.migratePage(pageJson)\\n} /** * @exports utils/dataFixer/plugins/inputsPlaceholderDataFixer * @type {{exec: function}} */\\nmodule.exports = { name: 'inputsPlaceholderDataFixer', version: 1, exec\\n}\\n\\n})\\n####","completion":" import babelHelperModuleTransforms from '@babel/helper-module-transforms'\\nimport wd from 'wd'\\nimport unicode1000 from 'unicode-10.0.0'\\nimport proxy from 'proxy'\\nimport jridgewellTraceMapping from '@jridgewell/trace-mapping'\\nimport has from 'has'\\nimport covert from 'covert'\\nimport escomplexJs from 'escomplex-js'\\nimport typesYargs from '@types/yargs'\\nimport debug from 'debug'\\nimport cheerioSoupselect from 'cheerio-soupselect'\\nimport abortController from 'abort-controller'\\nimport domutils from 'domutils'\\n\\n'use strict'\\nconst _ = require('lodash')\\nconst {CompsMigrationHelper} = require('../helpers/CompsMigrationHelper') const INPUTS_WITH_PLACEHOLDERS = [ 'wysiwyg.viewer.components.inputs.TextInput', 'wixapps.integration.components.inputs.TextArea', 'wysiwyg.viewer.components.inputs.TextAreaInput', 'wysiwyg.viewer.components.inputs.ComboBoxInput', 'wysiwyg.viewer.components.inputs.DatePicker'\\n] const exec = (pageJson, pageIdsArray, magicObject) => { function fixInputPlaceholder(innerPageJson, cache, mobileView, comp) { const placeholder = _.get(this.getComponentProperties(innerPageJson, comp), 'placeholder') const compData = this.getComponentData(innerPageJson, comp) if (!compData) { return } const newCompData = _.merge({placeholder}, compData) this.setComponentData(innerPageJson, comp, newCompData, cache) } const migrationMap = _.mapValues(_.keyBy(INPUTS_WITH_PLACEHOLDERS), () => fixInputPlaceholder) const {uniqueIdGenerator} = magicObject.dataFixerUtils const migrationHelper = new CompsMigrationHelper(migrationMap, uniqueIdGenerator) migrationHelper.migratePage(pageJson)\\n} /** * @exports utils/dataFixer/plugins/inputsPlaceholderDataFixer * @type {{exec: function}} */\\nmodule.exports = { name: 'inputsPlaceholderDataFixer', version: 1, exec\\n}\\n\\n####"}
{"prompt":"define(['make-generator-function','ua-parser-js','@jridgewell/trace-mapping','git-repo-version','@napi-rs/cli','@babel/helper-skip-transparent-expression-wrappers','https-browserify','react-dom','rimraf','@babel/plugin-transform-unicode-regex'], function(makeGeneratorFunction,uaParserJs,jridgewellTraceMapping,gitRepoVersion,napiRsCli,babelHelperSkipTransparentExpressionWrappers,httpsBrowserify,reactDom,rimraf,babelPluginTransformUnicodeRegex){\\ndefine(['lodash', 'documentServices/constants/constants', 'documentServices/actionsAndBehaviors/actionsAndBehaviors'], function ( _, constants, actionsAndBehaviors\\n) { 'use strict' function getViewMode(isMobile) { return isMobile ? constants.VIEW_MODES.MOBILE : constants.VIEW_MODES.DESKTOP } function handleHeaderLayoutChange(ps, compPointer, newLayout) { const headerStructure = ps.dal.get(compPointer) const oldLayout = headerStructure.layout const headerFixedPositionChanged = !_.isUndefined(newLayout.fixedPosition) && oldLayout.fixedPosition !== newLayout.fixedPosition if (headerFixedPositionChanged && newLayout.fixedPosition === false) { const isMobile = compPointer.type === constants.VIEW_MODES.MOBILE const filterScrubBehaviors = {type: 'scrub', viewMode: getViewMode(isMobile)} actionsAndBehaviors.removeComponentsBehaviorsWithFilter(ps, compPointer, filterScrubBehaviors) } } return { handleHeaderLayoutChange }\\n})\\n\\n})\\n####","completion":" import makeGeneratorFunction from 'make-generator-function'\\nimport uaParserJs from 'ua-parser-js'\\nimport jridgewellTraceMapping from '@jridgewell/trace-mapping'\\nimport gitRepoVersion from 'git-repo-version'\\nimport napiRsCli from '@napi-rs/cli'\\nimport babelHelperSkipTransparentExpressionWrappers from '@babel/helper-skip-transparent-expression-wrappers'\\nimport httpsBrowserify from 'https-browserify'\\nimport reactDom from 'react-dom'\\nimport rimraf from 'rimraf'\\nimport babelPluginTransformUnicodeRegex from '@babel/plugin-transform-unicode-regex'\\n\\ndefine(['lodash', 'documentServices/constants/constants', 'documentServices/actionsAndBehaviors/actionsAndBehaviors'], function ( _, constants, actionsAndBehaviors\\n) { 'use strict' function getViewMode(isMobile) { return isMobile ? constants.VIEW_MODES.MOBILE : constants.VIEW_MODES.DESKTOP } function handleHeaderLayoutChange(ps, compPointer, newLayout) { const headerStructure = ps.dal.get(compPointer) const oldLayout = headerStructure.layout const headerFixedPositionChanged = !_.isUndefined(newLayout.fixedPosition) && oldLayout.fixedPosition !== newLayout.fixedPosition if (headerFixedPositionChanged && newLayout.fixedPosition === false) { const isMobile = compPointer.type === constants.VIEW_MODES.MOBILE const filterScrubBehaviors = {type: 'scrub', viewMode: getViewMode(isMobile)} actionsAndBehaviors.removeComponentsBehaviorsWithFilter(ps, compPointer, filterScrubBehaviors) } } return { handleHeaderLayoutChange }\\n})\\n\\n####"}
{"prompt":"define(['@parcel/graph','del','nyc','rechoir','lodash.debounce','estraverse','brfs','grunt-contrib-connect','cogent','code-point-at','grunt-karma','iced-coffee-script','@mdx-js/react','@types/csso','detect-libc','postcss-normalize-string','@babel/plugin-transform-object-super','pinkie-promise','locate-path'], function(parcelGraph,del,nyc,rechoir,lodashDebounce,estraverse,brfs,gruntContribConnect,cogent,codePointAt,gruntKarma,icedCoffeeScript,mdxJsReact,typesCsso,detectLibc,postcssNormalizeString,babelPluginTransformObjectSuper,pinkiePromise,locatePath){\\nimport { create } from '../../utils/WixRestStyleSheet';\\nimport { colors } from '../resources/styles'; export default create({ container: { zIndex: 10 }, overlay: { position: 'absolute', zIndex: 11, backgroundColor: colors.D70 }, inventoryList: { }, sectionHeader: { backgroundColor: colors.D70, paddingHorizontal: 18, paddingVertical: 12 }, sectionHeaderText: { fontSize: 10, fontWeight: '500', textAlign: '@start' }, listItem: { padding: 18, borderBottomWidth: 1, borderBottomColor: colors.D60, flexDirection: 'row', alignItems: 'center', }, listItemWrapper: { backgroundColor: colors.D80, }, listItemTitle: { fontSize: 16, textAlign: '@start' }, listItemTextContainer: { flex: 1 }, listItemSubtitle: { fontSize: 14, color: colors.D30, textAlign: '@start' }\\n});\\n\\n})\\n####","completion":" import parcelGraph from '@parcel/graph'\\nimport del from 'del'\\nimport nyc from 'nyc'\\nimport rechoir from 'rechoir'\\nimport lodashDebounce from 'lodash.debounce'\\nimport estraverse from 'estraverse'\\nimport brfs from 'brfs'\\nimport gruntContribConnect from 'grunt-contrib-connect'\\nimport cogent from 'cogent'\\nimport codePointAt from 'code-point-at'\\nimport gruntKarma from 'grunt-karma'\\nimport icedCoffeeScript from 'iced-coffee-script'\\nimport mdxJsReact from '@mdx-js/react'\\nimport typesCsso from '@types/csso'\\nimport detectLibc from 'detect-libc'\\nimport postcssNormalizeString from 'postcss-normalize-string'\\nimport babelPluginTransformObjectSuper from '@babel/plugin-transform-object-super'\\nimport pinkiePromise from 'pinkie-promise'\\nimport locatePath from 'locate-path'\\n\\nimport { create } from '../../utils/WixRestStyleSheet';\\nimport { colors } from '../resources/styles'; export default create({ container: { zIndex: 10 }, overlay: { position: 'absolute', zIndex: 11, backgroundColor: colors.D70 }, inventoryList: { }, sectionHeader: { backgroundColor: colors.D70, paddingHorizontal: 18, paddingVertical: 12 }, sectionHeaderText: { fontSize: 10, fontWeight: '500', textAlign: '@start' }, listItem: { padding: 18, borderBottomWidth: 1, borderBottomColor: colors.D60, flexDirection: 'row', alignItems: 'center', }, listItemWrapper: { backgroundColor: colors.D80, }, listItemTitle: { fontSize: 16, textAlign: '@start' }, listItemTextContainer: { flex: 1 }, listItemSubtitle: { fontSize: 14, color: colors.D30, textAlign: '@start' }\\n});\\n\\n####"}
{"prompt":"define(['tsup','cogent','@parcel/runtime-service-worker','asap','https-browserify','requirejs'], function(tsup,cogent,parcelRuntimeServiceWorker,asap,httpsBrowserify,requirejs){\\n'use strict'; import express from 'express';\\nimport bodyParser from 'body-parser';\\nimport {WixInstance} from '@wix/wixrest-utils';\\nimport {expect} from 'chai'; const WIX_APP_ID = WixInstance.MENUS_APP_ID; export default class { constructor(port) { this.port = port; } start() { this.reset(); let app = express(); app.use(bodyParser.json()); app.get(/.*/, (req, res) => { // Currently only really does one thing... Maybe if needed in the future will be smarter if (!this._simulateError && req.url.indexOf(`/v1/sites/site/contributors`) > -1) { expect(req.headers['x-wix-application-id']).to.equal(WIX_APP_ID); expect(req.headers['x-wix-instance-id']).to.equal('instanceid'); res.status(200); res.send({contributors:[{roles:['gardner'], id:'moshe'}, {roles:['Owner'], id:'chilli'}]}); } else { res.status(500); res.send({}); } }); this.server = app.listen(this.port); } stop() { this.server.close(); } reset() { this._simulateError = false; } simulateError() { this._simulateError = true; }\\n} \\n})\\n####","completion":" import tsup from 'tsup'\\nimport cogent from 'cogent'\\nimport parcelRuntimeServiceWorker from '@parcel/runtime-service-worker'\\nimport asap from 'asap'\\nimport httpsBrowserify from 'https-browserify'\\nimport requirejs from 'requirejs'\\n\\n'use strict'; import express from 'express';\\nimport bodyParser from 'body-parser';\\nimport {WixInstance} from '@wix/wixrest-utils';\\nimport {expect} from 'chai'; const WIX_APP_ID = WixInstance.MENUS_APP_ID; export default class { constructor(port) { this.port = port; } start() { this.reset(); let app = express(); app.use(bodyParser.json()); app.get(/.*/, (req, res) => { // Currently only really does one thing... Maybe if needed in the future will be smarter if (!this._simulateError && req.url.indexOf(`/v1/sites/site/contributors`) > -1) { expect(req.headers['x-wix-application-id']).to.equal(WIX_APP_ID); expect(req.headers['x-wix-instance-id']).to.equal('instanceid'); res.status(200); res.send({contributors:[{roles:['gardner'], id:'moshe'}, {roles:['Owner'], id:'chilli'}]}); } else { res.status(500); res.send({}); } }); this.server = app.listen(this.port); } stop() { this.server.close(); } reset() { this._simulateError = false; } simulateError() { this._simulateError = true; }\\n} \\n####"}
{"prompt":"define(['jscodeshift','p-limit','array.prototype.reduce','cross-spawn','del','debug','cssesc'], function(jscodeshift,pLimit,arrayPrototypeReduce,crossSpawn,del,debug,cssesc){\\nexport class CommonProtocolClient { constructor({XMLHttpRequest, endpointUrl, timeout}) { this.XMLHttpRequest = XMLHttpRequest; this.endpointUrl = endpointUrl; this.timeout = timeout || 0 } doRequest(resource, request) { return new Promise((resolve, reject) => { let xhr = new this.XMLHttpRequest(); xhr.ontimeout = () => reject({ code: 'timeout', description: 'request timed out' }); xhr.onerror = () => reject({ code: 'network_down', description: 'network is down' }); xhr.onload = () => { try { const response = JSON.parse(xhr.responseText); if (response.error) { reject(response.error) } else { resolve(response.value) } } catch (e) { reject({ code: 'protocol', description: 'unexpected response format' }) } }; xhr.open('POST', this.endpointUrl + resource, true); xhr.timeout = this.timeout; xhr.setRequestHeader('Content-Type', 'application/json'); xhr.send(JSON.stringify(request)) }) } }\\n})\\n####","completion":" import jscodeshift from 'jscodeshift'\\nimport pLimit from 'p-limit'\\nimport arrayPrototypeReduce from 'array.prototype.reduce'\\nimport crossSpawn from 'cross-spawn'\\nimport del from 'del'\\nimport debug from 'debug'\\nimport cssesc from 'cssesc'\\n\\nexport class CommonProtocolClient { constructor({XMLHttpRequest, endpointUrl, timeout}) { this.XMLHttpRequest = XMLHttpRequest; this.endpointUrl = endpointUrl; this.timeout = timeout || 0 } doRequest(resource, request) { return new Promise((resolve, reject) => { let xhr = new this.XMLHttpRequest(); xhr.ontimeout = () => reject({ code: 'timeout', description: 'request timed out' }); xhr.onerror = () => reject({ code: 'network_down', description: 'network is down' }); xhr.onload = () => { try { const response = JSON.parse(xhr.responseText); if (response.error) { reject(response.error) } else { resolve(response.value) } } catch (e) { reject({ code: 'protocol', description: 'unexpected response format' }) } }; xhr.open('POST', this.endpointUrl + resource, true); xhr.timeout = this.timeout; xhr.setRequestHeader('Content-Type', 'application/json'); xhr.send(JSON.stringify(request)) }) } }\\n####"}
{"prompt":"define(['source-map','jsonfile','@babel/plugin-transform-sticky-regex','unbox-primitive','babel-jest','postcss','@npmcli/eslint-config','connect','utility-types'], function(sourceMap,jsonfile,babelPluginTransformStickyRegex,unboxPrimitive,babelJest,postcss,npmcliEslintConfig,connect,utilityTypes){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.shaiyallin.com/music (56)', withViewer({ tpaInterceptor, baseUrl: 'https://www.shaiyallin.com/music', emulateMobileDevice: true, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/56-shai-yalin-music/mesh/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import sourceMap from 'source-map'\\nimport jsonfile from 'jsonfile'\\nimport babelPluginTransformStickyRegex from '@babel/plugin-transform-sticky-regex'\\nimport unboxPrimitive from 'unbox-primitive'\\nimport babelJest from 'babel-jest'\\nimport postcss from 'postcss'\\nimport npmcliEslintConfig from '@npmcli/eslint-config'\\nimport connect from 'connect'\\nimport utilityTypes from 'utility-types'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.shaiyallin.com/music (56)', withViewer({ tpaInterceptor, baseUrl: 'https://www.shaiyallin.com/music', emulateMobileDevice: true, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/56-shai-yalin-music/mesh/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['@parcel/optimizer-cssnano','clang-format','wrappy','eslint-config-semistandard','stream-http','uvu','node-tick-processor','@babel/plugin-transform-function-name','dtslint','stylelint-config-standard','react-test-renderer'], function(parcelOptimizerCssnano,clangFormat,wrappy,eslintConfigSemistandard,streamHttp,uvu,nodeTickProcessor,babelPluginTransformFunctionName,dtslint,stylelintConfigStandard,reactTestRenderer){\\ndefine(['test/mockJasmine/testUtils', 'test/mockJasmine/privateServicesHelper', 'documentServices/siteMetadata/siteDisplayName'], function ( testUtils, privateServicesHelper, siteDisplayName\\n) { describe('siteDisplayName', () => { function mockPrivateServices(rendererModel) { const siteModel = testUtils.mockFactory.mockSiteModel({ documentServicesModel: { usedMetaSiteNames: [] }, rendererModel: rendererModel || {} }) const siteData = testUtils.mockFactory.mockSiteData(siteModel) return privateServicesHelper.mockPrivateServicesWithRealDAL(siteData) } let ps beforeEach(async () => { ps = await mockPrivateServices({sitePropertiesInfo: {siteDisplayName: 'My awesome site'}}) }) it('should get siteDisplayName', () => { expect(siteDisplayName.get(ps)).toEqual('My awesome site') }) })\\n})\\n\\n})\\n####","completion":" import parcelOptimizerCssnano from '@parcel/optimizer-cssnano'\\nimport clangFormat from 'clang-format'\\nimport wrappy from 'wrappy'\\nimport eslintConfigSemistandard from 'eslint-config-semistandard'\\nimport streamHttp from 'stream-http'\\nimport uvu from 'uvu'\\nimport nodeTickProcessor from 'node-tick-processor'\\nimport babelPluginTransformFunctionName from '@babel/plugin-transform-function-name'\\nimport dtslint from 'dtslint'\\nimport stylelintConfigStandard from 'stylelint-config-standard'\\nimport reactTestRenderer from 'react-test-renderer'\\n\\ndefine(['test/mockJasmine/testUtils', 'test/mockJasmine/privateServicesHelper', 'documentServices/siteMetadata/siteDisplayName'], function ( testUtils, privateServicesHelper, siteDisplayName\\n) { describe('siteDisplayName', () => { function mockPrivateServices(rendererModel) { const siteModel = testUtils.mockFactory.mockSiteModel({ documentServicesModel: { usedMetaSiteNames: [] }, rendererModel: rendererModel || {} }) const siteData = testUtils.mockFactory.mockSiteData(siteModel) return privateServicesHelper.mockPrivateServicesWithRealDAL(siteData) } let ps beforeEach(async () => { ps = await mockPrivateServices({sitePropertiesInfo: {siteDisplayName: 'My awesome site'}}) }) it('should get siteDisplayName', () => { expect(siteDisplayName.get(ps)).toEqual('My awesome site') }) })\\n})\\n\\n####"}
{"prompt":"define(['babel6-plugin-strip-class-callcheck','string-to-arraybuffer','term-size','@babel/plugin-proposal-unicode-property-regex'], function(babel6PluginStripClassCallcheck,stringToArraybuffer,termSize,babelPluginProposalUnicodePropertyRegex){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.wix.com/demone2/marketing-launch-pag (17)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/marketing-launch-pag', emulateMobileDevice: true, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/17-marketing-launch-page/anchors/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import babel6PluginStripClassCallcheck from 'babel6-plugin-strip-class-callcheck'\\nimport stringToArraybuffer from 'string-to-arraybuffer'\\nimport termSize from 'term-size'\\nimport babelPluginProposalUnicodePropertyRegex from '@babel/plugin-proposal-unicode-property-regex'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.wix.com/demone2/marketing-launch-pag (17)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/marketing-launch-pag', emulateMobileDevice: true, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/17-marketing-launch-page/anchors/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['css-declaration-sorter','ts-jest','@parcel/watcher','grunt-mocha-test','base-x','grunt-mocha-istanbul','is-buffer','url','@babel/helper-create-class-features-plugin','get-own-property-symbols','p-locate','better-assert','@babel/helper-plugin-test-runner','@bazel/bazelisk','babel-preset-airbnb','pre-suf','cpy-cli','grunt','promises-aplus-tests-phantom'], function(cssDeclarationSorter,tsJest,parcelWatcher,gruntMochaTest,baseX,gruntMochaIstanbul,isBuffer,url,babelHelperCreateClassFeaturesPlugin,getOwnPropertySymbols,pLocate,betterAssert,babelHelperPluginTestRunner,bazelBazelisk,babelPresetAirbnb,preSuf,cpyCli,grunt,promisesAplusTestsPhantom){\\nimport http from 'http';\\nimport _ from 'lodash'; export class CommonProtocolDriver { constructor({port}) { this.server = http.createServer(this._handler.bind(this)); this.port = port; this.reset(); } start() { this.server.listen(this.port, '127.0.0.1'); } stop() { this.server.close(); } reset() { this.rules = {}; } addRule({resource, request, response, delay, useRawResponse}) { delay = delay || 0; let resourceRules = this.rules[resource]; if (!resourceRules) { resourceRules = []; this.rules[resource] = resourceRules; } resourceRules.push({request, response, delay, useRawResponse}); } _handler(req, res) { let body = ''; req.on('data', (data) => { body += data }); req.on('end', () => { const request = JSON.parse(body); const rule = _.find(this.rules[req.url], (rule) => { return _.isEqual(rule.request, request); }); if (rule) { _.delay(() => { res.writeHead(200, {'Content-Type': rule.useRawResponse ? 'text/html' : 'application/json'}); res.end(rule.useRawResponse ? rule.response : JSON.stringify(rule.response)); }, rule.delay); } else { res.writeHead(404); res.end(); } }); }\\n}\\n\\n})\\n####","completion":" import cssDeclarationSorter from 'css-declaration-sorter'\\nimport tsJest from 'ts-jest'\\nimport parcelWatcher from '@parcel/watcher'\\nimport gruntMochaTest from 'grunt-mocha-test'\\nimport baseX from 'base-x'\\nimport gruntMochaIstanbul from 'grunt-mocha-istanbul'\\nimport isBuffer from 'is-buffer'\\nimport url from 'url'\\nimport babelHelperCreateClassFeaturesPlugin from '@babel/helper-create-class-features-plugin'\\nimport getOwnPropertySymbols from 'get-own-property-symbols'\\nimport pLocate from 'p-locate'\\nimport betterAssert from 'better-assert'\\nimport babelHelperPluginTestRunner from '@babel/helper-plugin-test-runner'\\nimport bazelBazelisk from '@bazel/bazelisk'\\nimport babelPresetAirbnb from 'babel-preset-airbnb'\\nimport preSuf from 'pre-suf'\\nimport cpyCli from 'cpy-cli'\\nimport grunt from 'grunt'\\nimport promisesAplusTestsPhantom from 'promises-aplus-tests-phantom'\\n\\nimport http from 'http';\\nimport _ from 'lodash'; export class CommonProtocolDriver { constructor({port}) { this.server = http.createServer(this._handler.bind(this)); this.port = port; this.reset(); } start() { this.server.listen(this.port, '127.0.0.1'); } stop() { this.server.close(); } reset() { this.rules = {}; } addRule({resource, request, response, delay, useRawResponse}) { delay = delay || 0; let resourceRules = this.rules[resource]; if (!resourceRules) { resourceRules = []; this.rules[resource] = resourceRules; } resourceRules.push({request, response, delay, useRawResponse}); } _handler(req, res) { let body = ''; req.on('data', (data) => { body += data }); req.on('end', () => { const request = JSON.parse(body); const rule = _.find(this.rules[req.url], (rule) => { return _.isEqual(rule.request, request); }); if (rule) { _.delay(() => { res.writeHead(200, {'Content-Type': rule.useRawResponse ? 'text/html' : 'application/json'}); res.end(rule.useRawResponse ? rule.response : JSON.stringify(rule.response)); }, rule.delay); } else { res.writeHead(404); res.end(); } }); }\\n}\\n\\n####"}
{"prompt":"define(['@antfu/eslint-config-ts','@mdx-js/react'], function(antfuEslintConfigTs,mdxJsReact){\\nimport PropTypes from 'prop-types';\\nimport React from 'react'; export default class extends React.Component { static propTypes = { width: PropTypes.number, height: PropTypes.number, color: PropTypes.string, }; static defaultProps = { width: 25, height: 25, color: 'rgb(255,255,255)' }; // # IMPORTANT // When pasting the svg, don't forget to set the viewBox. // render() { return ( <svg width={this.props.width + 'px'} height={this.props.height + 'px'} fill={this.props.color} viewBox='0 0 51 51'> <g id=\\\"Page-1\\\" stroke=\\\"none\\\" strokeWidth=\\\"1\\\" fill=\\\"none\\\" fillRule=\\\"evenodd\\\"> <g id=\\\"Add\\\" fill={this.props.color}> <g id=\\\"Group\\\"> <path d=\\\"M25.2,0.1 C11.4,0.1 0.2,11.3 0.2,25.1 C0.2,38.9 11.4,50.1 25.2,50.1 C39,50.1 50.2,38.9 50.2,25.1 C50.2,11.3 39,0.1 25.2,0.1 L25.2,0.1 Z M25.2,47.1 C13.1,47.1 3.2,37.2 3.2,25.1 C3.2,13 13.1,3.1 25.2,3.1 C37.3,3.1 47.2,13 47.2,25.1 C47.2,37.2 37.3,47.1 25.2,47.1 L25.2,47.1 Z\\\" id=\\\"Shape\\\"></path> <path d=\\\"M37,24 L12,24 L12,27 L37,27 Z\\\" id=\\\"Shape\\\"></path> </g> </g> </g> </svg> ); }\\n}\\n\\n})\\n####","completion":" import antfuEslintConfigTs from '@antfu/eslint-config-ts'\\nimport mdxJsReact from '@mdx-js/react'\\n\\nimport PropTypes from 'prop-types';\\nimport React from 'react'; export default class extends React.Component { static propTypes = { width: PropTypes.number, height: PropTypes.number, color: PropTypes.string, }; static defaultProps = { width: 25, height: 25, color: 'rgb(255,255,255)' }; // # IMPORTANT // When pasting the svg, don't forget to set the viewBox. // render() { return ( <svg width={this.props.width + 'px'} height={this.props.height + 'px'} fill={this.props.color} viewBox='0 0 51 51'> <g id=\\\"Page-1\\\" stroke=\\\"none\\\" strokeWidth=\\\"1\\\" fill=\\\"none\\\" fillRule=\\\"evenodd\\\"> <g id=\\\"Add\\\" fill={this.props.color}> <g id=\\\"Group\\\"> <path d=\\\"M25.2,0.1 C11.4,0.1 0.2,11.3 0.2,25.1 C0.2,38.9 11.4,50.1 25.2,50.1 C39,50.1 50.2,38.9 50.2,25.1 C50.2,11.3 39,0.1 25.2,0.1 L25.2,0.1 Z M25.2,47.1 C13.1,47.1 3.2,37.2 3.2,25.1 C3.2,13 13.1,3.1 25.2,3.1 C37.3,3.1 47.2,13 47.2,25.1 C47.2,37.2 37.3,47.1 25.2,47.1 L25.2,47.1 Z\\\" id=\\\"Shape\\\"></path> <path d=\\\"M37,24 L12,24 L12,27 L37,27 Z\\\" id=\\\"Shape\\\"></path> </g> </g> </g> </svg> ); }\\n}\\n\\n####"}
{"prompt":"define(['inflight','execa','obake','requirejs'], function(inflight,execa,obake,requirejs){\\nimport Consts from './Consts.js'; // Taken from https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/padStart\\n//\\nfunction padStart(string, targetLength, padString) { targetLength = targetLength >> 0; //floor if number or convert non-number to 0; padString = String(padString || ' '); if (string.length > targetLength) { return String(string); } else { targetLength = targetLength-string.length; if (targetLength > padString.length) { padString += padString.repeat(targetLength/padString.length); //append to original to ensure we are longer than needed } return padString.slice(0,targetLength) + String(string); }\\n} function Colors() { let colors = { 1: Consts.COLOR_1, 5: Consts.COLOR_5, 8: Consts.COLOR_8, } return { get(index) { return colors[index]; }, opacity(index, opacity) { return colors[index] + padStart(Math.round(opacity * 255).toString(16), 2, '0'); // let color = colors[index]; // return `rgba(${color[0]}, ${color[1]}, ${color[2]}, ${opacity})`; } }\\n} export default new Colors();\\n})\\n####","completion":" import inflight from 'inflight'\\nimport execa from 'execa'\\nimport obake from 'obake'\\nimport requirejs from 'requirejs'\\n\\nimport Consts from './Consts.js'; // Taken from https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/padStart\\n//\\nfunction padStart(string, targetLength, padString) { targetLength = targetLength >> 0; //floor if number or convert non-number to 0; padString = String(padString || ' '); if (string.length > targetLength) { return String(string); } else { targetLength = targetLength-string.length; if (targetLength > padString.length) { padString += padString.repeat(targetLength/padString.length); //append to original to ensure we are longer than needed } return padString.slice(0,targetLength) + String(string); }\\n} function Colors() { let colors = { 1: Consts.COLOR_1, 5: Consts.COLOR_5, 8: Consts.COLOR_8, } return { get(index) { return colors[index]; }, opacity(index, opacity) { return colors[index] + padStart(Math.round(opacity * 255).toString(16), 2, '0'); // let color = colors[index]; // return `rgba(${color[0]}, ${color[1]}, ${color[2]}, ${opacity})`; } }\\n} export default new Colors();\\n####"}
{"prompt":"define(['@babel/helper-plugin-test-runner','bluebird-retry','promises-aplus-tests-phantom','promises-aplus-tests','lodash.debounce','is-core-module','console-control-strings','url'], function(babelHelperPluginTestRunner,bluebirdRetry,promisesAplusTestsPhantom,promisesAplusTests,lodashDebounce,isCoreModule,consoleControlStrings,url){\\nimport _ from 'lodash';\\nimport LinkedStateMixin from 'react-addons-linked-state-mixin';\\nimport polyfillProperty from '../dashboard/logic/polyfillProperty'; const moduleRegistryInvoke = window.ModuleRegistry.invoke.bind( window.ModuleRegistry,\\n); export default function polyfill(metasiteId) { // Needed by WixStyleSaga polyfillProperty(window, 'Wix.Utils.getCompId', () => 1); polyfillProperty(window, 'Wix.Utils.getOrigCompId', () => 1); // Needed by restaurants-redux/WixInstalledAppsSaga polyfillProperty( window, 'Wix.SuperApps.getInstalledInstance', getInstalledInstancePolyfill(metasiteId), ); // Needed by the BackOfficeApp polyfillProperty(window, 'Wix.Dashboard.setHelpArticle', () => {});\\n} function getInstalledInstancePolyfill(metasiteId) { return (appId, cb) => { const isAppInstalled = moduleRegistryInvoke( 'businessManager.isAppInstalled', appId, ); cb({ instanceId: isAppInstalled ? 'instanceId' : null }); };\\n}\\n\\n})\\n####","completion":" import babelHelperPluginTestRunner from '@babel/helper-plugin-test-runner'\\nimport bluebirdRetry from 'bluebird-retry'\\nimport promisesAplusTestsPhantom from 'promises-aplus-tests-phantom'\\nimport promisesAplusTests from 'promises-aplus-tests'\\nimport lodashDebounce from 'lodash.debounce'\\nimport isCoreModule from 'is-core-module'\\nimport consoleControlStrings from 'console-control-strings'\\nimport url from 'url'\\n\\nimport _ from 'lodash';\\nimport LinkedStateMixin from 'react-addons-linked-state-mixin';\\nimport polyfillProperty from '../dashboard/logic/polyfillProperty'; const moduleRegistryInvoke = window.ModuleRegistry.invoke.bind( window.ModuleRegistry,\\n); export default function polyfill(metasiteId) { // Needed by WixStyleSaga polyfillProperty(window, 'Wix.Utils.getCompId', () => 1); polyfillProperty(window, 'Wix.Utils.getOrigCompId', () => 1); // Needed by restaurants-redux/WixInstalledAppsSaga polyfillProperty( window, 'Wix.SuperApps.getInstalledInstance', getInstalledInstancePolyfill(metasiteId), ); // Needed by the BackOfficeApp polyfillProperty(window, 'Wix.Dashboard.setHelpArticle', () => {});\\n} function getInstalledInstancePolyfill(metasiteId) { return (appId, cb) => { const isAppInstalled = moduleRegistryInvoke( 'businessManager.isAppInstalled', appId, ); cb({ instanceId: isAppInstalled ? 'instanceId' : null }); };\\n}\\n\\n####"}
{"prompt":"define(['grunt-contrib-connect','buffer-from','@babel/plugin-syntax-logical-assignment-operators','gh-pages'], function(gruntContribConnect,bufferFrom,babelPluginSyntaxLogicalAssignmentOperators,ghPages){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.wix.com/demone2/family-photographer (2)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/family-photographer', emulateMobileDevice: true, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/2-family-photographer/mesh/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import gruntContribConnect from 'grunt-contrib-connect'\\nimport bufferFrom from 'buffer-from'\\nimport babelPluginSyntaxLogicalAssignmentOperators from '@babel/plugin-syntax-logical-assignment-operators'\\nimport ghPages from 'gh-pages'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.wix.com/demone2/family-photographer (2)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/family-photographer', emulateMobileDevice: true, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/2-family-photographer/mesh/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['core-util-is','lines-and-columns','v8-compile-cache','git-repo-version','array.prototype.filter','fastest-levenshtein','resolve','is-regex','tty-browserify','eslint-config-ostai'], function(coreUtilIs,linesAndColumns,v8CompileCache,gitRepoVersion,arrayPrototypeFilter,fastestLevenshtein,resolve,isRegex,ttyBrowserify,eslintConfigOstai){\\n'use strict' const boundingUtils = require('../../src/utils/boundingUtils') describe('boundingUtils spec', () => { describe('isInBounds', () => { it('should return true if x,y in bounds', () => { const bounds = {x: 0, y: 0, width: 100, height: 100} const isInBounds = boundingUtils.isInBounds(bounds, 50, 50) expect(isInBounds).toBe(true) }) it('should return false if x,y are out of bounds top', () => { const bounds = {x: 0, y: 0, width: 100, height: 100} const isInBounds = boundingUtils.isInBounds(bounds, 50, -10) expect(isInBounds).toBe(false) }) it('should return false if x,y are out of bounds bottom', () => { const bounds = {x: 0, y: 0, width: 100, height: 100} const isInBounds = boundingUtils.isInBounds(bounds, 50, 110) expect(isInBounds).toBe(false) }) it('should return false if x,y are out of bounds left', () => { const bounds = {x: 0, y: 0, width: 100, height: 100} const isInBounds = boundingUtils.isInBounds(bounds, -10, 50) expect(isInBounds).toBe(false) }) it('should return false if x,y are out of bounds right', () => { const bounds = {x: 0, y: 0, width: 100, height: 100} const isInBounds = boundingUtils.isInBounds(bounds, 110, 50) expect(isInBounds).toBe(false) }) })\\n})\\n})\\n####","completion":" import coreUtilIs from 'core-util-is'\\nimport linesAndColumns from 'lines-and-columns'\\nimport v8CompileCache from 'v8-compile-cache'\\nimport gitRepoVersion from 'git-repo-version'\\nimport arrayPrototypeFilter from 'array.prototype.filter'\\nimport fastestLevenshtein from 'fastest-levenshtein'\\nimport resolve from 'resolve'\\nimport isRegex from 'is-regex'\\nimport ttyBrowserify from 'tty-browserify'\\nimport eslintConfigOstai from 'eslint-config-ostai'\\n\\n'use strict' const boundingUtils = require('../../src/utils/boundingUtils') describe('boundingUtils spec', () => { describe('isInBounds', () => { it('should return true if x,y in bounds', () => { const bounds = {x: 0, y: 0, width: 100, height: 100} const isInBounds = boundingUtils.isInBounds(bounds, 50, 50) expect(isInBounds).toBe(true) }) it('should return false if x,y are out of bounds top', () => { const bounds = {x: 0, y: 0, width: 100, height: 100} const isInBounds = boundingUtils.isInBounds(bounds, 50, -10) expect(isInBounds).toBe(false) }) it('should return false if x,y are out of bounds bottom', () => { const bounds = {x: 0, y: 0, width: 100, height: 100} const isInBounds = boundingUtils.isInBounds(bounds, 50, 110) expect(isInBounds).toBe(false) }) it('should return false if x,y are out of bounds left', () => { const bounds = {x: 0, y: 0, width: 100, height: 100} const isInBounds = boundingUtils.isInBounds(bounds, -10, 50) expect(isInBounds).toBe(false) }) it('should return false if x,y are out of bounds right', () => { const bounds = {x: 0, y: 0, width: 100, height: 100} const isInBounds = boundingUtils.isInBounds(bounds, 110, 50) expect(isInBounds).toBe(false) }) })\\n})\\n####"}
{"prompt":"define(['filesize','@parcel/transformer-json','pkg-dir','parse-json','delaunator','rollup-plugin-buble','immutable','@babel/plugin-transform-spread','@babel/plugin-transform-runtime','@parcel/packager-svg','utility-types','mock-require'], function(filesize,parcelTransformerJson,pkgDir,parseJson,delaunator,rollupPluginBuble,immutable,babelPluginTransformSpread,babelPluginTransformRuntime,parcelPackagerSvg,utilityTypes,mockRequire){\\nimport './InputError.css';\\nimport React from 'react'; export default class CheckoutInputError extends React.Component { static displayName = 'CheckoutInputError'; constructor(params) { super(params); this.$onErrorMessageRendered = this.$onErrorMessageRendered.bind(this); } render() { const { position, message, id } = this.props; return ( <div key={`inner-error-${message}`} className={'inputerror_wrapper ' + (position || 'end') + ' ' + (message ? '' : 'hidden') }> <div className='inner' ref='inner'> <label id={`errormsg${id}`} role='alert' aria-live='assertive' tabIndex={-1} ref={this.$onErrorMessageRendered}> {message} </label> </div> <svg width={10} height={6}> <path d='M5 6 L0 0 L10 0 Z' /> </svg> </div> ); } $onErrorMessageRendered(e) { if (!e) return; const width = e.offsetWidth; e.style.width = (width/2 + 35) + 'px'; e.style.whiteSpace = 'normal'; }\\n}\\n\\n})\\n####","completion":" import filesize from 'filesize'\\nimport parcelTransformerJson from '@parcel/transformer-json'\\nimport pkgDir from 'pkg-dir'\\nimport parseJson from 'parse-json'\\nimport delaunator from 'delaunator'\\nimport rollupPluginBuble from 'rollup-plugin-buble'\\nimport immutable from 'immutable'\\nimport babelPluginTransformSpread from '@babel/plugin-transform-spread'\\nimport babelPluginTransformRuntime from '@babel/plugin-transform-runtime'\\nimport parcelPackagerSvg from '@parcel/packager-svg'\\nimport utilityTypes from 'utility-types'\\nimport mockRequire from 'mock-require'\\n\\nimport './InputError.css';\\nimport React from 'react'; export default class CheckoutInputError extends React.Component { static displayName = 'CheckoutInputError'; constructor(params) { super(params); this.$onErrorMessageRendered = this.$onErrorMessageRendered.bind(this); } render() { const { position, message, id } = this.props; return ( <div key={`inner-error-${message}`} className={'inputerror_wrapper ' + (position || 'end') + ' ' + (message ? '' : 'hidden') }> <div className='inner' ref='inner'> <label id={`errormsg${id}`} role='alert' aria-live='assertive' tabIndex={-1} ref={this.$onErrorMessageRendered}> {message} </label> </div> <svg width={10} height={6}> <path d='M5 6 L0 0 L10 0 Z' /> </svg> </div> ); } $onErrorMessageRendered(e) { if (!e) return; const width = e.offsetWidth; e.style.width = (width/2 + 35) + 'px'; e.style.whiteSpace = 'normal'; }\\n}\\n\\n####"}
{"prompt":"define(['shallow-clone','timsort','@mdx-js/react'], function(shallowClone,timsort,mdxJsReact){\\nimport React from 'react';\\nimport Labels from '../src/components/Labels'; const COLOR_TYPE = 'storybook.colortype';\\nconst ICON_TYPE = 'storybook.icontype'; class StatefulLabels extends React.Component { constructor(props) { super(props); this.state = { [COLOR_TYPE]: 0, [ICON_TYPE]: 0 }; } setStyleNumber(e) { console.log('{ [e.name]: e.value }', { [e.name]: e.value }); this.setState({ [e.name]: e.value }); } render() { console.log('this.state', this.state); return <Labels i18n={{ get: (str, def) => def || str }} compId=\\\"1\\\" setStyleNumber={e => this.setStyleNumber(e)} system=\\\"storybook\\\" displayCustomPreview={false} onBackClick={() => {}} onCustomDesignClick={() => {}} setStyleBoolean={() => {}} selectedIconType={this.state[ICON_TYPE]} selectedColorType={this.state[COLOR_TYPE]} /> }\\n} StatefulLabels.displayName = 'StatefulLabels'; export default StatefulLabels;\\n})\\n####","completion":" import shallowClone from 'shallow-clone'\\nimport timsort from 'timsort'\\nimport mdxJsReact from '@mdx-js/react'\\n\\nimport React from 'react';\\nimport Labels from '../src/components/Labels'; const COLOR_TYPE = 'storybook.colortype';\\nconst ICON_TYPE = 'storybook.icontype'; class StatefulLabels extends React.Component { constructor(props) { super(props); this.state = { [COLOR_TYPE]: 0, [ICON_TYPE]: 0 }; } setStyleNumber(e) { console.log('{ [e.name]: e.value }', { [e.name]: e.value }); this.setState({ [e.name]: e.value }); } render() { console.log('this.state', this.state); return <Labels i18n={{ get: (str, def) => def || str }} compId=\\\"1\\\" setStyleNumber={e => this.setStyleNumber(e)} system=\\\"storybook\\\" displayCustomPreview={false} onBackClick={() => {}} onCustomDesignClick={() => {}} setStyleBoolean={() => {}} selectedIconType={this.state[ICON_TYPE]} selectedColorType={this.state[COLOR_TYPE]} /> }\\n} StatefulLabels.displayName = 'StatefulLabels'; export default StatefulLabels;\\n####"}
{"prompt":"define(['babel-plugin-polyfill-regenerator','npmlog','@parcel/utils','make-generator-function','react-refresh','eslint-plugin-markdown','balanced-match','autoprefixer','nodeunit'], function(babelPluginPolyfillRegenerator,npmlog,parcelUtils,makeGeneratorFunction,reactRefresh,eslintPluginMarkdown,balancedMatch,autoprefixer,nodeunit){\\nimport PropTypes from 'prop-types';\\nimport React from 'react'; export default class extends React.Component { static propTypes = { width: PropTypes.number, height: PropTypes.number, color: PropTypes.string, }; static defaultProps = { width: 25, height: 25, color: 'rgb(255,255,255)' }; // # IMPORTANT // When pasting the svg, don't forget to set the viewBox. // render() { return ( <svg width={this.props.width + 'px'} height={this.props.height + 'px'} fill={this.props.color} viewBox='0 0 51 51'> <g id=\\\"Page-1\\\" stroke=\\\"none\\\" strokeWidth=\\\"1\\\" fill=\\\"none\\\" fillRule=\\\"evenodd\\\"> <g id=\\\"Add\\\" fill={this.props.color}> <g id=\\\"Group\\\"> <path d=\\\"M25.2,0.1 C11.4,0.1 0.2,11.3 0.2,25.1 C0.2,38.9 11.4,50.1 25.2,50.1 C39,50.1 50.2,38.9 50.2,25.1 C50.2,11.3 39,0.1 25.2,0.1 L25.2,0.1 Z M25.2,47.1 C13.1,47.1 3.2,37.2 3.2,25.1 C3.2,13 13.1,3.1 25.2,3.1 C37.3,3.1 47.2,13 47.2,25.1 C47.2,37.2 37.3,47.1 25.2,47.1 L25.2,47.1 Z\\\" id=\\\"Shape\\\"></path> <path d=\\\"M26,13 L23,13 L23,24 L12,24 L12,27 L23,27 L23,38 L26,38 L26,27 L37,27 L37,24 L26,24 L26,13 Z\\\" id=\\\"Shape\\\"></path> </g> </g> </g> </svg> ); }\\n}\\n\\n})\\n####","completion":" import babelPluginPolyfillRegenerator from 'babel-plugin-polyfill-regenerator'\\nimport npmlog from 'npmlog'\\nimport parcelUtils from '@parcel/utils'\\nimport makeGeneratorFunction from 'make-generator-function'\\nimport reactRefresh from 'react-refresh'\\nimport eslintPluginMarkdown from 'eslint-plugin-markdown'\\nimport balancedMatch from 'balanced-match'\\nimport autoprefixer from 'autoprefixer'\\nimport nodeunit from 'nodeunit'\\n\\nimport PropTypes from 'prop-types';\\nimport React from 'react'; export default class extends React.Component { static propTypes = { width: PropTypes.number, height: PropTypes.number, color: PropTypes.string, }; static defaultProps = { width: 25, height: 25, color: 'rgb(255,255,255)' }; // # IMPORTANT // When pasting the svg, don't forget to set the viewBox. // render() { return ( <svg width={this.props.width + 'px'} height={this.props.height + 'px'} fill={this.props.color} viewBox='0 0 51 51'> <g id=\\\"Page-1\\\" stroke=\\\"none\\\" strokeWidth=\\\"1\\\" fill=\\\"none\\\" fillRule=\\\"evenodd\\\"> <g id=\\\"Add\\\" fill={this.props.color}> <g id=\\\"Group\\\"> <path d=\\\"M25.2,0.1 C11.4,0.1 0.2,11.3 0.2,25.1 C0.2,38.9 11.4,50.1 25.2,50.1 C39,50.1 50.2,38.9 50.2,25.1 C50.2,11.3 39,0.1 25.2,0.1 L25.2,0.1 Z M25.2,47.1 C13.1,47.1 3.2,37.2 3.2,25.1 C3.2,13 13.1,3.1 25.2,3.1 C37.3,3.1 47.2,13 47.2,25.1 C47.2,37.2 37.3,47.1 25.2,47.1 L25.2,47.1 Z\\\" id=\\\"Shape\\\"></path> <path d=\\\"M26,13 L23,13 L23,24 L12,24 L12,27 L23,27 L23,38 L26,38 L26,27 L37,27 L37,24 L26,24 L26,13 Z\\\" id=\\\"Shape\\\"></path> </g> </g> </g> </svg> ); }\\n}\\n\\n####"}
{"prompt":"define(['@ljharb/eslint-config','@babel/plugin-transform-typeof-symbol','@babel/plugin-transform-named-capturing-groups-regex','is-path-inside','execa','@trysound/sax','@babel/plugin-transform-unicode-escapes'], function(ljharbEslintConfig,babelPluginTransformTypeofSymbol,babelPluginTransformNamedCapturingGroupsRegex,isPathInside,execa,trysoundSax,babelPluginTransformUnicodeEscapes){\\nconst _ = require('lodash')\\nconst extensionsAPI = require('documentServices/extensionsAPI/extensionsAPI') describe('extensions call santa/bolt function by runtime config', () => { const getPs = () => ({ runtimeConfig: { viewerName: 'bolt' }, siteAPI: { getAllPagesIds: () => 'bolt' }, dal: { getKeys: () => 'santa' }, pointers: { page: { getAllPagesPointer: () => {} } }, logger: { breadcrumb: _.noop } }) it('should ensure that the correct version of the function is called', () => { const ps = getPs() expect(extensionsAPI.pages.getAllPagesIds(ps)).toBe('bolt') ps.runtimeConfig.viewerName = 'santa' expect(extensionsAPI.pages.getAllPagesIds(ps)).toBe('santa') }) it('should return all APIs bound to ps', () => { const ps = getPs() const apis = extensionsAPI.getAPI(ps) expect(_.isFunction(apis.logger.getLogger().breadcrumb)).toBe(true) expect(apis.pages.getAllPagesIds()).toBe('bolt') })\\n})\\n\\n})\\n####","completion":" import ljharbEslintConfig from '@ljharb/eslint-config'\\nimport babelPluginTransformTypeofSymbol from '@babel/plugin-transform-typeof-symbol'\\nimport babelPluginTransformNamedCapturingGroupsRegex from '@babel/plugin-transform-named-capturing-groups-regex'\\nimport isPathInside from 'is-path-inside'\\nimport execa from 'execa'\\nimport trysoundSax from '@trysound/sax'\\nimport babelPluginTransformUnicodeEscapes from '@babel/plugin-transform-unicode-escapes'\\n\\nconst _ = require('lodash')\\nconst extensionsAPI = require('documentServices/extensionsAPI/extensionsAPI') describe('extensions call santa/bolt function by runtime config', () => { const getPs = () => ({ runtimeConfig: { viewerName: 'bolt' }, siteAPI: { getAllPagesIds: () => 'bolt' }, dal: { getKeys: () => 'santa' }, pointers: { page: { getAllPagesPointer: () => {} } }, logger: { breadcrumb: _.noop } }) it('should ensure that the correct version of the function is called', () => { const ps = getPs() expect(extensionsAPI.pages.getAllPagesIds(ps)).toBe('bolt') ps.runtimeConfig.viewerName = 'santa' expect(extensionsAPI.pages.getAllPagesIds(ps)).toBe('santa') }) it('should return all APIs bound to ps', () => { const ps = getPs() const apis = extensionsAPI.getAPI(ps) expect(_.isFunction(apis.logger.getLogger().breadcrumb)).toBe(true) expect(apis.pages.getAllPagesIds()).toBe('bolt') })\\n})\\n\\n####"}
{"prompt":"define(['@babel/helper-environment-visitor','sauce-connect-launcher','tape-await','@babel/helper-remap-async-to-generator','uncss','regenerate-unicode-properties','karma-mocha-reporter','is-fullwidth-code-point','@types/svgo','postcss-minify-selectors','lodash.memoize','@babel/plugin-transform-new-target','ws','@my-scope/package-a','regenerator-transform','@parcel/packager-svg','@parcel/babel-register','brfs','@parcel/plugin','@es-shims/api'], function(babelHelperEnvironmentVisitor,sauceConnectLauncher,tapeAwait,babelHelperRemapAsyncToGenerator,uncss,regenerateUnicodeProperties,karmaMochaReporter,isFullwidthCodePoint,typesSvgo,postcssMinifySelectors,lodashMemoize,babelPluginTransformNewTarget,ws,myScopePackageA,regeneratorTransform,parcelPackagerSvg,parcelBabelRegister,brfs,parcelPlugin,esShimsApi){\\nexport const START_LOGIN = 'START_LOGIN';\\nexport const SET_USER_DATA = 'SET_USER_DATA';\\nexport const LOGIN_IN_PROGRESS = 'LOGIN_IN_PROGRESS';\\nexport const LOGIN_COMPLETED = 'LOGIN_COMPLETED';\\nexport const GOOGLE_LOGOUT = 'GOOGLE_LOGOUT';\\nexport const START_CLEAN_LOGIN = 'START_CLEAN_LOGIN';\\nexport const CONFIGURE = 'CONFIGURE';\\nexport const CONFIGURE_COMPLETED = 'CONFIGURE_COMPLETED'; export function startLogin() { return { type: START_LOGIN };\\n} export function setUserData(userData) { return { type: SET_USER_DATA, userData };\\n} export function loginInProgress() { return { type: LOGIN_IN_PROGRESS };\\n} export function loginCompleted() { return { type: LOGIN_COMPLETED };\\n} export function googleLogout() { return { type: GOOGLE_LOGOUT };\\n} export function startCleanLogin() { return { type: START_CLEAN_LOGIN };\\n} export function configure() { return { type: CONFIGURE };\\n} export function configureCompleted() { return { type: CONFIGURE_COMPLETED };\\n}\\n\\n})\\n####","completion":" import babelHelperEnvironmentVisitor from '@babel/helper-environment-visitor'\\nimport sauceConnectLauncher from 'sauce-connect-launcher'\\nimport tapeAwait from 'tape-await'\\nimport babelHelperRemapAsyncToGenerator from '@babel/helper-remap-async-to-generator'\\nimport uncss from 'uncss'\\nimport regenerateUnicodeProperties from 'regenerate-unicode-properties'\\nimport karmaMochaReporter from 'karma-mocha-reporter'\\nimport isFullwidthCodePoint from 'is-fullwidth-code-point'\\nimport typesSvgo from '@types/svgo'\\nimport postcssMinifySelectors from 'postcss-minify-selectors'\\nimport lodashMemoize from 'lodash.memoize'\\nimport babelPluginTransformNewTarget from '@babel/plugin-transform-new-target'\\nimport ws from 'ws'\\nimport myScopePackageA from '@my-scope/package-a'\\nimport regeneratorTransform from 'regenerator-transform'\\nimport parcelPackagerSvg from '@parcel/packager-svg'\\nimport parcelBabelRegister from '@parcel/babel-register'\\nimport brfs from 'brfs'\\nimport parcelPlugin from '@parcel/plugin'\\nimport esShimsApi from '@es-shims/api'\\n\\nexport const START_LOGIN = 'START_LOGIN';\\nexport const SET_USER_DATA = 'SET_USER_DATA';\\nexport const LOGIN_IN_PROGRESS = 'LOGIN_IN_PROGRESS';\\nexport const LOGIN_COMPLETED = 'LOGIN_COMPLETED';\\nexport const GOOGLE_LOGOUT = 'GOOGLE_LOGOUT';\\nexport const START_CLEAN_LOGIN = 'START_CLEAN_LOGIN';\\nexport const CONFIGURE = 'CONFIGURE';\\nexport const CONFIGURE_COMPLETED = 'CONFIGURE_COMPLETED'; export function startLogin() { return { type: START_LOGIN };\\n} export function setUserData(userData) { return { type: SET_USER_DATA, userData };\\n} export function loginInProgress() { return { type: LOGIN_IN_PROGRESS };\\n} export function loginCompleted() { return { type: LOGIN_COMPLETED };\\n} export function googleLogout() { return { type: GOOGLE_LOGOUT };\\n} export function startCleanLogin() { return { type: START_CLEAN_LOGIN };\\n} export function configure() { return { type: CONFIGURE };\\n} export function configureCompleted() { return { type: CONFIGURE_COMPLETED };\\n}\\n\\n####"}
{"prompt":"define(['@bazel/ibazel','seedrandom','acorn-jsx','jsdom','@babel/plugin-proposal-json-strings','nyc'], function(bazelIbazel,seedrandom,acornJsx,jsdom,babelPluginProposalJsonStrings,nyc){\\nimport { types as creditCardsTypes } from '../actions/CreditCardsActions'; export const CIBUS_STATUSES = { IDLE: 'idle', SUCCESS: 'success', ERROR: 'error', VALIDATING: 'validating',\\n}; const INITIAL_STATE = { cibus: { status: CIBUS_STATUSES.IDLE, },\\n}; const HANDLERS = { [creditCardsTypes.VALIDATE_CIBUS]: (payload, state) => { return { ...state, cibus: { status: CIBUS_STATUSES.VALIDATING } }; }, [creditCardsTypes.VALIDATE_CIBUS_SUCCESS]: (payload, state) => { return { ...state, cibus: { status: CIBUS_STATUSES.SUCCESS } }; }, [creditCardsTypes.VALIDATE_CIBUS_ERROR]: (payload, state) => { return { ...state, cibus: { status: CIBUS_STATUSES.ERROR } }; }, [creditCardsTypes.RESET_CIBUS_STATUS]: () => { return { ...INITIAL_STATE }; },\\n}; export default function (state = INITIAL_STATE, action = {}) { const handler = HANDLERS[action.type] || (() => state); return handler(action.payload, state);\\n}\\n\\n})\\n####","completion":" import bazelIbazel from '@bazel/ibazel'\\nimport seedrandom from 'seedrandom'\\nimport acornJsx from 'acorn-jsx'\\nimport jsdom from 'jsdom'\\nimport babelPluginProposalJsonStrings from '@babel/plugin-proposal-json-strings'\\nimport nyc from 'nyc'\\n\\nimport { types as creditCardsTypes } from '../actions/CreditCardsActions'; export const CIBUS_STATUSES = { IDLE: 'idle', SUCCESS: 'success', ERROR: 'error', VALIDATING: 'validating',\\n}; const INITIAL_STATE = { cibus: { status: CIBUS_STATUSES.IDLE, },\\n}; const HANDLERS = { [creditCardsTypes.VALIDATE_CIBUS]: (payload, state) => { return { ...state, cibus: { status: CIBUS_STATUSES.VALIDATING } }; }, [creditCardsTypes.VALIDATE_CIBUS_SUCCESS]: (payload, state) => { return { ...state, cibus: { status: CIBUS_STATUSES.SUCCESS } }; }, [creditCardsTypes.VALIDATE_CIBUS_ERROR]: (payload, state) => { return { ...state, cibus: { status: CIBUS_STATUSES.ERROR } }; }, [creditCardsTypes.RESET_CIBUS_STATUS]: () => { return { ...INITIAL_STATE }; },\\n}; export default function (state = INITIAL_STATE, action = {}) { const handler = HANDLERS[action.type] || (() => state); return handler(action.payload, state);\\n}\\n\\n####"}
{"prompt":"define(['uglify-register','console-control-strings','broccoli-merge-trees','is-url','gulp-bump','ensure-posix-path','nock','proxy','grunt-clean','postcss-minify-font-values','domain-browser','@types/es6-promisify','zuul'], function(uglifyRegister,consoleControlStrings,broccoliMergeTrees,isUrl,gulpBump,ensurePosixPath,nock,proxy,gruntClean,postcssMinifyFontValues,domainBrowser,typesEs6Promisify,zuul){\\nimport TextArea from '../../../../src/shared/web/TextArea/TextArea.js'; export default React.createClass({ getInitialState() { return { standard:'', hover:'hover a b c d e f g h i j k l m n o p q r s t u v', focus:'focus a b c d e f g h i j k l m n o p q r s t u v', placeholder:'', error:'this is an error text a b c d e f g h i j k l m n o p' }; }, render() { return ( <div style={{pointerEvents:'none'}} > <TextArea style={{width:'200px', height:'80px', display:'inline-block', margin:'0px 5px'}} value={this.state.standard} onChange={_.noop} /> <TextArea style={{width:'200px', height:'80px', display:'inline-block', margin:'0px 5px'}} value={this.state.hover} hover={true} onChange={_.noop} /> <TextArea style={{width:'200px', height:'80px', display:'inline-block', margin:'0px 5px'}} value={this.state.focus} focus={true} onChange={_.noop} /> <TextArea style={{width:'200px', height:'80px', display:'inline-block', margin:'0px 5px'}} value={this.state.placeholder} placeholder='TextArea with placeholder' onChange={_.noop} /> <TextArea style={{width:'200px', height:'80px', display:'inline-block', margin:'0px 5px'}} value={this.state.error} error={true} onChange={_.noop} /> </div> ); }\\n});\\n\\n})\\n####","completion":" import uglifyRegister from 'uglify-register'\\nimport consoleControlStrings from 'console-control-strings'\\nimport broccoliMergeTrees from 'broccoli-merge-trees'\\nimport isUrl from 'is-url'\\nimport gulpBump from 'gulp-bump'\\nimport ensurePosixPath from 'ensure-posix-path'\\nimport nock from 'nock'\\nimport proxy from 'proxy'\\nimport gruntClean from 'grunt-clean'\\nimport postcssMinifyFontValues from 'postcss-minify-font-values'\\nimport domainBrowser from 'domain-browser'\\nimport typesEs6Promisify from '@types/es6-promisify'\\nimport zuul from 'zuul'\\n\\nimport TextArea from '../../../../src/shared/web/TextArea/TextArea.js'; export default React.createClass({ getInitialState() { return { standard:'', hover:'hover a b c d e f g h i j k l m n o p q r s t u v', focus:'focus a b c d e f g h i j k l m n o p q r s t u v', placeholder:'', error:'this is an error text a b c d e f g h i j k l m n o p' }; }, render() { return ( <div style={{pointerEvents:'none'}} > <TextArea style={{width:'200px', height:'80px', display:'inline-block', margin:'0px 5px'}} value={this.state.standard} onChange={_.noop} /> <TextArea style={{width:'200px', height:'80px', display:'inline-block', margin:'0px 5px'}} value={this.state.hover} hover={true} onChange={_.noop} /> <TextArea style={{width:'200px', height:'80px', display:'inline-block', margin:'0px 5px'}} value={this.state.focus} focus={true} onChange={_.noop} /> <TextArea style={{width:'200px', height:'80px', display:'inline-block', margin:'0px 5px'}} value={this.state.placeholder} placeholder='TextArea with placeholder' onChange={_.noop} /> <TextArea style={{width:'200px', height:'80px', display:'inline-block', margin:'0px 5px'}} value={this.state.error} error={true} onChange={_.noop} /> </div> ); }\\n});\\n\\n####"}
{"prompt":"define(['babel-plugin-transform-es2015-classes','watch','cross-env','assert','@parcel/transformer-image','eslint-plugin-promise','promises-aplus-tests','querystring-es3','@parcel/transformer-html','json-diff','@parcel/cache','karma-firefox-launcher','rollup-plugin-uglify'], function(babelPluginTransformEs2015Classes,watch,crossEnv,assert,parcelTransformerImage,eslintPluginPromise,promisesAplusTests,querystringEs3,parcelTransformerHtml,jsonDiff,parcelCache,karmaFirefoxLauncher,rollupPluginUglify){\\nconst { integration: {getDsWithSavedBlankSite}\\n} = require('@wix/bolt-ds-testkit/src/index') describe('pageRemoval', function () { it('touches the master page data signature to protect against concurrent deletion of the home page', async () => { const ds = await getDsWithSavedBlankSite() ds.registerToErrorThrown(fail) const newPagePointer = ds.pages.add() const newPageId = newPagePointer.id const homePageId = ds.homePage.get() expect(homePageId).not.toEqual(newPageId) await ds.waitForChangesAppliedAsync() const getMasterPageDataSig = () => ds.pages.data.get('masterPage').metaData.sig const masterPageDataSigBefore = getMasterPageDataSig() expect(masterPageDataSigBefore).toBeDefined() await new Promise(res => ds.pages.remove(newPageId, res)) await ds.waitForChangesAppliedAsync() const masterPageDataSigAfter = getMasterPageDataSig() expect(ds.pages.doesPageExist(newPageId)).toBe(false) expect(masterPageDataSigAfter).not.toEqual(masterPageDataSigBefore) })\\n})\\n\\n})\\n####","completion":" import babelPluginTransformEs2015Classes from 'babel-plugin-transform-es2015-classes'\\nimport watch from 'watch'\\nimport crossEnv from 'cross-env'\\nimport assert from 'assert'\\nimport parcelTransformerImage from '@parcel/transformer-image'\\nimport eslintPluginPromise from 'eslint-plugin-promise'\\nimport promisesAplusTests from 'promises-aplus-tests'\\nimport querystringEs3 from 'querystring-es3'\\nimport parcelTransformerHtml from '@parcel/transformer-html'\\nimport jsonDiff from 'json-diff'\\nimport parcelCache from '@parcel/cache'\\nimport karmaFirefoxLauncher from 'karma-firefox-launcher'\\nimport rollupPluginUglify from 'rollup-plugin-uglify'\\n\\nconst { integration: {getDsWithSavedBlankSite}\\n} = require('@wix/bolt-ds-testkit/src/index') describe('pageRemoval', function () { it('touches the master page data signature to protect against concurrent deletion of the home page', async () => { const ds = await getDsWithSavedBlankSite() ds.registerToErrorThrown(fail) const newPagePointer = ds.pages.add() const newPageId = newPagePointer.id const homePageId = ds.homePage.get() expect(homePageId).not.toEqual(newPageId) await ds.waitForChangesAppliedAsync() const getMasterPageDataSig = () => ds.pages.data.get('masterPage').metaData.sig const masterPageDataSigBefore = getMasterPageDataSig() expect(masterPageDataSigBefore).toBeDefined() await new Promise(res => ds.pages.remove(newPageId, res)) await ds.waitForChangesAppliedAsync() const masterPageDataSigAfter = getMasterPageDataSig() expect(ds.pages.doesPageExist(newPageId)).toBe(false) expect(masterPageDataSigAfter).not.toEqual(masterPageDataSigBefore) })\\n})\\n\\n####"}
{"prompt":"define(['@babel/plugin-syntax-numeric-separator','object.fromentries','json-diff','vega-embed','@types/yargs','mock-property','@babel/helper-explode-assignable-expression','type-check','broccoli-babel-transpiler','chai-exclude','karma-sauce-launcher','everything.js','clsx','karma','lru-cache','postcss-discard-empty','fake','@types/rimraf','domhandler'], function(babelPluginSyntaxNumericSeparator,objectFromentries,jsonDiff,vegaEmbed,typesYargs,mockProperty,babelHelperExplodeAssignableExpression,typeCheck,broccoliBabelTranspiler,chaiExclude,karmaSauceLauncher,everythingJs,clsx,karma,lruCache,postcssDiscardEmpty,fake,typesRimraf,domhandler){\\nimport { create } from '../utils/WixRestStyleSheet'; export default create({ container: { flex: 1, flexDirection: 'column' }, header: { height: 156, width: 300, overflow: 'hidden' }, scrollView: { flex: 1, backgroundColor: 'white' }, title: { backgroundColor: 'transparent', color: '#fff', textAlign: '@start', position: 'absolute', bottom: 18, left: 18 }, button: { paddingHorizontal: 6, paddingVertical: 20, }, buttonInner: { flexDirection: 'row', justifyContent: 'space-between', alignItems: 'center' }, buttonTitle: { flexDirection: 'row', }, buttonText: { lineHeight: 20 }, separator: { height: 1, backgroundColor: '#ececed', marginVertical: 12 }, active: { backgroundColor: '#EAF7FF' }, thumbnail: { height: 156, width: 300, position: 'absolute', top: 0, left: 0 }, thumbnailMask: { height: 174, width: 300, flexDirection: 'column', justifyContent: 'flex-end', position: 'absolute', top: 0, left: 0 }, newOrderIcon: { marginHorizontal: 14 } });\\n\\n})\\n####","completion":" import babelPluginSyntaxNumericSeparator from '@babel/plugin-syntax-numeric-separator'\\nimport objectFromentries from 'object.fromentries'\\nimport jsonDiff from 'json-diff'\\nimport vegaEmbed from 'vega-embed'\\nimport typesYargs from '@types/yargs'\\nimport mockProperty from 'mock-property'\\nimport babelHelperExplodeAssignableExpression from '@babel/helper-explode-assignable-expression'\\nimport typeCheck from 'type-check'\\nimport broccoliBabelTranspiler from 'broccoli-babel-transpiler'\\nimport chaiExclude from 'chai-exclude'\\nimport karmaSauceLauncher from 'karma-sauce-launcher'\\nimport everythingJs from 'everything.js'\\nimport clsx from 'clsx'\\nimport karma from 'karma'\\nimport lruCache from 'lru-cache'\\nimport postcssDiscardEmpty from 'postcss-discard-empty'\\nimport fake from 'fake'\\nimport typesRimraf from '@types/rimraf'\\nimport domhandler from 'domhandler'\\n\\nimport { create } from '../utils/WixRestStyleSheet'; export default create({ container: { flex: 1, flexDirection: 'column' }, header: { height: 156, width: 300, overflow: 'hidden' }, scrollView: { flex: 1, backgroundColor: 'white' }, title: { backgroundColor: 'transparent', color: '#fff', textAlign: '@start', position: 'absolute', bottom: 18, left: 18 }, button: { paddingHorizontal: 6, paddingVertical: 20, }, buttonInner: { flexDirection: 'row', justifyContent: 'space-between', alignItems: 'center' }, buttonTitle: { flexDirection: 'row', }, buttonText: { lineHeight: 20 }, separator: { height: 1, backgroundColor: '#ececed', marginVertical: 12 }, active: { backgroundColor: '#EAF7FF' }, thumbnail: { height: 156, width: 300, position: 'absolute', top: 0, left: 0 }, thumbnailMask: { height: 174, width: 300, flexDirection: 'column', justifyContent: 'flex-end', position: 'absolute', top: 0, left: 0 }, newOrderIcon: { marginHorizontal: 14 } });\\n\\n####"}
{"prompt":"define(['faster-stable-stringify','rsvp','terser-webpack-plugin','@babel/plugin-transform-flow-strip-types','shx','node-gyp','obake'], function(fasterStableStringify,rsvp,terserWebpackPlugin,babelPluginTransformFlowStripTypes,shx,nodeGyp,obake){\\n(function (f) { if (typeof exports === \\\"object\\\" && typeof module !== \\\"undefined\\\") { module.exports = f() } else if (typeof define === \\\"function\\\" && define.amd) { define([], f) } else { var g; if (typeof window !== \\\"undefined\\\") { g = window } else if (typeof global !== \\\"undefined\\\") { g = global } else if (typeof self !== \\\"undefined\\\") { g = self } else { g = this } g.TestModule = f() } })(function () { var define, module, exports; return (function () { function r(e, n, t) { function o(i, f) { if (!n[i]) { if (!e[i]) { var c = \\\"function\\\" == typeof require && require; if (!f && c) return c(i, !0); if (u) return u(i, !0); var a = new Error(\\\"Cannot find module '\\\" + i + \\\"'\\\"); throw a.code = \\\"MODULE_NOT_FOUND\\\", a } var p = n[i] = { exports: {} }; e[i][0].call(p.exports, function (r) { var n = e[i][1][r]; return o(n || r) }, p, p.exports, r, e, n, t) } return n[i].exports } for (var u = \\\"function\\\" == typeof require && require, i = 0; i < t.length; i++)o(t[i]); return o } return r })()({ 1: [function (require, module, exports) { $w.onReady(() => { $widget.onPropsChanged(onPropsChangedTestSpy2) }) }, {}] }, {}, [1])(1)\\n});\\n})\\n####","completion":" import fasterStableStringify from 'faster-stable-stringify'\\nimport rsvp from 'rsvp'\\nimport terserWebpackPlugin from 'terser-webpack-plugin'\\nimport babelPluginTransformFlowStripTypes from '@babel/plugin-transform-flow-strip-types'\\nimport shx from 'shx'\\nimport nodeGyp from 'node-gyp'\\nimport obake from 'obake'\\n\\n(function (f) { if (typeof exports === \\\"object\\\" && typeof module !== \\\"undefined\\\") { module.exports = f() } else if (typeof define === \\\"function\\\" && define.amd) { define([], f) } else { var g; if (typeof window !== \\\"undefined\\\") { g = window } else if (typeof global !== \\\"undefined\\\") { g = global } else if (typeof self !== \\\"undefined\\\") { g = self } else { g = this } g.TestModule = f() } })(function () { var define, module, exports; return (function () { function r(e, n, t) { function o(i, f) { if (!n[i]) { if (!e[i]) { var c = \\\"function\\\" == typeof require && require; if (!f && c) return c(i, !0); if (u) return u(i, !0); var a = new Error(\\\"Cannot find module '\\\" + i + \\\"'\\\"); throw a.code = \\\"MODULE_NOT_FOUND\\\", a } var p = n[i] = { exports: {} }; e[i][0].call(p.exports, function (r) { var n = e[i][1][r]; return o(n || r) }, p, p.exports, r, e, n, t) } return n[i].exports } for (var u = \\\"function\\\" == typeof require && require, i = 0; i < t.length; i++)o(t[i]); return o } return r })()({ 1: [function (require, module, exports) { $w.onReady(() => { $widget.onPropsChanged(onPropsChangedTestSpy2) }) }, {}] }, {}, [1])(1)\\n});\\n####"}
{"prompt":"define(['babel-preset-latest','bundt','webpack-cli','regenerator-transform','d3-interpolate','json3'], function(babelPresetLatest,bundt,webpackCli,regeneratorTransform,d3Interpolate,json3){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.wix.com/demone2/the-spa (33)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/the-spa', emulateMobileDevice: true, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/33-the-spa/mesh/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import babelPresetLatest from 'babel-preset-latest'\\nimport bundt from 'bundt'\\nimport webpackCli from 'webpack-cli'\\nimport regeneratorTransform from 'regenerator-transform'\\nimport d3Interpolate from 'd3-interpolate'\\nimport json3 from 'json3'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.wix.com/demone2/the-spa (33)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/the-spa', emulateMobileDevice: true, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/33-the-spa/mesh/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['supports-color','@parcel/packager-svg','grunt-contrib-compress','bluebird-retry','@babel/plugin-proposal-class-static-block','unbox-primitive','fbjs-scripts','@parcel/bundler-default','gulp-mocha','v8-compile-cache','css-what','aproba','typescript','jest-config'], function(supportsColor,parcelPackagerSvg,gruntContribCompress,bluebirdRetry,babelPluginProposalClassStaticBlock,unboxPrimitive,fbjsScripts,parcelBundlerDefault,gulpMocha,v8CompileCache,cssWhat,aproba,typescript,jestConfig){\\nimport React from 'react';\\nimport palette from '../../web/Palette'; module.exports = class extends React.Component { render() { let styles = { fill: palette[this.props.color] || this.props.color, }; return ( <svg width={this.props.width} height={this.props.height} viewBox='0 0 33 36' > <g id='Page-1' stroke='none' strokeWidth='1' fill='none' fillRule='evenodd' > <g id='32' style={styles}> <path d='M31.832,36 L7.832,36 L1.286,36 C0.812,36 0,35.616 0,35.143 L0,12.675 L4,6.875 L4,0.857 C4,0.384 4.158,0 4.631,0 L28.631,0 C29.105,0 30,0.384 30,0.857 L30,6.875 L33,12.857 L33,35.143 C33,35.616 32.306,36 31.832,36 L31.832,36 Z M2,34 L7,34 L7,14 L2,14 L2,34 L2,34 Z M2.029,13 L7.172,13 L4.732,7.875 L2.029,13 L2.029,13 Z M28,2 L6,2 L6,5 L28,5 L28,2 L28,2 Z M31,12.881 L27.897,7 L5.858,7 C5.858,7 9,12.541 9,12.675 L9,34 L31,34 L31,12.881 L31,12.881 Z M18,13 L17.977,19.008 L21,19 L21,13 L22,13 L22,19.932 C22,21.018 21.645,22 20.483,22 L20,22 L20,29 L19,29 L19,22 L18.182,22 C17.078,22 17,21.088 17,19.932 L17.004,20.016 L17,13 L18,13 L18,13 Z M18.06,20.641 C18.244,21.151 20.438,21.172 20.781,20.656 C20.863,20.534 20.914,20.276 20.946,20 L18,20 C18,20 17.936,20.297 18.06,20.641 L18.06,20.641 Z M19,13 L20,13 L20,19 L19,19 L19,13 L19,13 Z M19,4 L14,4 L14,3 L19,3 L19,4 L19,4 Z' id='Shape'></path> </g> </g> </svg> ); }\\n};\\n\\n})\\n####","completion":" import supportsColor from 'supports-color'\\nimport parcelPackagerSvg from '@parcel/packager-svg'\\nimport gruntContribCompress from 'grunt-contrib-compress'\\nimport bluebirdRetry from 'bluebird-retry'\\nimport babelPluginProposalClassStaticBlock from '@babel/plugin-proposal-class-static-block'\\nimport unboxPrimitive from 'unbox-primitive'\\nimport fbjsScripts from 'fbjs-scripts'\\nimport parcelBundlerDefault from '@parcel/bundler-default'\\nimport gulpMocha from 'gulp-mocha'\\nimport v8CompileCache from 'v8-compile-cache'\\nimport cssWhat from 'css-what'\\nimport aproba from 'aproba'\\nimport typescript from 'typescript'\\nimport jestConfig from 'jest-config'\\n\\nimport React from 'react';\\nimport palette from '../../web/Palette'; module.exports = class extends React.Component { render() { let styles = { fill: palette[this.props.color] || this.props.color, }; return ( <svg width={this.props.width} height={this.props.height} viewBox='0 0 33 36' > <g id='Page-1' stroke='none' strokeWidth='1' fill='none' fillRule='evenodd' > <g id='32' style={styles}> <path d='M31.832,36 L7.832,36 L1.286,36 C0.812,36 0,35.616 0,35.143 L0,12.675 L4,6.875 L4,0.857 C4,0.384 4.158,0 4.631,0 L28.631,0 C29.105,0 30,0.384 30,0.857 L30,6.875 L33,12.857 L33,35.143 C33,35.616 32.306,36 31.832,36 L31.832,36 Z M2,34 L7,34 L7,14 L2,14 L2,34 L2,34 Z M2.029,13 L7.172,13 L4.732,7.875 L2.029,13 L2.029,13 Z M28,2 L6,2 L6,5 L28,5 L28,2 L28,2 Z M31,12.881 L27.897,7 L5.858,7 C5.858,7 9,12.541 9,12.675 L9,34 L31,34 L31,12.881 L31,12.881 Z M18,13 L17.977,19.008 L21,19 L21,13 L22,13 L22,19.932 C22,21.018 21.645,22 20.483,22 L20,22 L20,29 L19,29 L19,22 L18.182,22 C17.078,22 17,21.088 17,19.932 L17.004,20.016 L17,13 L18,13 L18,13 Z M18.06,20.641 C18.244,21.151 20.438,21.172 20.781,20.656 C20.863,20.534 20.914,20.276 20.946,20 L18,20 C18,20 17.936,20.297 18.06,20.641 L18.06,20.641 Z M19,13 L20,13 L20,19 L19,19 L19,13 L19,13 Z M19,4 L14,4 L14,3 L19,3 L19,4 L19,4 Z' id='Shape'></path> </g> </g> </svg> ); }\\n};\\n\\n####"}
{"prompt":"define(['grunt-webpack','benchmarked','eslint-import-resolver-typescript','nullthrows','stream-to-array','karma-browserstack-launcher','esbuild-runner','pegjs','vega','eclint','karma-safaritechpreview-launcher','@types/jest','webpack','postcss-svgo','dotenv-expand','wrap-ansi'], function(gruntWebpack,benchmarked,eslintImportResolverTypescript,nullthrows,streamToArray,karmaBrowserstackLauncher,esbuildRunner,pegjs,vega,eclint,karmaSafaritechpreviewLauncher,typesJest,webpack,postcssSvgo,dotenvExpand,wrapAnsi){\\nimport Q from 'q';\\nimport child_process from 'child_process';\\nimport _ from 'lodash'; export default class ServiceRunner { constructor() { this._process = null; } start({env}) { const deferred = Q.defer(); this._process = child_process.spawn('npm', ['start'], {env: _.extend(process.env, env), detached: true}); if (this._process.pid) { this._process.stdout.on('data', chunk => { const chunkStr = String(chunk); if (chunkStr.indexOf('running on port') > -1) { deferred.resolve(); } }); } else { deferred.reject(new Error('Could not run service')); } return deferred.promise; } stop() { if (this._process) { if (this._process.pid) { // pid may be undefined in some edge cases, e.g. if process failed starting on Windows process.kill(-this._process.pid); } this._process = null; } } } \\n})\\n####","completion":" import gruntWebpack from 'grunt-webpack'\\nimport benchmarked from 'benchmarked'\\nimport eslintImportResolverTypescript from 'eslint-import-resolver-typescript'\\nimport nullthrows from 'nullthrows'\\nimport streamToArray from 'stream-to-array'\\nimport karmaBrowserstackLauncher from 'karma-browserstack-launcher'\\nimport esbuildRunner from 'esbuild-runner'\\nimport pegjs from 'pegjs'\\nimport vega from 'vega'\\nimport eclint from 'eclint'\\nimport karmaSafaritechpreviewLauncher from 'karma-safaritechpreview-launcher'\\nimport typesJest from '@types/jest'\\nimport webpack from 'webpack'\\nimport postcssSvgo from 'postcss-svgo'\\nimport dotenvExpand from 'dotenv-expand'\\nimport wrapAnsi from 'wrap-ansi'\\n\\nimport Q from 'q';\\nimport child_process from 'child_process';\\nimport _ from 'lodash'; export default class ServiceRunner { constructor() { this._process = null; } start({env}) { const deferred = Q.defer(); this._process = child_process.spawn('npm', ['start'], {env: _.extend(process.env, env), detached: true}); if (this._process.pid) { this._process.stdout.on('data', chunk => { const chunkStr = String(chunk); if (chunkStr.indexOf('running on port') > -1) { deferred.resolve(); } }); } else { deferred.reject(new Error('Could not run service')); } return deferred.promise; } stop() { if (this._process) { if (this._process.pid) { // pid may be undefined in some edge cases, e.g. if process failed starting on Windows process.kill(-this._process.pid); } this._process = null; } } } \\n####"}
{"prompt":"define(['@parcel/transformer-raw','aud','core-js-pure','clone-deep','husky','levn'], function(parcelTransformerRaw,aud,coreJsPure,cloneDeep,husky,levn){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.wix.com/demone2/coming-soon-landing (0)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/coming-soon-landing', emulateMobileDevice: false, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/0-coming-soon-landing-page/anchors/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import parcelTransformerRaw from '@parcel/transformer-raw'\\nimport aud from 'aud'\\nimport coreJsPure from 'core-js-pure'\\nimport cloneDeep from 'clone-deep'\\nimport husky from 'husky'\\nimport levn from 'levn'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.wix.com/demone2/coming-soon-landing (0)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/coming-soon-landing', emulateMobileDevice: false, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/0-coming-soon-landing-page/anchors/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['es6-promise','eslint-config-davidtheclark-node','@babel/plugin-proposal-json-strings','ava','json-stable-stringify','gulp-filter','@parcel/optimizer-svgo','@es-shims/api'], function(es6Promise,eslintConfigDavidtheclarkNode,babelPluginProposalJsonStrings,ava,jsonStableStringify,gulpFilter,parcelOptimizerSvgo,esShimsApi){\\n'use strict'; import { ProgrammableJsonServer } from '../ProgrammableJsonServer'; export class TripadvisorDriver { constructor({port}) { this._server = new ProgrammableJsonServer({port}); } start() { this._server.start(); } stop() { this._server.stop(); } reset() { this._server.reset(); } api({query}) { return { returns: ({value, delay = 0}) => { this._server.addRule({ params: {query}, delay, responseText: JSON.stringify(value) }); }, failsOnInvalidAuth: () => { this._server.addRule({ params: {query}, responseText: JSON.stringify({\\\"meta\\\":{\\\"code\\\":401,\\\"errorType\\\":\\\"invalid_auth\\\",\\\"errorDetail\\\":\\\"OAuth token invalid or revoked.\\\"},\\\"response\\\":{}}) }); }, failsWith: ({code, description}) => { this._server.addRule({ params: {query}, responseText: JSON.stringify({\\\"meta\\\":{\\\"code\\\":401,\\\"errorType\\\":code,\\\"errorDetail\\\":description},\\\"response\\\":{}}) }); }, returnsInvalidResponse: () => { this._server.addRule({ params: {query}, responseText: '<html><head><title>Error 500</title></head></html>', }); } }; }\\n}\\n\\n})\\n####","completion":" import es6Promise from 'es6-promise'\\nimport eslintConfigDavidtheclarkNode from 'eslint-config-davidtheclark-node'\\nimport babelPluginProposalJsonStrings from '@babel/plugin-proposal-json-strings'\\nimport ava from 'ava'\\nimport jsonStableStringify from 'json-stable-stringify'\\nimport gulpFilter from 'gulp-filter'\\nimport parcelOptimizerSvgo from '@parcel/optimizer-svgo'\\nimport esShimsApi from '@es-shims/api'\\n\\n'use strict'; import { ProgrammableJsonServer } from '../ProgrammableJsonServer'; export class TripadvisorDriver { constructor({port}) { this._server = new ProgrammableJsonServer({port}); } start() { this._server.start(); } stop() { this._server.stop(); } reset() { this._server.reset(); } api({query}) { return { returns: ({value, delay = 0}) => { this._server.addRule({ params: {query}, delay, responseText: JSON.stringify(value) }); }, failsOnInvalidAuth: () => { this._server.addRule({ params: {query}, responseText: JSON.stringify({\\\"meta\\\":{\\\"code\\\":401,\\\"errorType\\\":\\\"invalid_auth\\\",\\\"errorDetail\\\":\\\"OAuth token invalid or revoked.\\\"},\\\"response\\\":{}}) }); }, failsWith: ({code, description}) => { this._server.addRule({ params: {query}, responseText: JSON.stringify({\\\"meta\\\":{\\\"code\\\":401,\\\"errorType\\\":code,\\\"errorDetail\\\":description},\\\"response\\\":{}}) }); }, returnsInvalidResponse: () => { this._server.addRule({ params: {query}, responseText: '<html><head><title>Error 500</title></head></html>', }); } }; }\\n}\\n\\n####"}
{"prompt":"define(['node-tick-processor','is-fullwidth-code-point','rollup-plugin-uglify','postcss-colormin','@babel/plugin-proposal-private-methods','promise','@unicode/unicode-14.0.0','@mapbox/eslint-config-mapbox','util','flow-bin'], function(nodeTickProcessor,isFullwidthCodePoint,rollupPluginUglify,postcssColormin,babelPluginProposalPrivateMethods,promise,unicodeUnicode1400,mapboxEslintConfigMapbox,util,flowBin){\\nexport class GatewayService { constructor({secretsService, braintreeService}) { this.secretsService = secretsService; this.braintreeService = braintreeService; } async getGatewayDetails(orgId) { try { const ret = {}; const orgSecrets = await this.secretsService.getOrganizationSecrets(orgId); const creditcardsDetails = orgSecrets.getCreditcardsDetails(); const say2EatMerchantKey = orgSecrets.getSay2EatMerchantKey(); ret.gatewayId = creditcardsDetails.gatewayId; ret.say2EatStripeMerchantKey = say2EatMerchantKey; if (creditcardsDetails.gatewayId === 'com.braintreegateway') { const {merchantId, publicKey, privateKey} = creditcardsDetails.merchantKeys; ret.clientToken = await this.braintreeService.getClientToken(merchantId, publicKey, privateKey); } return ret; } catch (err) { console.error('getGatewayDetails', err); return {}; } }\\n}\\n\\n})\\n####","completion":" import nodeTickProcessor from 'node-tick-processor'\\nimport isFullwidthCodePoint from 'is-fullwidth-code-point'\\nimport rollupPluginUglify from 'rollup-plugin-uglify'\\nimport postcssColormin from 'postcss-colormin'\\nimport babelPluginProposalPrivateMethods from '@babel/plugin-proposal-private-methods'\\nimport promise from 'promise'\\nimport unicodeUnicode1400 from '@unicode/unicode-14.0.0'\\nimport mapboxEslintConfigMapbox from '@mapbox/eslint-config-mapbox'\\nimport util from 'util'\\nimport flowBin from 'flow-bin'\\n\\nexport class GatewayService { constructor({secretsService, braintreeService}) { this.secretsService = secretsService; this.braintreeService = braintreeService; } async getGatewayDetails(orgId) { try { const ret = {}; const orgSecrets = await this.secretsService.getOrganizationSecrets(orgId); const creditcardsDetails = orgSecrets.getCreditcardsDetails(); const say2EatMerchantKey = orgSecrets.getSay2EatMerchantKey(); ret.gatewayId = creditcardsDetails.gatewayId; ret.say2EatStripeMerchantKey = say2EatMerchantKey; if (creditcardsDetails.gatewayId === 'com.braintreegateway') { const {merchantId, publicKey, privateKey} = creditcardsDetails.merchantKeys; ret.clientToken = await this.braintreeService.getClientToken(merchantId, publicKey, privateKey); } return ret; } catch (err) { console.error('getGatewayDetails', err); return {}; } }\\n}\\n\\n####"}
{"prompt":"define(['lodash.debounce','lodash','opener','@mdn/browser-compat-data','eslint-config-prettier','@babel/helper-check-duplicate-nodes','cheerio','eslint-config-mourner','jsesc','world-atlas','@babel/plugin-transform-regenerator','obake','rw','canvas','@babel/plugin-syntax-class-static-block','gulp-tag-version','eslint-plugin-node','object.fromentries','c8','is-builtin-module'], function(lodashDebounce,lodash,opener,mdnBrowserCompatData,eslintConfigPrettier,babelHelperCheckDuplicateNodes,cheerio,eslintConfigMourner,jsesc,worldAtlas,babelPluginTransformRegenerator,obake,rw,canvas,babelPluginSyntaxClassStaticBlock,gulpTagVersion,eslintPluginNode,objectFromentries,c8,isBuiltinModule){\\ndefine(['documentServices/platform/platform', 'documentServices/wixCode/services/fileSystemAPI', 'documentServices/wixCode/utils/constants'], function ( platform, fileSystemAPI, constants\\n) { 'use strict' function getPagesFolderDescriptor(ps) { return fileSystemAPI.getVirtualDescriptor(ps, 'public/pages', true) } function getPageFileDescriptor(ps, pageId) { const pageFilePath = `public/pages/${pageId}.js` const pageFileDescriptor = fileSystemAPI.getVirtualDescriptor(ps, pageFilePath, false) return pageFileDescriptor } async function duplicatePageCode(ps, newPageId, originalPageId) { if (!platform.pageHasPlatformApp(ps, originalPageId, constants.WIX_CODE_APP_ID)) { return } const srcDescriptor = getPageFileDescriptor(ps, originalPageId) const targetFolderDescriptor = getPagesFolderDescriptor(ps) const newItemName = `${newPageId}.js` return fileSystemAPI.copyFile(ps, srcDescriptor, targetFolderDescriptor, newItemName) } return { duplicatePageCode }\\n})\\n\\n})\\n####","completion":" import lodashDebounce from 'lodash.debounce'\\nimport lodash from 'lodash'\\nimport opener from 'opener'\\nimport mdnBrowserCompatData from '@mdn/browser-compat-data'\\nimport eslintConfigPrettier from 'eslint-config-prettier'\\nimport babelHelperCheckDuplicateNodes from '@babel/helper-check-duplicate-nodes'\\nimport cheerio from 'cheerio'\\nimport eslintConfigMourner from 'eslint-config-mourner'\\nimport jsesc from 'jsesc'\\nimport worldAtlas from 'world-atlas'\\nimport babelPluginTransformRegenerator from '@babel/plugin-transform-regenerator'\\nimport obake from 'obake'\\nimport rw from 'rw'\\nimport canvas from 'canvas'\\nimport babelPluginSyntaxClassStaticBlock from '@babel/plugin-syntax-class-static-block'\\nimport gulpTagVersion from 'gulp-tag-version'\\nimport eslintPluginNode from 'eslint-plugin-node'\\nimport objectFromentries from 'object.fromentries'\\nimport c8 from 'c8'\\nimport isBuiltinModule from 'is-builtin-module'\\n\\ndefine(['documentServices/platform/platform', 'documentServices/wixCode/services/fileSystemAPI', 'documentServices/wixCode/utils/constants'], function ( platform, fileSystemAPI, constants\\n) { 'use strict' function getPagesFolderDescriptor(ps) { return fileSystemAPI.getVirtualDescriptor(ps, 'public/pages', true) } function getPageFileDescriptor(ps, pageId) { const pageFilePath = `public/pages/${pageId}.js` const pageFileDescriptor = fileSystemAPI.getVirtualDescriptor(ps, pageFilePath, false) return pageFileDescriptor } async function duplicatePageCode(ps, newPageId, originalPageId) { if (!platform.pageHasPlatformApp(ps, originalPageId, constants.WIX_CODE_APP_ID)) { return } const srcDescriptor = getPageFileDescriptor(ps, originalPageId) const targetFolderDescriptor = getPagesFolderDescriptor(ps) const newItemName = `${newPageId}.js` return fileSystemAPI.copyFile(ps, srcDescriptor, targetFolderDescriptor, newItemName) } return { duplicatePageCode }\\n})\\n\\n####"}
{"prompt":"define(['buffer-from','@parcel/packager-js','@babel/plugin-proposal-private-property-in-object'], function(bufferFrom,parcelPackagerJs,babelPluginProposalPrivatePropertyInObject){\\nimport PropTypes from 'prop-types';\\nimport React from 'react';\\nimport DishIcons from '@wix/restaurants-menus-icons/dist/DishIcons';\\nimport styles from './Yummy.less';\\nimport classNames from 'classnames'; export default function ItemIcons({ i18n, labels, iconType, primaryColor, secondaryColor }) { const className = classNames({ [styles.item_icons]: true, [styles.item_icons_circled]: iconType === 'outline' || iconType === 'full-bg', [styles.item_icons_label]: iconType === 'label', [styles.item_icons_full]: iconType === 'full' }); return ( <div data-hook=\\\"wixrest-menus-item-icons\\\" className={className} role='presentation'> <DishIcons i18n={i18n} labels={labels} iconType={iconType} primaryColor={primaryColor} secondaryColor={secondaryColor} /> </div> );\\n} ItemIcons.displayName = 'ItemIcons';\\nItemIcons.propTypes = { i18n: PropTypes.object, labels: PropTypes.array, iconType: PropTypes.string, primaryColor: PropTypes.string, secondaryColor: PropTypes.string\\n};\\nItemIcons.defaultProps = { labels: []\\n};\\n\\n})\\n####","completion":" import bufferFrom from 'buffer-from'\\nimport parcelPackagerJs from '@parcel/packager-js'\\nimport babelPluginProposalPrivatePropertyInObject from '@babel/plugin-proposal-private-property-in-object'\\n\\nimport PropTypes from 'prop-types';\\nimport React from 'react';\\nimport DishIcons from '@wix/restaurants-menus-icons/dist/DishIcons';\\nimport styles from './Yummy.less';\\nimport classNames from 'classnames'; export default function ItemIcons({ i18n, labels, iconType, primaryColor, secondaryColor }) { const className = classNames({ [styles.item_icons]: true, [styles.item_icons_circled]: iconType === 'outline' || iconType === 'full-bg', [styles.item_icons_label]: iconType === 'label', [styles.item_icons_full]: iconType === 'full' }); return ( <div data-hook=\\\"wixrest-menus-item-icons\\\" className={className} role='presentation'> <DishIcons i18n={i18n} labels={labels} iconType={iconType} primaryColor={primaryColor} secondaryColor={secondaryColor} /> </div> );\\n} ItemIcons.displayName = 'ItemIcons';\\nItemIcons.propTypes = { i18n: PropTypes.object, labels: PropTypes.array, iconType: PropTypes.string, primaryColor: PropTypes.string, secondaryColor: PropTypes.string\\n};\\nItemIcons.defaultProps = { labels: []\\n};\\n\\n####"}
{"prompt":"define(['process-nextick-args','rollup-plugin-terser','@tensorflow/tfjs','domhandler','object.getownpropertydescriptors','lintspaces-cli','stream-http','uvu','eslint-plugin-no-only-tests','standard-version','error-ex','regenerator-runtime','p-limit','karma-jasmine-ajax'], function(processNextickArgs,rollupPluginTerser,tensorflowTfjs,domhandler,objectGetownpropertydescriptors,lintspacesCli,streamHttp,uvu,eslintPluginNoOnlyTests,standardVersion,errorEx,regeneratorRuntime,pLimit,karmaJasmineAjax){\\n'use strict'\\nconst {withDocumentServices} = require('@wix/santa-integration-tests') test('TextInput should fit its content - larger content', withDocumentServices({}, async ({site, components}) => { const width = 2 const height = 2 const comp = await site.addComponent(components.TextInput, {layout: {width, height}}) const layout = await comp.getLayout() expect(layout.width).toBeGreaterThan(width) expect(layout.height).toBeGreaterThan(height) })\\n) test('TextInput should not shrink to context', withDocumentServices({}, async ({site, components}) => { const width = 100 const height = 200 const comp = await site.addComponent(components.TextInput, {layout: {width, height}}) const box = await comp.getLayout() expect(box.width).toEqual(width) expect(box.height).toEqual(height) })\\n) test('TextInput should fit its content - larger content - TextAreaInputSkin', withDocumentServices({}, async ({site, components}) => { const width = 2 const height = 2 const comp = await site.addComponent( components.TextAreaInput, {layout: {width, height}, skin: 'wysiwyg.viewer.skins.input.TextAreaInputSkin'}) const box = await comp.getLayout() expect(box.width).toBeGreaterThan(width) expect(box.height).toBeGreaterThan(height) })\\n)\\n})\\n####","completion":" import processNextickArgs from 'process-nextick-args'\\nimport rollupPluginTerser from 'rollup-plugin-terser'\\nimport tensorflowTfjs from '@tensorflow/tfjs'\\nimport domhandler from 'domhandler'\\nimport objectGetownpropertydescriptors from 'object.getownpropertydescriptors'\\nimport lintspacesCli from 'lintspaces-cli'\\nimport streamHttp from 'stream-http'\\nimport uvu from 'uvu'\\nimport eslintPluginNoOnlyTests from 'eslint-plugin-no-only-tests'\\nimport standardVersion from 'standard-version'\\nimport errorEx from 'error-ex'\\nimport regeneratorRuntime from 'regenerator-runtime'\\nimport pLimit from 'p-limit'\\nimport karmaJasmineAjax from 'karma-jasmine-ajax'\\n\\n'use strict'\\nconst {withDocumentServices} = require('@wix/santa-integration-tests') test('TextInput should fit its content - larger content', withDocumentServices({}, async ({site, components}) => { const width = 2 const height = 2 const comp = await site.addComponent(components.TextInput, {layout: {width, height}}) const layout = await comp.getLayout() expect(layout.width).toBeGreaterThan(width) expect(layout.height).toBeGreaterThan(height) })\\n) test('TextInput should not shrink to context', withDocumentServices({}, async ({site, components}) => { const width = 100 const height = 200 const comp = await site.addComponent(components.TextInput, {layout: {width, height}}) const box = await comp.getLayout() expect(box.width).toEqual(width) expect(box.height).toEqual(height) })\\n) test('TextInput should fit its content - larger content - TextAreaInputSkin', withDocumentServices({}, async ({site, components}) => { const width = 2 const height = 2 const comp = await site.addComponent( components.TextAreaInput, {layout: {width, height}, skin: 'wysiwyg.viewer.skins.input.TextAreaInputSkin'}) const box = await comp.getLayout() expect(box.width).toBeGreaterThan(width) expect(box.height).toBeGreaterThan(height) })\\n)\\n####"}
{"prompt":"define(['expect','@types/jest','google-protobuf','serve-handler','chownr','karma-commonjs','gulp-flatten','@babel/plugin-syntax-class-static-block','prettier'], function(expect,typesJest,googleProtobuf,serveHandler,chownr,karmaCommonjs,gulpFlatten,babelPluginSyntaxClassStaticBlock,prettier){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.wix.com/demone2/ice-cream-parlor (45)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/ice-cream-parlor', emulateMobileDevice: true, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/45-ice-cream-parlor/anchors/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import expect from 'expect'\\nimport typesJest from '@types/jest'\\nimport googleProtobuf from 'google-protobuf'\\nimport serveHandler from 'serve-handler'\\nimport chownr from 'chownr'\\nimport karmaCommonjs from 'karma-commonjs'\\nimport gulpFlatten from 'gulp-flatten'\\nimport babelPluginSyntaxClassStaticBlock from '@babel/plugin-syntax-class-static-block'\\nimport prettier from 'prettier'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.wix.com/demone2/ice-cream-parlor (45)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/ice-cream-parlor', emulateMobileDevice: true, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/45-ice-cream-parlor/anchors/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['size-limit','@types/lodash','file-loader','clang-format','escape-string-regexp'], function(sizeLimit,typesLodash,fileLoader,clangFormat,escapeStringRegexp){\\nimport { expect } from 'chai';\\nimport nock from 'nock';\\nimport * as fileLocations from '../../src/ssr/fileLocations'; describe('Menus SSR file locations module', () => { beforeEach(() => { fileLocations.init({ jsUrl: 'http://host/app.bundle.js', simpleJsUrl: 'http://host/app-simple.bundle.js', cssUrl: 'http://host/app.css', }); }); before(() => { nock('http://host') .get('/app.css') .times(1) .reply(200, '.cls { color: green; }'); }); it('Should provide correct jsUrl and wss', async () => { const locations = await fileLocations.getVersion(); expect(locations.jsUrl).to.equal('http://host/app.bundle.js'); expect(locations.simpleJsUrl).to.equal('http://host/app-simple.bundle.js'); expect(locations.wss.tokens[0].text[0]).to.equal('.cls { color: green; }'); }); it('Should use cached CSS', async () => { // Nock is configured to answer the request to the CSS // only once, meaning if this test passes, the data is // from the cache const locations = await fileLocations.getVersion(); expect(locations.wss.tokens[0].text[0]).to.equal('.cls { color: green; }'); }); it('Should work on implicit protocol (://url)', async () => { fileLocations.init({ jsUrl: '//host/app.bundle.js', cssUrl: 'http://host/app.css', }); const locations = await fileLocations.getVersion(); expect(locations.jsUrl).to.equal('https://host/app.bundle.js'); });\\n});\\n\\n})\\n####","completion":" import sizeLimit from 'size-limit'\\nimport typesLodash from '@types/lodash'\\nimport fileLoader from 'file-loader'\\nimport clangFormat from 'clang-format'\\nimport escapeStringRegexp from 'escape-string-regexp'\\n\\nimport { expect } from 'chai';\\nimport nock from 'nock';\\nimport * as fileLocations from '../../src/ssr/fileLocations'; describe('Menus SSR file locations module', () => { beforeEach(() => { fileLocations.init({ jsUrl: 'http://host/app.bundle.js', simpleJsUrl: 'http://host/app-simple.bundle.js', cssUrl: 'http://host/app.css', }); }); before(() => { nock('http://host') .get('/app.css') .times(1) .reply(200, '.cls { color: green; }'); }); it('Should provide correct jsUrl and wss', async () => { const locations = await fileLocations.getVersion(); expect(locations.jsUrl).to.equal('http://host/app.bundle.js'); expect(locations.simpleJsUrl).to.equal('http://host/app-simple.bundle.js'); expect(locations.wss.tokens[0].text[0]).to.equal('.cls { color: green; }'); }); it('Should use cached CSS', async () => { // Nock is configured to answer the request to the CSS // only once, meaning if this test passes, the data is // from the cache const locations = await fileLocations.getVersion(); expect(locations.wss.tokens[0].text[0]).to.equal('.cls { color: green; }'); }); it('Should work on implicit protocol (://url)', async () => { fileLocations.init({ jsUrl: '//host/app.bundle.js', cssUrl: 'http://host/app.css', }); const locations = await fileLocations.getVersion(); expect(locations.jsUrl).to.equal('https://host/app.bundle.js'); });\\n});\\n\\n####"}
{"prompt":"define(['cssnano-preset-lite','@parcel/packager-svg','grunt-webpack','chai-exclude'], function(cssnanoPresetLite,parcelPackagerSvg,gruntWebpack,chaiExclude){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.wix.com/demone2/beauty-salon (40)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/beauty-salon', emulateMobileDevice: false, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/40-beauty-salon/anchors/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import cssnanoPresetLite from 'cssnano-preset-lite'\\nimport parcelPackagerSvg from '@parcel/packager-svg'\\nimport gruntWebpack from 'grunt-webpack'\\nimport chaiExclude from 'chai-exclude'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.wix.com/demone2/beauty-salon (40)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/beauty-salon', emulateMobileDevice: false, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/40-beauty-salon/anchors/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['@types/ws','regexp.prototype.flags','os-browserify','size-table','unexpected','@parcel/bundler-default','ms','strip-ansi','prelude-ls','@parcel/node-resolver-core','core-js-compat','@babel/core-7.12','@babel/helper-simple-access','benchmark','karma-typescript','eslint-plugin-jsx-a11y','@babel/plugin-proposal-async-generator-functions','glamor','unicode-9.0.0','globby'], function(typesWs,regexpPrototypeFlags,osBrowserify,sizeTable,unexpected,parcelBundlerDefault,ms,stripAnsi,preludeLs,parcelNodeResolverCore,coreJsCompat,babelCore712,babelHelperSimpleAccess,benchmark,karmaTypescript,eslintPluginJsxA11Y,babelPluginProposalAsyncGeneratorFunctions,glamor,unicode900,globby){\\nmodule.exports = function(grunt) { grunt.initConfig({ jshint: { options: { bitwise: false, curly: true, eqeqeq: true, forin: false, immed: true, latedef: true, newcap: true, noarg: true, noempty: true, nonew: false, plusplus: false, regexp: false, undef: true, strict: false, trailing: true, browser: true, node: true, globals: { define: true, requirejs: true, require: true, describe: true, it: true, mocha: true, chai: true } }, files: [ 'Gruntfile.js', 'src/Squire.js', 'test/config.js', 'test/tests/**/*.js' ] }, mocha: { files: ['test/tests.html', 'test/tests-with-main.html'] }, watch: { test: { files: ['test/**/*', 'src/**/*'], tasks: ['jshint', 'mocha'] } } }); grunt.loadNpmTasks('grunt-mocha'); grunt.loadNpmTasks('grunt-contrib-jshint'); grunt.loadNpmTasks('grunt-contrib-watch'); /** * Register the default task! */ grunt.registerTask('default', ['jshint', 'mocha']); };\\n\\n})\\n####","completion":" import typesWs from '@types/ws'\\nimport regexpPrototypeFlags from 'regexp.prototype.flags'\\nimport osBrowserify from 'os-browserify'\\nimport sizeTable from 'size-table'\\nimport unexpected from 'unexpected'\\nimport parcelBundlerDefault from '@parcel/bundler-default'\\nimport ms from 'ms'\\nimport stripAnsi from 'strip-ansi'\\nimport preludeLs from 'prelude-ls'\\nimport parcelNodeResolverCore from '@parcel/node-resolver-core'\\nimport coreJsCompat from 'core-js-compat'\\nimport babelCore712 from '@babel/core-7.12'\\nimport babelHelperSimpleAccess from '@babel/helper-simple-access'\\nimport benchmark from 'benchmark'\\nimport karmaTypescript from 'karma-typescript'\\nimport eslintPluginJsxA11Y from 'eslint-plugin-jsx-a11y'\\nimport babelPluginProposalAsyncGeneratorFunctions from '@babel/plugin-proposal-async-generator-functions'\\nimport glamor from 'glamor'\\nimport unicode900 from 'unicode-9.0.0'\\nimport globby from 'globby'\\n\\nmodule.exports = function(grunt) { grunt.initConfig({ jshint: { options: { bitwise: false, curly: true, eqeqeq: true, forin: false, immed: true, latedef: true, newcap: true, noarg: true, noempty: true, nonew: false, plusplus: false, regexp: false, undef: true, strict: false, trailing: true, browser: true, node: true, globals: { define: true, requirejs: true, require: true, describe: true, it: true, mocha: true, chai: true } }, files: [ 'Gruntfile.js', 'src/Squire.js', 'test/config.js', 'test/tests/**/*.js' ] }, mocha: { files: ['test/tests.html', 'test/tests-with-main.html'] }, watch: { test: { files: ['test/**/*', 'src/**/*'], tasks: ['jshint', 'mocha'] } } }); grunt.loadNpmTasks('grunt-mocha'); grunt.loadNpmTasks('grunt-contrib-jshint'); grunt.loadNpmTasks('grunt-contrib-watch'); /** * Register the default task! */ grunt.registerTask('default', ['jshint', 'mocha']); };\\n\\n####"}
{"prompt":"define(['browserify','@parcel/package-manager'], function(browserify,parcelPackageManager){\\nimport GoogleMapsMap from '../src/web/GoogleMaps/Map.js';\\nimport GoogleMapsMarker from '../src/web/GoogleMaps/Marker.js';\\nimport GoogleMapsPolygon from '../src/web/GoogleMaps/Polygon.js';\\nimport WixRestIcon from '../src/web/WixRestIcon/WixRestIcon.js';\\nimport I18nWebLoader from '../src/web/I18nWebLoader/index.js';\\nimport CssProvider from '../src/web/CssProvider/CssProvider.js';\\nimport GoogleAddressInputBox from '../src/mobile/GoogleAddressInputBox/GoogleAddressInputBox.js';\\nimport OrderDetails from '../src/mobile/OrderDetails/OrderDetails.js';\\nimport Spinner from '../src/mobile/Spinner/Spinner.js';\\nimport Modal from '../src/mobile/Modal/Modal.js';\\nimport Tabs from '../src/mobile/Tabs/Tabs.js';\\nimport StaticMap from '../src/mobile/StaticMap/StaticMap.js';\\nimport RadioCheckbox from '../src/mobile/ClientRadioCheckbox/ClientRadioCheckbox.js';\\nimport OrderSms from '../src/mobile/OrderSms/OrderSms';\\nimport createMapIcon from '../src/mobile/CreateMapIcon/createMapIcon.js'; export { StaticMap, GoogleMapsMap, GoogleMapsMarker, GoogleMapsPolygon, WixRestIcon, I18nWebLoader, CssProvider, GoogleAddressInputBox, OrderDetails, Spinner, Modal, Tabs, RadioCheckbox, OrderSms, createMapIcon,\\n};\\n\\n})\\n####","completion":" import browserify from 'browserify'\\nimport parcelPackageManager from '@parcel/package-manager'\\n\\nimport GoogleMapsMap from '../src/web/GoogleMaps/Map.js';\\nimport GoogleMapsMarker from '../src/web/GoogleMaps/Marker.js';\\nimport GoogleMapsPolygon from '../src/web/GoogleMaps/Polygon.js';\\nimport WixRestIcon from '../src/web/WixRestIcon/WixRestIcon.js';\\nimport I18nWebLoader from '../src/web/I18nWebLoader/index.js';\\nimport CssProvider from '../src/web/CssProvider/CssProvider.js';\\nimport GoogleAddressInputBox from '../src/mobile/GoogleAddressInputBox/GoogleAddressInputBox.js';\\nimport OrderDetails from '../src/mobile/OrderDetails/OrderDetails.js';\\nimport Spinner from '../src/mobile/Spinner/Spinner.js';\\nimport Modal from '../src/mobile/Modal/Modal.js';\\nimport Tabs from '../src/mobile/Tabs/Tabs.js';\\nimport StaticMap from '../src/mobile/StaticMap/StaticMap.js';\\nimport RadioCheckbox from '../src/mobile/ClientRadioCheckbox/ClientRadioCheckbox.js';\\nimport OrderSms from '../src/mobile/OrderSms/OrderSms';\\nimport createMapIcon from '../src/mobile/CreateMapIcon/createMapIcon.js'; export { StaticMap, GoogleMapsMap, GoogleMapsMarker, GoogleMapsPolygon, WixRestIcon, I18nWebLoader, CssProvider, GoogleAddressInputBox, OrderDetails, Spinner, Modal, Tabs, RadioCheckbox, OrderSms, createMapIcon,\\n};\\n\\n####"}
{"prompt":"define(['inherits','@trysound/sax','glamor','@mapbox/cloudfriend','teeny-request','eslint-plugin-compat','postcss-colormin','size-table','fastest-levenshtein','@parcel/babel-register'], function(inherits,trysoundSax,glamor,mapboxCloudfriend,teenyRequest,eslintPluginCompat,postcssColormin,sizeTable,fastestLevenshtein,parcelBabelRegister){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.wix.com/demone2/food-photo (41)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/food-photo', emulateMobileDevice: true, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/41-food-photographer/mesh/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import inherits from 'inherits'\\nimport trysoundSax from '@trysound/sax'\\nimport glamor from 'glamor'\\nimport mapboxCloudfriend from '@mapbox/cloudfriend'\\nimport teenyRequest from 'teeny-request'\\nimport eslintPluginCompat from 'eslint-plugin-compat'\\nimport postcssColormin from 'postcss-colormin'\\nimport sizeTable from 'size-table'\\nimport fastestLevenshtein from 'fastest-levenshtein'\\nimport parcelBabelRegister from '@parcel/babel-register'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.wix.com/demone2/food-photo (41)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/food-photo', emulateMobileDevice: true, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/41-food-photographer/mesh/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['karmatic','async-listen','mocha-lcov-reporter','slice-ansi'], function(karmatic,asyncListen,mochaLcovReporter,sliceAnsi){\\nimport StyledContainer from '../../../../../src/dashboard/web/components/StyledContainer/StyledContainer.js';\\nimport StyledContainerHeader from '../../../../../src/dashboard/web/components/StyledContainer/StyledContainerHeader.js'; export default React.createClass({ render() { return ( <div style={{backgroundColor:'#eeeeee', width:'100%', padding:'20px'}} > <StyledContainer style='wixpanel'> <StyledContainerHeader> <div> I am a header </div> </StyledContainerHeader> <div> I am data in a container </div> </StyledContainer> <br/> <StyledContainer style='wixpanel'> <StyledContainerHeader image='http://img0.gtsstatic.com/wallpapers/d19870c6460dbe603d07411fe986f3df_large.jpeg'> <div> I am a header </div> </StyledContainerHeader> <div> I am data in a container </div> </StyledContainer> </div> ); }\\n});\\n\\n})\\n####","completion":" import karmatic from 'karmatic'\\nimport asyncListen from 'async-listen'\\nimport mochaLcovReporter from 'mocha-lcov-reporter'\\nimport sliceAnsi from 'slice-ansi'\\n\\nimport StyledContainer from '../../../../../src/dashboard/web/components/StyledContainer/StyledContainer.js';\\nimport StyledContainerHeader from '../../../../../src/dashboard/web/components/StyledContainer/StyledContainerHeader.js'; export default React.createClass({ render() { return ( <div style={{backgroundColor:'#eeeeee', width:'100%', padding:'20px'}} > <StyledContainer style='wixpanel'> <StyledContainerHeader> <div> I am a header </div> </StyledContainerHeader> <div> I am data in a container </div> </StyledContainer> <br/> <StyledContainer style='wixpanel'> <StyledContainerHeader image='http://img0.gtsstatic.com/wallpapers/d19870c6460dbe603d07411fe986f3df_large.jpeg'> <div> I am a header </div> </StyledContainerHeader> <div> I am data in a container </div> </StyledContainer> </div> ); }\\n});\\n\\n####"}
{"prompt":"define(['uvu','esbuild-register'], function(uvu,esbuildRegister){\\nimport PropTypes from 'prop-types';\\nimport React from 'react'; export default class extends React.Component { static propTypes = { width: PropTypes.number, height: PropTypes.number, color: PropTypes.string, }; static defaultProps = { width: 25, height: 26, color: 'rgb(255,255,255)' }; render() { return ( <svg width={this.props.width + 'px'} height={this.props.height + 'px'} fill={this.props.color} viewBox='0 0 51 52'> <g id=\\\"Page-1\\\" stroke=\\\"none\\\" strokeWidth=\\\"1\\\" fill=\\\"none\\\" fillRule=\\\"evenodd\\\"> <g id=\\\"Search\\\" fill=\\\"#000000\\\"> <path d=\\\"M50.5,48.4 L42,39.8 C45.4,35.7 47.5,30.4 47.5,24.6 C47.5,11.5 36.9,0.9 23.8,0.9 C10.7,0.9 0,11.6 0,24.7 C0,37.8 10.6,48.4 23.7,48.4 C29.9,48.4 35.6,46 39.8,42.1 L48.3,50.6 C48.9,51.2 49.8,51.2 50.4,50.6 L50.5,50.5 C51.1,49.9 51.1,49 50.5,48.4 L50.5,48.4 Z M38.9,38.8 C38.8,38.8 38.8,38.8 38.9,38.8 L38.8,38.9 C38.8,38.9 38.8,39 38.7,39 C34.9,43 29.6,45.4 23.7,45.4 C12.3,45.4 3,36.1 3,24.7 C3,13.2 12.3,3.9 23.7,3.9 C35.1,3.9 44.4,13.2 44.4,24.6 C44.5,30.1 42.3,35.1 38.9,38.8 L38.9,38.8 Z\\\" id=\\\"Shape\\\"></path> </g> </g> </svg> ); }\\n}\\n\\n})\\n####","completion":" import uvu from 'uvu'\\nimport esbuildRegister from 'esbuild-register'\\n\\nimport PropTypes from 'prop-types';\\nimport React from 'react'; export default class extends React.Component { static propTypes = { width: PropTypes.number, height: PropTypes.number, color: PropTypes.string, }; static defaultProps = { width: 25, height: 26, color: 'rgb(255,255,255)' }; render() { return ( <svg width={this.props.width + 'px'} height={this.props.height + 'px'} fill={this.props.color} viewBox='0 0 51 52'> <g id=\\\"Page-1\\\" stroke=\\\"none\\\" strokeWidth=\\\"1\\\" fill=\\\"none\\\" fillRule=\\\"evenodd\\\"> <g id=\\\"Search\\\" fill=\\\"#000000\\\"> <path d=\\\"M50.5,48.4 L42,39.8 C45.4,35.7 47.5,30.4 47.5,24.6 C47.5,11.5 36.9,0.9 23.8,0.9 C10.7,0.9 0,11.6 0,24.7 C0,37.8 10.6,48.4 23.7,48.4 C29.9,48.4 35.6,46 39.8,42.1 L48.3,50.6 C48.9,51.2 49.8,51.2 50.4,50.6 L50.5,50.5 C51.1,49.9 51.1,49 50.5,48.4 L50.5,48.4 Z M38.9,38.8 C38.8,38.8 38.8,38.8 38.9,38.8 L38.8,38.9 C38.8,38.9 38.8,39 38.7,39 C34.9,43 29.6,45.4 23.7,45.4 C12.3,45.4 3,36.1 3,24.7 C3,13.2 12.3,3.9 23.7,3.9 C35.1,3.9 44.4,13.2 44.4,24.6 C44.5,30.1 42.3,35.1 38.9,38.8 L38.9,38.8 Z\\\" id=\\\"Shape\\\"></path> </g> </g> </svg> ); }\\n}\\n\\n####"}
{"prompt":"define(['make-async-function','del','@ungap/url-search-params','karma-jasmine-ajax','@babel/helper-explode-assignable-expression','json5','@babel/eslint-plugin','@babel/plugin-transform-modules-amd','mr','@rollup/plugin-json','rimraf','chrome-trace-event','balanced-match'], function(makeAsyncFunction,del,ungapUrlSearchParams,karmaJasmineAjax,babelHelperExplodeAssignableExpression,json5,babelEslintPlugin,babelPluginTransformModulesAmd,mr,rollupPluginJson,rimraf,chromeTraceEvent,balancedMatch){\\n'use strict'\\nconst fs = require('fs-extra')\\ntry { //conf/tasks/generateDataSchemas.js const externalDataSchemas = require('@wix/wix-ui-santa/dataSchemas').default extendSchemas( externalDataSchemas, '../document-services-json-schemas/dist/originalSchemas/data.json', './src/documentServicesSchemas/src/main/generated/allDataSchemas.json' ) //conf/tasks/generatePropertiesSchemas.js const externalPropertiesSchemas = require('@wix/wix-ui-santa/propertiesSchemas').default extendSchemas( externalPropertiesSchemas, '../document-services-json-schemas/dist/originalSchemas/props.json', './src/documentServicesSchemas/src/main/generated/allPropertiesSchemas.json' ) const externalComponentsDefinitionsMap = require('@wix/wix-ui-santa/componentsDefinitionsMap').default extendSchemas( externalComponentsDefinitionsMap, '../document-services-json-schemas/dist/originalSchemas/componentsDefinitionsMap.json', './src/documentServicesSchemas/src/main/generated/allComponentsDefinitionsMap.json' )\\n} catch (e) { console.error(e)\\n}\\nfunction extendSchemas(externalSchemas, internalSchemasFile, outFile) { const internalDataSchemas = fs.readJsonSync(internalSchemasFile) const dataSchema = Object.assign({}, internalDataSchemas, externalSchemas) fs.outputJsonSync(outFile, dataSchema, {spaces: 4})\\n}\\n\\n})\\n####","completion":" import makeAsyncFunction from 'make-async-function'\\nimport del from 'del'\\nimport ungapUrlSearchParams from '@ungap/url-search-params'\\nimport karmaJasmineAjax from 'karma-jasmine-ajax'\\nimport babelHelperExplodeAssignableExpression from '@babel/helper-explode-assignable-expression'\\nimport json5 from 'json5'\\nimport babelEslintPlugin from '@babel/eslint-plugin'\\nimport babelPluginTransformModulesAmd from '@babel/plugin-transform-modules-amd'\\nimport mr from 'mr'\\nimport rollupPluginJson from '@rollup/plugin-json'\\nimport rimraf from 'rimraf'\\nimport chromeTraceEvent from 'chrome-trace-event'\\nimport balancedMatch from 'balanced-match'\\n\\n'use strict'\\nconst fs = require('fs-extra')\\ntry { //conf/tasks/generateDataSchemas.js const externalDataSchemas = require('@wix/wix-ui-santa/dataSchemas').default extendSchemas( externalDataSchemas, '../document-services-json-schemas/dist/originalSchemas/data.json', './src/documentServicesSchemas/src/main/generated/allDataSchemas.json' ) //conf/tasks/generatePropertiesSchemas.js const externalPropertiesSchemas = require('@wix/wix-ui-santa/propertiesSchemas').default extendSchemas( externalPropertiesSchemas, '../document-services-json-schemas/dist/originalSchemas/props.json', './src/documentServicesSchemas/src/main/generated/allPropertiesSchemas.json' ) const externalComponentsDefinitionsMap = require('@wix/wix-ui-santa/componentsDefinitionsMap').default extendSchemas( externalComponentsDefinitionsMap, '../document-services-json-schemas/dist/originalSchemas/componentsDefinitionsMap.json', './src/documentServicesSchemas/src/main/generated/allComponentsDefinitionsMap.json' )\\n} catch (e) { console.error(e)\\n}\\nfunction extendSchemas(externalSchemas, internalSchemasFile, outFile) { const internalDataSchemas = fs.readJsonSync(internalSchemasFile) const dataSchema = Object.assign({}, internalDataSchemas, externalSchemas) fs.outputJsonSync(outFile, dataSchema, {spaces: 4})\\n}\\n\\n####"}
{"prompt":"define(['unicode-10.0.0','charcodes','universalify','tty-browserify','clone','everything.js','@babel/plugin-proposal-unicode-property-regex','postcss-normalize-positions','postcss-calc','eslint-import-resolver-typescript','@babel/plugin-transform-runtime','@babel/plugin-syntax-object-rest-spread','@babel/plugin-transform-property-literals','eslint-config-prettier','unexpected','yargs','hyphenate-style-name'], function(unicode1000,charcodes,universalify,ttyBrowserify,clone,everythingJs,babelPluginProposalUnicodePropertyRegex,postcssNormalizePositions,postcssCalc,eslintImportResolverTypescript,babelPluginTransformRuntime,babelPluginSyntaxObjectRestSpread,babelPluginTransformPropertyLiterals,eslintConfigPrettier,unexpected,yargs,hyphenateStyleName){\\n'use strict' function throttle(callback, wait, options = {}) { const leading = options.leading !== false let isWait = false let args; let pending; let leadingCalled return function () { args = arguments if (leading) { if (!leadingCalled) { callback.apply(null, args) leadingCalled = true args = [] window.setTimeout(() => { if (pending) { callback.apply(null, args) pending = false } leadingCalled = false }, wait) } else { pending = true } } else if (!isWait) { window.setTimeout(() => { callback.apply(null, args) isWait = false }, wait) isWait = true } }\\n} function debounce(callback, wait) { let timer return function () { const args = arguments if (timer) { window.clearTimeout(timer) } timer = window.setTimeout(function () { callback.apply(null, args) }, wait) }\\n} module.exports = { throttle, debounce\\n}\\n\\n})\\n####","completion":" import unicode1000 from 'unicode-10.0.0'\\nimport charcodes from 'charcodes'\\nimport universalify from 'universalify'\\nimport ttyBrowserify from 'tty-browserify'\\nimport clone from 'clone'\\nimport everythingJs from 'everything.js'\\nimport babelPluginProposalUnicodePropertyRegex from '@babel/plugin-proposal-unicode-property-regex'\\nimport postcssNormalizePositions from 'postcss-normalize-positions'\\nimport postcssCalc from 'postcss-calc'\\nimport eslintImportResolverTypescript from 'eslint-import-resolver-typescript'\\nimport babelPluginTransformRuntime from '@babel/plugin-transform-runtime'\\nimport babelPluginSyntaxObjectRestSpread from '@babel/plugin-syntax-object-rest-spread'\\nimport babelPluginTransformPropertyLiterals from '@babel/plugin-transform-property-literals'\\nimport eslintConfigPrettier from 'eslint-config-prettier'\\nimport unexpected from 'unexpected'\\nimport yargs from 'yargs'\\nimport hyphenateStyleName from 'hyphenate-style-name'\\n\\n'use strict' function throttle(callback, wait, options = {}) { const leading = options.leading !== false let isWait = false let args; let pending; let leadingCalled return function () { args = arguments if (leading) { if (!leadingCalled) { callback.apply(null, args) leadingCalled = true args = [] window.setTimeout(() => { if (pending) { callback.apply(null, args) pending = false } leadingCalled = false }, wait) } else { pending = true } } else if (!isWait) { window.setTimeout(() => { callback.apply(null, args) isWait = false }, wait) isWait = true } }\\n} function debounce(callback, wait) { let timer return function () { const args = arguments if (timer) { window.clearTimeout(timer) } timer = window.setTimeout(function () { callback.apply(null, args) }, wait) }\\n} module.exports = { throttle, debounce\\n}\\n\\n####"}
{"prompt":"define(['grunt-css-url-embed','tar-fs','klaw-sync','@parcel/types','fs.realpath','stylehacks','lerna'], function(gruntCssUrlEmbed,tarFs,klawSync,parcelTypes,fsRealpath,stylehacks,lerna){\\nimport React, {Component} from 'react';\\nimport {number} from 'prop-types';\\nimport s from './RestaurantTileWrapper.scss'; export default function (WrappedComponent) { return class RestaurantTileWrapper extends Component { static propTypes = { aspectRatio: number, height: number }; calcPaddingTop() { let {aspectRatio, height} = this.props; if (height) { return height; } else { if (!aspectRatio) { aspectRatio = 1; } return `${100 * (1 / aspectRatio)}%`; } } render() { const paddingTop = this.calcPaddingTop(); return ( <div className={s.wrapper}> <div className={s.dimensions} style={{paddingTop}}> <div className={s.inner}> <WrappedComponent {...this.props}/> </div> </div> </div> ); } };\\n}\\n\\n})\\n####","completion":" import gruntCssUrlEmbed from 'grunt-css-url-embed'\\nimport tarFs from 'tar-fs'\\nimport klawSync from 'klaw-sync'\\nimport parcelTypes from '@parcel/types'\\nimport fsRealpath from 'fs.realpath'\\nimport stylehacks from 'stylehacks'\\nimport lerna from 'lerna'\\n\\nimport React, {Component} from 'react';\\nimport {number} from 'prop-types';\\nimport s from './RestaurantTileWrapper.scss'; export default function (WrappedComponent) { return class RestaurantTileWrapper extends Component { static propTypes = { aspectRatio: number, height: number }; calcPaddingTop() { let {aspectRatio, height} = this.props; if (height) { return height; } else { if (!aspectRatio) { aspectRatio = 1; } return `${100 * (1 / aspectRatio)}%`; } } render() { const paddingTop = this.calcPaddingTop(); return ( <div className={s.wrapper}> <div className={s.dimensions} style={{paddingTop}}> <div className={s.inner}> <WrappedComponent {...this.props}/> </div> </div> </div> ); } };\\n}\\n\\n####"}
{"prompt":"define(['@types/csso','a','regexp.prototype.flags'], function(typesCsso,a,regexpPrototypeFlags){\\nimport * as sharedLogic from '../../logic/Misc';\\nimport PropTypes from 'prop-types';\\nimport React from 'react'; import createReactClass from 'create-react-class'; require('./WixRestRadioButton.css'); // - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - export default createReactClass({ displayName: 'WixRestRadioButton', propTypes: { checked: PropTypes.bool, disabled: PropTypes.bool, hover: PropTypes.bool, // FOR AUTOMATIC TESTING active: PropTypes.bool, // FOR AUTOMATIC TESTING }, shouldComponentUpdate(nextProps, nextState, nextContext) { return sharedLogic.$shouldComponentUpdate.bind(this)(arguments); }, displayType: 'WixRestRadioButton', // - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - render() { let className = 'wixrestreact_wixrestradiobutton' + (this.props.checked ? ' checked' : ' unchecked') + (this.props.hover ? ' hover' : '') + (this.props.active ? ' active' : '') + (this.props.disabled ? ' disabled' : ''); return ( <div className={className} onClick={this.props.disabled ? null : this.props.onClick}> <div className='inner'> </div> <div className='children'>{this.props.children}</div> </div> ); },\\n});\\n\\n})\\n####","completion":" import typesCsso from '@types/csso'\\nimport a from 'a'\\nimport regexpPrototypeFlags from 'regexp.prototype.flags'\\n\\nimport * as sharedLogic from '../../logic/Misc';\\nimport PropTypes from 'prop-types';\\nimport React from 'react'; import createReactClass from 'create-react-class'; require('./WixRestRadioButton.css'); // - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - export default createReactClass({ displayName: 'WixRestRadioButton', propTypes: { checked: PropTypes.bool, disabled: PropTypes.bool, hover: PropTypes.bool, // FOR AUTOMATIC TESTING active: PropTypes.bool, // FOR AUTOMATIC TESTING }, shouldComponentUpdate(nextProps, nextState, nextContext) { return sharedLogic.$shouldComponentUpdate.bind(this)(arguments); }, displayType: 'WixRestRadioButton', // - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - render() { let className = 'wixrestreact_wixrestradiobutton' + (this.props.checked ? ' checked' : ' unchecked') + (this.props.hover ? ' hover' : '') + (this.props.active ? ' active' : '') + (this.props.disabled ? ' disabled' : ''); return ( <div className={className} onClick={this.props.disabled ? null : this.props.onClick}> <div className='inner'> </div> <div className='children'>{this.props.children}</div> </div> ); },\\n});\\n\\n####"}
{"prompt":"define(['karma','colors','is-buffer','d3-polygon','number-is-nan','constants-browserify','is-date-object','promise','iced-coffee-script','babel-plugin-transform-es2015-computed-properties','source-map','grunt-clean','@parcel/package-manager','d3-geo','d3-color','tty-browserify','@types/css-tree','is-path-inside','pre-suf'], function(karma,colors,isBuffer,d3Polygon,numberIsNan,constantsBrowserify,isDateObject,promise,icedCoffeeScript,babelPluginTransformEs2015ComputedProperties,sourceMap,gruntClean,parcelPackageManager,d3Geo,d3Color,ttyBrowserify,typesCssTree,isPathInside,preSuf){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.wix.com/demone2/event-planners (31)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/event-planners', emulateMobileDevice: false, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/31-event-planners/mesh/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import karma from 'karma'\\nimport colors from 'colors'\\nimport isBuffer from 'is-buffer'\\nimport d3Polygon from 'd3-polygon'\\nimport numberIsNan from 'number-is-nan'\\nimport constantsBrowserify from 'constants-browserify'\\nimport isDateObject from 'is-date-object'\\nimport promise from 'promise'\\nimport icedCoffeeScript from 'iced-coffee-script'\\nimport babelPluginTransformEs2015ComputedProperties from 'babel-plugin-transform-es2015-computed-properties'\\nimport sourceMap from 'source-map'\\nimport gruntClean from 'grunt-clean'\\nimport parcelPackageManager from '@parcel/package-manager'\\nimport d3Geo from 'd3-geo'\\nimport d3Color from 'd3-color'\\nimport ttyBrowserify from 'tty-browserify'\\nimport typesCssTree from '@types/css-tree'\\nimport isPathInside from 'is-path-inside'\\nimport preSuf from 'pre-suf'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.wix.com/demone2/event-planners (31)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/event-planners', emulateMobileDevice: false, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/31-event-planners/mesh/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['auto-changelog','gzip-size','supports-color'], function(autoChangelog,gzipSize,supportsColor){\\ndefine(['documentServices/constants/constants', 'documentServices/utils/utils'], function (consts, dsUtils) { 'use strict' const HeightLayout = Object.freeze({ MANUAL: 'manual', AUTO: 'auto' }) return { defaultMobileProperties: { columnLayout: 'manual' }, mobileConversionConfig: { fixedSize(ps, component) { return {height: component.layout.height} } }, resizableSides(ps, compPointer) { const sides = [consts.RESIZE_SIDES.LEFT, consts.RESIZE_SIDES.RIGHT], compStructure = ps.dal.get(compPointer), page = ps.pointers.components.getPageOfComponent(compPointer), pageId = page && page.id, compPropsPointer = ps.pointers.data.getPropertyItem(dsUtils.stripHashIfExists(compStructure.propertyQuery), pageId), compProps = ps.dal.get(compPropsPointer) if (compProps.heightLayout !== HeightLayout.AUTO) { sides.push(consts.RESIZE_SIDES.TOP, consts.RESIZE_SIDES.BOTTOM) } return sides } }\\n})\\n\\n})\\n####","completion":" import autoChangelog from 'auto-changelog'\\nimport gzipSize from 'gzip-size'\\nimport supportsColor from 'supports-color'\\n\\ndefine(['documentServices/constants/constants', 'documentServices/utils/utils'], function (consts, dsUtils) { 'use strict' const HeightLayout = Object.freeze({ MANUAL: 'manual', AUTO: 'auto' }) return { defaultMobileProperties: { columnLayout: 'manual' }, mobileConversionConfig: { fixedSize(ps, component) { return {height: component.layout.height} } }, resizableSides(ps, compPointer) { const sides = [consts.RESIZE_SIDES.LEFT, consts.RESIZE_SIDES.RIGHT], compStructure = ps.dal.get(compPointer), page = ps.pointers.components.getPageOfComponent(compPointer), pageId = page && page.id, compPropsPointer = ps.pointers.data.getPropertyItem(dsUtils.stripHashIfExists(compStructure.propertyQuery), pageId), compProps = ps.dal.get(compPropsPointer) if (compProps.heightLayout !== HeightLayout.AUTO) { sides.push(consts.RESIZE_SIDES.TOP, consts.RESIZE_SIDES.BOTTOM) } return sides } }\\n})\\n\\n####"}
{"prompt":"define(['@babel/preset-modules','grunt-contrib-copy','mock-require','@wessberg/rollup-plugin-ts','codemirror','inline-style-prefixer','node-gyp','agent-base','@types/parse-json','opn','@types/shelljs','terser'], function(babelPresetModules,gruntContribCopy,mockRequire,wessbergRollupPluginTs,codemirror,inlineStylePrefixer,nodeGyp,agentBase,typesParseJson,opn,typesShelljs,terser){\\nimport _ from 'lodash'; const THEME_TYPES = {branded: 0, grayscale: 1, grayedout: 2};\\nconst RADIUS_TYPES = {circle: 0, no_radius: 1};\\nconst THEME_PROPS = [ {name: 'type', type: THEME_TYPES}, {name: 'borderRadius', type: RADIUS_TYPES}, {name: 'inverse', type: 'boolean'}, {name: 'hasBackground', type: val => (val !== false)}, {name: 'hasBorder', type: 'boolean'}, {name: 'backgroundColor', type: 'number'}, {name: 'iconColor', type: 'number'}, {name: 'borderColor', type: 'number'}\\n]; export default function themeEncoder (theme) { let themeId = 0; let counter = 0; _.forEach(THEME_PROPS, prop => { let { name, type } = prop; let val = theme[name] || 0; if (type === 'boolean') { val = theme[name] ? 1 : 0; } else if (typeof type === 'function') { val = type(theme[name]) ? 1 : 0; } else if (typeof type === 'object' && theme[name]) { val = type[theme[name]]; } themeId += val * Math.pow(10, counter); counter++; }); return themeId + (1e+8);\\n}\\n\\n})\\n####","completion":" import babelPresetModules from '@babel/preset-modules'\\nimport gruntContribCopy from 'grunt-contrib-copy'\\nimport mockRequire from 'mock-require'\\nimport wessbergRollupPluginTs from '@wessberg/rollup-plugin-ts'\\nimport codemirror from 'codemirror'\\nimport inlineStylePrefixer from 'inline-style-prefixer'\\nimport nodeGyp from 'node-gyp'\\nimport agentBase from 'agent-base'\\nimport typesParseJson from '@types/parse-json'\\nimport opn from 'opn'\\nimport typesShelljs from '@types/shelljs'\\nimport terser from 'terser'\\n\\nimport _ from 'lodash'; const THEME_TYPES = {branded: 0, grayscale: 1, grayedout: 2};\\nconst RADIUS_TYPES = {circle: 0, no_radius: 1};\\nconst THEME_PROPS = [ {name: 'type', type: THEME_TYPES}, {name: 'borderRadius', type: RADIUS_TYPES}, {name: 'inverse', type: 'boolean'}, {name: 'hasBackground', type: val => (val !== false)}, {name: 'hasBorder', type: 'boolean'}, {name: 'backgroundColor', type: 'number'}, {name: 'iconColor', type: 'number'}, {name: 'borderColor', type: 'number'}\\n]; export default function themeEncoder (theme) { let themeId = 0; let counter = 0; _.forEach(THEME_PROPS, prop => { let { name, type } = prop; let val = theme[name] || 0; if (type === 'boolean') { val = theme[name] ? 1 : 0; } else if (typeof type === 'function') { val = type(theme[name]) ? 1 : 0; } else if (typeof type === 'object' && theme[name]) { val = type[theme[name]]; } themeId += val * Math.pow(10, counter); counter++; }); return themeId + (1e+8);\\n}\\n\\n####"}
{"prompt":"define(['nullthrows','chai-as-promised','write'], function(nullthrows,chaiAsPromised,write){\\nimport { takeEvery } from 'redux-saga';\\nimport { fork, put } from 'redux-saga/effects';\\nimport { actions } from '../actions/SessionActions';\\nimport * as WixInstanceActions from '@wix/restaurants-redux/src/actions/WixInstanceActions';\\nimport _ from 'lodash'; const onSetWixInstance = (sagaParams) => function*() { const {window} = sagaParams; const featuresOff = _.compact((_.get(window, 'options.featuresOff') || '').split(',')); const featuresOn = _.compact((_.get(window, 'options.featuresOn') || '').split(',')); const forceFeatures = _.fromPairs(_.union(_.map(featuresOff, f => ([f, false])), _.map(featuresOn, f => ([f, true])))); const isProduction = !!window.spiceProduction; const featureToggles = _.defaults( _.cloneDeep(forceFeatures), { localeswitch: !isProduction, }); yield put(actions.initFeatureToggles({featureToggles}));\\n}; const sagas = []; sagas.push(sagaParams => function*() { yield takeEvery(WixInstanceActions.types.SET_INSTANCE, onSetWixInstance(sagaParams));\\n}); export default function* ordersRootSaga(sagaParams) { yield _.map(sagas, (saga) => fork(saga(sagaParams)));\\n}\\n\\n})\\n####","completion":" import nullthrows from 'nullthrows'\\nimport chaiAsPromised from 'chai-as-promised'\\nimport write from 'write'\\n\\nimport { takeEvery } from 'redux-saga';\\nimport { fork, put } from 'redux-saga/effects';\\nimport { actions } from '../actions/SessionActions';\\nimport * as WixInstanceActions from '@wix/restaurants-redux/src/actions/WixInstanceActions';\\nimport _ from 'lodash'; const onSetWixInstance = (sagaParams) => function*() { const {window} = sagaParams; const featuresOff = _.compact((_.get(window, 'options.featuresOff') || '').split(',')); const featuresOn = _.compact((_.get(window, 'options.featuresOn') || '').split(',')); const forceFeatures = _.fromPairs(_.union(_.map(featuresOff, f => ([f, false])), _.map(featuresOn, f => ([f, true])))); const isProduction = !!window.spiceProduction; const featureToggles = _.defaults( _.cloneDeep(forceFeatures), { localeswitch: !isProduction, }); yield put(actions.initFeatureToggles({featureToggles}));\\n}; const sagas = []; sagas.push(sagaParams => function*() { yield takeEvery(WixInstanceActions.types.SET_INSTANCE, onSetWixInstance(sagaParams));\\n}); export default function* ordersRootSaga(sagaParams) { yield _.map(sagas, (saga) => fork(saga(sagaParams)));\\n}\\n\\n####"}
{"prompt":"define(['@babel/plugin-proposal-private-property-in-object','electron-to-chromium','color-convert','is-weakref','@parcel/packager-html','sourcemap-codec','standardx','commonjs-everywhere','rollup-plugin-uglify','http-proxy-middleware','charcodes','at-least-node','isomorphic-fetch','require-ini','domelementtype','standard','util-deprecate','@types/webgl2','karma-mocha','ordered-binary'], function(babelPluginProposalPrivatePropertyInObject,electronToChromium,colorConvert,isWeakref,parcelPackagerHtml,sourcemapCodec,standardx,commonjsEverywhere,rollupPluginUglify,httpProxyMiddleware,charcodes,atLeastNode,isomorphicFetch,requireIni,domelementtype,standard,utilDeprecate,typesWebgl2,karmaMocha,orderedBinary){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.wix.com/demone2/skateboard-shop (36)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/skateboard-shop', emulateMobileDevice: false, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/36-skateboard-shop/anchors/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import babelPluginProposalPrivatePropertyInObject from '@babel/plugin-proposal-private-property-in-object'\\nimport electronToChromium from 'electron-to-chromium'\\nimport colorConvert from 'color-convert'\\nimport isWeakref from 'is-weakref'\\nimport parcelPackagerHtml from '@parcel/packager-html'\\nimport sourcemapCodec from 'sourcemap-codec'\\nimport standardx from 'standardx'\\nimport commonjsEverywhere from 'commonjs-everywhere'\\nimport rollupPluginUglify from 'rollup-plugin-uglify'\\nimport httpProxyMiddleware from 'http-proxy-middleware'\\nimport charcodes from 'charcodes'\\nimport atLeastNode from 'at-least-node'\\nimport isomorphicFetch from 'isomorphic-fetch'\\nimport requireIni from 'require-ini'\\nimport domelementtype from 'domelementtype'\\nimport standard from 'standard'\\nimport utilDeprecate from 'util-deprecate'\\nimport typesWebgl2 from '@types/webgl2'\\nimport karmaMocha from 'karma-mocha'\\nimport orderedBinary from 'ordered-binary'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.wix.com/demone2/skateboard-shop (36)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/skateboard-shop', emulateMobileDevice: false, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/36-skateboard-shop/anchors/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['standardx','domain-browser','@parcel/transformer-babel','@parcel/transformer-json','whatwg-url','are-we-there-yet','@parcel/babel-preset','lolex','@babel/plugin-proposal-unicode-property-regex','to-fast-properties','detect-libc','@nuxtjs/eslint-config','require-inject','@babel/preset-modules','del','sharp','error-cause','is-json','ieee754'], function(standardx,domainBrowser,parcelTransformerBabel,parcelTransformerJson,whatwgUrl,areWeThereYet,parcelBabelPreset,lolex,babelPluginProposalUnicodePropertyRegex,toFastProperties,detectLibc,nuxtjsEslintConfig,requireInject,babelPresetModules,del,sharp,errorCause,isJson,ieee754){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.wix.com/demone2/curriculum-vitae-r (16)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/curriculum-vitae-r', emulateMobileDevice: true, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/16-curriculum-vitae/mesh/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import standardx from 'standardx'\\nimport domainBrowser from 'domain-browser'\\nimport parcelTransformerBabel from '@parcel/transformer-babel'\\nimport parcelTransformerJson from '@parcel/transformer-json'\\nimport whatwgUrl from 'whatwg-url'\\nimport areWeThereYet from 'are-we-there-yet'\\nimport parcelBabelPreset from '@parcel/babel-preset'\\nimport lolex from 'lolex'\\nimport babelPluginProposalUnicodePropertyRegex from '@babel/plugin-proposal-unicode-property-regex'\\nimport toFastProperties from 'to-fast-properties'\\nimport detectLibc from 'detect-libc'\\nimport nuxtjsEslintConfig from '@nuxtjs/eslint-config'\\nimport requireInject from 'require-inject'\\nimport babelPresetModules from '@babel/preset-modules'\\nimport del from 'del'\\nimport sharp from 'sharp'\\nimport errorCause from 'error-cause'\\nimport isJson from 'is-json'\\nimport ieee754 from 'ieee754'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.wix.com/demone2/curriculum-vitae-r (16)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/curriculum-vitae-r', emulateMobileDevice: true, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/16-curriculum-vitae/mesh/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['assert','react-refresh','command-exists','jasmine-browser-runner','@babel/plugin-transform-sticky-regex','core-js-pure','ansi-styles','util-deprecate','postcss-modules'], function(assert,reactRefresh,commandExists,jasmineBrowserRunner,babelPluginTransformStickyRegex,coreJsPure,ansiStyles,utilDeprecate,postcssModules){\\n'use strict'\\nconst _ = require('lodash') class Components { constructor(editorFrame, previewFrame) { this.editorFrame = editorFrame this.previewFrame = previewFrame } async waitForComponentWithId(id) { await this.previewFrame.waitFor(id => _.find(documentServices.components.getAllComponents(), {id}), {}, id) } async waitForComponentWithType(type) { await this.previewFrame.waitForSelector(`[data-aid=\\\"${type}\\\"]`) } async getComponentRefById(id) { return await this.previewFrame.evaluate(id => documentServices.components.get.byId(id), id) } async waitForButtonLabelToEqual(buttonRef, expectedLabel) { await this.previewFrame.waitFor( (buttonRef, expectedLabel) => { const buttonData = documentServices.components.data.get(buttonRef) return buttonData && buttonData.label === expectedLabel }, {}, buttonRef, expectedLabel) }\\n} module.exports = Components\\n})\\n####","completion":" import assert from 'assert'\\nimport reactRefresh from 'react-refresh'\\nimport commandExists from 'command-exists'\\nimport jasmineBrowserRunner from 'jasmine-browser-runner'\\nimport babelPluginTransformStickyRegex from '@babel/plugin-transform-sticky-regex'\\nimport coreJsPure from 'core-js-pure'\\nimport ansiStyles from 'ansi-styles'\\nimport utilDeprecate from 'util-deprecate'\\nimport postcssModules from 'postcss-modules'\\n\\n'use strict'\\nconst _ = require('lodash') class Components { constructor(editorFrame, previewFrame) { this.editorFrame = editorFrame this.previewFrame = previewFrame } async waitForComponentWithId(id) { await this.previewFrame.waitFor(id => _.find(documentServices.components.getAllComponents(), {id}), {}, id) } async waitForComponentWithType(type) { await this.previewFrame.waitForSelector(`[data-aid=\\\"${type}\\\"]`) } async getComponentRefById(id) { return await this.previewFrame.evaluate(id => documentServices.components.get.byId(id), id) } async waitForButtonLabelToEqual(buttonRef, expectedLabel) { await this.previewFrame.waitFor( (buttonRef, expectedLabel) => { const buttonData = documentServices.components.data.get(buttonRef) return buttonData && buttonData.label === expectedLabel }, {}, buttonRef, expectedLabel) }\\n} module.exports = Components\\n####"}
{"prompt":"define(['@babel/compat-data','minizlib','cssnano-preset-advanced','path-exists','d3-dsv','remark-preset-davidtheclark','@ls-lint/ls-lint','eclint','@babel/plugin-proposal-object-rest-spread','electron-to-chromium','regexgen','json-parse-even-better-errors','lilconfig','standard-version'], function(babelCompatData,minizlib,cssnanoPresetAdvanced,pathExists,d3Dsv,remarkPresetDavidtheclark,lsLintLsLint,eclint,babelPluginProposalObjectRestSpread,electronToChromium,regexgen,jsonParseEvenBetterErrors,lilconfig,standardVersion){\\n'use strict'\\nconst {getPlatformControllersOnPage} = require('./getters/platformControllersOnPage')\\nconst composer = require('./composer')\\nconst filterSinglePageResponse = require('./filterSinglePageResponse')\\nconst {pickBy, pick, intersection} = require('lodash')\\nasync function execute({pages, pageJson, clientSpecMap, pageCompId, onlyPageData = false}) { let masterPage if (pageJson) { masterPage = await pageJson } else { masterPage = await pages.masterPage delete pages.masterPage } const response = await composer.getSiteMetaData(masterPage, pages) response.platformControllersOnPage = getPlatformControllersOnPage({pageId: pageCompId, appComponentsMetaData: response, clientSpecMap}) if (pageCompId) { if (onlyPageData) { return filterSinglePageResponse(response, {pageCompId}) } const relevantPages = [pageCompId, 'masterPage'] response.pages = pick(response.pages, relevantPages) response.apps = pickBy(response.apps, ({pageIds = []}) => intersection(pageIds, relevantPages).length > 0) } return response\\n} module.exports = () => ({execute})\\n\\n})\\n####","completion":" import babelCompatData from '@babel/compat-data'\\nimport minizlib from 'minizlib'\\nimport cssnanoPresetAdvanced from 'cssnano-preset-advanced'\\nimport pathExists from 'path-exists'\\nimport d3Dsv from 'd3-dsv'\\nimport remarkPresetDavidtheclark from 'remark-preset-davidtheclark'\\nimport lsLintLsLint from '@ls-lint/ls-lint'\\nimport eclint from 'eclint'\\nimport babelPluginProposalObjectRestSpread from '@babel/plugin-proposal-object-rest-spread'\\nimport electronToChromium from 'electron-to-chromium'\\nimport regexgen from 'regexgen'\\nimport jsonParseEvenBetterErrors from 'json-parse-even-better-errors'\\nimport lilconfig from 'lilconfig'\\nimport standardVersion from 'standard-version'\\n\\n'use strict'\\nconst {getPlatformControllersOnPage} = require('./getters/platformControllersOnPage')\\nconst composer = require('./composer')\\nconst filterSinglePageResponse = require('./filterSinglePageResponse')\\nconst {pickBy, pick, intersection} = require('lodash')\\nasync function execute({pages, pageJson, clientSpecMap, pageCompId, onlyPageData = false}) { let masterPage if (pageJson) { masterPage = await pageJson } else { masterPage = await pages.masterPage delete pages.masterPage } const response = await composer.getSiteMetaData(masterPage, pages) response.platformControllersOnPage = getPlatformControllersOnPage({pageId: pageCompId, appComponentsMetaData: response, clientSpecMap}) if (pageCompId) { if (onlyPageData) { return filterSinglePageResponse(response, {pageCompId}) } const relevantPages = [pageCompId, 'masterPage'] response.pages = pick(response.pages, relevantPages) response.apps = pickBy(response.apps, ({pageIds = []}) => intersection(pageIds, relevantPages).length > 0) } return response\\n} module.exports = () => ({execute})\\n\\n####"}
{"prompt":"define(['karma-sauce-launcher','@parcel/optimizer-terser'], function(karmaSauceLauncher,parcelOptimizerTerser){\\nimport * as bootstrapActions from '../actions/bootstrapActions.js';\\nimport * as loginActions from '../actions/loginActions';\\nimport * as codePushActions from '../actions/codePushActions';\\nimport { takeEvery } from 'redux-saga';\\nimport { call, put, fork, take, select } from 'redux-saga/effects';\\nimport createLogger from 'wix-restaurants-bo-client-common/src/logger'; let log = createLogger(\\\"[BootstrapSaga] \\\"); function* handleStartBootstrap() { log(\\\"configure\\\"); yield put(loginActions.configure()); log(\\\"codepush sync\\\"); yield put(codePushActions.startCodepushSync()); log(\\\"configure\\\"); yield tryAutoLogin();\\n} function* tryAutoLogin() { yield take(loginActions.CONFIGURE_COMPLETED); let userData = yield select(state => state.Login.userData); if (userData) { yield put(loginActions.startLogin()); }\\n} function* startBootstrap() { yield* takeEvery(bootstrapActions.START_BOOTSTRAP, handleStartBootstrap);\\n} export default function* root() { yield [ fork(startBootstrap) ];\\n}\\n\\n})\\n####","completion":" import karmaSauceLauncher from 'karma-sauce-launcher'\\nimport parcelOptimizerTerser from '@parcel/optimizer-terser'\\n\\nimport * as bootstrapActions from '../actions/bootstrapActions.js';\\nimport * as loginActions from '../actions/loginActions';\\nimport * as codePushActions from '../actions/codePushActions';\\nimport { takeEvery } from 'redux-saga';\\nimport { call, put, fork, take, select } from 'redux-saga/effects';\\nimport createLogger from 'wix-restaurants-bo-client-common/src/logger'; let log = createLogger(\\\"[BootstrapSaga] \\\"); function* handleStartBootstrap() { log(\\\"configure\\\"); yield put(loginActions.configure()); log(\\\"codepush sync\\\"); yield put(codePushActions.startCodepushSync()); log(\\\"configure\\\"); yield tryAutoLogin();\\n} function* tryAutoLogin() { yield take(loginActions.CONFIGURE_COMPLETED); let userData = yield select(state => state.Login.userData); if (userData) { yield put(loginActions.startLogin()); }\\n} function* startBootstrap() { yield* takeEvery(bootstrapActions.START_BOOTSTRAP, handleStartBootstrap);\\n} export default function* root() { yield [ fork(startBootstrap) ];\\n}\\n\\n####"}
{"prompt":"define(['srcset','babel-plugin-polyfill-corejs2','benchmarked','escape-string-regexp','standard-markdown','babel-preset-moxy','@types/mocha','array.prototype.map','timers-browserify','asap','proxy','dot','a','@babel/helper-environment-visitor','karma-source-map-support','@iarna/toml','@types/shelljs','electron-releases','@types/jsesc'], function(srcset,babelPluginPolyfillCorejs2,benchmarked,escapeStringRegexp,standardMarkdown,babelPresetMoxy,typesMocha,arrayPrototypeMap,timersBrowserify,asap,proxy,dot,a,babelHelperEnvironmentVisitor,karmaSourceMapSupport,iarnaToml,typesShelljs,electronReleases,typesJsesc){\\n'use strict' const EditorComponent = require('../../baseComponents/EditorComponent')\\nconst WithBackground = require('../../drivers/hoc/WithBackground')\\nconst FullWidthCompDriver = require('../../drivers/editor/EditorFullWidthDriver')\\nconst componentType = 'wysiwyg.viewer.components.StripColumnsContainer'\\nconst {waitForEditorChange} = require('../../drivers/utils') /** * Editor strip component driver * @extends EditorComponent */\\nclass EditorStripColumnContainerComponent extends EditorComponent { constructor(editorFrame, viewerComponent, editorComponentFactory, tracer) { super(editorFrame, viewerComponent, editorComponentFactory, tracer) this.fullWidthDriver = new FullWidthCompDriver(this) } async getColumns() { return await this.componentFactory.create(this.viewerComponent.id, '[data-comp=\\\"wysiwyg.viewer.components.Column\\\"]') } async clickOnFirstColumn() { const elementFocusBox = await this.editorFrame.waitForSelector('.edit-box > .layout') await elementFocusBox.click() await waitForEditorChange(this.editorFrame) }\\n} module.exports = { componentType, addPanelCategory: 'strip', addPanelSectionAutomationId: 'add-panel-section-columnsAboutSection', EditorComponent: EditorStripColumnContainerComponent, ViewerComponent: WithBackground, DocumentServicesComponent: null\\n}\\n\\n})\\n####","completion":" import srcset from 'srcset'\\nimport babelPluginPolyfillCorejs2 from 'babel-plugin-polyfill-corejs2'\\nimport benchmarked from 'benchmarked'\\nimport escapeStringRegexp from 'escape-string-regexp'\\nimport standardMarkdown from 'standard-markdown'\\nimport babelPresetMoxy from 'babel-preset-moxy'\\nimport typesMocha from '@types/mocha'\\nimport arrayPrototypeMap from 'array.prototype.map'\\nimport timersBrowserify from 'timers-browserify'\\nimport asap from 'asap'\\nimport proxy from 'proxy'\\nimport dot from 'dot'\\nimport a from 'a'\\nimport babelHelperEnvironmentVisitor from '@babel/helper-environment-visitor'\\nimport karmaSourceMapSupport from 'karma-source-map-support'\\nimport iarnaToml from '@iarna/toml'\\nimport typesShelljs from '@types/shelljs'\\nimport electronReleases from 'electron-releases'\\nimport typesJsesc from '@types/jsesc'\\n\\n'use strict' const EditorComponent = require('../../baseComponents/EditorComponent')\\nconst WithBackground = require('../../drivers/hoc/WithBackground')\\nconst FullWidthCompDriver = require('../../drivers/editor/EditorFullWidthDriver')\\nconst componentType = 'wysiwyg.viewer.components.StripColumnsContainer'\\nconst {waitForEditorChange} = require('../../drivers/utils') /** * Editor strip component driver * @extends EditorComponent */\\nclass EditorStripColumnContainerComponent extends EditorComponent { constructor(editorFrame, viewerComponent, editorComponentFactory, tracer) { super(editorFrame, viewerComponent, editorComponentFactory, tracer) this.fullWidthDriver = new FullWidthCompDriver(this) } async getColumns() { return await this.componentFactory.create(this.viewerComponent.id, '[data-comp=\\\"wysiwyg.viewer.components.Column\\\"]') } async clickOnFirstColumn() { const elementFocusBox = await this.editorFrame.waitForSelector('.edit-box > .layout') await elementFocusBox.click() await waitForEditorChange(this.editorFrame) }\\n} module.exports = { componentType, addPanelCategory: 'strip', addPanelSectionAutomationId: 'add-panel-section-columnsAboutSection', EditorComponent: EditorStripColumnContainerComponent, ViewerComponent: WithBackground, DocumentServicesComponent: null\\n}\\n\\n####"}
{"prompt":"define(['@size-limit/preset-small-lib','callsites','espree','esutils','eslint-config-dev','eslint-plugin-promise','@types/offscreencanvas','prelude-ls','http-proxy-middleware','@babel/helper-validator-option','@babel/plugin-proposal-object-rest-spread','base-x','timsort','rollup','posthtml-render','karma-chai','pify'], function(sizeLimitPresetSmallLib,callsites,espree,esutils,eslintConfigDev,eslintPluginPromise,typesOffscreencanvas,preludeLs,httpProxyMiddleware,babelHelperValidatorOption,babelPluginProposalObjectRestSpread,baseX,timsort,rollup,posthtmlRender,karmaChai,pify){\\nimport {I18n} from '@wix/wixrest-utils'; let {I18N} = I18n.getComponentHeader('openrest_checkoutordersms_'); let PhoneUtils = require('@wix/wixrest-utils').PhoneUtils; export let propTypes = {}; export function prepare({ order, restaurant, isConfirming, isCorrect }, { isPristine }) { var phone = PhoneUtils.displayPhone(order.contact.phone, restaurant.address.countryCode); var i18nStrings = { title : I18N('title', 'Just One More Thing'), description1 : I18N('description1', 'Confirm your phone number to complete your order'), code : I18N('codeinput', 'Enter the code here'), error : I18N('error', 'Hmm...this code doesn’t match. Try again?'), button : I18N('button', 'Validate and Confirm'), extramessage0 : I18N('extramessage0', 'Didn’t get the SMS?'), extramessage1 : I18N('extramessage1', 'Go back and double check your phone number'), extramessage2 : I18N('extramessage2', 'or pay for your order with a credit card.') }; return { i18nStrings, phone, shouldShowError: !isConfirming && !isCorrect && isPristine, };\\n}\\n\\n})\\n####","completion":" import sizeLimitPresetSmallLib from '@size-limit/preset-small-lib'\\nimport callsites from 'callsites'\\nimport espree from 'espree'\\nimport esutils from 'esutils'\\nimport eslintConfigDev from 'eslint-config-dev'\\nimport eslintPluginPromise from 'eslint-plugin-promise'\\nimport typesOffscreencanvas from '@types/offscreencanvas'\\nimport preludeLs from 'prelude-ls'\\nimport httpProxyMiddleware from 'http-proxy-middleware'\\nimport babelHelperValidatorOption from '@babel/helper-validator-option'\\nimport babelPluginProposalObjectRestSpread from '@babel/plugin-proposal-object-rest-spread'\\nimport baseX from 'base-x'\\nimport timsort from 'timsort'\\nimport rollup from 'rollup'\\nimport posthtmlRender from 'posthtml-render'\\nimport karmaChai from 'karma-chai'\\nimport pify from 'pify'\\n\\nimport {I18n} from '@wix/wixrest-utils'; let {I18N} = I18n.getComponentHeader('openrest_checkoutordersms_'); let PhoneUtils = require('@wix/wixrest-utils').PhoneUtils; export let propTypes = {}; export function prepare({ order, restaurant, isConfirming, isCorrect }, { isPristine }) { var phone = PhoneUtils.displayPhone(order.contact.phone, restaurant.address.countryCode); var i18nStrings = { title : I18N('title', 'Just One More Thing'), description1 : I18N('description1', 'Confirm your phone number to complete your order'), code : I18N('codeinput', 'Enter the code here'), error : I18N('error', 'Hmm...this code doesn’t match. Try again?'), button : I18N('button', 'Validate and Confirm'), extramessage0 : I18N('extramessage0', 'Didn’t get the SMS?'), extramessage1 : I18N('extramessage1', 'Go back and double check your phone number'), extramessage2 : I18N('extramessage2', 'or pay for your order with a credit card.') }; return { i18nStrings, phone, shouldShowError: !isConfirming && !isCorrect && isPristine, };\\n}\\n\\n####"}
{"prompt":"define(['jasmine-core','abortcontroller-polyfill','postcss-normalize-charset','lint-staged','errto','@tensorflow/tfjs-data','grunt-contrib-concat'], function(jasmineCore,abortcontrollerPolyfill,postcssNormalizeCharset,lintStaged,errto,tensorflowTfjsData,gruntContribConcat){\\ndefine(['documentServices/componentsMetaData/components/facebookLikeBoxMetaData', 'documentServices/dataModel/dataModel'], function ( facebookLikeBoxMetaData, dataModel\\n) { 'use strict' describe('facebookLikeBox Meta Data - ', function () { describe('resizableSides', function () { it('Should return only left and right resize only if post stream is not shown', function () { spyOn(dataModel, 'getDataItem').and.returnValue({ showFaces: false, showStream: false }) const expectedSides = ['RESIZE_LEFT', 'RESIZE_RIGHT'] const resizableSides = facebookLikeBoxMetaData.resizableSides({}, 'facebookLikeBox') expect(resizableSides).toEqual(expectedSides) }) it('Should return all sides resize if showStream = true', function () { spyOn(dataModel, 'getDataItem').and.returnValue({ showStream: true }) const expectedSides = ['RESIZE_TOP', 'RESIZE_LEFT', 'RESIZE_BOTTOM', 'RESIZE_RIGHT'] const resizableSides = facebookLikeBoxMetaData.resizableSides({}, 'facebookLikeBox') expect(resizableSides).toEqual(expectedSides) }) }) })\\n})\\n\\n})\\n####","completion":" import jasmineCore from 'jasmine-core'\\nimport abortcontrollerPolyfill from 'abortcontroller-polyfill'\\nimport postcssNormalizeCharset from 'postcss-normalize-charset'\\nimport lintStaged from 'lint-staged'\\nimport errto from 'errto'\\nimport tensorflowTfjsData from '@tensorflow/tfjs-data'\\nimport gruntContribConcat from 'grunt-contrib-concat'\\n\\ndefine(['documentServices/componentsMetaData/components/facebookLikeBoxMetaData', 'documentServices/dataModel/dataModel'], function ( facebookLikeBoxMetaData, dataModel\\n) { 'use strict' describe('facebookLikeBox Meta Data - ', function () { describe('resizableSides', function () { it('Should return only left and right resize only if post stream is not shown', function () { spyOn(dataModel, 'getDataItem').and.returnValue({ showFaces: false, showStream: false }) const expectedSides = ['RESIZE_LEFT', 'RESIZE_RIGHT'] const resizableSides = facebookLikeBoxMetaData.resizableSides({}, 'facebookLikeBox') expect(resizableSides).toEqual(expectedSides) }) it('Should return all sides resize if showStream = true', function () { spyOn(dataModel, 'getDataItem').and.returnValue({ showStream: true }) const expectedSides = ['RESIZE_TOP', 'RESIZE_LEFT', 'RESIZE_BOTTOM', 'RESIZE_RIGHT'] const resizableSides = facebookLikeBoxMetaData.resizableSides({}, 'facebookLikeBox') expect(resizableSides).toEqual(expectedSides) }) }) })\\n})\\n\\n####"}
{"prompt":"define(['yargs','regexpu-core','sass','@babel/plugin-proposal-class-properties','regexpu-fixtures','regexgen','tar','globby','vega-embed'], function(yargs,regexpuCore,sass,babelPluginProposalClassProperties,regexpuFixtures,regexgen,tar,globby,vegaEmbed){\\nexport default class TranslatedContent { constructor({header, tokens, i18n, fallbackToInput}) { this.header = header; this.tokens = tokens; this.i18n = i18n; this.fallbackToInput = fallbackToInput; } instance(prefix) { return { get: (function (token, params) { return this._get(prefix, token, params); }).bind(this) } } _get(prefix = '', token, params) { const originalInput = token; token = `${prefix}${token}`; let defaultValue = this.tokens[token]; let str = ''; let header = this.header; try { str = this.i18n.get(token, '', params); } catch (e) {} if (!str && defaultValue) { if (defaultValue.external) { token = defaultValue.external; defaultValue = ''; header = ''; } else if (defaultValue.global) { str = this._get('', defaultValue.global, params); } if (!str) { try { str = this.i18n.get(`${header}${token}`, defaultValue, params); } catch (e) { console.log('[TranslatedContent]: couldn\\'t find content'); } } } if (!str && this.fallbackToInput) { return originalInput; } return str; }\\n}\\n\\n})\\n####","completion":" import yargs from 'yargs'\\nimport regexpuCore from 'regexpu-core'\\nimport sass from 'sass'\\nimport babelPluginProposalClassProperties from '@babel/plugin-proposal-class-properties'\\nimport regexpuFixtures from 'regexpu-fixtures'\\nimport regexgen from 'regexgen'\\nimport tar from 'tar'\\nimport globby from 'globby'\\nimport vegaEmbed from 'vega-embed'\\n\\nexport default class TranslatedContent { constructor({header, tokens, i18n, fallbackToInput}) { this.header = header; this.tokens = tokens; this.i18n = i18n; this.fallbackToInput = fallbackToInput; } instance(prefix) { return { get: (function (token, params) { return this._get(prefix, token, params); }).bind(this) } } _get(prefix = '', token, params) { const originalInput = token; token = `${prefix}${token}`; let defaultValue = this.tokens[token]; let str = ''; let header = this.header; try { str = this.i18n.get(token, '', params); } catch (e) {} if (!str && defaultValue) { if (defaultValue.external) { token = defaultValue.external; defaultValue = ''; header = ''; } else if (defaultValue.global) { str = this._get('', defaultValue.global, params); } if (!str) { try { str = this.i18n.get(`${header}${token}`, defaultValue, params); } catch (e) { console.log('[TranslatedContent]: couldn\\'t find content'); } } } if (!str && this.fallbackToInput) { return originalInput; } return str; }\\n}\\n\\n####"}
{"prompt":"define(['@babel/helper-split-export-declaration','@babel/plugin-proposal-optional-chaining','@babel/plugin-transform-async-to-generator','babel-plugin-transform-es2015-computed-properties','cosmiconfig'], function(babelHelperSplitExportDeclaration,babelPluginProposalOptionalChaining,babelPluginTransformAsyncToGenerator,babelPluginTransformEs2015ComputedProperties,cosmiconfig){\\n'use strict'\\nconst getFixedPageToViewModeJsonTransformer = require('../src/index')\\nconst {getTestPage} = require('./helpers/getTestPage')\\nconst siteAssetsTestKit = require('@wix/site-assets-testkit') describe('viewer-view-mode-json-server', () => { const {server: siteAssetsServer, requestBuilder} = siteAssetsTestKit() siteAssetsServer.beforeAndAfter() describe('structure', () => { describe('viewMode = desktop', () => { it('should return structure without mobileComponents', async () => { const {pageJson} = getTestPage() const params = {viewMode: 'desktop'} const siteAssetsRequest = await requestBuilder .withEndpoint({controller: 'singlePage', method: 'viewerViewModeJson'}) .withModule(getFixedPageToViewModeJsonTransformer) .withFixedPages({[pageJson.structure.id]: pageJson}) .withParams(params) .build() const result = await siteAssetsRequest.execute() expect(result.structure.mobileComponents).not.toBeDefined() expect(result.structure.components).toEqual(pageJson.structure.components) }) }) })\\n})\\n\\n})\\n####","completion":" import babelHelperSplitExportDeclaration from '@babel/helper-split-export-declaration'\\nimport babelPluginProposalOptionalChaining from '@babel/plugin-proposal-optional-chaining'\\nimport babelPluginTransformAsyncToGenerator from '@babel/plugin-transform-async-to-generator'\\nimport babelPluginTransformEs2015ComputedProperties from 'babel-plugin-transform-es2015-computed-properties'\\nimport cosmiconfig from 'cosmiconfig'\\n\\n'use strict'\\nconst getFixedPageToViewModeJsonTransformer = require('../src/index')\\nconst {getTestPage} = require('./helpers/getTestPage')\\nconst siteAssetsTestKit = require('@wix/site-assets-testkit') describe('viewer-view-mode-json-server', () => { const {server: siteAssetsServer, requestBuilder} = siteAssetsTestKit() siteAssetsServer.beforeAndAfter() describe('structure', () => { describe('viewMode = desktop', () => { it('should return structure without mobileComponents', async () => { const {pageJson} = getTestPage() const params = {viewMode: 'desktop'} const siteAssetsRequest = await requestBuilder .withEndpoint({controller: 'singlePage', method: 'viewerViewModeJson'}) .withModule(getFixedPageToViewModeJsonTransformer) .withFixedPages({[pageJson.structure.id]: pageJson}) .withParams(params) .build() const result = await siteAssetsRequest.execute() expect(result.structure.mobileComponents).not.toBeDefined() expect(result.structure.components).toEqual(pageJson.structure.components) }) }) })\\n})\\n\\n####"}
{"prompt":"define(['gulp-bump','asap','eslint-plugin-flowtype','stream-browserify','hyperquest','concat-map','tiny-benchy','command-exists','css-tree','espree','dotenv','eslint-config-standard','@unicode/unicode-13.0.0','pkg-dir','resumer','@bazel/typescript','@parcel/packager-raw','raw-body'], function(gulpBump,asap,eslintPluginFlowtype,streamBrowserify,hyperquest,concatMap,tinyBenchy,commandExists,cssTree,espree,dotenv,eslintConfigStandard,unicodeUnicode1300,pkgDir,resumer,bazelTypescript,parcelPackagerRaw,rawBody){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://kfirg6.wixsite.com/pinned-form (59)', withViewer({ tpaInterceptor, baseUrl: 'https://kfirg6.wixsite.com/pinned-form', emulateMobileDevice: false, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/59-pinned-form-component/anchors/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import gulpBump from 'gulp-bump'\\nimport asap from 'asap'\\nimport eslintPluginFlowtype from 'eslint-plugin-flowtype'\\nimport streamBrowserify from 'stream-browserify'\\nimport hyperquest from 'hyperquest'\\nimport concatMap from 'concat-map'\\nimport tinyBenchy from 'tiny-benchy'\\nimport commandExists from 'command-exists'\\nimport cssTree from 'css-tree'\\nimport espree from 'espree'\\nimport dotenv from 'dotenv'\\nimport eslintConfigStandard from 'eslint-config-standard'\\nimport unicodeUnicode1300 from '@unicode/unicode-13.0.0'\\nimport pkgDir from 'pkg-dir'\\nimport resumer from 'resumer'\\nimport bazelTypescript from '@bazel/typescript'\\nimport parcelPackagerRaw from '@parcel/packager-raw'\\nimport rawBody from 'raw-body'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://kfirg6.wixsite.com/pinned-form (59)', withViewer({ tpaInterceptor, baseUrl: 'https://kfirg6.wixsite.com/pinned-form', emulateMobileDevice: false, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/59-pinned-form-component/anchors/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['eslint-config-standard','react-dom','mv','should','type-check'], function(eslintConfigStandard,reactDom,mv,should,typeCheck){\\n\\\"use strict\\\"; import {expect, assert} from 'chai';\\nimport sinon from 'sinon';\\nimport TwitterApiConnector from '../src/TwitterApiConnector.js'; const somePath = 'somePath/foo/bar';\\nconst someParams = {foo: 'bar'}; let requests = []; describe(\\\"TwitterApiConnector\\\", function() { before(() => { global.XMLHttpRequest = sinon.useFakeXMLHttpRequest(); global.XMLHttpRequest.onCreate = (xhr) => { requests.push(xhr); } }); beforeEach(() => { requests = []; }); it('Should call api with (path, params)', function(done) { let xhr = {}; TwitterApiConnector(somePath, someParams) .then(() => { assert.equal(xhr.requestBody, JSON.stringify({path: somePath, params: someParams})); done(); }); setTimeout(() => { assert.equal(requests.length, 1, 'TwitterApiConnector.api.called'); xhr = requests[0]; xhr.respond(200, {\\\"Content-Type\\\": \\\"application/json\\\"}, '{\\\"foo\\\": \\\"bar\\\"}'); }, 0); }); });\\n\\n})\\n####","completion":" import eslintConfigStandard from 'eslint-config-standard'\\nimport reactDom from 'react-dom'\\nimport mv from 'mv'\\nimport should from 'should'\\nimport typeCheck from 'type-check'\\n\\n\\\"use strict\\\"; import {expect, assert} from 'chai';\\nimport sinon from 'sinon';\\nimport TwitterApiConnector from '../src/TwitterApiConnector.js'; const somePath = 'somePath/foo/bar';\\nconst someParams = {foo: 'bar'}; let requests = []; describe(\\\"TwitterApiConnector\\\", function() { before(() => { global.XMLHttpRequest = sinon.useFakeXMLHttpRequest(); global.XMLHttpRequest.onCreate = (xhr) => { requests.push(xhr); } }); beforeEach(() => { requests = []; }); it('Should call api with (path, params)', function(done) { let xhr = {}; TwitterApiConnector(somePath, someParams) .then(() => { assert.equal(xhr.requestBody, JSON.stringify({path: somePath, params: someParams})); done(); }); setTimeout(() => { assert.equal(requests.length, 1, 'TwitterApiConnector.api.called'); xhr = requests[0]; xhr.respond(200, {\\\"Content-Type\\\": \\\"application/json\\\"}, '{\\\"foo\\\": \\\"bar\\\"}'); }, 0); }); });\\n\\n####"}
{"prompt":"define(['is','core-js-pure','@rollup/plugin-json','stream-browserify','path-exists','@parcel/compressor-raw','@babel/plugin-transform-exponentiation-operator','@types/utf8','@tensorflow/tfjs-converter','ncp','toml-require','grunt-mocha-istanbul','css-select','time-span','@parcel/logger','@babel/helper-create-regexp-features-plugin','@rollup/plugin-typescript','supports-preserve-symlinks-flag','tinycolor2','to-fast-properties'], function(is,coreJsPure,rollupPluginJson,streamBrowserify,pathExists,parcelCompressorRaw,babelPluginTransformExponentiationOperator,typesUtf8,tensorflowTfjsConverter,ncp,tomlRequire,gruntMochaIstanbul,cssSelect,timeSpan,parcelLogger,babelHelperCreateRegexpFeaturesPlugin,rollupPluginTypescript,supportsPreserveSymlinksFlag,tinycolor2,toFastProperties){\\nvar self = {}; self.getLogoUrl = function(params)\\n{ var distributor = params.distributor; var width = params.width; if (typeof(width) == \\\"undefined\\\") { return window.spiceApiUrl+\\\"/distributors/\\\"+distributor.id+\\\"/picture\\\"; } if (distributor.picture) { return distributor.picture+\\\"=s\\\"+parseInt(width); } else { return distributor.getNoImageUrl(width); }\\n} self.getIconUrl = function(params)\\n{ var distributor = params.distributor; return window.spiceApiUrl+\\\"/distributors/\\\"+distributor.id+\\\"/picture?type=icon\\\";\\n} self.getNoImageUrl = function(params)\\n{ var distributor = params.distributor; var width = params.width; var defaultNoImage = params.defaultNoImage; if (typeof(width) == \\\"undefined\\\") { return window.spiceApiUrl+\\\"/distributors/\\\"+distributor.id+\\\"/picture?type=no_image\\\"; } if (distributor.noImagePicture) { return distributor.noImagePicture+\\\"=s\\\"+parseInt(width); } else { return defaultNoImage; }\\n} export default self;\\n\\n})\\n####","completion":" import is from 'is'\\nimport coreJsPure from 'core-js-pure'\\nimport rollupPluginJson from '@rollup/plugin-json'\\nimport streamBrowserify from 'stream-browserify'\\nimport pathExists from 'path-exists'\\nimport parcelCompressorRaw from '@parcel/compressor-raw'\\nimport babelPluginTransformExponentiationOperator from '@babel/plugin-transform-exponentiation-operator'\\nimport typesUtf8 from '@types/utf8'\\nimport tensorflowTfjsConverter from '@tensorflow/tfjs-converter'\\nimport ncp from 'ncp'\\nimport tomlRequire from 'toml-require'\\nimport gruntMochaIstanbul from 'grunt-mocha-istanbul'\\nimport cssSelect from 'css-select'\\nimport timeSpan from 'time-span'\\nimport parcelLogger from '@parcel/logger'\\nimport babelHelperCreateRegexpFeaturesPlugin from '@babel/helper-create-regexp-features-plugin'\\nimport rollupPluginTypescript from '@rollup/plugin-typescript'\\nimport supportsPreserveSymlinksFlag from 'supports-preserve-symlinks-flag'\\nimport tinycolor2 from 'tinycolor2'\\nimport toFastProperties from 'to-fast-properties'\\n\\nvar self = {}; self.getLogoUrl = function(params)\\n{ var distributor = params.distributor; var width = params.width; if (typeof(width) == \\\"undefined\\\") { return window.spiceApiUrl+\\\"/distributors/\\\"+distributor.id+\\\"/picture\\\"; } if (distributor.picture) { return distributor.picture+\\\"=s\\\"+parseInt(width); } else { return distributor.getNoImageUrl(width); }\\n} self.getIconUrl = function(params)\\n{ var distributor = params.distributor; return window.spiceApiUrl+\\\"/distributors/\\\"+distributor.id+\\\"/picture?type=icon\\\";\\n} self.getNoImageUrl = function(params)\\n{ var distributor = params.distributor; var width = params.width; var defaultNoImage = params.defaultNoImage; if (typeof(width) == \\\"undefined\\\") { return window.spiceApiUrl+\\\"/distributors/\\\"+distributor.id+\\\"/picture?type=no_image\\\"; } if (distributor.noImagePicture) { return distributor.noImagePicture+\\\"=s\\\"+parseInt(width); } else { return defaultNoImage; }\\n} export default self;\\n\\n####"}
{"prompt":"define(['es-value-fixtures','@types/d3-format','babel-plugin-transform-decorators-legacy','toml-require','balanced-match','uglify-js','read-dir-files','commondir','pkg-dir'], function(esValueFixtures,typesD3Format,babelPluginTransformDecoratorsLegacy,tomlRequire,balancedMatch,uglifyJs,readDirFiles,commondir,pkgDir){\\nvar loaderUtils = require(\\\"loader-utils\\\");\\nvar _ = require(\\\"lodash\\\");\\nvar fs = require('fs'); module.exports = function(source) { //this.cacheable(); var query = loaderUtils.parseQuery(this.query); var iconNames = []; var icons = _.map(fs.readdirSync(query.folder), function(filename) { var code = fs.readFileSync(query.folder + filename, 'utf8'); if (code.match(/<svg/g).length !== 1) { console.error(clc.bgRed(\\\" ERROR \\\"), \\\"This file was supposed to contain exactly one SVG tag. It does not. (\\\" + query.folder + filename + \\\")\\\") process.exit(); } // A regex that returns only the contents of the <svg> tag code = code .replace(/^(.|\\n|\\r)*<svg([\\s+[a-zA-Z\\:]+=\\\\\".*?\\\\\")*>\\s*/g,'') // Remove everything up to and including the <svg> tag, .replace(/\\s*<\\/svg>/,'') // then remove the closing </svg> tag, thereby leaving only the contents. .replace(/(fill|stroke)=\\\\\".*?\\\\\"/g, '') // Remove fill/ stroke attributes var name = filename.match(/[^\\.]+/)[0]; // Also create a list of the icon names iconNames.push('\\\"'+name+'\\\"'); return name + ': <g>' + code + '</g>'; }).join(', \\n'); return source.replace('%%%ICONS%%%', icons).replace('%%%ICONNAMES%%%', iconNames);\\n};\\n\\n})\\n####","completion":" import esValueFixtures from 'es-value-fixtures'\\nimport typesD3Format from '@types/d3-format'\\nimport babelPluginTransformDecoratorsLegacy from 'babel-plugin-transform-decorators-legacy'\\nimport tomlRequire from 'toml-require'\\nimport balancedMatch from 'balanced-match'\\nimport uglifyJs from 'uglify-js'\\nimport readDirFiles from 'read-dir-files'\\nimport commondir from 'commondir'\\nimport pkgDir from 'pkg-dir'\\n\\nvar loaderUtils = require(\\\"loader-utils\\\");\\nvar _ = require(\\\"lodash\\\");\\nvar fs = require('fs'); module.exports = function(source) { //this.cacheable(); var query = loaderUtils.parseQuery(this.query); var iconNames = []; var icons = _.map(fs.readdirSync(query.folder), function(filename) { var code = fs.readFileSync(query.folder + filename, 'utf8'); if (code.match(/<svg/g).length !== 1) { console.error(clc.bgRed(\\\" ERROR \\\"), \\\"This file was supposed to contain exactly one SVG tag. It does not. (\\\" + query.folder + filename + \\\")\\\") process.exit(); } // A regex that returns only the contents of the <svg> tag code = code .replace(/^(.|\\n|\\r)*<svg([\\s+[a-zA-Z\\:]+=\\\\\".*?\\\\\")*>\\s*/g,'') // Remove everything up to and including the <svg> tag, .replace(/\\s*<\\/svg>/,'') // then remove the closing </svg> tag, thereby leaving only the contents. .replace(/(fill|stroke)=\\\\\".*?\\\\\"/g, '') // Remove fill/ stroke attributes var name = filename.match(/[^\\.]+/)[0]; // Also create a list of the icon names iconNames.push('\\\"'+name+'\\\"'); return name + ': <g>' + code + '</g>'; }).join(', \\n'); return source.replace('%%%ICONS%%%', icons).replace('%%%ICONNAMES%%%', iconNames);\\n};\\n\\n####"}
{"prompt":"define(['cssesc','ses','heapdump','@types/mocha','has-symbols','fast-stable-stringify'], function(cssesc,ses,heapdump,typesMocha,hasSymbols,fastStableStringify){\\nconst languages = require('./supportedLanguages') const supportedLanguages = languages const languageCodeNameMap = supportedLanguages.reduce((obj, val) => { obj[val.languageCode] = val.name; return obj }, {})\\nconst languageCodeLocalizedNameMap = supportedLanguages.reduce((obj, val) => { obj[val.languageCode] = val.localizedName; return obj }, {}) const mapLanguageCodeToName = code => languageCodeNameMap[code] || ''\\nconst mapLanguageCodeToLocalizedName = code => languageCodeLocalizedNameMap[code] || ''\\n/** * {Object.<string: string>} country icon flag icon type enums */\\nconst flagCountryIconType = { rounded: 'rounded', circle: 'circle', square: 'square'\\n} /** * {Object.<symbolStyle:string>} language status enum */\\nconst languageStatus = { INACTIVE: 'Inactive', ACTIVE: 'Active', DELETED: 'Deleted'\\n} module.exports = { languageStatus, flagCountryIconType, supportedLanguages, languageCodeNameMap, mapLanguageCodeToName, mapLanguageCodeToLocalizedName\\n}\\n\\n})\\n####","completion":" import cssesc from 'cssesc'\\nimport ses from 'ses'\\nimport heapdump from 'heapdump'\\nimport typesMocha from '@types/mocha'\\nimport hasSymbols from 'has-symbols'\\nimport fastStableStringify from 'fast-stable-stringify'\\n\\nconst languages = require('./supportedLanguages') const supportedLanguages = languages const languageCodeNameMap = supportedLanguages.reduce((obj, val) => { obj[val.languageCode] = val.name; return obj }, {})\\nconst languageCodeLocalizedNameMap = supportedLanguages.reduce((obj, val) => { obj[val.languageCode] = val.localizedName; return obj }, {}) const mapLanguageCodeToName = code => languageCodeNameMap[code] || ''\\nconst mapLanguageCodeToLocalizedName = code => languageCodeLocalizedNameMap[code] || ''\\n/** * {Object.<string: string>} country icon flag icon type enums */\\nconst flagCountryIconType = { rounded: 'rounded', circle: 'circle', square: 'square'\\n} /** * {Object.<symbolStyle:string>} language status enum */\\nconst languageStatus = { INACTIVE: 'Inactive', ACTIVE: 'Active', DELETED: 'Deleted'\\n} module.exports = { languageStatus, flagCountryIconType, supportedLanguages, languageCodeNameMap, mapLanguageCodeToName, mapLanguageCodeToLocalizedName\\n}\\n\\n####"}
{"prompt":"define(['crypto-browserify','standard-markdown','grunt-eslint','which','@parcel/transformer-react-refresh-wrap','@types/argparse','@babel/helper-function-name'], function(cryptoBrowserify,standardMarkdown,gruntEslint,which,parcelTransformerReactRefreshWrap,typesArgparse,babelHelperFunctionName){\\nimport PropTypes from 'prop-types';\\nimport React from 'react'; export default class extends React.Component { static propTypes = { width: PropTypes.number, height: PropTypes.number, color: PropTypes.string, }; static defaultProps = { width: 22, height: 22, color: 'rgb(255,255,255)' }; // # IMPORTANT // When pasting the svg, don't forget to set the viewBox. // render() { return ( <svg width={this.props.width + 'px'} height={this.props.height + 'px'} fill={this.props.color} viewBox='0 0 45 44'> <path d=\\\"M3396.03,1154.88l-8.83-8.65a19.636,19.636,0,0,0,5.12-13.05c0-10.89-9.42-20.15-20.55-20.15s-20.75,9.26-20.75,20.15,9.51,20.11,20.65,20.11a20.805,20.805,0,0,0,13.32-4.92l8.85,8.65Zm-24.36-4.53c-9.41,0-17.45-7.96-17.45-17.17a17.48,17.48,0,0,1,17.3-17.12c9.41,0,17.5,7.92,17.5,17.12A17.554,17.554,0,0,1,3371.67,1150.35Z\\\" transform=\\\"translate(-3351.03 -1113.03)\\\"/> </svg> ); }\\n}\\n\\n})\\n####","completion":" import cryptoBrowserify from 'crypto-browserify'\\nimport standardMarkdown from 'standard-markdown'\\nimport gruntEslint from 'grunt-eslint'\\nimport which from 'which'\\nimport parcelTransformerReactRefreshWrap from '@parcel/transformer-react-refresh-wrap'\\nimport typesArgparse from '@types/argparse'\\nimport babelHelperFunctionName from '@babel/helper-function-name'\\n\\nimport PropTypes from 'prop-types';\\nimport React from 'react'; export default class extends React.Component { static propTypes = { width: PropTypes.number, height: PropTypes.number, color: PropTypes.string, }; static defaultProps = { width: 22, height: 22, color: 'rgb(255,255,255)' }; // # IMPORTANT // When pasting the svg, don't forget to set the viewBox. // render() { return ( <svg width={this.props.width + 'px'} height={this.props.height + 'px'} fill={this.props.color} viewBox='0 0 45 44'> <path d=\\\"M3396.03,1154.88l-8.83-8.65a19.636,19.636,0,0,0,5.12-13.05c0-10.89-9.42-20.15-20.55-20.15s-20.75,9.26-20.75,20.15,9.51,20.11,20.65,20.11a20.805,20.805,0,0,0,13.32-4.92l8.85,8.65Zm-24.36-4.53c-9.41,0-17.45-7.96-17.45-17.17a17.48,17.48,0,0,1,17.3-17.12c9.41,0,17.5,7.92,17.5,17.12A17.554,17.554,0,0,1,3371.67,1150.35Z\\\" transform=\\\"translate(-3351.03 -1113.03)\\\"/> </svg> ); }\\n}\\n\\n####"}
{"prompt":"define(['is-symbol','browserify-istanbul','eslint-plugin-markdown','eslint-config-airbnb','parent-module','ajv','@babel/plugin-proposal-optional-chaining','tape-await','fast-check','karma-phantomjs-launcher','normalize-url','travis-deploy-once','eslint-config-airbnb-base','grunt','define-properties','tiny-benchy','rollup-plugin-memory','source-map','npm-prepublish'], function(isSymbol,browserifyIstanbul,eslintPluginMarkdown,eslintConfigAirbnb,parentModule,ajv,babelPluginProposalOptionalChaining,tapeAwait,fastCheck,karmaPhantomjsLauncher,normalizeUrl,travisDeployOnce,eslintConfigAirbnbBase,grunt,defineProperties,tinyBenchy,rollupPluginMemory,sourceMap,npmPrepublish){\\nimport testkit from 'wix-bootstrap-testkit';\\nimport configEmitter from 'wix-config-emitter';\\nimport rpcTestkit from 'wix-rpc-testkit'; export const app = bootstrapServer();\\nexport const rpcServer = rpcTestkit.server({port: 3025}); export const beforeAndAfterEach = function () { beforeEach(() => { return emitConfigs(); }); afterEach(() => { }); rpcServer.beforeAndAfterEach(); app.beforeAndAfterEach();\\n}; function emitConfigs() { return configEmitter({sourceFolders: ['./templates'], targetFolder: './target/configs'}) .val('node', {node_environment: 'staging'}) // eslint-disable-line camelcase // .fn('service_url', 'com.wixpress.npm.node-workshop-scala-app', 'http://localhost:3025') .fn('service_url', 'com.wixpress.wix-meta-site-manager-webapp', 'http://localhost:3025') .fn('service_url', 'com.wixpress.authorization.gatekeeper.gatekeeper-server', 'http://localhost:3025') .fn('databag_passwd', 'com.wixpress.restaurants.restaurants-contributors-nodejs', 'accessToken', 'spice|aaa|bbb') .val('wixRestaurantsApi', 'http://localhost:3026') .emit();\\n} function bootstrapServer() { return testkit.app('./index', { env: { PORT: 3100, MANAGEMENT_PORT: 3104, NEW_RELIC_LOG_LEVEL: 'warn', DEBUG: 'wix:*', } });\\n}\\n\\n})\\n####","completion":" import isSymbol from 'is-symbol'\\nimport browserifyIstanbul from 'browserify-istanbul'\\nimport eslintPluginMarkdown from 'eslint-plugin-markdown'\\nimport eslintConfigAirbnb from 'eslint-config-airbnb'\\nimport parentModule from 'parent-module'\\nimport ajv from 'ajv'\\nimport babelPluginProposalOptionalChaining from '@babel/plugin-proposal-optional-chaining'\\nimport tapeAwait from 'tape-await'\\nimport fastCheck from 'fast-check'\\nimport karmaPhantomjsLauncher from 'karma-phantomjs-launcher'\\nimport normalizeUrl from 'normalize-url'\\nimport travisDeployOnce from 'travis-deploy-once'\\nimport eslintConfigAirbnbBase from 'eslint-config-airbnb-base'\\nimport grunt from 'grunt'\\nimport defineProperties from 'define-properties'\\nimport tinyBenchy from 'tiny-benchy'\\nimport rollupPluginMemory from 'rollup-plugin-memory'\\nimport sourceMap from 'source-map'\\nimport npmPrepublish from 'npm-prepublish'\\n\\nimport testkit from 'wix-bootstrap-testkit';\\nimport configEmitter from 'wix-config-emitter';\\nimport rpcTestkit from 'wix-rpc-testkit'; export const app = bootstrapServer();\\nexport const rpcServer = rpcTestkit.server({port: 3025}); export const beforeAndAfterEach = function () { beforeEach(() => { return emitConfigs(); }); afterEach(() => { }); rpcServer.beforeAndAfterEach(); app.beforeAndAfterEach();\\n}; function emitConfigs() { return configEmitter({sourceFolders: ['./templates'], targetFolder: './target/configs'}) .val('node', {node_environment: 'staging'}) // eslint-disable-line camelcase // .fn('service_url', 'com.wixpress.npm.node-workshop-scala-app', 'http://localhost:3025') .fn('service_url', 'com.wixpress.wix-meta-site-manager-webapp', 'http://localhost:3025') .fn('service_url', 'com.wixpress.authorization.gatekeeper.gatekeeper-server', 'http://localhost:3025') .fn('databag_passwd', 'com.wixpress.restaurants.restaurants-contributors-nodejs', 'accessToken', 'spice|aaa|bbb') .val('wixRestaurantsApi', 'http://localhost:3026') .emit();\\n} function bootstrapServer() { return testkit.app('./index', { env: { PORT: 3100, MANAGEMENT_PORT: 3104, NEW_RELIC_LOG_LEVEL: 'warn', DEBUG: 'wix:*', } });\\n}\\n\\n####"}
{"prompt":"define(['karma-phantomjs-launcher','native-promise-only','@tensorflow/tfjs-backend-cpu','is-plain-object','@wdio/local-runner','@babel/plugin-transform-modules-systemjs','stream-browserify','eclint','unbox-primitive','babel-plugin-transform-class-properties','@webgpu/types','setimmediate','@babel/helper-function-name','@babel/plugin-transform-flow-strip-types','source-map','es-array-method-boxes-properly'], function(karmaPhantomjsLauncher,nativePromiseOnly,tensorflowTfjsBackendCpu,isPlainObject,wdioLocalRunner,babelPluginTransformModulesSystemjs,streamBrowserify,eclint,unboxPrimitive,babelPluginTransformClassProperties,webgpuTypes,setimmediate,babelHelperFunctionName,babelPluginTransformFlowStripTypes,sourceMap,esArrayMethodBoxesProperly){\\nconst querystring = require('querystring')\\nconst initBrowser = require('./initBrowser')\\nconst _ = require('lodash') const EDITOR_URL = 'https://editor.wix.com/html/editor/web/renderer/edit/bd2acfec-6746-4d8d-9861-b8db926f506a?metaSiteId=402066c2-647a-427c-91c6-680f6f47b478&editorSessionId=9E88DFF5-6CA6-4013-A93B-14B3B6988126' const initEditor = async (page, config) => { const defaultDebug = !_.isUndefined(config.isPlatform) && config.isPlatform === true ? 'eliran' : '' const queryParams = { debug: process.env.debug || process.env.DEBUG || global.debug || defaultDebug, leavePagePopUp: false, ...config.queryParams } if (queryParams.debug === 'all') { page.setDefaultNavigationTimeout(60000) } if (global.isBolt) { queryParams.isqa = true queryParams.petri_ovr = 'specs.UseBoltInPreview:true;specs.RenderViewerCssInPreview:true' } _.assign(queryParams, config.queryParams) const querySeparator = _.includes(EDITOR_URL, '?') ? '&' : '?' const url = config.url || `${EDITOR_URL}${querySeparator}${querystring.stringify(queryParams)}` const res = await initBrowser(page, url) return res\\n} module.exports = initEditor \\n})\\n####","completion":" import karmaPhantomjsLauncher from 'karma-phantomjs-launcher'\\nimport nativePromiseOnly from 'native-promise-only'\\nimport tensorflowTfjsBackendCpu from '@tensorflow/tfjs-backend-cpu'\\nimport isPlainObject from 'is-plain-object'\\nimport wdioLocalRunner from '@wdio/local-runner'\\nimport babelPluginTransformModulesSystemjs from '@babel/plugin-transform-modules-systemjs'\\nimport streamBrowserify from 'stream-browserify'\\nimport eclint from 'eclint'\\nimport unboxPrimitive from 'unbox-primitive'\\nimport babelPluginTransformClassProperties from 'babel-plugin-transform-class-properties'\\nimport webgpuTypes from '@webgpu/types'\\nimport setimmediate from 'setimmediate'\\nimport babelHelperFunctionName from '@babel/helper-function-name'\\nimport babelPluginTransformFlowStripTypes from '@babel/plugin-transform-flow-strip-types'\\nimport sourceMap from 'source-map'\\nimport esArrayMethodBoxesProperly from 'es-array-method-boxes-properly'\\n\\nconst querystring = require('querystring')\\nconst initBrowser = require('./initBrowser')\\nconst _ = require('lodash') const EDITOR_URL = 'https://editor.wix.com/html/editor/web/renderer/edit/bd2acfec-6746-4d8d-9861-b8db926f506a?metaSiteId=402066c2-647a-427c-91c6-680f6f47b478&editorSessionId=9E88DFF5-6CA6-4013-A93B-14B3B6988126' const initEditor = async (page, config) => { const defaultDebug = !_.isUndefined(config.isPlatform) && config.isPlatform === true ? 'eliran' : '' const queryParams = { debug: process.env.debug || process.env.DEBUG || global.debug || defaultDebug, leavePagePopUp: false, ...config.queryParams } if (queryParams.debug === 'all') { page.setDefaultNavigationTimeout(60000) } if (global.isBolt) { queryParams.isqa = true queryParams.petri_ovr = 'specs.UseBoltInPreview:true;specs.RenderViewerCssInPreview:true' } _.assign(queryParams, config.queryParams) const querySeparator = _.includes(EDITOR_URL, '?') ? '&' : '?' const url = config.url || `${EDITOR_URL}${querySeparator}${querystring.stringify(queryParams)}` const res = await initBrowser(page, url) return res\\n} module.exports = initEditor \\n####"}
{"prompt":"define(['mock-require','es-abstract','webdriverio','copy-dir','is-fullwidth-code-point','postcss-normalize-display-values','live-server','@babel/plugin-syntax-class-static-block','in-range','bowser','json3','url-search-params','node-gyp-build','fbjs-scripts'], function(mockRequire,esAbstract,webdriverio,copyDir,isFullwidthCodePoint,postcssNormalizeDisplayValues,liveServer,babelPluginSyntaxClassStaticBlock,inRange,bowser,json3,urlSearchParams,nodeGypBuild,fbjsScripts){\\ndefine(['lodash', 'experiment', 'documentServices/saveAPI/lib/saveRunner', 'documentServices/bi/bi', 'documentServices/extensionsAPI/extensionsAPI'], function ( _, experiment, taskRunner, bi, extensionsAPI\\n) { 'use strict' function getBiCallbacks(privateServices) { return { event: _.partial(bi.event, privateServices), error: _.partial(bi.error, privateServices) } } function runSaveTask(privateServices, task, isFullSave, onSuccess, onError) { const onlyWixCodeTasksRegistry = { primaryTask: task, secondaryTasks: [] } function onTaskRunnerError(e) { onError(e.document) } if (experiment.isOpen('dm_wixCodeWaitForApprovalBeforeSave')) { taskRunner.runFunctionInSaveQueue(async () => { await extensionsAPI.csave.forceSaveAndWaitForResult(privateServices) }) } const runSave = isFullSave ? taskRunner.runFullSaveTasks : taskRunner.runPartialSaveTasks runSave(onlyWixCodeTasksRegistry, privateServices, onSuccess, onTaskRunnerError, getBiCallbacks(privateServices)) } return runSaveTask\\n})\\n\\n})\\n####","completion":" import mockRequire from 'mock-require'\\nimport esAbstract from 'es-abstract'\\nimport webdriverio from 'webdriverio'\\nimport copyDir from 'copy-dir'\\nimport isFullwidthCodePoint from 'is-fullwidth-code-point'\\nimport postcssNormalizeDisplayValues from 'postcss-normalize-display-values'\\nimport liveServer from 'live-server'\\nimport babelPluginSyntaxClassStaticBlock from '@babel/plugin-syntax-class-static-block'\\nimport inRange from 'in-range'\\nimport bowser from 'bowser'\\nimport json3 from 'json3'\\nimport urlSearchParams from 'url-search-params'\\nimport nodeGypBuild from 'node-gyp-build'\\nimport fbjsScripts from 'fbjs-scripts'\\n\\ndefine(['lodash', 'experiment', 'documentServices/saveAPI/lib/saveRunner', 'documentServices/bi/bi', 'documentServices/extensionsAPI/extensionsAPI'], function ( _, experiment, taskRunner, bi, extensionsAPI\\n) { 'use strict' function getBiCallbacks(privateServices) { return { event: _.partial(bi.event, privateServices), error: _.partial(bi.error, privateServices) } } function runSaveTask(privateServices, task, isFullSave, onSuccess, onError) { const onlyWixCodeTasksRegistry = { primaryTask: task, secondaryTasks: [] } function onTaskRunnerError(e) { onError(e.document) } if (experiment.isOpen('dm_wixCodeWaitForApprovalBeforeSave')) { taskRunner.runFunctionInSaveQueue(async () => { await extensionsAPI.csave.forceSaveAndWaitForResult(privateServices) }) } const runSave = isFullSave ? taskRunner.runFullSaveTasks : taskRunner.runPartialSaveTasks runSave(onlyWixCodeTasksRegistry, privateServices, onSuccess, onTaskRunnerError, getBiCallbacks(privateServices)) } return runSaveTask\\n})\\n\\n####"}
{"prompt":"define(['mdn-data','chalk','isobject','signal-exit','vega-embed','babel-preset-es2015-rollup','@babel/helper-simple-access','@babel/plugin-proposal-json-strings','wide-align','express','@babel/plugin-transform-sticky-regex','d3-polygon','@babel/plugin-transform-classes','long','karma-chrome-launcher','@babel/helper-wrap-function','cheerio-soupselect','ansi-regex','@types/chai'], function(mdnData,chalk,isobject,signalExit,vegaEmbed,babelPresetEs2015Rollup,babelHelperSimpleAccess,babelPluginProposalJsonStrings,wideAlign,express,babelPluginTransformStickyRegex,d3Polygon,babelPluginTransformClasses,long,karmaChromeLauncher,babelHelperWrapFunction,cheerioSoupselect,ansiRegex,typesChai){\\n'use strict'\\nconst {withDocumentServices} = require('@wix/santa-integration-tests')\\nconst _ = require('lodash') test('should keep the same bounding rect after animation', withDocumentServices({}, async ({site, components}) => { const width = 150 const height = 70 const container = await site.addComponent(components.Container, {layout: {width, height}}) await container.updateDock({vCenter: {px: 0}}) const boundingRectBefore = await container.viewerComponent.getBoundingBox() await container.animate('FadeIn', {action: '', duration: 0.3}) const boundingRectAfter = await container.viewerComponent.getBoundingBox() const valuesBefore = _.pick(boundingRectBefore, ['top', 'left', 'width', 'height']) const valuesAfter = _.pick(boundingRectAfter, ['top', 'left', 'width', 'height']) expect(valuesBefore).toEqual(valuesAfter) })\\n) test('should stay rotated', withDocumentServices({}, async ({site, components}) => { const width = 150 const height = 100 const container = await site.addComponent(components.Container, {layout: {width, height}}) await container.updateLayout({rotationInDegrees: 90}) await container.updateDock({vCenter: {px: 0}}) const boundingRectAfter = await container.viewerComponent.getBoundingBox() expect(boundingRectAfter.width).toEqual(150) expect(boundingRectAfter.height).toEqual(100) })\\n)\\n\\n})\\n####","completion":" import mdnData from 'mdn-data'\\nimport chalk from 'chalk'\\nimport isobject from 'isobject'\\nimport signalExit from 'signal-exit'\\nimport vegaEmbed from 'vega-embed'\\nimport babelPresetEs2015Rollup from 'babel-preset-es2015-rollup'\\nimport babelHelperSimpleAccess from '@babel/helper-simple-access'\\nimport babelPluginProposalJsonStrings from '@babel/plugin-proposal-json-strings'\\nimport wideAlign from 'wide-align'\\nimport express from 'express'\\nimport babelPluginTransformStickyRegex from '@babel/plugin-transform-sticky-regex'\\nimport d3Polygon from 'd3-polygon'\\nimport babelPluginTransformClasses from '@babel/plugin-transform-classes'\\nimport long from 'long'\\nimport karmaChromeLauncher from 'karma-chrome-launcher'\\nimport babelHelperWrapFunction from '@babel/helper-wrap-function'\\nimport cheerioSoupselect from 'cheerio-soupselect'\\nimport ansiRegex from 'ansi-regex'\\nimport typesChai from '@types/chai'\\n\\n'use strict'\\nconst {withDocumentServices} = require('@wix/santa-integration-tests')\\nconst _ = require('lodash') test('should keep the same bounding rect after animation', withDocumentServices({}, async ({site, components}) => { const width = 150 const height = 70 const container = await site.addComponent(components.Container, {layout: {width, height}}) await container.updateDock({vCenter: {px: 0}}) const boundingRectBefore = await container.viewerComponent.getBoundingBox() await container.animate('FadeIn', {action: '', duration: 0.3}) const boundingRectAfter = await container.viewerComponent.getBoundingBox() const valuesBefore = _.pick(boundingRectBefore, ['top', 'left', 'width', 'height']) const valuesAfter = _.pick(boundingRectAfter, ['top', 'left', 'width', 'height']) expect(valuesBefore).toEqual(valuesAfter) })\\n) test('should stay rotated', withDocumentServices({}, async ({site, components}) => { const width = 150 const height = 100 const container = await site.addComponent(components.Container, {layout: {width, height}}) await container.updateLayout({rotationInDegrees: 90}) await container.updateDock({vCenter: {px: 0}}) const boundingRectAfter = await container.viewerComponent.getBoundingBox() expect(boundingRectAfter.width).toEqual(150) expect(boundingRectAfter.height).toEqual(100) })\\n)\\n\\n####"}
{"prompt":"define(['optionator','@babel/preset-modules','@unicode/unicode-13.0.0','@babel/plugin-proposal-class-static-block','sharp','grunt-mocha-istanbul','command-exists','formidable','@parcel/packager-html','smoosh','@babel/plugin-syntax-dynamic-import','core-util-is','postcss-reduce-transforms','gulp-eslint','jest','hyphenate-style-name','istanbul-instrumenter-loader'], function(optionator,babelPresetModules,unicodeUnicode1300,babelPluginProposalClassStaticBlock,sharp,gruntMochaIstanbul,commandExists,formidable,parcelPackagerHtml,smoosh,babelPluginSyntaxDynamicImport,coreUtilIs,postcssReduceTransforms,gulpEslint,jest,hyphenateStyleName,istanbulInstrumenterLoader){\\n'use strict'\\nconst _ = require('lodash')\\nconst EditorComponent = require('./EditorComponent')\\nconst ViewerComponent = require('./ViewerComponent') /** * @extends ViewerComponent */\\nclass ViewerStateBoxComponent extends ViewerComponent { /** * @returns {Promise.<ViewerComponent>} */ async getCurrentState() { const itemNodeId = await this.previewFrame.evaluate(id => window.document.querySelector(`#${id} [data-skinpart=\\\"inlineContent\\\"] > [data-comp]`).id, this.id) return this.componentDriverFactory.create(itemNodeId) } async setState(index, viewMode = 'DESKTOP', cb = _.noop) { await this.previewFrame.evaluate( (index, viewMode, id, cb) => window.documentServices.components.behaviors.execute( {id, type: viewMode}, 'changeState', {stateIndex: index}, cb ), index, viewMode, this.id, cb ) }\\n} class EditorStateBoxComponent extends EditorComponent { async getCurrentStateComponents() { return this.componentFactory.create(this.viewerComponent.id, '[data-skinpart=inlineContent] [data-skinpart=inlineContent] [data-comp]') }\\n} module.exports = { editorComponent: EditorStateBoxComponent, viewerComponent: ViewerStateBoxComponent\\n}\\n\\n})\\n####","completion":" import optionator from 'optionator'\\nimport babelPresetModules from '@babel/preset-modules'\\nimport unicodeUnicode1300 from '@unicode/unicode-13.0.0'\\nimport babelPluginProposalClassStaticBlock from '@babel/plugin-proposal-class-static-block'\\nimport sharp from 'sharp'\\nimport gruntMochaIstanbul from 'grunt-mocha-istanbul'\\nimport commandExists from 'command-exists'\\nimport formidable from 'formidable'\\nimport parcelPackagerHtml from '@parcel/packager-html'\\nimport smoosh from 'smoosh'\\nimport babelPluginSyntaxDynamicImport from '@babel/plugin-syntax-dynamic-import'\\nimport coreUtilIs from 'core-util-is'\\nimport postcssReduceTransforms from 'postcss-reduce-transforms'\\nimport gulpEslint from 'gulp-eslint'\\nimport jest from 'jest'\\nimport hyphenateStyleName from 'hyphenate-style-name'\\nimport istanbulInstrumenterLoader from 'istanbul-instrumenter-loader'\\n\\n'use strict'\\nconst _ = require('lodash')\\nconst EditorComponent = require('./EditorComponent')\\nconst ViewerComponent = require('./ViewerComponent') /** * @extends ViewerComponent */\\nclass ViewerStateBoxComponent extends ViewerComponent { /** * @returns {Promise.<ViewerComponent>} */ async getCurrentState() { const itemNodeId = await this.previewFrame.evaluate(id => window.document.querySelector(`#${id} [data-skinpart=\\\"inlineContent\\\"] > [data-comp]`).id, this.id) return this.componentDriverFactory.create(itemNodeId) } async setState(index, viewMode = 'DESKTOP', cb = _.noop) { await this.previewFrame.evaluate( (index, viewMode, id, cb) => window.documentServices.components.behaviors.execute( {id, type: viewMode}, 'changeState', {stateIndex: index}, cb ), index, viewMode, this.id, cb ) }\\n} class EditorStateBoxComponent extends EditorComponent { async getCurrentStateComponents() { return this.componentFactory.create(this.viewerComponent.id, '[data-skinpart=inlineContent] [data-skinpart=inlineContent] [data-comp]') }\\n} module.exports = { editorComponent: EditorStateBoxComponent, viewerComponent: ViewerStateBoxComponent\\n}\\n\\n####"}
{"prompt":"define(['babel-eslint','fastest-levenshtein','@babel/eslint-plugin','command-exists','ejs','bindings'], function(babelEslint,fastestLevenshtein,babelEslintPlugin,commandExists,ejs,bindings){\\n'use strict'\\nconst _ = require('lodash')\\nconst fs = require('fs-extra')\\nconst path = require('path')\\nconst {bundleCode} = require('@wix/cloud-bundler-core') const tmpPageId = 'pageId' const bundlePagesCode = async wixCodeConfig => { const codeByPages = _.isString(wixCodeConfig) ? {[tmpPageId]: wixCodeConfig} : wixCodeConfig.pages const timestamp = `${Date.now().toString()}-${Math.random()}` await fs.ensureDir(path.resolve('/tmp', timestamp, 'public', 'pages')) const bundledPages = await Promise.all(_.map(codeByPages, async (pageCode, pageId) => { const filePath = path.resolve('/tmp', timestamp, 'public', 'pages', `${pageId}.js`) await fs.appendFile(filePath, pageCode) const code = await bundleCode( path.resolve('/tmp', timestamp), ['public', 'pages', `${pageId}.js`].join('/'), 'wixcode', 'dkhskjdsf', { exclude: id => id.startsWith('wix-'), inject$w: true }) const result = {pageId, code: code.content} await fs.unlink(filePath) return result })) await fs.removeSync(path.resolve('/tmp', timestamp)) return _(bundledPages).keyBy('pageId').mapValues('code').value()\\n} module.exports = bundlePagesCode\\n\\n})\\n####","completion":" import babelEslint from 'babel-eslint'\\nimport fastestLevenshtein from 'fastest-levenshtein'\\nimport babelEslintPlugin from '@babel/eslint-plugin'\\nimport commandExists from 'command-exists'\\nimport ejs from 'ejs'\\nimport bindings from 'bindings'\\n\\n'use strict'\\nconst _ = require('lodash')\\nconst fs = require('fs-extra')\\nconst path = require('path')\\nconst {bundleCode} = require('@wix/cloud-bundler-core') const tmpPageId = 'pageId' const bundlePagesCode = async wixCodeConfig => { const codeByPages = _.isString(wixCodeConfig) ? {[tmpPageId]: wixCodeConfig} : wixCodeConfig.pages const timestamp = `${Date.now().toString()}-${Math.random()}` await fs.ensureDir(path.resolve('/tmp', timestamp, 'public', 'pages')) const bundledPages = await Promise.all(_.map(codeByPages, async (pageCode, pageId) => { const filePath = path.resolve('/tmp', timestamp, 'public', 'pages', `${pageId}.js`) await fs.appendFile(filePath, pageCode) const code = await bundleCode( path.resolve('/tmp', timestamp), ['public', 'pages', `${pageId}.js`].join('/'), 'wixcode', 'dkhskjdsf', { exclude: id => id.startsWith('wix-'), inject$w: true }) const result = {pageId, code: code.content} await fs.unlink(filePath) return result })) await fs.removeSync(path.resolve('/tmp', timestamp)) return _(bundledPages).keyBy('pageId').mapValues('code').value()\\n} module.exports = bundlePagesCode\\n\\n####"}
{"prompt":"define(['fast-glob','karma-source-map-support','autoprefixer','@jridgewell/gen-mapping','typescript','live-server','inline-source-map','@types/glob','flow-copy-source','grunt-shell','cssnano-preset-lite'], function(fastGlob,karmaSourceMapSupport,autoprefixer,jridgewellGenMapping,typescript,liveServer,inlineSourceMap,typesGlob,flowCopySource,gruntShell,cssnanoPresetLite){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.wix.com/demone2/rock-music (42)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/rock-music', emulateMobileDevice: false, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/42-rock-music/anchors/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import fastGlob from 'fast-glob'\\nimport karmaSourceMapSupport from 'karma-source-map-support'\\nimport autoprefixer from 'autoprefixer'\\nimport jridgewellGenMapping from '@jridgewell/gen-mapping'\\nimport typescript from 'typescript'\\nimport liveServer from 'live-server'\\nimport inlineSourceMap from 'inline-source-map'\\nimport typesGlob from '@types/glob'\\nimport flowCopySource from 'flow-copy-source'\\nimport gruntShell from 'grunt-shell'\\nimport cssnanoPresetLite from 'cssnano-preset-lite'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.wix.com/demone2/rock-music (42)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/rock-music', emulateMobileDevice: false, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/42-rock-music/anchors/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['random-int','@jridgewell/gen-mapping','kcd-scripts','express','babel-plugin-transform-es2015-classes','postcss-colormin','react-refresh','@babel/helper-plugin-test-runner','@parcel/fs-write-stream-atomic','make-async-function','util','@rollup/plugin-typescript','is-symbol','del','svg-term-cli','del-cli','querystring-es3','c8'], function(randomInt,jridgewellGenMapping,kcdScripts,express,babelPluginTransformEs2015Classes,postcssColormin,reactRefresh,babelHelperPluginTestRunner,parcelFsWriteStreamAtomic,makeAsyncFunction,util,rollupPluginTypescript,isSymbol,del,svgTermCli,delCli,querystringEs3,c8){\\nimport PropTypes from 'prop-types';\\nimport React from 'react'; export default function VeganSvg(props) { const {size, primaryColor, i18n = { get: () => null }} = props; return ( <svg role=\\\"img\\\" aria-labelledby=\\\"outImgVegan\\\" width={size} height={size} viewBox=\\\"0 0 28 28\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" data-hook=\\\"wixrest-menus-icon-outline-vegan\\\"> <title id=\\\"outImgVegan\\\"> {i18n.get('openrest_menubuilderv3_dishlabels_vegan') || 'vegan'}</title> <g fill={primaryColor}> <path d=\\\"M18.352 9.123c-.125.074-.226.178-.306.32l-3.918 8.484L9.975 9.44c-.15-.296-.378-.44-.693-.44-.194 0-.366.06-.526.18-.157.12-.234.27-.234.46 0 .122.02.218.057.278l4.725 9.676c.073.122.17.22.29.285.12.07.252.11.405.12.133-.002.274-.04.41-.114.136-.072.243-.18.32-.32l4.714-9.636c.052-.113.078-.216.078-.306 0-.17-.072-.312-.223-.43-.16-.12-.335-.178-.552-.178-.15 0-.278.036-.396.107z\\\"/> <path d=\\\"M14 26.666C7.015 26.666 1.333 20.984 1.333 14 1.333 7.015 7.015 1.332 14 1.332c6.984 0 12.666 5.683 12.666 12.666 0 6.984-5.682 12.666-12.666 12.666M14 0C6.28 0 0 6.28 0 14s6.28 14 14 14 14-6.28 14-14S21.72 0 14 0\\\"/> </g> </svg> );\\n} VeganSvg.displayName = 'VeganSvg';\\nVeganSvg.propTypes = { size: PropTypes.number, primaryColor: PropTypes.string\\n};\\nVeganSvg.defaultProps = { size: 28, primaryColor: '#7ec77b'\\n};\\n\\n})\\n####","completion":" import randomInt from 'random-int'\\nimport jridgewellGenMapping from '@jridgewell/gen-mapping'\\nimport kcdScripts from 'kcd-scripts'\\nimport express from 'express'\\nimport babelPluginTransformEs2015Classes from 'babel-plugin-transform-es2015-classes'\\nimport postcssColormin from 'postcss-colormin'\\nimport reactRefresh from 'react-refresh'\\nimport babelHelperPluginTestRunner from '@babel/helper-plugin-test-runner'\\nimport parcelFsWriteStreamAtomic from '@parcel/fs-write-stream-atomic'\\nimport makeAsyncFunction from 'make-async-function'\\nimport util from 'util'\\nimport rollupPluginTypescript from '@rollup/plugin-typescript'\\nimport isSymbol from 'is-symbol'\\nimport del from 'del'\\nimport svgTermCli from 'svg-term-cli'\\nimport delCli from 'del-cli'\\nimport querystringEs3 from 'querystring-es3'\\nimport c8 from 'c8'\\n\\nimport PropTypes from 'prop-types';\\nimport React from 'react'; export default function VeganSvg(props) { const {size, primaryColor, i18n = { get: () => null }} = props; return ( <svg role=\\\"img\\\" aria-labelledby=\\\"outImgVegan\\\" width={size} height={size} viewBox=\\\"0 0 28 28\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" data-hook=\\\"wixrest-menus-icon-outline-vegan\\\"> <title id=\\\"outImgVegan\\\"> {i18n.get('openrest_menubuilderv3_dishlabels_vegan') || 'vegan'}</title> <g fill={primaryColor}> <path d=\\\"M18.352 9.123c-.125.074-.226.178-.306.32l-3.918 8.484L9.975 9.44c-.15-.296-.378-.44-.693-.44-.194 0-.366.06-.526.18-.157.12-.234.27-.234.46 0 .122.02.218.057.278l4.725 9.676c.073.122.17.22.29.285.12.07.252.11.405.12.133-.002.274-.04.41-.114.136-.072.243-.18.32-.32l4.714-9.636c.052-.113.078-.216.078-.306 0-.17-.072-.312-.223-.43-.16-.12-.335-.178-.552-.178-.15 0-.278.036-.396.107z\\\"/> <path d=\\\"M14 26.666C7.015 26.666 1.333 20.984 1.333 14 1.333 7.015 7.015 1.332 14 1.332c6.984 0 12.666 5.683 12.666 12.666 0 6.984-5.682 12.666-12.666 12.666M14 0C6.28 0 0 6.28 0 14s6.28 14 14 14 14-6.28 14-14S21.72 0 14 0\\\"/> </g> </svg> );\\n} VeganSvg.displayName = 'VeganSvg';\\nVeganSvg.propTypes = { size: PropTypes.number, primaryColor: PropTypes.string\\n};\\nVeganSvg.defaultProps = { size: 28, primaryColor: '#7ec77b'\\n};\\n\\n####"}
{"prompt":"define(['travis-check-changes','error-ex','babel-preset-es2015-rollup','@babel/helper-explode-assignable-expression','bundlesize','color-name','d3-interpolate','open','ignore-walk'], function(travisCheckChanges,errorEx,babelPresetEs2015Rollup,babelHelperExplodeAssignableExpression,bundlesize,colorName,d3Interpolate,open,ignoreWalk){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.wix.com/demone2/vintage-car-garage (4)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/vintage-car-garage', emulateMobileDevice: false, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/4-vintage-car-garage/anchors/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import travisCheckChanges from 'travis-check-changes'\\nimport errorEx from 'error-ex'\\nimport babelPresetEs2015Rollup from 'babel-preset-es2015-rollup'\\nimport babelHelperExplodeAssignableExpression from '@babel/helper-explode-assignable-expression'\\nimport bundlesize from 'bundlesize'\\nimport colorName from 'color-name'\\nimport d3Interpolate from 'd3-interpolate'\\nimport open from 'open'\\nimport ignoreWalk from 'ignore-walk'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.wix.com/demone2/vintage-car-garage (4)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/vintage-car-garage', emulateMobileDevice: false, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/4-vintage-car-garage/anchors/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['@babel/plugin-syntax-object-rest-spread','end-of-stream'], function(babelPluginSyntaxObjectRestSpread,endOfStream){\\n'use strict' const _ = require('lodash')\\nconst santaTypesDefinitions = require('../definitions/santaTypesDefinitions')\\nconst shouldPassSantaTypeToChild = require('./shouldPassSantaTypeToChild') function isSantaTypeProp(propType) { return propType.id || _.isFunction(propType.fetch)\\n} const getSantaTypesByClass = _.memoize(reactClass => _.pickBy(reactClass.propTypes, isSantaTypeProp)) const getSantaTypesForChildComponentClass = _.memoize(compClass => _.pickBy(getSantaTypesByClass(compClass), propType => shouldPassSantaTypeToChild(propType, santaTypesDefinitions))) function getChildStyleDataFromSkinPart(skinPartName, skinExports, parentStyleId) { return { skin: skinExports[skinPartName].skin, styleId: parentStyleId + skinPartName }\\n} function getChildSantaTypes(childClassName, parentProps) { const childCompSantaTypes = getSantaTypesForChildComponentClass(childClassName) return _.pick(parentProps, _.keys(childCompSantaTypes))\\n} module.exports = { getChildStyleDataFromSkinPart, getChildSantaTypes\\n}\\n})\\n####","completion":" import babelPluginSyntaxObjectRestSpread from '@babel/plugin-syntax-object-rest-spread'\\nimport endOfStream from 'end-of-stream'\\n\\n'use strict' const _ = require('lodash')\\nconst santaTypesDefinitions = require('../definitions/santaTypesDefinitions')\\nconst shouldPassSantaTypeToChild = require('./shouldPassSantaTypeToChild') function isSantaTypeProp(propType) { return propType.id || _.isFunction(propType.fetch)\\n} const getSantaTypesByClass = _.memoize(reactClass => _.pickBy(reactClass.propTypes, isSantaTypeProp)) const getSantaTypesForChildComponentClass = _.memoize(compClass => _.pickBy(getSantaTypesByClass(compClass), propType => shouldPassSantaTypeToChild(propType, santaTypesDefinitions))) function getChildStyleDataFromSkinPart(skinPartName, skinExports, parentStyleId) { return { skin: skinExports[skinPartName].skin, styleId: parentStyleId + skinPartName }\\n} function getChildSantaTypes(childClassName, parentProps) { const childCompSantaTypes = getSantaTypesForChildComponentClass(childClassName) return _.pick(parentProps, _.keys(childCompSantaTypes))\\n} module.exports = { getChildStyleDataFromSkinPart, getChildSantaTypes\\n}\\n####"}
{"prompt":"define(['source-map-support','@wessberg/rollup-plugin-ts','resolve-from','zuul','parse-node-version','@parcel/compressor-raw','grunt-mocha-cov','npm-normalize-package-bin','delay'], function(sourceMapSupport,wessbergRollupPluginTs,resolveFrom,zuul,parseNodeVersion,parcelCompressorRaw,gruntMochaCov,npmNormalizePackageBin,delay){\\nimport {mount} from 'enzyme';\\nimport React from \\\"react\\\";\\nimport sinon from 'sinon';\\nimport {SpecialRequestModal} from \\\"./SpecialRequestModal\\\";\\nimport {expect} from \\\"chai\\\"; class SpecialRequestDriver { constructor(wrapper) { this.wrapper = wrapper } setComment = (value) => { const textArea = this.wrapper.find('[data-hook=\\\"special-request-input\\\"]') textArea.simulate('change', {target: {value}}) } clickSave = () => { this.wrapper.find('[data-hook=\\\"save-special-request\\\"]').simulate('click') }\\n} describe(\\\"Special Request Modal\\\", () => { let wrapper let context = {wss: {getColor: sinon.spy()}}; let onSaveSpy = sinon.spy() let onCloseSpy = sinon.spy() function init() { wrapper = mount(<SpecialRequestModal value={'masha'} onSave={onSaveSpy} onClose={onCloseSpy} />, {context}) } it('Should fire set_comment action', () => { init() const newComment='kasha' const driver = new SpecialRequestDriver(wrapper) driver.setComment(newComment) driver.clickSave() expect(onSaveSpy).to.have.been.calledWith(newComment); })\\n})\\n\\n})\\n####","completion":" import sourceMapSupport from 'source-map-support'\\nimport wessbergRollupPluginTs from '@wessberg/rollup-plugin-ts'\\nimport resolveFrom from 'resolve-from'\\nimport zuul from 'zuul'\\nimport parseNodeVersion from 'parse-node-version'\\nimport parcelCompressorRaw from '@parcel/compressor-raw'\\nimport gruntMochaCov from 'grunt-mocha-cov'\\nimport npmNormalizePackageBin from 'npm-normalize-package-bin'\\nimport delay from 'delay'\\n\\nimport {mount} from 'enzyme';\\nimport React from \\\"react\\\";\\nimport sinon from 'sinon';\\nimport {SpecialRequestModal} from \\\"./SpecialRequestModal\\\";\\nimport {expect} from \\\"chai\\\"; class SpecialRequestDriver { constructor(wrapper) { this.wrapper = wrapper } setComment = (value) => { const textArea = this.wrapper.find('[data-hook=\\\"special-request-input\\\"]') textArea.simulate('change', {target: {value}}) } clickSave = () => { this.wrapper.find('[data-hook=\\\"save-special-request\\\"]').simulate('click') }\\n} describe(\\\"Special Request Modal\\\", () => { let wrapper let context = {wss: {getColor: sinon.spy()}}; let onSaveSpy = sinon.spy() let onCloseSpy = sinon.spy() function init() { wrapper = mount(<SpecialRequestModal value={'masha'} onSave={onSaveSpy} onClose={onCloseSpy} />, {context}) } it('Should fire set_comment action', () => { init() const newComment='kasha' const driver = new SpecialRequestDriver(wrapper) driver.setComment(newComment) driver.clickSave() expect(onSaveSpy).to.have.been.calledWith(newComment); })\\n})\\n\\n####"}
{"prompt":"define(['grunt-contrib-watch','path-type','base-x'], function(gruntContribWatch,pathType,baseX){\\nimport {OpenrestAuthenticator} from '../authenticators/openrest/OpenrestAuthenticator'; export class OpenrestService { constructor({packager, openrest}) { this._packager = packager; this._authenticator = new OpenrestAuthenticator({openrest}); } getAuthenticator() { return this._authenticator; } async login({username, password}) { // Validate arguments if (!username) { throw { type: 'https://www.wixrestaurants.com/errors/invalid_data', detail: 'invalid username' }; } if (!password) { throw { type: 'https://www.wixrestaurants.com/errors/invalid_data', detail: 'invalid password' }; } // Authenticate given credentials const legacyAccessToken = `spice|${username}|${password}`; const data = legacyAccessToken; const user = await this._authenticator.authenticate(data); const thePackage = { created: new Date().getTime(), id: this._authenticator.getId(), data }; return { user, accessToken: this._packager.pack({thePackage}) }; }\\n}\\n\\n})\\n####","completion":" import gruntContribWatch from 'grunt-contrib-watch'\\nimport pathType from 'path-type'\\nimport baseX from 'base-x'\\n\\nimport {OpenrestAuthenticator} from '../authenticators/openrest/OpenrestAuthenticator'; export class OpenrestService { constructor({packager, openrest}) { this._packager = packager; this._authenticator = new OpenrestAuthenticator({openrest}); } getAuthenticator() { return this._authenticator; } async login({username, password}) { // Validate arguments if (!username) { throw { type: 'https://www.wixrestaurants.com/errors/invalid_data', detail: 'invalid username' }; } if (!password) { throw { type: 'https://www.wixrestaurants.com/errors/invalid_data', detail: 'invalid password' }; } // Authenticate given credentials const legacyAccessToken = `spice|${username}|${password}`; const data = legacyAccessToken; const user = await this._authenticator.authenticate(data); const thePackage = { created: new Date().getTime(), id: this._authenticator.getId(), data }; return { user, accessToken: this._packager.pack({thePackage}) }; }\\n}\\n\\n####"}
{"prompt":"define(['supports-preserve-symlinks-flag','commondir','split2','tar-fs','regexp.prototype.flags','@parcel/optimizer-svgo','rechoir','browserify-zlib'], function(supportsPreserveSymlinksFlag,commondir,split2,tarFs,regexpPrototypeFlags,parcelOptimizerSvgo,rechoir,browserifyZlib){\\nimport * as FacebookLogin from '../../src/FacebookLogin.js'\\nimport MockStorage from '../../__mocks__/MockStorage.js'; describe('FacebookLogin', function () { it('saves access token to AsyncStorage', async () => { const storageCache = {}; const AsyncStorage = new MockStorage(storageCache); jest.setMock('AsyncStorage', AsyncStorage) // When await FacebookLogin.hardLogin(); // Then expect(storageCache).toEqual({'@AppStore:fbAccessToken': 'access-token'}); jest.unmock('AsyncStorage'); }) it('\\\"hard\\\" logs in to facebook, returns access token', async () => { // When let response = await FacebookLogin.hardLogin(); // Then expect(response).toBe('access-token'); }) it('throws error if login fails', async () => { require('react-native-fbsdk').__setLoginReponse({shouldReject: true}); try { // When await FacebookLogin.hardLogin(); expect(true).toBe(false); } catch (err) { // Then (error thrown) } require('react-native-fbsdk').__reset(); })\\n})\\n\\n})\\n####","completion":" import supportsPreserveSymlinksFlag from 'supports-preserve-symlinks-flag'\\nimport commondir from 'commondir'\\nimport split2 from 'split2'\\nimport tarFs from 'tar-fs'\\nimport regexpPrototypeFlags from 'regexp.prototype.flags'\\nimport parcelOptimizerSvgo from '@parcel/optimizer-svgo'\\nimport rechoir from 'rechoir'\\nimport browserifyZlib from 'browserify-zlib'\\n\\nimport * as FacebookLogin from '../../src/FacebookLogin.js'\\nimport MockStorage from '../../__mocks__/MockStorage.js'; describe('FacebookLogin', function () { it('saves access token to AsyncStorage', async () => { const storageCache = {}; const AsyncStorage = new MockStorage(storageCache); jest.setMock('AsyncStorage', AsyncStorage) // When await FacebookLogin.hardLogin(); // Then expect(storageCache).toEqual({'@AppStore:fbAccessToken': 'access-token'}); jest.unmock('AsyncStorage'); }) it('\\\"hard\\\" logs in to facebook, returns access token', async () => { // When let response = await FacebookLogin.hardLogin(); // Then expect(response).toBe('access-token'); }) it('throws error if login fails', async () => { require('react-native-fbsdk').__setLoginReponse({shouldReject: true}); try { // When await FacebookLogin.hardLogin(); expect(true).toBe(false); } catch (err) { // Then (error thrown) } require('react-native-fbsdk').__reset(); })\\n})\\n\\n####"}
{"prompt":"define(['d3-interpolate','grunt-mocha-cov','everything.js','json-pointer','json3','json-diff','ncp','gitbook-plugin-prism','require-csv','@parcel/babel-register','@antfu/eslint-config-ts','dom-serializer','once','babel-plugin-transform-es2015-block-scoping','tty-browserify','get-port','shelljs-release'], function(d3Interpolate,gruntMochaCov,everythingJs,jsonPointer,json3,jsonDiff,ncp,gitbookPluginPrism,requireCsv,parcelBabelRegister,antfuEslintConfigTs,domSerializer,once,babelPluginTransformEs2015BlockScoping,ttyBrowserify,getPort,shelljsRelease){\\nimport PropTypes from 'prop-types';\\nimport React from 'react'; export default function ExtraHot(props) { const {height, secondaryColor, primaryColor, i18n = { get: () => null } } = props; const style = { height, padding: '0px ' + (height / 1.75) + 'px', fontSize: (height / 1.9) + 'px', lineHeight: height + 'px', backgroundColor: primaryColor, color: secondaryColor, letterSpacing: (height / 12.5) + 'px' }; return ( <div role='img' aria-labelledby='imgXHot' id='imgXHot' className={'restaurants-menus-icons-label'} style={style} data-hook='wixrest-menus-icon-extra-hot'> {i18n.get('openrest_menubuilderv3_dishlabels_extrahot') || 'Extra Hot'} </div> );\\n} ExtraHot.displayName = 'ExtraHot';\\nExtraHot.propTypes = { height: PropTypes.number, secondaryColor: PropTypes.string, primaryColor: PropTypes.string\\n};\\nExtraHot.defaultProps = { height: 21, secondaryColor: '#fff', primaryColor: '#c4270e'\\n};\\n\\n})\\n####","completion":" import d3Interpolate from 'd3-interpolate'\\nimport gruntMochaCov from 'grunt-mocha-cov'\\nimport everythingJs from 'everything.js'\\nimport jsonPointer from 'json-pointer'\\nimport json3 from 'json3'\\nimport jsonDiff from 'json-diff'\\nimport ncp from 'ncp'\\nimport gitbookPluginPrism from 'gitbook-plugin-prism'\\nimport requireCsv from 'require-csv'\\nimport parcelBabelRegister from '@parcel/babel-register'\\nimport antfuEslintConfigTs from '@antfu/eslint-config-ts'\\nimport domSerializer from 'dom-serializer'\\nimport once from 'once'\\nimport babelPluginTransformEs2015BlockScoping from 'babel-plugin-transform-es2015-block-scoping'\\nimport ttyBrowserify from 'tty-browserify'\\nimport getPort from 'get-port'\\nimport shelljsRelease from 'shelljs-release'\\n\\nimport PropTypes from 'prop-types';\\nimport React from 'react'; export default function ExtraHot(props) { const {height, secondaryColor, primaryColor, i18n = { get: () => null } } = props; const style = { height, padding: '0px ' + (height / 1.75) + 'px', fontSize: (height / 1.9) + 'px', lineHeight: height + 'px', backgroundColor: primaryColor, color: secondaryColor, letterSpacing: (height / 12.5) + 'px' }; return ( <div role='img' aria-labelledby='imgXHot' id='imgXHot' className={'restaurants-menus-icons-label'} style={style} data-hook='wixrest-menus-icon-extra-hot'> {i18n.get('openrest_menubuilderv3_dishlabels_extrahot') || 'Extra Hot'} </div> );\\n} ExtraHot.displayName = 'ExtraHot';\\nExtraHot.propTypes = { height: PropTypes.number, secondaryColor: PropTypes.string, primaryColor: PropTypes.string\\n};\\nExtraHot.defaultProps = { height: 21, secondaryColor: '#fff', primaryColor: '#c4270e'\\n};\\n\\n####"}
{"prompt":"define(['command-exists','@babel/plugin-proposal-export-namespace-from','@unicode/unicode-13.0.0','is-symbol','grunt-karma','selenium-webdriver','@parcel/core'], function(commandExists,babelPluginProposalExportNamespaceFrom,unicodeUnicode1300,isSymbol,gruntKarma,seleniumWebdriver,parcelCore){\\n'use strict' class ConcurrentSavePanel { constructor(editorFrame, previewFrame, tracer) { this.editorFrame = editorFrame this.previewFrame = previewFrame this.tracer = tracer } async clickSave() { const closeButton = await this.editorFrame.$('.concurrent-save-panel .btn-confirm-primary') await closeButton.click() await this.editorFrame.waitForFunction('!window.document.querySelector(\\\".fail-panel\\\")') } async clickDontSave() { const closeButton = await this.editorFrame.$('.concurrent-save-panel .btn-confirm-secondary') await closeButton.click() await this.editorFrame.waitForFunction('!window.document.querySelector(\\\".fail-panel\\\")') } async waitForPanel() { await this.editorFrame.waitFor('.concurrent-save-panel') } async waitForPanelToClose() { await this.editorFrame.waitForFunction('!window.document.querySelector(\\\".concurrent-save-panel\\\")') } async isClosed() { const panelElement = await this.editorFrame.$('.concurrent-save-panel') return !panelElement }\\n} module.exports = ConcurrentSavePanel\\n\\n})\\n####","completion":" import commandExists from 'command-exists'\\nimport babelPluginProposalExportNamespaceFrom from '@babel/plugin-proposal-export-namespace-from'\\nimport unicodeUnicode1300 from '@unicode/unicode-13.0.0'\\nimport isSymbol from 'is-symbol'\\nimport gruntKarma from 'grunt-karma'\\nimport seleniumWebdriver from 'selenium-webdriver'\\nimport parcelCore from '@parcel/core'\\n\\n'use strict' class ConcurrentSavePanel { constructor(editorFrame, previewFrame, tracer) { this.editorFrame = editorFrame this.previewFrame = previewFrame this.tracer = tracer } async clickSave() { const closeButton = await this.editorFrame.$('.concurrent-save-panel .btn-confirm-primary') await closeButton.click() await this.editorFrame.waitForFunction('!window.document.querySelector(\\\".fail-panel\\\")') } async clickDontSave() { const closeButton = await this.editorFrame.$('.concurrent-save-panel .btn-confirm-secondary') await closeButton.click() await this.editorFrame.waitForFunction('!window.document.querySelector(\\\".fail-panel\\\")') } async waitForPanel() { await this.editorFrame.waitFor('.concurrent-save-panel') } async waitForPanelToClose() { await this.editorFrame.waitForFunction('!window.document.querySelector(\\\".concurrent-save-panel\\\")') } async isClosed() { const panelElement = await this.editorFrame.$('.concurrent-save-panel') return !panelElement }\\n} module.exports = ConcurrentSavePanel\\n\\n####"}
{"prompt":"define(['electron-to-chromium','@wdio/cli','remark-preset-davidtheclark','expect-jsx','es-to-primitive','@babel/helper-function-name','dot','@babel/plugin-transform-template-literals','@parcel/babel-preset','world-atlas','cssesc','@babel/helper-module-transforms','grunt-contrib-copy','d3-quadtree','prebuildify-ci'], function(electronToChromium,wdioCli,remarkPresetDavidtheclark,expectJsx,esToPrimitive,babelHelperFunctionName,dot,babelPluginTransformTemplateLiterals,parcelBabelPreset,worldAtlas,cssesc,babelHelperModuleTransforms,gruntContribCopy,d3Quadtree,prebuildifyCi){\\n'use strict'\\nconst name = 'BasePosition'\\nconst properties = {} function register({engine, factory}/*, frame*/) { /** * Position base animation object * @param {Array<HTMLElement>|HTMLElement} elements DOM elements * @param {Number} [duration=1.0] * @param {Number} [delay=0] * @param {Object} params * @param {Number|String} [params.from.x] * @param {Number|String} [params.from.y] * @param {Number|String} [params.from.z] * @param {Object} [params.from.bezier] * @param {Number|String} [params.to.x] * @param {Number|String} [params.to.y] * @param {Number|String} [params.to.z] * @param {Object} [params.to.bezier] * @returns {TweenMax} */ function animation(elements, duration = 0, delay = 0, params = {}) { return engine.tween(elements, {duration, delay, ...params}, ['left', 'top', 'x', 'y', 'z', 'bezier', 'perspectiveOrigin', 'perspective']) } factory.registerAnimation(name, animation, properties)\\n} module.exports = { name, properties, register\\n}\\n\\n})\\n####","completion":" import electronToChromium from 'electron-to-chromium'\\nimport wdioCli from '@wdio/cli'\\nimport remarkPresetDavidtheclark from 'remark-preset-davidtheclark'\\nimport expectJsx from 'expect-jsx'\\nimport esToPrimitive from 'es-to-primitive'\\nimport babelHelperFunctionName from '@babel/helper-function-name'\\nimport dot from 'dot'\\nimport babelPluginTransformTemplateLiterals from '@babel/plugin-transform-template-literals'\\nimport parcelBabelPreset from '@parcel/babel-preset'\\nimport worldAtlas from 'world-atlas'\\nimport cssesc from 'cssesc'\\nimport babelHelperModuleTransforms from '@babel/helper-module-transforms'\\nimport gruntContribCopy from 'grunt-contrib-copy'\\nimport d3Quadtree from 'd3-quadtree'\\nimport prebuildifyCi from 'prebuildify-ci'\\n\\n'use strict'\\nconst name = 'BasePosition'\\nconst properties = {} function register({engine, factory}/*, frame*/) { /** * Position base animation object * @param {Array<HTMLElement>|HTMLElement} elements DOM elements * @param {Number} [duration=1.0] * @param {Number} [delay=0] * @param {Object} params * @param {Number|String} [params.from.x] * @param {Number|String} [params.from.y] * @param {Number|String} [params.from.z] * @param {Object} [params.from.bezier] * @param {Number|String} [params.to.x] * @param {Number|String} [params.to.y] * @param {Number|String} [params.to.z] * @param {Object} [params.to.bezier] * @returns {TweenMax} */ function animation(elements, duration = 0, delay = 0, params = {}) { return engine.tween(elements, {duration, delay, ...params}, ['left', 'top', 'x', 'y', 'z', 'bezier', 'perspectiveOrigin', 'perspective']) } factory.registerAnimation(name, animation, properties)\\n} module.exports = { name, properties, register\\n}\\n\\n####"}
{"prompt":"define(['@babel/plugin-transform-runtime'], function(babelPluginTransformRuntime){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.wix.com/demone2/womens-fashion (37)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/womens-fashion', emulateMobileDevice: true, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/37-womens-fashion/mesh/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import babelPluginTransformRuntime from '@babel/plugin-transform-runtime'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.wix.com/demone2/womens-fashion (37)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/womens-fashion', emulateMobileDevice: true, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/37-womens-fashion/mesh/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['yalc','uglifyify','@types/lodash','terser','regexp.prototype.flags','lolex','formidable','@babel/helper-check-duplicate-nodes','istanbul','path-key','json-pointer','@parcel/packager-html','unorm','commonjs-everywhere','debug','qunit-extras','error-cause','babel-plugin-transform-es2015-computed-properties','postcss-calc'], function(yalc,uglifyify,typesLodash,terser,regexpPrototypeFlags,lolex,formidable,babelHelperCheckDuplicateNodes,istanbul,pathKey,jsonPointer,parcelPackagerHtml,unorm,commonjsEverywhere,debug,qunitExtras,errorCause,babelPluginTransformEs2015ComputedProperties,postcssCalc){\\nimport React from 'react'; export default class extends React.Component { static defaultProps = { width: 16, height: 16, color: 'black', }; render() { return ( <svg width={this.props.width + 'px'} height={this.props.height + 'px'} viewBox='0 0 15 15' version='1.1'> <path d='M7.5,0A7.5,7.5,0,1,0,15,7.5,7.5,7.5,0,0,0,7.5,0ZM8.427,12.188H6.552V10.312H8.427v1.875Zm2.21-6.245a2.239,2.239,0,0,1-.249.6,2.293,2.293,0,0,1-.354.446,4.258,4.258,0,0,1-.407.348q-0.21.157-.42,0.309a3.135,3.135,0,0,0-.387.328,1.858,1.858,0,0,0-.265.394,0.951,0.951,0,0,0-.127.505v0.5H6.552V8.784A2.207,2.207,0,0,1,6.7,8.036a2.647,2.647,0,0,1,.273-0.558,2.215,2.215,0,0,1,.35-0.42c0.127-.118.257-0.23,0.388-0.335l0.368-.3a1.941,1.941,0,0,0,.3-0.3,1.422,1.422,0,0,0,.21-0.361,1.235,1.235,0,0,0,.079-0.459,1.2,1.2,0,0,0-.3-0.893,1.125,1.125,0,0,0-.82-0.289,1.274,1.274,0,0,0-.611.138,1.224,1.224,0,0,0-.42.368,1.115,1.115,0,0,0-.243.435,4.259,4.259,0,0,0-.079.56H4.271a7.264,7.264,0,0,1,.242-1.2A2.905,2.905,0,0,1,6.155,2.806a3.375,3.375,0,0,1,1.306-.23,4.1,4.1,0,0,1,1.555.262,3.035,3.035,0,0,1,1,.639,2.319,2.319,0,0,1,.545.822,2.361,2.361,0,0,1,.164.821A3.238,3.238,0,0,1,10.637,5.943Z' style={{fill: this.props.color}}/> </svg> ); }\\n}\\n\\n})\\n####","completion":" import yalc from 'yalc'\\nimport uglifyify from 'uglifyify'\\nimport typesLodash from '@types/lodash'\\nimport terser from 'terser'\\nimport regexpPrototypeFlags from 'regexp.prototype.flags'\\nimport lolex from 'lolex'\\nimport formidable from 'formidable'\\nimport babelHelperCheckDuplicateNodes from '@babel/helper-check-duplicate-nodes'\\nimport istanbul from 'istanbul'\\nimport pathKey from 'path-key'\\nimport jsonPointer from 'json-pointer'\\nimport parcelPackagerHtml from '@parcel/packager-html'\\nimport unorm from 'unorm'\\nimport commonjsEverywhere from 'commonjs-everywhere'\\nimport debug from 'debug'\\nimport qunitExtras from 'qunit-extras'\\nimport errorCause from 'error-cause'\\nimport babelPluginTransformEs2015ComputedProperties from 'babel-plugin-transform-es2015-computed-properties'\\nimport postcssCalc from 'postcss-calc'\\n\\nimport React from 'react'; export default class extends React.Component { static defaultProps = { width: 16, height: 16, color: 'black', }; render() { return ( <svg width={this.props.width + 'px'} height={this.props.height + 'px'} viewBox='0 0 15 15' version='1.1'> <path d='M7.5,0A7.5,7.5,0,1,0,15,7.5,7.5,7.5,0,0,0,7.5,0ZM8.427,12.188H6.552V10.312H8.427v1.875Zm2.21-6.245a2.239,2.239,0,0,1-.249.6,2.293,2.293,0,0,1-.354.446,4.258,4.258,0,0,1-.407.348q-0.21.157-.42,0.309a3.135,3.135,0,0,0-.387.328,1.858,1.858,0,0,0-.265.394,0.951,0.951,0,0,0-.127.505v0.5H6.552V8.784A2.207,2.207,0,0,1,6.7,8.036a2.647,2.647,0,0,1,.273-0.558,2.215,2.215,0,0,1,.35-0.42c0.127-.118.257-0.23,0.388-0.335l0.368-.3a1.941,1.941,0,0,0,.3-0.3,1.422,1.422,0,0,0,.21-0.361,1.235,1.235,0,0,0,.079-0.459,1.2,1.2,0,0,0-.3-0.893,1.125,1.125,0,0,0-.82-0.289,1.274,1.274,0,0,0-.611.138,1.224,1.224,0,0,0-.42.368,1.115,1.115,0,0,0-.243.435,4.259,4.259,0,0,0-.079.56H4.271a7.264,7.264,0,0,1,.242-1.2A2.905,2.905,0,0,1,6.155,2.806a3.375,3.375,0,0,1,1.306-.23,4.1,4.1,0,0,1,1.555.262,3.035,3.035,0,0,1,1,.639,2.319,2.319,0,0,1,.545.822,2.361,2.361,0,0,1,.164.821A3.238,3.238,0,0,1,10.637,5.943Z' style={{fill: this.props.color}}/> </svg> ); }\\n}\\n\\n####"}
{"prompt":"define(['d3-color','@babel/plugin-transform-dotall-regex','karma-babel-preprocessor'], function(d3Color,babelPluginTransformDotallRegex,karmaBabelPreprocessor){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.wix.com/demone2/hip-hop-venue (50)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/hip-hop-venue', emulateMobileDevice: false, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/50-hip-hop-venue/anchors/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import d3Color from 'd3-color'\\nimport babelPluginTransformDotallRegex from '@babel/plugin-transform-dotall-regex'\\nimport karmaBabelPreprocessor from 'karma-babel-preprocessor'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.wix.com/demone2/hip-hop-venue (50)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/hip-hop-venue', emulateMobileDevice: false, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/50-hip-hop-venue/anchors/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['babel','@babel/plugin-transform-unicode-escapes','process','json-to-ast','grunt-exec','grunt-sass','formidable','seedrandom','@babel/plugin-transform-spread'], function(babel,babelPluginTransformUnicodeEscapes,process,jsonToAst,gruntExec,gruntSass,formidable,seedrandom,babelPluginTransformSpread){\\nimport { createTypes, createActions } from '@wix/restaurants-redux/dist/actions/ActionCreatorHelper';\\nimport PropTypes from 'proptypes'; const seatingActions = [ { type: 'INIT_SETTINGS', propTypes: { showTitle: PropTypes.bool, showDescription: PropTypes.bool, layout: PropTypes.number, alignment: PropTypes.number, customTitle: PropTypes.string, customDescription: PropTypes.string, customButton: PropTypes.string, isCustomDesign: PropTypes.bool } }, { type: 'RESIZE_COMPONENT', propTypes: { width: PropTypes.number, height: PropTypes.number } }, { type: 'WINDOW_SIZE', propTypes: { width: PropTypes.number, height: PropTypes.number } }\\n]; const ACTION_PREFIX = 'SEATING_SETTINGS_';\\nexport const types = createTypes(seatingActions, ACTION_PREFIX);\\nexport const actions = createActions(seatingActions, ACTION_PREFIX);\\n\\n})\\n####","completion":" import babel from 'babel'\\nimport babelPluginTransformUnicodeEscapes from '@babel/plugin-transform-unicode-escapes'\\nimport process from 'process'\\nimport jsonToAst from 'json-to-ast'\\nimport gruntExec from 'grunt-exec'\\nimport gruntSass from 'grunt-sass'\\nimport formidable from 'formidable'\\nimport seedrandom from 'seedrandom'\\nimport babelPluginTransformSpread from '@babel/plugin-transform-spread'\\n\\nimport { createTypes, createActions } from '@wix/restaurants-redux/dist/actions/ActionCreatorHelper';\\nimport PropTypes from 'proptypes'; const seatingActions = [ { type: 'INIT_SETTINGS', propTypes: { showTitle: PropTypes.bool, showDescription: PropTypes.bool, layout: PropTypes.number, alignment: PropTypes.number, customTitle: PropTypes.string, customDescription: PropTypes.string, customButton: PropTypes.string, isCustomDesign: PropTypes.bool } }, { type: 'RESIZE_COMPONENT', propTypes: { width: PropTypes.number, height: PropTypes.number } }, { type: 'WINDOW_SIZE', propTypes: { width: PropTypes.number, height: PropTypes.number } }\\n]; const ACTION_PREFIX = 'SEATING_SETTINGS_';\\nexport const types = createTypes(seatingActions, ACTION_PREFIX);\\nexport const actions = createActions(seatingActions, ACTION_PREFIX);\\n\\n####"}
{"prompt":"define(['@commitlint/config-angular','@parcel/cache','@babel/helper-replace-supers','@babel/plugin-transform-dotall-regex','eslint-config-babel','path-key','json-to-ast','rollup-plugin-memory','@parcel/plugin','replace','@size-limit/preset-small-lib','@types/webgl2','@jridgewell/gen-mapping','uglify-register','copyfiles','node-forge','rollup-plugin-babel-minify'], function(commitlintConfigAngular,parcelCache,babelHelperReplaceSupers,babelPluginTransformDotallRegex,eslintConfigBabel,pathKey,jsonToAst,rollupPluginMemory,parcelPlugin,replace,sizeLimitPresetSmallLib,typesWebgl2,jridgewellGenMapping,uglifyRegister,copyfiles,nodeForge,rollupPluginBabelMinify){\\nimport { createTypes, createActions,\\n} from '@wix/restaurants-redux/src/actions/ActionCreatorHelper';\\nimport PropTypes from 'prop-types';\\nimport React from 'react'; const actionsList = [ { type: 'LOAD', propTypes: { modified: PropTypes.number, secrets: PropTypes.object.isRequired, }, }, { type: 'UPDATE', propTypes: { secrets: PropTypes.object.isRequired, }, }, { type: 'SAVED', propTypes: { modified: PropTypes.number, secrets: PropTypes.object.isRequired, }, }, { type: 'SET', propTypes: { secrets: PropTypes.arrayOf( PropTypes.shape({ propName: PropTypes.string.isRequired, name: PropTypes.string.isRequired, value: PropTypes.any, }), ), }, }, { type: 'REMOVE', propTypes: { propName: PropTypes.string.isRequired, }, }, { type: 'REFRESH', propTypes: {}, },\\n]; export const types = createTypes(actionsList, 'SECRETS_');\\nexport const actions = createActions(actionsList, 'SECRETS_');\\n\\n})\\n####","completion":" import commitlintConfigAngular from '@commitlint/config-angular'\\nimport parcelCache from '@parcel/cache'\\nimport babelHelperReplaceSupers from '@babel/helper-replace-supers'\\nimport babelPluginTransformDotallRegex from '@babel/plugin-transform-dotall-regex'\\nimport eslintConfigBabel from 'eslint-config-babel'\\nimport pathKey from 'path-key'\\nimport jsonToAst from 'json-to-ast'\\nimport rollupPluginMemory from 'rollup-plugin-memory'\\nimport parcelPlugin from '@parcel/plugin'\\nimport replace from 'replace'\\nimport sizeLimitPresetSmallLib from '@size-limit/preset-small-lib'\\nimport typesWebgl2 from '@types/webgl2'\\nimport jridgewellGenMapping from '@jridgewell/gen-mapping'\\nimport uglifyRegister from 'uglify-register'\\nimport copyfiles from 'copyfiles'\\nimport nodeForge from 'node-forge'\\nimport rollupPluginBabelMinify from 'rollup-plugin-babel-minify'\\n\\nimport { createTypes, createActions,\\n} from '@wix/restaurants-redux/src/actions/ActionCreatorHelper';\\nimport PropTypes from 'prop-types';\\nimport React from 'react'; const actionsList = [ { type: 'LOAD', propTypes: { modified: PropTypes.number, secrets: PropTypes.object.isRequired, }, }, { type: 'UPDATE', propTypes: { secrets: PropTypes.object.isRequired, }, }, { type: 'SAVED', propTypes: { modified: PropTypes.number, secrets: PropTypes.object.isRequired, }, }, { type: 'SET', propTypes: { secrets: PropTypes.arrayOf( PropTypes.shape({ propName: PropTypes.string.isRequired, name: PropTypes.string.isRequired, value: PropTypes.any, }), ), }, }, { type: 'REMOVE', propTypes: { propName: PropTypes.string.isRequired, }, }, { type: 'REFRESH', propTypes: {}, },\\n]; export const types = createTypes(actionsList, 'SECRETS_');\\nexport const actions = createActions(actionsList, 'SECRETS_');\\n\\n####"}
{"prompt":"define(['json-pointer','@babel/plugin-syntax-json-strings','mock-property','@babel/parser','@babel/helper-fixtures','pngjs','@types/minimatch','lab','caniuse-api','path-key','gulp-mocha','https-browserify','npmlog','jsdoc-to-markdown','@babel/plugin-syntax-private-property-in-object','argparse'], function(jsonPointer,babelPluginSyntaxJsonStrings,mockProperty,babelParser,babelHelperFixtures,pngjs,typesMinimatch,lab,caniuseApi,pathKey,gulpMocha,httpsBrowserify,npmlog,jsdocToMarkdown,babelPluginSyntaxPrivatePropertyInObject,argparse){\\nconst eventually = require('../utils/eventually')\\nconst {withConcurrentDS} = require('../utils/withConcurrentDS')\\nconst {ensureFilesOnBothClients, ensureCSave} = require('../utils/concurrentSessionSetup') test( 'should sync file deletion between sessions', withConcurrentDS(async ({ds1, ds2}) => { await ensureFilesOnBothClients(ds1, ds2, { 'public/file-to-delete.js': 'test file code' }) const parentFolderDesciptor = await ds1.wixCode.fileSystem.getVirtualDescriptor('public', true) const testFileDescriptor = await ds1.wixCode.fileSystem.getVirtualDescriptor('public/file-to-delete.js') await ds1.wixCode.fileSystem.deleteItem(testFileDescriptor) await ensureCSave(ds1) await eventually(async () => { await expect(ds2.wixCode.fileSystem.readFile(testFileDescriptor)).rejects.toThrow('404') await expect(ds2.wixCode.fileSystem.getChildren(parentFolderDesciptor)).resolves.not.toContainEqual( expect.objectContaining({ name: 'file-to-delete.js' }) ) }) }), 90000\\n)\\n\\n})\\n####","completion":" import jsonPointer from 'json-pointer'\\nimport babelPluginSyntaxJsonStrings from '@babel/plugin-syntax-json-strings'\\nimport mockProperty from 'mock-property'\\nimport babelParser from '@babel/parser'\\nimport babelHelperFixtures from '@babel/helper-fixtures'\\nimport pngjs from 'pngjs'\\nimport typesMinimatch from '@types/minimatch'\\nimport lab from 'lab'\\nimport caniuseApi from 'caniuse-api'\\nimport pathKey from 'path-key'\\nimport gulpMocha from 'gulp-mocha'\\nimport httpsBrowserify from 'https-browserify'\\nimport npmlog from 'npmlog'\\nimport jsdocToMarkdown from 'jsdoc-to-markdown'\\nimport babelPluginSyntaxPrivatePropertyInObject from '@babel/plugin-syntax-private-property-in-object'\\nimport argparse from 'argparse'\\n\\nconst eventually = require('../utils/eventually')\\nconst {withConcurrentDS} = require('../utils/withConcurrentDS')\\nconst {ensureFilesOnBothClients, ensureCSave} = require('../utils/concurrentSessionSetup') test( 'should sync file deletion between sessions', withConcurrentDS(async ({ds1, ds2}) => { await ensureFilesOnBothClients(ds1, ds2, { 'public/file-to-delete.js': 'test file code' }) const parentFolderDesciptor = await ds1.wixCode.fileSystem.getVirtualDescriptor('public', true) const testFileDescriptor = await ds1.wixCode.fileSystem.getVirtualDescriptor('public/file-to-delete.js') await ds1.wixCode.fileSystem.deleteItem(testFileDescriptor) await ensureCSave(ds1) await eventually(async () => { await expect(ds2.wixCode.fileSystem.readFile(testFileDescriptor)).rejects.toThrow('404') await expect(ds2.wixCode.fileSystem.getChildren(parentFolderDesciptor)).resolves.not.toContainEqual( expect.objectContaining({ name: 'file-to-delete.js' }) ) }) }), 90000\\n)\\n\\n####"}
{"prompt":"define(['a','json-pointer','d3-path','iconv-lite','@babel/helper-hoist-variables','@babel/plugin-transform-unicode-regex','lodash.memoize','@babel/plugin-transform-unicode-escapes','chrome-trace-event','postcss-normalize-url'], function(a,jsonPointer,d3Path,iconvLite,babelHelperHoistVariables,babelPluginTransformUnicodeRegex,lodashMemoize,babelPluginTransformUnicodeEscapes,chromeTraceEvent,postcssNormalizeUrl){\\nimport { modalTestkitFactory, inputAreaTestkitFactory, buttonTestkitFactory,\\n} from 'wix-style-react/dist/testkit/enzyme'; export default class OrderConfirmationModalDriver { constructor(wrapper) { this.wrapper = wrapper; // we might not rendered the modal yet. because of an async operation like placeOrder if (!this.wrapper.exists()) return; this.modalDriver = modalTestkitFactory({ wrapper: this.wrapper, dataHook: 'checkout-confirmation-modal' }); this.commentsDriver = inputAreaTestkitFactory({ wrapper: this.wrapper, dataHook: 'customer-info-comment', }); this.buttonDriver = buttonTestkitFactory({ wrapper: this.wrapper, dataHook: 'order-confirmation-modal-footer-ok-button', }); } isRendered() { return this.wrapper.exists(); } clickDone() { return this.buttonDriver.click(); } enterComments(text) { return this.commentsDriver.enterText(text); } getComments() { return this.commentsDriver.getValue(); }\\n}\\n\\n})\\n####","completion":" import a from 'a'\\nimport jsonPointer from 'json-pointer'\\nimport d3Path from 'd3-path'\\nimport iconvLite from 'iconv-lite'\\nimport babelHelperHoistVariables from '@babel/helper-hoist-variables'\\nimport babelPluginTransformUnicodeRegex from '@babel/plugin-transform-unicode-regex'\\nimport lodashMemoize from 'lodash.memoize'\\nimport babelPluginTransformUnicodeEscapes from '@babel/plugin-transform-unicode-escapes'\\nimport chromeTraceEvent from 'chrome-trace-event'\\nimport postcssNormalizeUrl from 'postcss-normalize-url'\\n\\nimport { modalTestkitFactory, inputAreaTestkitFactory, buttonTestkitFactory,\\n} from 'wix-style-react/dist/testkit/enzyme'; export default class OrderConfirmationModalDriver { constructor(wrapper) { this.wrapper = wrapper; // we might not rendered the modal yet. because of an async operation like placeOrder if (!this.wrapper.exists()) return; this.modalDriver = modalTestkitFactory({ wrapper: this.wrapper, dataHook: 'checkout-confirmation-modal' }); this.commentsDriver = inputAreaTestkitFactory({ wrapper: this.wrapper, dataHook: 'customer-info-comment', }); this.buttonDriver = buttonTestkitFactory({ wrapper: this.wrapper, dataHook: 'order-confirmation-modal-footer-ok-button', }); } isRendered() { return this.wrapper.exists(); } clickDone() { return this.buttonDriver.click(); } enterComments(text) { return this.commentsDriver.enterText(text); } getComments() { return this.commentsDriver.getValue(); }\\n}\\n\\n####"}
{"prompt":"define(['nullthrows','playwright','karma-jasmine-ajax','@babel/helper-function-name','@types/glob','make-dir','@babel/plugin-transform-spread'], function(nullthrows,playwright,karmaJasmineAjax,babelHelperFunctionName,typesGlob,makeDir,babelPluginTransformSpread){\\ndefine([], function(){ return { \\\"ConnectionList\\\": { \\\"type\\\": \\\"object\\\", \\\"properties\\\": { \\\"items\\\": { \\\"type\\\": \\\"array\\\", \\\"items\\\": { \\\"type\\\": \\\"object\\\", \\\"anyOf\\\": [ {\\\"$ref\\\": \\\"ConnectionItem\\\"}, {\\\"$ref\\\": \\\"WixCodeConnectionItem\\\"} ] } } } }, \\\"ConnectionItem\\\": { \\\"type\\\": \\\"object\\\", \\\"allOf\\\": [ { \\\"type\\\": \\\"object\\\", \\\"properties\\\": { \\\"controllerId\\\": {\\\"type\\\": \\\"string\\\"}, \\\"isPrimary\\\": {\\\"type\\\": \\\"boolean\\\"}, \\\"config\\\": { \\\"type\\\": \\\"string\\\", \\\"maxLength\\\": 2000, \\\"pseudoType\\\": [\\\"stringifyObject\\\"] }, \\\"required\\\": [\\\"controllerId\\\"] } }, { \\\"$ref\\\": \\\"WixCodeConnectionItem\\\" } ] }, \\\"WixCodeConnectionItem\\\": { \\\"type\\\": \\\"object\\\", \\\"properties\\\": { \\\"role\\\": {\\\"type\\\": \\\"string\\\"}, \\\"required\\\": [\\\"role\\\"] } }\\n}\\n;});\\n\\n})\\n####","completion":" import nullthrows from 'nullthrows'\\nimport playwright from 'playwright'\\nimport karmaJasmineAjax from 'karma-jasmine-ajax'\\nimport babelHelperFunctionName from '@babel/helper-function-name'\\nimport typesGlob from '@types/glob'\\nimport makeDir from 'make-dir'\\nimport babelPluginTransformSpread from '@babel/plugin-transform-spread'\\n\\ndefine([], function(){ return { \\\"ConnectionList\\\": { \\\"type\\\": \\\"object\\\", \\\"properties\\\": { \\\"items\\\": { \\\"type\\\": \\\"array\\\", \\\"items\\\": { \\\"type\\\": \\\"object\\\", \\\"anyOf\\\": [ {\\\"$ref\\\": \\\"ConnectionItem\\\"}, {\\\"$ref\\\": \\\"WixCodeConnectionItem\\\"} ] } } } }, \\\"ConnectionItem\\\": { \\\"type\\\": \\\"object\\\", \\\"allOf\\\": [ { \\\"type\\\": \\\"object\\\", \\\"properties\\\": { \\\"controllerId\\\": {\\\"type\\\": \\\"string\\\"}, \\\"isPrimary\\\": {\\\"type\\\": \\\"boolean\\\"}, \\\"config\\\": { \\\"type\\\": \\\"string\\\", \\\"maxLength\\\": 2000, \\\"pseudoType\\\": [\\\"stringifyObject\\\"] }, \\\"required\\\": [\\\"controllerId\\\"] } }, { \\\"$ref\\\": \\\"WixCodeConnectionItem\\\" } ] }, \\\"WixCodeConnectionItem\\\": { \\\"type\\\": \\\"object\\\", \\\"properties\\\": { \\\"role\\\": {\\\"type\\\": \\\"string\\\"}, \\\"required\\\": [\\\"role\\\"] } }\\n}\\n;});\\n\\n####"}
{"prompt":"define(['@parcel/source-map','grunt-bowercopy','fs.realpath','util','@parcel/runtime-react-refresh','@parcel/codeframe','has-strict-mode'], function(parcelSourceMap,gruntBowercopy,fsRealpath,util,parcelRuntimeReactRefresh,parcelCodeframe,hasStrictMode){\\ndefine([ 'lodash', 'documentServices/utils/contextAdapter', 'documentServices/constants/constants', 'documentServices/documentServicesDataFixer/fixers/hoverToStateReactionFixer'\\n], function (_, contextAdapter, constants, hoverToStateReactionFixer) { 'use strict' function fix(ps) { const dsDataFixersFedOpsTags = constants.INTERACTIONS.DOCUMENT_SERVICES_DATA_FIXERS const fixers = [{fixer: hoverToStateReactionFixer, config: {fixMobileOnly: false, fedopsTag: 'hoverToStateReactionFixer'}}] contextAdapter.utils.fedopsLogger.interactionStarted(dsDataFixersFedOpsTags.ALL) _.forEach(fixers, function (fixerData) { const fedopsTag = _.get(fixerData, ['config', 'fedopsTag']) contextAdapter.utils.fedopsLogger.interactionStarted(fedopsTag) fixerData.fixer.exec(ps) contextAdapter.utils.fedopsLogger.interactionEnded(fedopsTag) }) contextAdapter.utils.fedopsLogger.interactionEnded(dsDataFixersFedOpsTags.ALL) } return { fix }\\n})\\n\\n})\\n####","completion":" import parcelSourceMap from '@parcel/source-map'\\nimport gruntBowercopy from 'grunt-bowercopy'\\nimport fsRealpath from 'fs.realpath'\\nimport util from 'util'\\nimport parcelRuntimeReactRefresh from '@parcel/runtime-react-refresh'\\nimport parcelCodeframe from '@parcel/codeframe'\\nimport hasStrictMode from 'has-strict-mode'\\n\\ndefine([ 'lodash', 'documentServices/utils/contextAdapter', 'documentServices/constants/constants', 'documentServices/documentServicesDataFixer/fixers/hoverToStateReactionFixer'\\n], function (_, contextAdapter, constants, hoverToStateReactionFixer) { 'use strict' function fix(ps) { const dsDataFixersFedOpsTags = constants.INTERACTIONS.DOCUMENT_SERVICES_DATA_FIXERS const fixers = [{fixer: hoverToStateReactionFixer, config: {fixMobileOnly: false, fedopsTag: 'hoverToStateReactionFixer'}}] contextAdapter.utils.fedopsLogger.interactionStarted(dsDataFixersFedOpsTags.ALL) _.forEach(fixers, function (fixerData) { const fedopsTag = _.get(fixerData, ['config', 'fedopsTag']) contextAdapter.utils.fedopsLogger.interactionStarted(fedopsTag) fixerData.fixer.exec(ps) contextAdapter.utils.fedopsLogger.interactionEnded(fedopsTag) }) contextAdapter.utils.fedopsLogger.interactionEnded(dsDataFixersFedOpsTags.ALL) } return { fix }\\n})\\n\\n####"}
{"prompt":"define(['@swc/cli','babel-preset-stage-0','type-check','webpack','electron-releases','require-inject','grunt-bowercopy','@babel/plugin-proposal-json-strings','@typescript-eslint/eslint-plugin','@babel/plugin-syntax-async-generators','@babel/plugin-syntax-optional-catch-binding','@babel/plugin-proposal-numeric-separator','remark-preset-davidtheclark','node-jsx','has-bigints','karma-ie-launcher','brfs','grunt-cli','is-core-module'], function(swcCli,babelPresetStage0,typeCheck,webpack,electronReleases,requireInject,gruntBowercopy,babelPluginProposalJsonStrings,typescriptEslintEslintPlugin,babelPluginSyntaxAsyncGenerators,babelPluginSyntaxOptionalCatchBinding,babelPluginProposalNumericSeparator,remarkPresetDavidtheclark,nodeJsx,hasBigints,karmaIeLauncher,brfs,gruntCli,isCoreModule){\\nexport function setScreenReaderByIDs(idsArr = []) { let textToRead = ''; if (idsArr.length > 0) { idsArr.forEach(id => textToRead += `${document.getElementById(id) && document.getElementById(id).innerText}. `); } setScreenReaderNotification(textToRead, 'step');\\n} export function setScreenReaderNotification(text, step=null) { const element = getScreenReaderNotificationElement(step); element.textContent = ''; element.textContent = text; setTimeout(() => { element.textContent = ''; }, 2000);\\n} function getScreenReaderNotificationElement(step) { let id = 'restaurants-orders-notifications'; let element = document.getElementById(id); if (!element) { const div = document.createElement('div'); div.setAttribute('id', id); div.setAttribute('style', 'position:absolute;width:1pt;height:1pt;overflow:hidden;clip: rect(1px 1px 1px 1px); '); step && div.setAttribute('aria-current', step); div.setAttribute('role', 'alert'); document.body.prepend(div); } return document.getElementById(id);\\n}\\n\\n})\\n####","completion":" import swcCli from '@swc/cli'\\nimport babelPresetStage0 from 'babel-preset-stage-0'\\nimport typeCheck from 'type-check'\\nimport webpack from 'webpack'\\nimport electronReleases from 'electron-releases'\\nimport requireInject from 'require-inject'\\nimport gruntBowercopy from 'grunt-bowercopy'\\nimport babelPluginProposalJsonStrings from '@babel/plugin-proposal-json-strings'\\nimport typescriptEslintEslintPlugin from '@typescript-eslint/eslint-plugin'\\nimport babelPluginSyntaxAsyncGenerators from '@babel/plugin-syntax-async-generators'\\nimport babelPluginSyntaxOptionalCatchBinding from '@babel/plugin-syntax-optional-catch-binding'\\nimport babelPluginProposalNumericSeparator from '@babel/plugin-proposal-numeric-separator'\\nimport remarkPresetDavidtheclark from 'remark-preset-davidtheclark'\\nimport nodeJsx from 'node-jsx'\\nimport hasBigints from 'has-bigints'\\nimport karmaIeLauncher from 'karma-ie-launcher'\\nimport brfs from 'brfs'\\nimport gruntCli from 'grunt-cli'\\nimport isCoreModule from 'is-core-module'\\n\\nexport function setScreenReaderByIDs(idsArr = []) { let textToRead = ''; if (idsArr.length > 0) { idsArr.forEach(id => textToRead += `${document.getElementById(id) && document.getElementById(id).innerText}. `); } setScreenReaderNotification(textToRead, 'step');\\n} export function setScreenReaderNotification(text, step=null) { const element = getScreenReaderNotificationElement(step); element.textContent = ''; element.textContent = text; setTimeout(() => { element.textContent = ''; }, 2000);\\n} function getScreenReaderNotificationElement(step) { let id = 'restaurants-orders-notifications'; let element = document.getElementById(id); if (!element) { const div = document.createElement('div'); div.setAttribute('id', id); div.setAttribute('style', 'position:absolute;width:1pt;height:1pt;overflow:hidden;clip: rect(1px 1px 1px 1px); '); step && div.setAttribute('aria-current', step); div.setAttribute('role', 'alert'); document.body.prepend(div); } return document.getElementById(id);\\n}\\n\\n####"}
{"prompt":"define(['object-is','domelementtype','eslint-config-ostai','@parcel/transformer-js','@parcel/cache','@parcel/optimizer-svgo','@babel/plugin-transform-new-target','colord','tsup','resumer','broccoli-rollup','@babel/plugin-transform-destructuring','replace','css-what','has-strict-mode'], function(objectIs,domelementtype,eslintConfigOstai,parcelTransformerJs,parcelCache,parcelOptimizerSvgo,babelPluginTransformNewTarget,colord,tsup,resumer,broccoliRollup,babelPluginTransformDestructuring,replace,cssWhat,hasStrictMode){\\n'use strict'\\nconst _ = require('lodash')\\nconst testUtils = requirejs('testUtils')\\nconst tinyMenuLoginSocialBarRefFixer = require('../../src/plugins/tinyMenuLoginSocialBarRefFixer') describe('tinyMenuLoginSocialBarRefFixer', () => { it('should do nothing if no translations', () => { const tinyMenuData = testUtils.mockFactory.dataMocks.tinyMenuData({id: 'TINY_MENU'}) const siteModel = testUtils.mockFactory.mockSiteModel().addData(tinyMenuData, 'masterPage') const masterPageJson = siteModel.pagesData.masterPage tinyMenuLoginSocialBarRefFixer.exec(masterPageJson) expect(masterPageJson.data.document_data[tinyMenuData.id].loginSocialBarRef).toBeFalsy() }) it('should add loginSocialBarRef to the original language if it exists as a translation override', () => { const tinyMenuData = testUtils.mockFactory.dataMocks.tinyMenuData({id: 'TINY_MENU'}) const siteModel = testUtils.mockFactory.mockSiteModel().addData(tinyMenuData, 'masterPage') const masterPageJson = siteModel.pagesData.masterPage _.set(masterPageJson, ['translations', 'af', 'data', 'document_data', tinyMenuData.id], {...tinyMenuData, loginSocialBarRef: 'alona'}) tinyMenuLoginSocialBarRefFixer.exec(masterPageJson) expect(masterPageJson.data.document_data[tinyMenuData.id].loginSocialBarRef).toEqual('alona') })\\n})\\n\\n})\\n####","completion":" import objectIs from 'object-is'\\nimport domelementtype from 'domelementtype'\\nimport eslintConfigOstai from 'eslint-config-ostai'\\nimport parcelTransformerJs from '@parcel/transformer-js'\\nimport parcelCache from '@parcel/cache'\\nimport parcelOptimizerSvgo from '@parcel/optimizer-svgo'\\nimport babelPluginTransformNewTarget from '@babel/plugin-transform-new-target'\\nimport colord from 'colord'\\nimport tsup from 'tsup'\\nimport resumer from 'resumer'\\nimport broccoliRollup from 'broccoli-rollup'\\nimport babelPluginTransformDestructuring from '@babel/plugin-transform-destructuring'\\nimport replace from 'replace'\\nimport cssWhat from 'css-what'\\nimport hasStrictMode from 'has-strict-mode'\\n\\n'use strict'\\nconst _ = require('lodash')\\nconst testUtils = requirejs('testUtils')\\nconst tinyMenuLoginSocialBarRefFixer = require('../../src/plugins/tinyMenuLoginSocialBarRefFixer') describe('tinyMenuLoginSocialBarRefFixer', () => { it('should do nothing if no translations', () => { const tinyMenuData = testUtils.mockFactory.dataMocks.tinyMenuData({id: 'TINY_MENU'}) const siteModel = testUtils.mockFactory.mockSiteModel().addData(tinyMenuData, 'masterPage') const masterPageJson = siteModel.pagesData.masterPage tinyMenuLoginSocialBarRefFixer.exec(masterPageJson) expect(masterPageJson.data.document_data[tinyMenuData.id].loginSocialBarRef).toBeFalsy() }) it('should add loginSocialBarRef to the original language if it exists as a translation override', () => { const tinyMenuData = testUtils.mockFactory.dataMocks.tinyMenuData({id: 'TINY_MENU'}) const siteModel = testUtils.mockFactory.mockSiteModel().addData(tinyMenuData, 'masterPage') const masterPageJson = siteModel.pagesData.masterPage _.set(masterPageJson, ['translations', 'af', 'data', 'document_data', tinyMenuData.id], {...tinyMenuData, loginSocialBarRef: 'alona'}) tinyMenuLoginSocialBarRefFixer.exec(masterPageJson) expect(masterPageJson.data.document_data[tinyMenuData.id].loginSocialBarRef).toEqual('alona') })\\n})\\n\\n####"}
{"prompt":"define(['tar','eslint-config-standard','stylelint-processor-styled-components','csv-parse','brfs'], function(tar,eslintConfigStandard,stylelintProcessorStyledComponents,csvParse,brfs){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.wix.com/demone2/meetup-event (32)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/meetup-event', emulateMobileDevice: false, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/32-meetup-event/mesh/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import tar from 'tar'\\nimport eslintConfigStandard from 'eslint-config-standard'\\nimport stylelintProcessorStyledComponents from 'stylelint-processor-styled-components'\\nimport csvParse from 'csv-parse'\\nimport brfs from 'brfs'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.wix.com/demone2/meetup-event (32)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/meetup-event', emulateMobileDevice: false, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/32-meetup-event/mesh/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['parse-node-version','esprima','relateurl','lru-cache','@babel/helper-wrap-function','autoprefixer'], function(parseNodeVersion,esprima,relateurl,lruCache,babelHelperWrapFunction,autoprefixer){\\nimport colors from '../utils/colors';\\nimport orientStyles from '../utils/directionalstyles'; export default rtl => { const _styles = { header: { color: '#ffffff', }, headerPrimaryTxt: { fontSize: 24, marginBottom: 12, textAlign: 'center' }, headerSecondaryTxt: { fontSize: 16, marginBottom: 12, textAlign: 'center' }, appAdRow: { paddingTop: '36px', paddingBottom: '36px' }, appAdIcon: { paddingInlineEnd: 30 }, appAdTitle: { fontSize: 20, color: colors.D20, paddingBottom: 10 }, appAdSubtitle: { fontSize: 14, color: colors.D40 }, appIconsWrapper: { display: 'inline-block', paddingTop: 20, paddingInlineStart: 80 }, appstoreIcon: { paddingInlineEnd: 20 }, }; return orientStyles(_styles, rtl);\\n}\\n\\n})\\n####","completion":" import parseNodeVersion from 'parse-node-version'\\nimport esprima from 'esprima'\\nimport relateurl from 'relateurl'\\nimport lruCache from 'lru-cache'\\nimport babelHelperWrapFunction from '@babel/helper-wrap-function'\\nimport autoprefixer from 'autoprefixer'\\n\\nimport colors from '../utils/colors';\\nimport orientStyles from '../utils/directionalstyles'; export default rtl => { const _styles = { header: { color: '#ffffff', }, headerPrimaryTxt: { fontSize: 24, marginBottom: 12, textAlign: 'center' }, headerSecondaryTxt: { fontSize: 16, marginBottom: 12, textAlign: 'center' }, appAdRow: { paddingTop: '36px', paddingBottom: '36px' }, appAdIcon: { paddingInlineEnd: 30 }, appAdTitle: { fontSize: 20, color: colors.D20, paddingBottom: 10 }, appAdSubtitle: { fontSize: 14, color: colors.D40 }, appIconsWrapper: { display: 'inline-block', paddingTop: 20, paddingInlineStart: 80 }, appstoreIcon: { paddingInlineEnd: 20 }, }; return orientStyles(_styles, rtl);\\n}\\n\\n####"}
{"prompt":"define(['karma-mocha-reporter','@parcel/transformer-json','grunt-contrib-connect','array.prototype.filter','tape-await','@babel/plugin-transform-for-of','@jridgewell/gen-mapping','react-dom','string-width','@babel/helper-optimise-call-expression','gulp-mocha'], function(karmaMochaReporter,parcelTransformerJson,gruntContribConnect,arrayPrototypeFilter,tapeAwait,babelPluginTransformForOf,jridgewellGenMapping,reactDom,stringWidth,babelHelperOptimiseCallExpression,gulpMocha){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.shaiyallin.com/photograpy (53)', withViewer({ tpaInterceptor, baseUrl: 'https://www.shaiyallin.com/photograpy', emulateMobileDevice: true, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/53-shai-yalin-photography/mesh/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import karmaMochaReporter from 'karma-mocha-reporter'\\nimport parcelTransformerJson from '@parcel/transformer-json'\\nimport gruntContribConnect from 'grunt-contrib-connect'\\nimport arrayPrototypeFilter from 'array.prototype.filter'\\nimport tapeAwait from 'tape-await'\\nimport babelPluginTransformForOf from '@babel/plugin-transform-for-of'\\nimport jridgewellGenMapping from '@jridgewell/gen-mapping'\\nimport reactDom from 'react-dom'\\nimport stringWidth from 'string-width'\\nimport babelHelperOptimiseCallExpression from '@babel/helper-optimise-call-expression'\\nimport gulpMocha from 'gulp-mocha'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.shaiyallin.com/photograpy (53)', withViewer({ tpaInterceptor, baseUrl: 'https://www.shaiyallin.com/photograpy', emulateMobileDevice: true, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/53-shai-yalin-photography/mesh/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['immutable','ac-colors','@parcel/watcher','grunt-babel','d3-random','ts-morph','@parcel/source-map','@parcel/runtime-browser-hmr','stream-to-array','@npmcli/eslint-config','define-properties','mock-fs','postcss-merge-rules','@ls-lint/ls-lint'], function(immutable,acColors,parcelWatcher,gruntBabel,d3Random,tsMorph,parcelSourceMap,parcelRuntimeBrowserHmr,streamToArray,npmcliEslintConfig,defineProperties,mockFs,postcssMergeRules,lsLintLsLint){\\ndefine(['@wix/santa-core-utils', 'lodash'], function (santaCoreUtils, _) { 'use strict' return { /** * @param {ps} ps * @returns {boolean} */ get(ps) { const masterPageDataPointer = ps.pointers.data.getDataItemFromMaster(santaCoreUtils.siteConstants.MASTER_PAGE_ID) const dataItem = ps.dal.get(masterPageDataPointer) const reorderFlag = _.get(dataItem, 'autoDomReorder') return _.isUndefined(reorderFlag) ? true : reorderFlag }, /** * @param {ps} ps * @param {boolean} enabled */ set(ps, enabled) { if (!_.isBoolean(enabled)) { throw new Error('autoDomReorder.set accepts only boolean value') } const masterPageDataPointer = ps.pointers.data.getDataItemFromMaster(santaCoreUtils.siteConstants.MASTER_PAGE_ID) const dataItem = ps.dal.get(masterPageDataPointer) || {} ps.dal.set(masterPageDataPointer, _.assign(dataItem, {autoDomReorder: enabled})) } }\\n})\\n\\n})\\n####","completion":" import immutable from 'immutable'\\nimport acColors from 'ac-colors'\\nimport parcelWatcher from '@parcel/watcher'\\nimport gruntBabel from 'grunt-babel'\\nimport d3Random from 'd3-random'\\nimport tsMorph from 'ts-morph'\\nimport parcelSourceMap from '@parcel/source-map'\\nimport parcelRuntimeBrowserHmr from '@parcel/runtime-browser-hmr'\\nimport streamToArray from 'stream-to-array'\\nimport npmcliEslintConfig from '@npmcli/eslint-config'\\nimport defineProperties from 'define-properties'\\nimport mockFs from 'mock-fs'\\nimport postcssMergeRules from 'postcss-merge-rules'\\nimport lsLintLsLint from '@ls-lint/ls-lint'\\n\\ndefine(['@wix/santa-core-utils', 'lodash'], function (santaCoreUtils, _) { 'use strict' return { /** * @param {ps} ps * @returns {boolean} */ get(ps) { const masterPageDataPointer = ps.pointers.data.getDataItemFromMaster(santaCoreUtils.siteConstants.MASTER_PAGE_ID) const dataItem = ps.dal.get(masterPageDataPointer) const reorderFlag = _.get(dataItem, 'autoDomReorder') return _.isUndefined(reorderFlag) ? true : reorderFlag }, /** * @param {ps} ps * @param {boolean} enabled */ set(ps, enabled) { if (!_.isBoolean(enabled)) { throw new Error('autoDomReorder.set accepts only boolean value') } const masterPageDataPointer = ps.pointers.data.getDataItemFromMaster(santaCoreUtils.siteConstants.MASTER_PAGE_ID) const dataItem = ps.dal.get(masterPageDataPointer) || {} ps.dal.set(masterPageDataPointer, _.assign(dataItem, {autoDomReorder: enabled})) } }\\n})\\n\\n####"}
{"prompt":"define(['karma-jasmine','@babel/plugin-proposal-unicode-property-regex','@babel/compat-data','@babel/plugin-proposal-async-generator-functions','@commitlint/config-angular','es-array-method-boxes-properly','opn','@parcel/compressor-raw','faster-stable-stringify','typescript','for-each','chalk','es6-promisify','tsd-check','seedrandom','@babel/plugin-transform-modules-amd','uncss'], function(karmaJasmine,babelPluginProposalUnicodePropertyRegex,babelCompatData,babelPluginProposalAsyncGeneratorFunctions,commitlintConfigAngular,esArrayMethodBoxesProperly,opn,parcelCompressorRaw,fasterStableStringify,typescript,forEach,chalk,es6Promisify,tsdCheck,seedrandom,babelPluginTransformModulesAmd,uncss){\\nconst _ = require('lodash')\\nconst gallerySkinsToTypes = require('../maps/gallerySkinsToTypes') function compMigrationFunction(pageJson, cache, comp) { const hasComponentType = !_.isNil(comp.componentType) const componentTypeExistForSkin = comp.skin && gallerySkinsToTypes[comp.skin] if (hasComponentType || !componentTypeExistForSkin) { return } comp.componentType = gallerySkinsToTypes[comp.skin]\\n} function migrateComps(pageJson, cache, comps) { if (!comps) { return } _.forEach(comps.slice(), comp => { compMigrationFunction(pageJson, cache, comp) migrateComps(pageJson, cache, comp.components) })\\n} module.exports = { name: 'galleriesMissingComponentType', version: 1, exec(pageJson) { const structureData = pageJson.structure if (structureData) { const cache = {} const mobileComps = structureData.mobileComponents if (mobileComps) { migrateComps(pageJson, cache, mobileComps) } } }\\n}\\n\\n})\\n####","completion":" import karmaJasmine from 'karma-jasmine'\\nimport babelPluginProposalUnicodePropertyRegex from '@babel/plugin-proposal-unicode-property-regex'\\nimport babelCompatData from '@babel/compat-data'\\nimport babelPluginProposalAsyncGeneratorFunctions from '@babel/plugin-proposal-async-generator-functions'\\nimport commitlintConfigAngular from '@commitlint/config-angular'\\nimport esArrayMethodBoxesProperly from 'es-array-method-boxes-properly'\\nimport opn from 'opn'\\nimport parcelCompressorRaw from '@parcel/compressor-raw'\\nimport fasterStableStringify from 'faster-stable-stringify'\\nimport typescript from 'typescript'\\nimport forEach from 'for-each'\\nimport chalk from 'chalk'\\nimport es6Promisify from 'es6-promisify'\\nimport tsdCheck from 'tsd-check'\\nimport seedrandom from 'seedrandom'\\nimport babelPluginTransformModulesAmd from '@babel/plugin-transform-modules-amd'\\nimport uncss from 'uncss'\\n\\nconst _ = require('lodash')\\nconst gallerySkinsToTypes = require('../maps/gallerySkinsToTypes') function compMigrationFunction(pageJson, cache, comp) { const hasComponentType = !_.isNil(comp.componentType) const componentTypeExistForSkin = comp.skin && gallerySkinsToTypes[comp.skin] if (hasComponentType || !componentTypeExistForSkin) { return } comp.componentType = gallerySkinsToTypes[comp.skin]\\n} function migrateComps(pageJson, cache, comps) { if (!comps) { return } _.forEach(comps.slice(), comp => { compMigrationFunction(pageJson, cache, comp) migrateComps(pageJson, cache, comp.components) })\\n} module.exports = { name: 'galleriesMissingComponentType', version: 1, exec(pageJson) { const structureData = pageJson.structure if (structureData) { const cache = {} const mobileComps = structureData.mobileComponents if (mobileComps) { migrateComps(pageJson, cache, mobileComps) } } }\\n}\\n\\n####"}
{"prompt":"define(['unbox-primitive','yargs','@babel/types','eslint-config-moxy','weak-lru-cache','minimatch','@parcel/packager-css','travis-check-changes','travis-deploy-once','gulp-format-md','karma-coverage','stylelint-processor-styled-components','@swc/core'], function(unboxPrimitive,yargs,babelTypes,eslintConfigMoxy,weakLruCache,minimatch,parcelPackagerCss,travisCheckChanges,travisDeployOnce,gulpFormatMd,karmaCoverage,stylelintProcessorStyledComponents,swcCore){\\nimport PropTypes from 'prop-types';\\nimport React from 'react';\\nimport DishIcons from '@wix/restaurants-menus-icons/dist/DishIcons';\\nimport styles from './Express.less';\\nimport classNames from 'classnames'; function getIcon(iconType, label) { const key = `${iconType}-${label}`; return components[key];\\n} export default function ItemIcons({ i18n, labels, iconType, primaryColor, secondaryColor }) { const className = classNames({ [styles.item_icons]: true, [styles.item_icons_circled]: iconType === 'outline' || iconType === 'full-bg', [styles.item_icons_label]: iconType === 'label', [styles.item_icons_full]: iconType === 'full' }); return ( <div data-hook=\\\"wixrest-menus-item-icons\\\" className={className} role='presentation'> <DishIcons i18n={i18n} labels={labels} iconType={iconType} primaryColor={primaryColor} secondaryColor={secondaryColor} /> </div> );\\n} ItemIcons.displayName = 'ItemIcons';\\nItemIcons.propTypes = { i18n: PropTypes.object, labels: PropTypes.array, iconType: PropTypes.string, primaryColor: PropTypes.string, secondaryColor: PropTypes.string\\n};\\nItemIcons.defaultProps = { labels: []\\n};\\n\\n})\\n####","completion":" import unboxPrimitive from 'unbox-primitive'\\nimport yargs from 'yargs'\\nimport babelTypes from '@babel/types'\\nimport eslintConfigMoxy from 'eslint-config-moxy'\\nimport weakLruCache from 'weak-lru-cache'\\nimport minimatch from 'minimatch'\\nimport parcelPackagerCss from '@parcel/packager-css'\\nimport travisCheckChanges from 'travis-check-changes'\\nimport travisDeployOnce from 'travis-deploy-once'\\nimport gulpFormatMd from 'gulp-format-md'\\nimport karmaCoverage from 'karma-coverage'\\nimport stylelintProcessorStyledComponents from 'stylelint-processor-styled-components'\\nimport swcCore from '@swc/core'\\n\\nimport PropTypes from 'prop-types';\\nimport React from 'react';\\nimport DishIcons from '@wix/restaurants-menus-icons/dist/DishIcons';\\nimport styles from './Express.less';\\nimport classNames from 'classnames'; function getIcon(iconType, label) { const key = `${iconType}-${label}`; return components[key];\\n} export default function ItemIcons({ i18n, labels, iconType, primaryColor, secondaryColor }) { const className = classNames({ [styles.item_icons]: true, [styles.item_icons_circled]: iconType === 'outline' || iconType === 'full-bg', [styles.item_icons_label]: iconType === 'label', [styles.item_icons_full]: iconType === 'full' }); return ( <div data-hook=\\\"wixrest-menus-item-icons\\\" className={className} role='presentation'> <DishIcons i18n={i18n} labels={labels} iconType={iconType} primaryColor={primaryColor} secondaryColor={secondaryColor} /> </div> );\\n} ItemIcons.displayName = 'ItemIcons';\\nItemIcons.propTypes = { i18n: PropTypes.object, labels: PropTypes.array, iconType: PropTypes.string, primaryColor: PropTypes.string, secondaryColor: PropTypes.string\\n};\\nItemIcons.defaultProps = { labels: []\\n};\\n\\n####"}
{"prompt":"define(['karma-browserify','code-point-at','lab','postcss','@svgr/webpack','standard-markdown'], function(karmaBrowserify,codePointAt,lab,postcss,svgrWebpack,standardMarkdown){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.wix.com/demone2/the-consultant (1)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/the-consultant', emulateMobileDevice: true, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/1-the-consultant/anchors/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import karmaBrowserify from 'karma-browserify'\\nimport codePointAt from 'code-point-at'\\nimport lab from 'lab'\\nimport postcss from 'postcss'\\nimport svgrWebpack from '@svgr/webpack'\\nimport standardMarkdown from 'standard-markdown'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.wix.com/demone2/the-consultant (1)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/the-consultant', emulateMobileDevice: true, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/1-the-consultant/anchors/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['eslint-plugin-flowtype','tsup','@babel/helper-validator-option','broccoli-concat','google-closure-library','babel-plugin-dynamic-import-node','c8','http-server','optionator','@babel/plugin-syntax-class-static-block','@babel/plugin-proposal-class-properties','wrappy','postcss-normalize-positions','knox','@types/seedrandom','@ampproject/remapping'], function(eslintPluginFlowtype,tsup,babelHelperValidatorOption,broccoliConcat,googleClosureLibrary,babelPluginDynamicImportNode,c8,httpServer,optionator,babelPluginSyntaxClassStaticBlock,babelPluginProposalClassProperties,wrappy,postcssNormalizePositions,knox,typesSeedrandom,ampprojectRemapping){\\n'use strict' const upgradeToPremiumLink = 'https://www.wix.com/store/plans' class WixAds { constructor(viewerFrame, experiments) { this.viewerFrame = viewerFrame this.experiments = experiments } getUpperWixAdsBoundingBox() { return this.viewerFrame.$('#WIX_ADS #top').then(e => e.boundingBox()) } async getWixAdsButton() { const button = await this.viewerFrame.$('#WIX_ADS .button') return this.viewerFrame.evaluate(button => button.textContent, button) } getBottomWixAdsBoundingBox() { if (this.experiments.isOpen('displayWixAdsNewVersion')) { return {x: 0, y: 0, height: 0, width: 0} } return this.viewerFrame.$('#WIX_ADS .desktop-bottom').then(e => e.boundingBox()) } getUpperWixAdsUnoccupiedYOffset() { if (!this.experiments.isOpen('displayWixAdsNewVersion')) { return 0 } return this.viewerFrame.$('#WIX_ADS .desktop-top').then(e => e.boundingBox()).then(b => b.y + b.height) } async waitForVisibility(visible) { return await this.viewerFrame.waitFor(`.wix-ads-2${visible ? '.visible' : '.hidden'}`) } async clickOnUpgrade() { const openPreviewButton = await this.viewerFrame.waitFor('[data-aid=WIX_ADSdesktopTop]') await openPreviewButton.click() } getUpgradeToPremiumLink() { return upgradeToPremiumLink }\\n} module.exports = WixAds\\n\\n})\\n####","completion":" import eslintPluginFlowtype from 'eslint-plugin-flowtype'\\nimport tsup from 'tsup'\\nimport babelHelperValidatorOption from '@babel/helper-validator-option'\\nimport broccoliConcat from 'broccoli-concat'\\nimport googleClosureLibrary from 'google-closure-library'\\nimport babelPluginDynamicImportNode from 'babel-plugin-dynamic-import-node'\\nimport c8 from 'c8'\\nimport httpServer from 'http-server'\\nimport optionator from 'optionator'\\nimport babelPluginSyntaxClassStaticBlock from '@babel/plugin-syntax-class-static-block'\\nimport babelPluginProposalClassProperties from '@babel/plugin-proposal-class-properties'\\nimport wrappy from 'wrappy'\\nimport postcssNormalizePositions from 'postcss-normalize-positions'\\nimport knox from 'knox'\\nimport typesSeedrandom from '@types/seedrandom'\\nimport ampprojectRemapping from '@ampproject/remapping'\\n\\n'use strict' const upgradeToPremiumLink = 'https://www.wix.com/store/plans' class WixAds { constructor(viewerFrame, experiments) { this.viewerFrame = viewerFrame this.experiments = experiments } getUpperWixAdsBoundingBox() { return this.viewerFrame.$('#WIX_ADS #top').then(e => e.boundingBox()) } async getWixAdsButton() { const button = await this.viewerFrame.$('#WIX_ADS .button') return this.viewerFrame.evaluate(button => button.textContent, button) } getBottomWixAdsBoundingBox() { if (this.experiments.isOpen('displayWixAdsNewVersion')) { return {x: 0, y: 0, height: 0, width: 0} } return this.viewerFrame.$('#WIX_ADS .desktop-bottom').then(e => e.boundingBox()) } getUpperWixAdsUnoccupiedYOffset() { if (!this.experiments.isOpen('displayWixAdsNewVersion')) { return 0 } return this.viewerFrame.$('#WIX_ADS .desktop-top').then(e => e.boundingBox()).then(b => b.y + b.height) } async waitForVisibility(visible) { return await this.viewerFrame.waitFor(`.wix-ads-2${visible ? '.visible' : '.hidden'}`) } async clickOnUpgrade() { const openPreviewButton = await this.viewerFrame.waitFor('[data-aid=WIX_ADSdesktopTop]') await openPreviewButton.click() } getUpgradeToPremiumLink() { return upgradeToPremiumLink }\\n} module.exports = WixAds\\n\\n####"}
{"prompt":"define(['@babel/plugin-syntax-object-rest-spread','http-server','fs-minipass','requirejs','cssnano-utils'], function(babelPluginSyntaxObjectRestSpread,httpServer,fsMinipass,requirejs,cssnanoUtils){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.wix.com/demone2/marketing-launch-pag (17)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/marketing-launch-pag', emulateMobileDevice: true, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/17-marketing-launch-page/mesh/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import babelPluginSyntaxObjectRestSpread from '@babel/plugin-syntax-object-rest-spread'\\nimport httpServer from 'http-server'\\nimport fsMinipass from 'fs-minipass'\\nimport requirejs from 'requirejs'\\nimport cssnanoUtils from 'cssnano-utils'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.wix.com/demone2/marketing-launch-pag (17)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/marketing-launch-pag', emulateMobileDevice: true, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/17-marketing-launch-page/mesh/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['load-grunt-tasks','core-js','eslint-plugin-prettier','clinton','astring','immutable','d3-array','term-size'], function(loadGruntTasks,coreJs,eslintPluginPrettier,clinton,astring,immutable,d3Array,termSize){\\n'use strict'\\nconst componentType = 'wysiwyg.viewer.components.VectorImage'\\nconst _ = require('lodash')\\nconst ViewerComponent = require('../../baseComponents/ViewerComponent') /** * @extends ViewerComponent */\\nclass VectorImageViewerComponent extends ViewerComponent { /** * @returns {Promise.<true>} */ isEmpty() { return this.previewFrame.evaluate(id => window.document.querySelectorAll(`#${id} svg g > *`).length === 0, this.id) } /** * @returns {Promise.<object>} */ async getShapeStyle() { const style = await this.getNestedElementAttribute(`#${this.id}svg`, 'style') return _(style) .split(/:\\s?|;\\s?/) .compact() .chunk(2) .fromPairs() .value() }\\n} module.exports = { componentType, addPanelSectionAutomationId: 'add-panel-section-basicShapesSection', addPanelCategory: 'decorative', EditorComponent: null, ViewerComponent: VectorImageViewerComponent\\n}\\n\\n})\\n####","completion":" import loadGruntTasks from 'load-grunt-tasks'\\nimport coreJs from 'core-js'\\nimport eslintPluginPrettier from 'eslint-plugin-prettier'\\nimport clinton from 'clinton'\\nimport astring from 'astring'\\nimport immutable from 'immutable'\\nimport d3Array from 'd3-array'\\nimport termSize from 'term-size'\\n\\n'use strict'\\nconst componentType = 'wysiwyg.viewer.components.VectorImage'\\nconst _ = require('lodash')\\nconst ViewerComponent = require('../../baseComponents/ViewerComponent') /** * @extends ViewerComponent */\\nclass VectorImageViewerComponent extends ViewerComponent { /** * @returns {Promise.<true>} */ isEmpty() { return this.previewFrame.evaluate(id => window.document.querySelectorAll(`#${id} svg g > *`).length === 0, this.id) } /** * @returns {Promise.<object>} */ async getShapeStyle() { const style = await this.getNestedElementAttribute(`#${this.id}svg`, 'style') return _(style) .split(/:\\s?|;\\s?/) .compact() .chunk(2) .fromPairs() .value() }\\n} module.exports = { componentType, addPanelSectionAutomationId: 'add-panel-section-basicShapesSection', addPanelCategory: 'decorative', EditorComponent: null, ViewerComponent: VectorImageViewerComponent\\n}\\n\\n####"}
{"prompt":"define(['util-deprecate','pre-commit','gulp-bump','grunt-banner','@trysound/sax','@commitlint/config-angular','grunt-bowercopy','node-gyp','babel-plugin-istanbul'], function(utilDeprecate,preCommit,gulpBump,gruntBanner,trysoundSax,commitlintConfigAngular,gruntBowercopy,nodeGyp,babelPluginIstanbul){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.shaiyallin.com/food-blog (54)', withViewer({ tpaInterceptor, baseUrl: 'https://www.shaiyallin.com/food-blog', emulateMobileDevice: true, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/54-shai-yalin-cuisine/anchors/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import utilDeprecate from 'util-deprecate'\\nimport preCommit from 'pre-commit'\\nimport gulpBump from 'gulp-bump'\\nimport gruntBanner from 'grunt-banner'\\nimport trysoundSax from '@trysound/sax'\\nimport commitlintConfigAngular from '@commitlint/config-angular'\\nimport gruntBowercopy from 'grunt-bowercopy'\\nimport nodeGyp from 'node-gyp'\\nimport babelPluginIstanbul from 'babel-plugin-istanbul'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.shaiyallin.com/food-blog (54)', withViewer({ tpaInterceptor, baseUrl: 'https://www.shaiyallin.com/food-blog', emulateMobileDevice: true, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/54-shai-yalin-cuisine/anchors/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['string-to-arraybuffer'], function(stringToArraybuffer){\\n'use strict' const _ = require('lodash')\\nconst React = require('react')\\nconst santaTypesDefinitions = require('../definitions/santaTypesDefinitions') function getEvent(syntheticEvent, {id, now}) { const basicEvent = { id: _.get(syntheticEvent, 'id') || id, timeStamp: now() } if (!syntheticEvent) { return basicEvent } basicEvent.timeStamp = syntheticEvent.timeStamp || basicEvent.timeStamp return _.defaults(basicEvent, syntheticEvent)\\n} module.exports = (Comp, eventHandlersProp) => { class withEventHandlers extends React.Component { render() { const eventHandlers = _.mapValues(this.props.compActions, eventPayLoad => syntheticEvent => this.props.handleAction(eventPayLoad, getEvent(syntheticEvent, this.props))) const propsWithActions = _.defaults({ [eventHandlersProp]: eventHandlers }, this.props) return React.createElement(Comp, propsWithActions) } } withEventHandlers.propTypes = _.assign({ id: santaTypesDefinitions.Component.id, handleAction: santaTypesDefinitions.Behaviors.handleAction, compActions: santaTypesDefinitions.Component.compActions, now: santaTypesDefinitions.Utils.logging.performance.now }, Comp.propTypes) return withEventHandlers\\n}\\n})\\n####","completion":" import stringToArraybuffer from 'string-to-arraybuffer'\\n\\n'use strict' const _ = require('lodash')\\nconst React = require('react')\\nconst santaTypesDefinitions = require('../definitions/santaTypesDefinitions') function getEvent(syntheticEvent, {id, now}) { const basicEvent = { id: _.get(syntheticEvent, 'id') || id, timeStamp: now() } if (!syntheticEvent) { return basicEvent } basicEvent.timeStamp = syntheticEvent.timeStamp || basicEvent.timeStamp return _.defaults(basicEvent, syntheticEvent)\\n} module.exports = (Comp, eventHandlersProp) => { class withEventHandlers extends React.Component { render() { const eventHandlers = _.mapValues(this.props.compActions, eventPayLoad => syntheticEvent => this.props.handleAction(eventPayLoad, getEvent(syntheticEvent, this.props))) const propsWithActions = _.defaults({ [eventHandlersProp]: eventHandlers }, this.props) return React.createElement(Comp, propsWithActions) } } withEventHandlers.propTypes = _.assign({ id: santaTypesDefinitions.Component.id, handleAction: santaTypesDefinitions.Behaviors.handleAction, compActions: santaTypesDefinitions.Component.compActions, now: santaTypesDefinitions.Utils.logging.performance.now }, Comp.propTypes) return withEventHandlers\\n}\\n####"}
{"prompt":"define(['node-addon-api','@parcel/transformer-js','postcss-normalize-url','sass','d3-selection','babel-plugin-transform-class-properties'], function(nodeAddonApi,parcelTransformerJs,postcssNormalizeUrl,sass,d3Selection,babelPluginTransformClassProperties){\\n'use strict' const _ = require('lodash')\\nconst {CompsMigrationHelper} = require('../helpers/CompsMigrationHelper')\\nconst galleryTypes = require('../maps/galleryTypes') //we assume that the desktop page run before the mobile comps in the helper\\nfunction compMigrationFunction(pageJson, cache, isMobile, comp) { if (!isMobile) { cache[comp.id] = comp return } const desktopComp = cache[comp.id] || {} if (!desktopComp.componentType && desktopComp.componentType === comp.componentType) { return } const correctCompType = desktopComp.componentType comp.componentType = correctCompType const compProperties = this.getComponentProperties(pageJson, comp) const correctPropType = galleryTypes[correctCompType] ? galleryTypes[correctCompType].propType : '' if (correctCompType && (!compProperties || compProperties.type !== correctPropType)) { comp.propertyQuery = desktopComp.propertyQuery }\\n} module.exports = { name: 'galleriesMobileTypeFixer', version: 1, exec(pageJson, pageIdsArray, magicObject) { const map = _.mapValues(galleryTypes, () => compMigrationFunction) const {uniqueIdGenerator} = magicObject.dataFixerUtils const helper = new CompsMigrationHelper(map, uniqueIdGenerator) helper.migratePage(pageJson) }\\n}\\n\\n})\\n####","completion":" import nodeAddonApi from 'node-addon-api'\\nimport parcelTransformerJs from '@parcel/transformer-js'\\nimport postcssNormalizeUrl from 'postcss-normalize-url'\\nimport sass from 'sass'\\nimport d3Selection from 'd3-selection'\\nimport babelPluginTransformClassProperties from 'babel-plugin-transform-class-properties'\\n\\n'use strict' const _ = require('lodash')\\nconst {CompsMigrationHelper} = require('../helpers/CompsMigrationHelper')\\nconst galleryTypes = require('../maps/galleryTypes') //we assume that the desktop page run before the mobile comps in the helper\\nfunction compMigrationFunction(pageJson, cache, isMobile, comp) { if (!isMobile) { cache[comp.id] = comp return } const desktopComp = cache[comp.id] || {} if (!desktopComp.componentType && desktopComp.componentType === comp.componentType) { return } const correctCompType = desktopComp.componentType comp.componentType = correctCompType const compProperties = this.getComponentProperties(pageJson, comp) const correctPropType = galleryTypes[correctCompType] ? galleryTypes[correctCompType].propType : '' if (correctCompType && (!compProperties || compProperties.type !== correctPropType)) { comp.propertyQuery = desktopComp.propertyQuery }\\n} module.exports = { name: 'galleriesMobileTypeFixer', version: 1, exec(pageJson, pageIdsArray, magicObject) { const map = _.mapValues(galleryTypes, () => compMigrationFunction) const {uniqueIdGenerator} = magicObject.dataFixerUtils const helper = new CompsMigrationHelper(map, uniqueIdGenerator) helper.migratePage(pageJson) }\\n}\\n\\n####"}
{"prompt":"define(['is-regex','safe-publish-latest','ejs','path-browserify','@unicode/unicode-14.0.0','broccoli-rollup','inherits','isomorphic-fetch','esbuild-runner','q','shallow-clone','codecov','node-releases'], function(isRegex,safePublishLatest,ejs,pathBrowserify,unicodeUnicode1400,broccoliRollup,inherits,isomorphicFetch,esbuildRunner,q,shallowClone,codecov,nodeReleases){\\nimport PropTypes from 'prop-types';\\nimport React from 'react'; export default function GlutenFree(props) { const {height, secondaryColor, primaryColor, i18n = { get: () => null } } = props; const style = { height, padding: '0px ' + (height / 1.75) + 'px', fontSize: (height / 1.9) + 'px', lineHeight: height + 'px', backgroundColor: primaryColor, color: secondaryColor, letterSpacing: (height / 12.5) + 'px' }; return ( <div role='img' aria-labelledby='imgGF' id='imgGF' className={'restaurants-menus-icons-label'} style={style} data-hook='wixrest-menus-icon-label-gluten-free'> {i18n.get('openrest_menubuilderv3_dishlabels_glutenfree') || 'Gluten Free'} </div> );\\n} GlutenFree.displayName = 'GlutenFree';\\nGlutenFree.propTypes = { height: PropTypes.number, secondaryColor: PropTypes.string, primaryColor: PropTypes.string\\n};\\nGlutenFree.defaultProps = { height: 21, secondaryColor: '#fff', primaryColor: '#fbb446'\\n};\\n\\n})\\n####","completion":" import isRegex from 'is-regex'\\nimport safePublishLatest from 'safe-publish-latest'\\nimport ejs from 'ejs'\\nimport pathBrowserify from 'path-browserify'\\nimport unicodeUnicode1400 from '@unicode/unicode-14.0.0'\\nimport broccoliRollup from 'broccoli-rollup'\\nimport inherits from 'inherits'\\nimport isomorphicFetch from 'isomorphic-fetch'\\nimport esbuildRunner from 'esbuild-runner'\\nimport q from 'q'\\nimport shallowClone from 'shallow-clone'\\nimport codecov from 'codecov'\\nimport nodeReleases from 'node-releases'\\n\\nimport PropTypes from 'prop-types';\\nimport React from 'react'; export default function GlutenFree(props) { const {height, secondaryColor, primaryColor, i18n = { get: () => null } } = props; const style = { height, padding: '0px ' + (height / 1.75) + 'px', fontSize: (height / 1.9) + 'px', lineHeight: height + 'px', backgroundColor: primaryColor, color: secondaryColor, letterSpacing: (height / 12.5) + 'px' }; return ( <div role='img' aria-labelledby='imgGF' id='imgGF' className={'restaurants-menus-icons-label'} style={style} data-hook='wixrest-menus-icon-label-gluten-free'> {i18n.get('openrest_menubuilderv3_dishlabels_glutenfree') || 'Gluten Free'} </div> );\\n} GlutenFree.displayName = 'GlutenFree';\\nGlutenFree.propTypes = { height: PropTypes.number, secondaryColor: PropTypes.string, primaryColor: PropTypes.string\\n};\\nGlutenFree.defaultProps = { height: 21, secondaryColor: '#fff', primaryColor: '#fbb446'\\n};\\n\\n####"}
{"prompt":"define(['cssnano-utils','uglifyjs','grunt-contrib-watch','obake','teeny-request','preact-render-spy','@ungap/url-search-params','babel-plugin-transform-object-rest-spread','babel-preset-es2015-rollup','@babel/plugin-transform-unicode-regex','npmlog','express','regjsgen','@parcel/runtime-js','bluebird'], function(cssnanoUtils,uglifyjs,gruntContribWatch,obake,teenyRequest,preactRenderSpy,ungapUrlSearchParams,babelPluginTransformObjectRestSpread,babelPresetEs2015Rollup,babelPluginTransformUnicodeRegex,npmlog,express,regjsgen,parcelRuntimeJs,bluebird){\\nimport PropTypes from 'prop-types';\\nimport React from 'react'\\nimport Oy from 'oy-vey/lib/components/DefaultElement.js' const {Table, TBody, TR, TD} = Oy export default function PasswordResetted({i18n, email, password}) { const line1 = i18n.get('renderer_passwordresetted1', 'We have successfully reset your account password.') const line2 = i18n.get('renderer_passwordresetted2', 'Your new password is \\\"${params.password}\\\".', { params: { password } }) const line3 = i18n.get('renderer_passwordresetted3', 'Your username, in case you\\'ve forgotten: ${params.username}', { params: { username: email } }) return ( <Table> <TBody> <TR> <TD>{line1}</TD> </TR> <TR> <TD>{line2}</TD> </TR> <TR> <TD>{line3}</TD> </TR> </TBody> </Table> )\\n} PasswordResetted.displayName = 'PasswordResetted'; PasswordResetted.propTypes = { i18n: PropTypes.object.isRequired, email: PropTypes.string.isRequired, password: PropTypes.string.isRequired\\n};\\n\\n})\\n####","completion":" import cssnanoUtils from 'cssnano-utils'\\nimport uglifyjs from 'uglifyjs'\\nimport gruntContribWatch from 'grunt-contrib-watch'\\nimport obake from 'obake'\\nimport teenyRequest from 'teeny-request'\\nimport preactRenderSpy from 'preact-render-spy'\\nimport ungapUrlSearchParams from '@ungap/url-search-params'\\nimport babelPluginTransformObjectRestSpread from 'babel-plugin-transform-object-rest-spread'\\nimport babelPresetEs2015Rollup from 'babel-preset-es2015-rollup'\\nimport babelPluginTransformUnicodeRegex from '@babel/plugin-transform-unicode-regex'\\nimport npmlog from 'npmlog'\\nimport express from 'express'\\nimport regjsgen from 'regjsgen'\\nimport parcelRuntimeJs from '@parcel/runtime-js'\\nimport bluebird from 'bluebird'\\n\\nimport PropTypes from 'prop-types';\\nimport React from 'react'\\nimport Oy from 'oy-vey/lib/components/DefaultElement.js' const {Table, TBody, TR, TD} = Oy export default function PasswordResetted({i18n, email, password}) { const line1 = i18n.get('renderer_passwordresetted1', 'We have successfully reset your account password.') const line2 = i18n.get('renderer_passwordresetted2', 'Your new password is \\\"${params.password}\\\".', { params: { password } }) const line3 = i18n.get('renderer_passwordresetted3', 'Your username, in case you\\'ve forgotten: ${params.username}', { params: { username: email } }) return ( <Table> <TBody> <TR> <TD>{line1}</TD> </TR> <TR> <TD>{line2}</TD> </TR> <TR> <TD>{line3}</TD> </TR> </TBody> </Table> )\\n} PasswordResetted.displayName = 'PasswordResetted'; PasswordResetted.propTypes = { i18n: PropTypes.object.isRequired, email: PropTypes.string.isRequired, password: PropTypes.string.isRequired\\n};\\n\\n####"}
{"prompt":"define(['@babel/plugin-proposal-dynamic-import','@babel/plugin-proposal-export-namespace-from','@parcel/events','@babel/plugin-proposal-numeric-separator','karma-jasmine','react-dom','grunt-babel'], function(babelPluginProposalDynamicImport,babelPluginProposalExportNamespaceFrom,parcelEvents,babelPluginProposalNumericSeparator,karmaJasmine,reactDom,gruntBabel){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.wix.com/demone2/traveler-blog (27)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/traveler-blog', emulateMobileDevice: false, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/27-traveler-blog/mesh/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import babelPluginProposalDynamicImport from '@babel/plugin-proposal-dynamic-import'\\nimport babelPluginProposalExportNamespaceFrom from '@babel/plugin-proposal-export-namespace-from'\\nimport parcelEvents from '@parcel/events'\\nimport babelPluginProposalNumericSeparator from '@babel/plugin-proposal-numeric-separator'\\nimport karmaJasmine from 'karma-jasmine'\\nimport reactDom from 'react-dom'\\nimport gruntBabel from 'grunt-babel'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.wix.com/demone2/traveler-blog (27)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/traveler-blog', emulateMobileDevice: false, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/27-traveler-blog/mesh/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['babel-eslint','agent-base','micromatch','postcss-discard-empty','asynckit','timers-browserify','stable','@babel/helper-simple-access','terser-webpack-plugin','esm','jquery'], function(babelEslint,agentBase,micromatch,postcssDiscardEmpty,asynckit,timersBrowserify,stable,babelHelperSimpleAccess,terserWebpackPlugin,esm,jquery){\\nconst persistentItemsValidations = require('@wix/document-services-implementation/src/dataModel/persistentItemsValidations') describe('persistentItemsValidations', function () { describe('unit', function () { const {PERSISTENT_DATA_IDS} = persistentItemsValidations PERSISTENT_DATA_IDS.forEach(persistentDataId => test(`should return true for persistent id ${persistentDataId}`, () => { expect(persistentItemsValidations.isItemPersistent('data', persistentDataId)).toBeTruthy() }) ) test('should return false for non persistent id', () => { expect(persistentItemsValidations.isItemPersistent('style', 'data123')).toBeFalsy() }) test('should return true for systemStyle id', () => { expect(persistentItemsValidations.isItemPersistent('style', 'b1')).toBeTruthy() }) test('should return false for non systemStyle id', () => { expect(persistentItemsValidations.isItemPersistent('style', 'style11')).toBeFalsy() }) })\\n})\\n\\n})\\n####","completion":" import babelEslint from 'babel-eslint'\\nimport agentBase from 'agent-base'\\nimport micromatch from 'micromatch'\\nimport postcssDiscardEmpty from 'postcss-discard-empty'\\nimport asynckit from 'asynckit'\\nimport timersBrowserify from 'timers-browserify'\\nimport stable from 'stable'\\nimport babelHelperSimpleAccess from '@babel/helper-simple-access'\\nimport terserWebpackPlugin from 'terser-webpack-plugin'\\nimport esm from 'esm'\\nimport jquery from 'jquery'\\n\\nconst persistentItemsValidations = require('@wix/document-services-implementation/src/dataModel/persistentItemsValidations') describe('persistentItemsValidations', function () { describe('unit', function () { const {PERSISTENT_DATA_IDS} = persistentItemsValidations PERSISTENT_DATA_IDS.forEach(persistentDataId => test(`should return true for persistent id ${persistentDataId}`, () => { expect(persistentItemsValidations.isItemPersistent('data', persistentDataId)).toBeTruthy() }) ) test('should return false for non persistent id', () => { expect(persistentItemsValidations.isItemPersistent('style', 'data123')).toBeFalsy() }) test('should return true for systemStyle id', () => { expect(persistentItemsValidations.isItemPersistent('style', 'b1')).toBeTruthy() }) test('should return false for non systemStyle id', () => { expect(persistentItemsValidations.isItemPersistent('style', 'style11')).toBeFalsy() }) })\\n})\\n\\n####"}
{"prompt":"define(['@typescript-eslint/eslint-plugin','function-bind','path-exists','postcss-reduce-initial','pngjs','slice-ansi','codecov','gh-pages','path-parse','@parcel/optimizer-image'], function(typescriptEslintEslintPlugin,functionBind,pathExists,postcssReduceInitial,pngjs,sliceAnsi,codecov,ghPages,pathParse,parcelOptimizerImage){\\nimport LZUTF8 from 'lzutf8'; export function getDataByKey( key, compId, setter = () => {}, field, onFailure = () => {},\\n) { const keyWithCompId = `${key}.${compId}`; Wix.Data.Public.get( keyWithCompId, { scope: 'COMPONENT' }, (obj) => { const parsed = JSON.parse( LZUTF8.decompress(obj[keyWithCompId], { inputEncoding: 'Base64' }), ); setter(parsed[field]); }, onFailure, );\\n} export function setDataByKey(key, compId, value, setter = () => {}, field) { const keyWithCompId = `${key}.${compId}`; const compressedValue = LZUTF8.compress( JSON.stringify(field ? { [field]: value } : value), { outputEncoding: 'Base64', }, ); Wix.Data.Public.set( keyWithCompId, compressedValue, { scope: 'COMPONENT' }, () => { Wix.Settings.triggerSettingsUpdatedEvent({}, compId); }, ); setter(value);\\n} export function setBooleanParam({ value, checked, field = 'value' }) { Wix.Styles.setBooleanParam(value, { [field]: checked });\\n} export function setNumberParam({ value, number, field = 'value' }) { Wix.Styles.setNumberParam(value, { [field]: number });\\n}\\n\\n})\\n####","completion":" import typescriptEslintEslintPlugin from '@typescript-eslint/eslint-plugin'\\nimport functionBind from 'function-bind'\\nimport pathExists from 'path-exists'\\nimport postcssReduceInitial from 'postcss-reduce-initial'\\nimport pngjs from 'pngjs'\\nimport sliceAnsi from 'slice-ansi'\\nimport codecov from 'codecov'\\nimport ghPages from 'gh-pages'\\nimport pathParse from 'path-parse'\\nimport parcelOptimizerImage from '@parcel/optimizer-image'\\n\\nimport LZUTF8 from 'lzutf8'; export function getDataByKey( key, compId, setter = () => {}, field, onFailure = () => {},\\n) { const keyWithCompId = `${key}.${compId}`; Wix.Data.Public.get( keyWithCompId, { scope: 'COMPONENT' }, (obj) => { const parsed = JSON.parse( LZUTF8.decompress(obj[keyWithCompId], { inputEncoding: 'Base64' }), ); setter(parsed[field]); }, onFailure, );\\n} export function setDataByKey(key, compId, value, setter = () => {}, field) { const keyWithCompId = `${key}.${compId}`; const compressedValue = LZUTF8.compress( JSON.stringify(field ? { [field]: value } : value), { outputEncoding: 'Base64', }, ); Wix.Data.Public.set( keyWithCompId, compressedValue, { scope: 'COMPONENT' }, () => { Wix.Settings.triggerSettingsUpdatedEvent({}, compId); }, ); setter(value);\\n} export function setBooleanParam({ value, checked, field = 'value' }) { Wix.Styles.setBooleanParam(value, { [field]: checked });\\n} export function setNumberParam({ value, number, field = 'value' }) { Wix.Styles.setNumberParam(value, { [field]: number });\\n}\\n\\n####"}
{"prompt":"define(['@babel/helper-skip-transparent-expression-wrappers','shelljs-changelog','safe-publish-latest','csso','tslib','@babel/plugin-syntax-optional-catch-binding','regexpu-core','through2','@babel/helper-annotate-as-pure','sinon'], function(babelHelperSkipTransparentExpressionWrappers,shelljsChangelog,safePublishLatest,csso,tslib,babelPluginSyntaxOptionalCatchBinding,regexpuCore,through2,babelHelperAnnotateAsPure,sinon){\\n'use strict' const _ = require('lodash') const TINY_MENU_SKIN = 'wysiwyg.viewer.skins.mobile.TinyMenuSkin' function applyTinyMenuDefaults(styleData) { if (styleData.skin !== TINY_MENU_SKIN || _.isUndefined(styleData.style) || _.isUndefined(styleData.style.properties)) { return } const defaults = [ ['bg', 'bgDrop'], ['bg', 'bgOpen'], ['txt', 'bordercolor'], ['txt', 'iconcolor'], ['bordercolor', 'borderColorSelected'] ] const prop = styleData.style.properties const propSource = styleData.style.propertiesSource function applyDefault(map, key, val) { if (!_.isUndefined(map) && !_.isUndefined(map[key])) { map[val] = map[val] || map[key] } } _.forEach(defaults, def => { let key = def[0] let val = def[1] applyDefault(prop, key, val) applyDefault(propSource, key, val) key = `alpha-${key}` val = `alpha-${val}` applyDefault(prop, key, val) applyDefault(propSource, key, val) })\\n} /** * @exports utils/dataFixer/plugins/tinyMenuSkinBackgroundFixer * @type {{exec: function}} */\\nmodule.exports = { name: 'tinyMenuSkinBackgroundFixer', version: 1, exec(pageJson) { const themeData = pageJson.data && pageJson.data.theme_data if (!_.isEmpty(themeData)) { _.forEach(themeData, applyTinyMenuDefaults) } }\\n}\\n\\n})\\n####","completion":" import babelHelperSkipTransparentExpressionWrappers from '@babel/helper-skip-transparent-expression-wrappers'\\nimport shelljsChangelog from 'shelljs-changelog'\\nimport safePublishLatest from 'safe-publish-latest'\\nimport csso from 'csso'\\nimport tslib from 'tslib'\\nimport babelPluginSyntaxOptionalCatchBinding from '@babel/plugin-syntax-optional-catch-binding'\\nimport regexpuCore from 'regexpu-core'\\nimport through2 from 'through2'\\nimport babelHelperAnnotateAsPure from '@babel/helper-annotate-as-pure'\\nimport sinon from 'sinon'\\n\\n'use strict' const _ = require('lodash') const TINY_MENU_SKIN = 'wysiwyg.viewer.skins.mobile.TinyMenuSkin' function applyTinyMenuDefaults(styleData) { if (styleData.skin !== TINY_MENU_SKIN || _.isUndefined(styleData.style) || _.isUndefined(styleData.style.properties)) { return } const defaults = [ ['bg', 'bgDrop'], ['bg', 'bgOpen'], ['txt', 'bordercolor'], ['txt', 'iconcolor'], ['bordercolor', 'borderColorSelected'] ] const prop = styleData.style.properties const propSource = styleData.style.propertiesSource function applyDefault(map, key, val) { if (!_.isUndefined(map) && !_.isUndefined(map[key])) { map[val] = map[val] || map[key] } } _.forEach(defaults, def => { let key = def[0] let val = def[1] applyDefault(prop, key, val) applyDefault(propSource, key, val) key = `alpha-${key}` val = `alpha-${val}` applyDefault(prop, key, val) applyDefault(propSource, key, val) })\\n} /** * @exports utils/dataFixer/plugins/tinyMenuSkinBackgroundFixer * @type {{exec: function}} */\\nmodule.exports = { name: 'tinyMenuSkinBackgroundFixer', version: 1, exec(pageJson) { const themeData = pageJson.data && pageJson.data.theme_data if (!_.isEmpty(themeData)) { _.forEach(themeData, applyTinyMenuDefaults) } }\\n}\\n\\n####"}
{"prompt":"define(['postcss-discard-overridden','follow-redirects','@parcel/transformer-css','karma-sauce-launcher','url-loader','gulp-bump','@docusaurus/core','uglifyify','@tensorflow/tfjs','unicode-9.0.0','are-we-there-yet','grunt-livescript','expect','entities'], function(postcssDiscardOverridden,followRedirects,parcelTransformerCss,karmaSauceLauncher,urlLoader,gulpBump,docusaurusCore,uglifyify,tensorflowTfjs,unicode900,areWeThereYet,gruntLivescript,expect,entities){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.wix.com/demone2/wedding-photography (18)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/wedding-photography', emulateMobileDevice: false, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/18-wedding-photography/anchors/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import postcssDiscardOverridden from 'postcss-discard-overridden'\\nimport followRedirects from 'follow-redirects'\\nimport parcelTransformerCss from '@parcel/transformer-css'\\nimport karmaSauceLauncher from 'karma-sauce-launcher'\\nimport urlLoader from 'url-loader'\\nimport gulpBump from 'gulp-bump'\\nimport docusaurusCore from '@docusaurus/core'\\nimport uglifyify from 'uglifyify'\\nimport tensorflowTfjs from '@tensorflow/tfjs'\\nimport unicode900 from 'unicode-9.0.0'\\nimport areWeThereYet from 'are-we-there-yet'\\nimport gruntLivescript from 'grunt-livescript'\\nimport expect from 'expect'\\nimport entities from 'entities'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.wix.com/demone2/wedding-photography (18)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/wedding-photography', emulateMobileDevice: false, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/18-wedding-photography/anchors/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['@parcel/codeframe','chrome-trace-event','cheerio'], function(parcelCodeframe,chromeTraceEvent,cheerio){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.shaiyallin.com/contact (58)', withViewer({ tpaInterceptor, baseUrl: 'https://www.shaiyallin.com/contact', emulateMobileDevice: false, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/58-shai-yalin-contact/anchors/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import parcelCodeframe from '@parcel/codeframe'\\nimport chromeTraceEvent from 'chrome-trace-event'\\nimport cheerio from 'cheerio'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.shaiyallin.com/contact (58)', withViewer({ tpaInterceptor, baseUrl: 'https://www.shaiyallin.com/contact', emulateMobileDevice: false, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/58-shai-yalin-contact/anchors/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['@rollup/plugin-json','karma-qunit','postcss-reduce-initial','cheerio','isomorphic-fetch','require-xml'], function(rollupPluginJson,karmaQunit,postcssReduceInitial,cheerio,isomorphicFetch,requireXml){\\nimport reqOptions from '@wix/wix-req-options';\\nimport fetch from 'isomorphic-fetch';\\nimport uuidGenerator from '@wix/uuid-support'; export class MetasiteDriver { given = { listSiteData: () => { this.sessionOpts = reqOptions.builder() .withSession(); this.metaSiteId = uuidGenerator.generate(); this.siteName = 'my cool site'; this.env.rpcServer.when('ReadOnlyMetaSiteManager', 'listSites') .respond([{id: this.metaSiteId, siteName: this.siteName}]); return this; } }; when = { listMetasites: async () => { const res = await fetch(this.env.app.getUrl(`/sites`), this.sessionOpts.options()); return res.json(); }, siteList: async () => { const res = await fetch(this.env.app.getUrl(`/site-list`), this.sessionOpts.options()); return res.text(); } }; get = { metaSiteId: () => this.metaSiteId, siteName: () => this.siteName, sessionOpts: () => this.sessionOpts }; env; constructor(env) { this.env = env; }\\n}\\n\\n})\\n####","completion":" import rollupPluginJson from '@rollup/plugin-json'\\nimport karmaQunit from 'karma-qunit'\\nimport postcssReduceInitial from 'postcss-reduce-initial'\\nimport cheerio from 'cheerio'\\nimport isomorphicFetch from 'isomorphic-fetch'\\nimport requireXml from 'require-xml'\\n\\nimport reqOptions from '@wix/wix-req-options';\\nimport fetch from 'isomorphic-fetch';\\nimport uuidGenerator from '@wix/uuid-support'; export class MetasiteDriver { given = { listSiteData: () => { this.sessionOpts = reqOptions.builder() .withSession(); this.metaSiteId = uuidGenerator.generate(); this.siteName = 'my cool site'; this.env.rpcServer.when('ReadOnlyMetaSiteManager', 'listSites') .respond([{id: this.metaSiteId, siteName: this.siteName}]); return this; } }; when = { listMetasites: async () => { const res = await fetch(this.env.app.getUrl(`/sites`), this.sessionOpts.options()); return res.json(); }, siteList: async () => { const res = await fetch(this.env.app.getUrl(`/site-list`), this.sessionOpts.options()); return res.text(); } }; get = { metaSiteId: () => this.metaSiteId, siteName: () => this.siteName, sessionOpts: () => this.sessionOpts }; env; constructor(env) { this.env = env; }\\n}\\n\\n####"}
{"prompt":"define(['@parcel/optimizer-htmlnano','@ungap/url-search-params','array-shuffle'], function(parcelOptimizerHtmlnano,ungapUrlSearchParams,arrayShuffle){\\nimport PropTypes from 'prop-types';\\nimport React from 'react';\\nimport styles from './Spinner.icss'; class Spinner extends React.Component { static propTypes = { color : PropTypes.string, radius : PropTypes.oneOfType([ PropTypes.string, PropTypes.number, ]).isRequired, bordercolor: PropTypes.string, className: PropTypes.string }; static defaultProps = { className: '' }; render() { return ( <span className={`${styles.wrapper} ${this.props.className}`} style={{ borderColor: this.props.bordercolor, width: this.props.radius, height: this.props.radius}}> <svg className={styles.spinner} viewBox='0 0 44 44' style={{ width: this.props.radius, height: this.props.radius, borderRadius: '50%', position: 'absolute', top: '-4px', left: '-4px'}}> <circle className={styles.path} cx='22' cy='22' r='20' fill='none' style={{ stroke: this.props.color }}></circle> </svg> </span> ); }\\n} export default Spinner;\\n\\n})\\n####","completion":" import parcelOptimizerHtmlnano from '@parcel/optimizer-htmlnano'\\nimport ungapUrlSearchParams from '@ungap/url-search-params'\\nimport arrayShuffle from 'array-shuffle'\\n\\nimport PropTypes from 'prop-types';\\nimport React from 'react';\\nimport styles from './Spinner.icss'; class Spinner extends React.Component { static propTypes = { color : PropTypes.string, radius : PropTypes.oneOfType([ PropTypes.string, PropTypes.number, ]).isRequired, bordercolor: PropTypes.string, className: PropTypes.string }; static defaultProps = { className: '' }; render() { return ( <span className={`${styles.wrapper} ${this.props.className}`} style={{ borderColor: this.props.bordercolor, width: this.props.radius, height: this.props.radius}}> <svg className={styles.spinner} viewBox='0 0 44 44' style={{ width: this.props.radius, height: this.props.radius, borderRadius: '50%', position: 'absolute', top: '-4px', left: '-4px'}}> <circle className={styles.path} cx='22' cy='22' r='20' fill='none' style={{ stroke: this.props.color }}></circle> </svg> </span> ); }\\n} export default Spinner;\\n\\n####"}
{"prompt":"define(['mock-property','object-keys','graceful-fs','should','grunt-browserify','@types/mocha','@babel/helper-wrap-function','chmodr','@babel/plugin-proposal-json-strings','better-ajv-errors','stylelint-processor-styled-components','dotenv-expand','@babel/plugin-transform-modules-systemjs'], function(mockProperty,objectKeys,gracefulFs,should,gruntBrowserify,typesMocha,babelHelperWrapFunction,chmodr,babelPluginProposalJsonStrings,betterAjvErrors,stylelintProcessorStyledComponents,dotenvExpand,babelPluginTransformModulesSystemjs){\\n\\\"use strict\\\"; import {expect, assert} from 'chai';\\nimport sinon from 'sinon';\\nimport InstagramApiConnector from '../src/InstagramApiConnector.js'; const somePath = 'somePath/foo/bar';\\nconst someParams = {foo: 'bar'}; let requests = []; describe(\\\"InstagramApiConnector\\\", function() { before(() => { global.XMLHttpRequest = sinon.useFakeXMLHttpRequest(); global.XMLHttpRequest.onCreate = (xhr) => { requests.push(xhr); } }); beforeEach(() => { requests = []; }); it('Should call api with (path, params)', function(done) { let xhr = {}; InstagramApiConnector(somePath, someParams) .then(() => { assert.equal(xhr.requestBody, JSON.stringify({path: somePath, params: someParams})); done(); }); setTimeout(() => { assert.equal(requests.length, 1, 'InstagramApiConnector.api.called'); xhr = requests[0]; xhr.respond(200, {\\\"Content-Type\\\": \\\"application/json\\\"}, '{\\\"foo\\\": \\\"bar\\\"}'); }, 0); }); });\\n\\n})\\n####","completion":" import mockProperty from 'mock-property'\\nimport objectKeys from 'object-keys'\\nimport gracefulFs from 'graceful-fs'\\nimport should from 'should'\\nimport gruntBrowserify from 'grunt-browserify'\\nimport typesMocha from '@types/mocha'\\nimport babelHelperWrapFunction from '@babel/helper-wrap-function'\\nimport chmodr from 'chmodr'\\nimport babelPluginProposalJsonStrings from '@babel/plugin-proposal-json-strings'\\nimport betterAjvErrors from 'better-ajv-errors'\\nimport stylelintProcessorStyledComponents from 'stylelint-processor-styled-components'\\nimport dotenvExpand from 'dotenv-expand'\\nimport babelPluginTransformModulesSystemjs from '@babel/plugin-transform-modules-systemjs'\\n\\n\\\"use strict\\\"; import {expect, assert} from 'chai';\\nimport sinon from 'sinon';\\nimport InstagramApiConnector from '../src/InstagramApiConnector.js'; const somePath = 'somePath/foo/bar';\\nconst someParams = {foo: 'bar'}; let requests = []; describe(\\\"InstagramApiConnector\\\", function() { before(() => { global.XMLHttpRequest = sinon.useFakeXMLHttpRequest(); global.XMLHttpRequest.onCreate = (xhr) => { requests.push(xhr); } }); beforeEach(() => { requests = []; }); it('Should call api with (path, params)', function(done) { let xhr = {}; InstagramApiConnector(somePath, someParams) .then(() => { assert.equal(xhr.requestBody, JSON.stringify({path: somePath, params: someParams})); done(); }); setTimeout(() => { assert.equal(requests.length, 1, 'InstagramApiConnector.api.called'); xhr = requests[0]; xhr.respond(200, {\\\"Content-Type\\\": \\\"application/json\\\"}, '{\\\"foo\\\": \\\"bar\\\"}'); }, 0); }); });\\n\\n####"}
{"prompt":"define(['@parcel/transformer-image','@types/chalk','path-browserify','jshint','has-symbols','asynckit','pkgfiles','is-core-module','tap','livescript','sinon-chai','@babel/helper-remap-async-to-generator','chai','grunt-css-url-embed','in-range','interpret','@types/offscreencanvas','gulp-tag-version'], function(parcelTransformerImage,typesChalk,pathBrowserify,jshint,hasSymbols,asynckit,pkgfiles,isCoreModule,tap,livescript,sinonChai,babelHelperRemapAsyncToGenerator,chai,gruntCssUrlEmbed,inRange,interpret,typesOffscreencanvas,gulpTagVersion){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.wix.com/demone2/vintage-car-garage (4)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/vintage-car-garage', emulateMobileDevice: true, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/4-vintage-car-garage/mesh/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import parcelTransformerImage from '@parcel/transformer-image'\\nimport typesChalk from '@types/chalk'\\nimport pathBrowserify from 'path-browserify'\\nimport jshint from 'jshint'\\nimport hasSymbols from 'has-symbols'\\nimport asynckit from 'asynckit'\\nimport pkgfiles from 'pkgfiles'\\nimport isCoreModule from 'is-core-module'\\nimport tap from 'tap'\\nimport livescript from 'livescript'\\nimport sinonChai from 'sinon-chai'\\nimport babelHelperRemapAsyncToGenerator from '@babel/helper-remap-async-to-generator'\\nimport chai from 'chai'\\nimport gruntCssUrlEmbed from 'grunt-css-url-embed'\\nimport inRange from 'in-range'\\nimport interpret from 'interpret'\\nimport typesOffscreencanvas from '@types/offscreencanvas'\\nimport gulpTagVersion from 'gulp-tag-version'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.wix.com/demone2/vintage-car-garage (4)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/vintage-car-garage', emulateMobileDevice: true, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/4-vintage-car-garage/mesh/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['graceful-fs','toml-require','asap','yallist','@parcel/watcher','string-to-arraybuffer','@jridgewell/gen-mapping','postcss-discard-empty','livescript','follow-redirects','relateurl','debug'], function(gracefulFs,tomlRequire,asap,yallist,parcelWatcher,stringToArraybuffer,jridgewellGenMapping,postcssDiscardEmpty,livescript,followRedirects,relateurl,debug){\\nimport React from 'react';\\nimport SearchBox from '../src/components/SearchBox.js'; export const story1 = () => ( <div> <SearchBox title=\\\"Restaurant name\\\" onSelect={() => {}} options={[{ id: '1', label: 'Foo1', imageUrl: 'https://igx.4sqi.net/img/general/cap78/58694163_oIjJit_-aTXwPjbIb4c5PUFVe8LEiLi1pj5IPqXjEs8.jpg' }, { id: '2', label: 'Bar', imageUrl: 'https://igx.4sqi.net/img/general/cap78/9637154_iBNZiNQUhwPcTypaC8KH1Wb3y0ttYh-QfqaDua9sFbM.jpg' }, { id: '4', label: 'Foo3' }, { id: '5', label: 'Foo4' }, { id: '6', label: 'Foo5' }, { id: '7', label: 'Foo6' }, { id: '8', label: 'Foo7' }, { id: '9', label: 'Foo8' }, { id: '10', label: 'Foo9' }, { id: '11', label: 'Foo10' }, { id: '12', label: 'Foo11' }, { id: '13', label: 'Foo12' }]} /> </div>\\n); story1.storyName = 'search box';\\n\\n})\\n####","completion":" import gracefulFs from 'graceful-fs'\\nimport tomlRequire from 'toml-require'\\nimport asap from 'asap'\\nimport yallist from 'yallist'\\nimport parcelWatcher from '@parcel/watcher'\\nimport stringToArraybuffer from 'string-to-arraybuffer'\\nimport jridgewellGenMapping from '@jridgewell/gen-mapping'\\nimport postcssDiscardEmpty from 'postcss-discard-empty'\\nimport livescript from 'livescript'\\nimport followRedirects from 'follow-redirects'\\nimport relateurl from 'relateurl'\\nimport debug from 'debug'\\n\\nimport React from 'react';\\nimport SearchBox from '../src/components/SearchBox.js'; export const story1 = () => ( <div> <SearchBox title=\\\"Restaurant name\\\" onSelect={() => {}} options={[{ id: '1', label: 'Foo1', imageUrl: 'https://igx.4sqi.net/img/general/cap78/58694163_oIjJit_-aTXwPjbIb4c5PUFVe8LEiLi1pj5IPqXjEs8.jpg' }, { id: '2', label: 'Bar', imageUrl: 'https://igx.4sqi.net/img/general/cap78/9637154_iBNZiNQUhwPcTypaC8KH1Wb3y0ttYh-QfqaDua9sFbM.jpg' }, { id: '4', label: 'Foo3' }, { id: '5', label: 'Foo4' }, { id: '6', label: 'Foo5' }, { id: '7', label: 'Foo6' }, { id: '8', label: 'Foo7' }, { id: '9', label: 'Foo8' }, { id: '10', label: 'Foo9' }, { id: '11', label: 'Foo10' }, { id: '12', label: 'Foo11' }, { id: '13', label: 'Foo12' }]} /> </div>\\n); story1.storyName = 'search box';\\n\\n####"}
{"prompt":"define(['@wessberg/rollup-plugin-ts','clsx','@parcel/source-map','@babel/helper-module-transforms','@parcel/reporter-cli','karma-mocha','dotenv','@babel/template','flow-bin'], function(wessbergRollupPluginTs,clsx,parcelSourceMap,babelHelperModuleTransforms,parcelReporterCli,karmaMocha,dotenv,babelTemplate,flowBin){\\nconst applyPackagesCache = require('../../../src/lib/common/applyPackagesCache.js').default const testCases = [ { title: 'Should override path for a package that was not updated', paths: {a: 'packages-bin/a/a.min'}, manifest: {a: '1.33.0'}, version: '1.33.7', shouldChangeTo: 'x.com/services/krampus/1.33.0/packages-bin/a/a.min' }, { title: 'Should not change path for a package that was updated', paths: {a: 'packages-bin/a/a.min'}, manifest: {a: '1.33.7'}, version: '1.33.7' }, { title: 'Should not change path for a package that is not in the manifest', paths: {a: 'packages-bin/a/a.min'}, manifest: {}, version: '1.33.7' }, { title: 'Should not create path for a package that does not have a path (not updated)', paths: {}, manifest: {a: '1.33.0'}, version: '1.33.7' }, { title: 'Should not create path for a package that does not have a path (updated)', paths: {}, manifest: {a: '1.33.7'}, version: '1.33.7' }\\n] const prepTest = test => Object.assign({}, test, {title: undefined, proj: 'krampus', scriptsDomainUrl: 'x.com/'}) describe('applyPackagesCache', () => { it('should be a function', () => { expect(typeof applyPackagesCache).toEqual('function') }) testCases.forEach(test => { it(test.title, () => { const data = prepTest(test) applyPackagesCache(data) expect(data.paths.a).toEqual(test.shouldChangeTo || test.paths.a) }) })\\n})\\n\\n})\\n####","completion":" import wessbergRollupPluginTs from '@wessberg/rollup-plugin-ts'\\nimport clsx from 'clsx'\\nimport parcelSourceMap from '@parcel/source-map'\\nimport babelHelperModuleTransforms from '@babel/helper-module-transforms'\\nimport parcelReporterCli from '@parcel/reporter-cli'\\nimport karmaMocha from 'karma-mocha'\\nimport dotenv from 'dotenv'\\nimport babelTemplate from '@babel/template'\\nimport flowBin from 'flow-bin'\\n\\nconst applyPackagesCache = require('../../../src/lib/common/applyPackagesCache.js').default const testCases = [ { title: 'Should override path for a package that was not updated', paths: {a: 'packages-bin/a/a.min'}, manifest: {a: '1.33.0'}, version: '1.33.7', shouldChangeTo: 'x.com/services/krampus/1.33.0/packages-bin/a/a.min' }, { title: 'Should not change path for a package that was updated', paths: {a: 'packages-bin/a/a.min'}, manifest: {a: '1.33.7'}, version: '1.33.7' }, { title: 'Should not change path for a package that is not in the manifest', paths: {a: 'packages-bin/a/a.min'}, manifest: {}, version: '1.33.7' }, { title: 'Should not create path for a package that does not have a path (not updated)', paths: {}, manifest: {a: '1.33.0'}, version: '1.33.7' }, { title: 'Should not create path for a package that does not have a path (updated)', paths: {}, manifest: {a: '1.33.7'}, version: '1.33.7' }\\n] const prepTest = test => Object.assign({}, test, {title: undefined, proj: 'krampus', scriptsDomainUrl: 'x.com/'}) describe('applyPackagesCache', () => { it('should be a function', () => { expect(typeof applyPackagesCache).toEqual('function') }) testCases.forEach(test => { it(test.title, () => { const data = prepTest(test) applyPackagesCache(data) expect(data.paths.a).toEqual(test.shouldChangeTo || test.paths.a) }) })\\n})\\n\\n####"}
{"prompt":"define(['requirejs','node-forge','phantomjs','far','puppeteer','@parcel/codeframe','gulp-mocha','is-glob','@babel/plugin-proposal-nullish-coalescing-operator','browserify-istanbul','load-grunt-tasks','@webgpu/types','postcss-reduce-initial'], function(requirejs,nodeForge,phantomjs,far,puppeteer,parcelCodeframe,gulpMocha,isGlob,babelPluginProposalNullishCoalescingOperator,browserifyIstanbul,loadGruntTasks,webgpuTypes,postcssReduceInitial){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.wix.com/demone2/curriculum-vitae-r (16)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/curriculum-vitae-r', emulateMobileDevice: false, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/16-curriculum-vitae/mesh/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import requirejs from 'requirejs'\\nimport nodeForge from 'node-forge'\\nimport phantomjs from 'phantomjs'\\nimport far from 'far'\\nimport puppeteer from 'puppeteer'\\nimport parcelCodeframe from '@parcel/codeframe'\\nimport gulpMocha from 'gulp-mocha'\\nimport isGlob from 'is-glob'\\nimport babelPluginProposalNullishCoalescingOperator from '@babel/plugin-proposal-nullish-coalescing-operator'\\nimport browserifyIstanbul from 'browserify-istanbul'\\nimport loadGruntTasks from 'load-grunt-tasks'\\nimport webgpuTypes from '@webgpu/types'\\nimport postcssReduceInitial from 'postcss-reduce-initial'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.wix.com/demone2/curriculum-vitae-r (16)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/curriculum-vitae-r', emulateMobileDevice: false, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/16-curriculum-vitae/mesh/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['process','@babel/preset-modules','optionator'], function(process,babelPresetModules,optionator){\\nimport React from 'react'; export default class extends React.Component { render() { var color = this.props.color || 'black'; return ( <svg width='22px' height='18px' viewBox='0 0 22 18' version='1.1' xmlns='http://www.w3.org/2000/svg'> <g id=\\\"All---Burger-Corner\\\" stroke=\\\"none\\\" strokeWidth=\\\"1\\\" fill=\\\"none\\\" fillRule=\\\"evenodd\\\"> <g id=\\\"Style-Guide\\\" transform=\\\"translate(-418.000000, -508.000000)\\\" fill={color}> <g id=\\\"Drawer\\\" transform=\\\"translate(396.000000, 72.000000)\\\"> <g id=\\\"Menu-Items\\\" transform=\\\"translate(0.000000, 235.000000)\\\"> <g id=\\\"Item-Copy-3\\\" transform=\\\"translate(0.000000, 180.000000)\\\"> <path d=\\\"M22,29 L44,29 L44,37.000385 C44,38.1047419 43.1103261,39 42.008845,39 L23.991155,39 C22.8914705,39 22,38.1125667 22,37.000385 L22,29 Z M22,23 C22,21.8954305 22.8896739,21 23.991155,21 L42.008845,21 C43.1085295,21 44,21.8877296 44,23 L44,25 L22,25 L22,23 Z\\\" id=\\\"Cards\\\"></path> </g> </g> </g> </g> </g> </svg> ); }\\n}\\n\\n})\\n####","completion":" import process from 'process'\\nimport babelPresetModules from '@babel/preset-modules'\\nimport optionator from 'optionator'\\n\\nimport React from 'react'; export default class extends React.Component { render() { var color = this.props.color || 'black'; return ( <svg width='22px' height='18px' viewBox='0 0 22 18' version='1.1' xmlns='http://www.w3.org/2000/svg'> <g id=\\\"All---Burger-Corner\\\" stroke=\\\"none\\\" strokeWidth=\\\"1\\\" fill=\\\"none\\\" fillRule=\\\"evenodd\\\"> <g id=\\\"Style-Guide\\\" transform=\\\"translate(-418.000000, -508.000000)\\\" fill={color}> <g id=\\\"Drawer\\\" transform=\\\"translate(396.000000, 72.000000)\\\"> <g id=\\\"Menu-Items\\\" transform=\\\"translate(0.000000, 235.000000)\\\"> <g id=\\\"Item-Copy-3\\\" transform=\\\"translate(0.000000, 180.000000)\\\"> <path d=\\\"M22,29 L44,29 L44,37.000385 C44,38.1047419 43.1103261,39 42.008845,39 L23.991155,39 C22.8914705,39 22,38.1125667 22,37.000385 L22,29 Z M22,23 C22,21.8954305 22.8896739,21 23.991155,21 L42.008845,21 C43.1085295,21 44,21.8877296 44,23 L44,25 L22,25 L22,23 Z\\\" id=\\\"Cards\\\"></path> </g> </g> </g> </g> </g> </svg> ); }\\n}\\n\\n####"}
{"prompt":"define(['through'], function(through){\\n'use strict'; Object.defineProperty(exports, \\\"__esModule\\\", { value: true\\n});\\n/** * @param pages * @param pageId * @returns {Page} */\\nfunction getPageById(pages, pageId) { return pages.find(function (p) { return p.pageId === pageId; });\\n} /** * @typedef {Object} Page * @property {string} pageId * @property {string} pageUriSEO */ /** * @param window * @param {{pages: Page[], mainPageId: string}} pageList * @param {boolean} isPremium * @returns {Page|null} */\\nfunction getPageInfo(window, pageList, isPremium) { if (!pageList) { return null; } var pages = pageList.pages || []; var hash = window.location.hash.split('/'); var pageId = hash[1]; if (pageId) { var page = getPageById(pages, pageId); if (page) { return page; } } var pathname = window.location.pathname; if (pathname) { if (!isPremium) { var match = pathname.match(/\\/.+\\/([^/]+)$/); pathname = match && match[1]; } if (pathname) { var result = pages.find(function (p) { var pageUriSEO = p.pageUriSEO; if (pageUriSEO) { var re = new RegExp('(^|/)' + pageUriSEO + '(/|$)'); return re.test(pathname); } return false; }); if (result) { return result; } } } return pageList.mainPageId && getPageById(pages, pageList.mainPageId);\\n} exports.getPageInfo = getPageInfo;\\n//# sourceMappingURL=utils.js.map\\n})\\n####","completion":" import through from 'through'\\n\\n'use strict'; Object.defineProperty(exports, \\\"__esModule\\\", { value: true\\n});\\n/** * @param pages * @param pageId * @returns {Page} */\\nfunction getPageById(pages, pageId) { return pages.find(function (p) { return p.pageId === pageId; });\\n} /** * @typedef {Object} Page * @property {string} pageId * @property {string} pageUriSEO */ /** * @param window * @param {{pages: Page[], mainPageId: string}} pageList * @param {boolean} isPremium * @returns {Page|null} */\\nfunction getPageInfo(window, pageList, isPremium) { if (!pageList) { return null; } var pages = pageList.pages || []; var hash = window.location.hash.split('/'); var pageId = hash[1]; if (pageId) { var page = getPageById(pages, pageId); if (page) { return page; } } var pathname = window.location.pathname; if (pathname) { if (!isPremium) { var match = pathname.match(/\\/.+\\/([^/]+)$/); pathname = match && match[1]; } if (pathname) { var result = pages.find(function (p) { var pageUriSEO = p.pageUriSEO; if (pageUriSEO) { var re = new RegExp('(^|/)' + pageUriSEO + '(/|$)'); return re.test(pathname); } return false; }); if (result) { return result; } } } return pageList.mainPageId && getPageById(pages, pageList.mainPageId);\\n} exports.getPageInfo = getPageInfo;\\n//# sourceMappingURL=utils.js.map\\n####"}
{"prompt":"define(['karma-browserify','ordered-binary','eslint-plugin-flowtype','csv-spectrum','kind-of','foo','path-parse','@babel/plugin-syntax-dynamic-import','rsvp','d3-quadtree','eslint-plugin-react','mocha-phantomjs'], function(karmaBrowserify,orderedBinary,eslintPluginFlowtype,csvSpectrum,kindOf,foo,pathParse,babelPluginSyntaxDynamicImport,rsvp,d3Quadtree,eslintPluginReact,mochaPhantomjs){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.wix.com/demone2/traveler-blog (27)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/traveler-blog', emulateMobileDevice: true, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/27-traveler-blog/anchors/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import karmaBrowserify from 'karma-browserify'\\nimport orderedBinary from 'ordered-binary'\\nimport eslintPluginFlowtype from 'eslint-plugin-flowtype'\\nimport csvSpectrum from 'csv-spectrum'\\nimport kindOf from 'kind-of'\\nimport foo from 'foo'\\nimport pathParse from 'path-parse'\\nimport babelPluginSyntaxDynamicImport from '@babel/plugin-syntax-dynamic-import'\\nimport rsvp from 'rsvp'\\nimport d3Quadtree from 'd3-quadtree'\\nimport eslintPluginReact from 'eslint-plugin-react'\\nimport mochaPhantomjs from 'mocha-phantomjs'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.wix.com/demone2/traveler-blog (27)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/traveler-blog', emulateMobileDevice: true, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/27-traveler-blog/anchors/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['@types/semver','once','benchmark','@babel/plugin-transform-spread','@types/jsesc','loose-envify','grunt-browserify','grunt-karma','async','csv-parse','@babel/plugin-syntax-async-generators'], function(typesSemver,once,benchmark,babelPluginTransformSpread,typesJsesc,looseEnvify,gruntBrowserify,gruntKarma,async,csvParse,babelPluginSyntaxAsyncGenerators){\\nconst { integration: {getDsWithSavedBlankSite}\\n} = require('@wix/bolt-ds-testkit/src/index') describe('siteMetadata', function () { describe('generalInfo', function () { it('should get revision', async () => { const documentServices = await getDsWithSavedBlankSite() const {adapter} = documentServices const {ps} = adapter const revisionPointer = ps.pointers.metadata.getSiteMetaDataPointer('SITE_REVISION') ps.dal.full.set(revisionPointer, 1) expect(documentServices.generalInfo.getRevision()).toBe(1) ps.dal.full.set(revisionPointer, 2) expect(documentServices.generalInfo.getRevision()).toBe(2) }) it('should get branchId', async () => { const documentServices = await getDsWithSavedBlankSite() const {adapter} = documentServices const {ps} = adapter const branchIdPointer = ps.pointers.metadata.getSiteMetaDataPointer('BRANCH_ID') ps.dal.full.set(branchIdPointer, 'FAKE-BRANCH-ID-1') expect(documentServices.generalInfo.getBranchId()).toBe('FAKE-BRANCH-ID-1') ps.dal.full.set(branchIdPointer, 'FAKE-BRANCH-ID-2') expect(documentServices.generalInfo.getBranchId()).toBe('FAKE-BRANCH-ID-2') }) })\\n})\\n\\n})\\n####","completion":" import typesSemver from '@types/semver'\\nimport once from 'once'\\nimport benchmark from 'benchmark'\\nimport babelPluginTransformSpread from '@babel/plugin-transform-spread'\\nimport typesJsesc from '@types/jsesc'\\nimport looseEnvify from 'loose-envify'\\nimport gruntBrowserify from 'grunt-browserify'\\nimport gruntKarma from 'grunt-karma'\\nimport async from 'async'\\nimport csvParse from 'csv-parse'\\nimport babelPluginSyntaxAsyncGenerators from '@babel/plugin-syntax-async-generators'\\n\\nconst { integration: {getDsWithSavedBlankSite}\\n} = require('@wix/bolt-ds-testkit/src/index') describe('siteMetadata', function () { describe('generalInfo', function () { it('should get revision', async () => { const documentServices = await getDsWithSavedBlankSite() const {adapter} = documentServices const {ps} = adapter const revisionPointer = ps.pointers.metadata.getSiteMetaDataPointer('SITE_REVISION') ps.dal.full.set(revisionPointer, 1) expect(documentServices.generalInfo.getRevision()).toBe(1) ps.dal.full.set(revisionPointer, 2) expect(documentServices.generalInfo.getRevision()).toBe(2) }) it('should get branchId', async () => { const documentServices = await getDsWithSavedBlankSite() const {adapter} = documentServices const {ps} = adapter const branchIdPointer = ps.pointers.metadata.getSiteMetaDataPointer('BRANCH_ID') ps.dal.full.set(branchIdPointer, 'FAKE-BRANCH-ID-1') expect(documentServices.generalInfo.getBranchId()).toBe('FAKE-BRANCH-ID-1') ps.dal.full.set(branchIdPointer, 'FAKE-BRANCH-ID-2') expect(documentServices.generalInfo.getBranchId()).toBe('FAKE-BRANCH-ID-2') }) })\\n})\\n\\n####"}
{"prompt":"define(['eslint-config-babel','standard','kcd-scripts','standard-markdown','grunt-banner','@wessberg/rollup-plugin-ts','is-callable','postcss-merge-longhand','object.getownpropertydescriptors','@babel/template','timsort'], function(eslintConfigBabel,standard,kcdScripts,standardMarkdown,gruntBanner,wessbergRollupPluginTs,isCallable,postcssMergeLonghand,objectGetownpropertydescriptors,babelTemplate,timsort){\\nimport React from 'react';\\nimport PropTypes from 'prop-types'; export default function I18nify(Component) { class I18nifyWrapper extends React.Component { constructor(props, context) { super(props, context); } isStateless() { return !Component.prototype || !Component.prototype.render; } render() { const refProp = this.isStateless() ? {} : { ref: 'component' }; return ( <Component {...this.props} i18n={this.context.i18n} numberFormatUtils={this.context.numberFormatUtils} availabilityPrinter={this.context.availabilityPrinter} moment={this.context.moment} {...refProp} /> ); } } I18nifyWrapper.displayName = 'I18nifyWrapper(' + (Component.displayName || 'Component') + ')'; I18nifyWrapper.contextTypes = { i18n: PropTypes.object, numberFormatUtils: PropTypes.object, availabilityPrinter: PropTypes.object, moment: PropTypes.func }; return I18nifyWrapper;\\n}\\n\\n})\\n####","completion":" import eslintConfigBabel from 'eslint-config-babel'\\nimport standard from 'standard'\\nimport kcdScripts from 'kcd-scripts'\\nimport standardMarkdown from 'standard-markdown'\\nimport gruntBanner from 'grunt-banner'\\nimport wessbergRollupPluginTs from '@wessberg/rollup-plugin-ts'\\nimport isCallable from 'is-callable'\\nimport postcssMergeLonghand from 'postcss-merge-longhand'\\nimport objectGetownpropertydescriptors from 'object.getownpropertydescriptors'\\nimport babelTemplate from '@babel/template'\\nimport timsort from 'timsort'\\n\\nimport React from 'react';\\nimport PropTypes from 'prop-types'; export default function I18nify(Component) { class I18nifyWrapper extends React.Component { constructor(props, context) { super(props, context); } isStateless() { return !Component.prototype || !Component.prototype.render; } render() { const refProp = this.isStateless() ? {} : { ref: 'component' }; return ( <Component {...this.props} i18n={this.context.i18n} numberFormatUtils={this.context.numberFormatUtils} availabilityPrinter={this.context.availabilityPrinter} moment={this.context.moment} {...refProp} /> ); } } I18nifyWrapper.displayName = 'I18nifyWrapper(' + (Component.displayName || 'Component') + ')'; I18nifyWrapper.contextTypes = { i18n: PropTypes.object, numberFormatUtils: PropTypes.object, availabilityPrinter: PropTypes.object, moment: PropTypes.func }; return I18nifyWrapper;\\n}\\n\\n####"}
{"prompt":"define(['escomplex-js','node-gyp','@types/progress','pre-commit','css-declaration-sorter','qunitjs','long'], function(escomplexJs,nodeGyp,typesProgress,preCommit,cssDeclarationSorter,qunitjs,long){\\nimport {expect} from 'chai'\\nimport {buildGoogleMapsUrl, buildLocalizedGoogleMapsUrl} from '../src/GoogleMapsUtils' describe('GoogleMapsUtils', () => { describe('buildGoogleMapsUrl', () => { it('correctly builds a bare Google Maps URL', () => { expect(buildGoogleMapsUrl()).to.equal('https://maps.google.com/') }) it('correctly builds a Google Maps URL with parameters', () => { expect(buildGoogleMapsUrl({param1: 'value1', param2: 'value2'})).to.equal('https://maps.google.com/?param1=value1&param2=value2') }) }) describe('buildLocalizedGoogleMapsUrl', () => { const i18n = { getGoogleLanguage: () => 'someLangauge' } it('correctly builds a bare localized Google Maps URL', () => { expect(buildLocalizedGoogleMapsUrl(i18n)).to.equal('https://maps.google.com/?hl=someLangauge') }) it('correctly builds a localized Google Maps URL with parameters', () => { expect(buildLocalizedGoogleMapsUrl(i18n, {param1: 'value1', param2: 'value2'})).to.equal('https://maps.google.com/?hl=someLangauge&param1=value1&param2=value2') }) it('supports overriding the locale', () => { expect(buildLocalizedGoogleMapsUrl(i18n, {hl: 'someOtherGoogleMapsLanguage'})).to.equal('https://maps.google.com/?hl=someOtherGoogleMapsLanguage') }) })\\n})\\n\\n})\\n####","completion":" import escomplexJs from 'escomplex-js'\\nimport nodeGyp from 'node-gyp'\\nimport typesProgress from '@types/progress'\\nimport preCommit from 'pre-commit'\\nimport cssDeclarationSorter from 'css-declaration-sorter'\\nimport qunitjs from 'qunitjs'\\nimport long from 'long'\\n\\nimport {expect} from 'chai'\\nimport {buildGoogleMapsUrl, buildLocalizedGoogleMapsUrl} from '../src/GoogleMapsUtils' describe('GoogleMapsUtils', () => { describe('buildGoogleMapsUrl', () => { it('correctly builds a bare Google Maps URL', () => { expect(buildGoogleMapsUrl()).to.equal('https://maps.google.com/') }) it('correctly builds a Google Maps URL with parameters', () => { expect(buildGoogleMapsUrl({param1: 'value1', param2: 'value2'})).to.equal('https://maps.google.com/?param1=value1&param2=value2') }) }) describe('buildLocalizedGoogleMapsUrl', () => { const i18n = { getGoogleLanguage: () => 'someLangauge' } it('correctly builds a bare localized Google Maps URL', () => { expect(buildLocalizedGoogleMapsUrl(i18n)).to.equal('https://maps.google.com/?hl=someLangauge') }) it('correctly builds a localized Google Maps URL with parameters', () => { expect(buildLocalizedGoogleMapsUrl(i18n, {param1: 'value1', param2: 'value2'})).to.equal('https://maps.google.com/?hl=someLangauge&param1=value1&param2=value2') }) it('supports overriding the locale', () => { expect(buildLocalizedGoogleMapsUrl(i18n, {hl: 'someOtherGoogleMapsLanguage'})).to.equal('https://maps.google.com/?hl=someOtherGoogleMapsLanguage') }) })\\n})\\n\\n####"}
{"prompt":"define(['@babel/core-7.12'], function(babelCore712){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.wix.com/demone2/hiphop-artist (44)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/hiphop-artist', emulateMobileDevice: true, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/44-hiphop-artist/anchors/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import babelCore712 from '@babel/core-7.12'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.wix.com/demone2/hiphop-artist (44)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/hiphop-artist', emulateMobileDevice: true, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/44-hiphop-artist/anchors/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['idb','babel-plugin-dynamic-import-node','node-releases','core-js-pure','type-fest','nullthrows','@parcel/hash','@babel/plugin-transform-spread','fs.realpath','parse-json','relateurl','caniuse-lite','esm','jscodeshift','run-sequence'], function(idb,babelPluginDynamicImportNode,nodeReleases,coreJsPure,typeFest,nullthrows,parcelHash,babelPluginTransformSpread,fsRealpath,parseJson,relateurl,caniuseLite,esm,jscodeshift,runSequence){\\nimport PropTypes from 'prop-types';\\nimport React from 'react';\\nimport * as WixRestBI from '@wix/wixrest-bi';\\nimport * as UI from '@wix/restaurants-components/lib/editor-ui-lib/editor-ui-lib';\\nimport SettingsSection from './index';\\nimport SettingsOption from './SettingsOption'; export default WixRestBI.redux.decorators.bidispatcher(class extends React.Component { static propTypes = { featureToggles: PropTypes.object, links: PropTypes.array.isRequired, settingsActions: PropTypes.object.isRequired, socialBarSettings: PropTypes.object.isRequired }; render() { const {settingsActions, socialBarSettings, links, biActions, featureToggles} = this.props; return (<SettingsSection settingsActions={settingsActions} socialBarSettings={socialBarSettings} links={links} biActions={biActions} Button={UI.button} SettingsOption={SettingsOption} SortByDragList={UI.sortByDragList} featureToggles={featureToggles}/>); }\\n});\\n\\n})\\n####","completion":" import idb from 'idb'\\nimport babelPluginDynamicImportNode from 'babel-plugin-dynamic-import-node'\\nimport nodeReleases from 'node-releases'\\nimport coreJsPure from 'core-js-pure'\\nimport typeFest from 'type-fest'\\nimport nullthrows from 'nullthrows'\\nimport parcelHash from '@parcel/hash'\\nimport babelPluginTransformSpread from '@babel/plugin-transform-spread'\\nimport fsRealpath from 'fs.realpath'\\nimport parseJson from 'parse-json'\\nimport relateurl from 'relateurl'\\nimport caniuseLite from 'caniuse-lite'\\nimport esm from 'esm'\\nimport jscodeshift from 'jscodeshift'\\nimport runSequence from 'run-sequence'\\n\\nimport PropTypes from 'prop-types';\\nimport React from 'react';\\nimport * as WixRestBI from '@wix/wixrest-bi';\\nimport * as UI from '@wix/restaurants-components/lib/editor-ui-lib/editor-ui-lib';\\nimport SettingsSection from './index';\\nimport SettingsOption from './SettingsOption'; export default WixRestBI.redux.decorators.bidispatcher(class extends React.Component { static propTypes = { featureToggles: PropTypes.object, links: PropTypes.array.isRequired, settingsActions: PropTypes.object.isRequired, socialBarSettings: PropTypes.object.isRequired }; render() { const {settingsActions, socialBarSettings, links, biActions, featureToggles} = this.props; return (<SettingsSection settingsActions={settingsActions} socialBarSettings={socialBarSettings} links={links} biActions={biActions} Button={UI.button} SettingsOption={SettingsOption} SortByDragList={UI.sortByDragList} featureToggles={featureToggles}/>); }\\n});\\n\\n####"}
{"prompt":"define(['@babel/plugin-syntax-dynamic-import','@parcel/plugin','require-ini','auto-changelog','d3-random','make-async-function','make-async-generator-function','@bazel/bazelisk','is-symbol','eslint-plugin-jsx-a11y','htmlparser2','in-publish','parted','fast-json-stable-stringify','d3-interpolate','npm-normalize-package-bin','@my-scope/package-b','http-server'], function(babelPluginSyntaxDynamicImport,parcelPlugin,requireIni,autoChangelog,d3Random,makeAsyncFunction,makeAsyncGeneratorFunction,bazelBazelisk,isSymbol,eslintPluginJsxA11Y,htmlparser2,inPublish,parted,fastJsonStableStringify,d3Interpolate,npmNormalizePackageBin,myScopePackageB,httpServer){\\n'use strict' const PAGES_TREE = 'data-aid=\\\"pages-tree\\\"'\\nconst FILES_TREE = 'data-aid=\\\"files-tree\\\"'\\nconst NPM_PACKAGES_TREE = 'data-aid=\\\"npm-packages-tree\\\"'\\nconst COLLECTIONS_TREE = 'data-aid=\\\"collections-tree\\\"'\\nconst APPS = 'data-aid=\\\"packages-view\\\"'\\nclass LeftPane { constructor(editorFrame) { this.editorFrame = editorFrame } async waitForLeftPane() { await this.editorFrame.waitFor('[data-aid=wix-code-left-pane]') return true } async isVisible() { const leftPane = await this.editorFrame.$('[data-aid=wix-code-left-pane]') return !!leftPane } async isIdeTreePartVisible(part) { let partSelector = '' switch (part) { case 'pages': partSelector = PAGES_TREE break case 'files': partSelector = FILES_TREE break case 'packages': partSelector = NPM_PACKAGES_TREE break case 'collections': partSelector = COLLECTIONS_TREE break case 'apps': partSelector = APPS break default: break } if (partSelector) { const partElement = await this.editorFrame.$('[data-aid=wix-code-left-pane]') return !!partElement } return false }\\n} module.exports = LeftPane\\n})\\n####","completion":" import babelPluginSyntaxDynamicImport from '@babel/plugin-syntax-dynamic-import'\\nimport parcelPlugin from '@parcel/plugin'\\nimport requireIni from 'require-ini'\\nimport autoChangelog from 'auto-changelog'\\nimport d3Random from 'd3-random'\\nimport makeAsyncFunction from 'make-async-function'\\nimport makeAsyncGeneratorFunction from 'make-async-generator-function'\\nimport bazelBazelisk from '@bazel/bazelisk'\\nimport isSymbol from 'is-symbol'\\nimport eslintPluginJsxA11Y from 'eslint-plugin-jsx-a11y'\\nimport htmlparser2 from 'htmlparser2'\\nimport inPublish from 'in-publish'\\nimport parted from 'parted'\\nimport fastJsonStableStringify from 'fast-json-stable-stringify'\\nimport d3Interpolate from 'd3-interpolate'\\nimport npmNormalizePackageBin from 'npm-normalize-package-bin'\\nimport myScopePackageB from '@my-scope/package-b'\\nimport httpServer from 'http-server'\\n\\n'use strict' const PAGES_TREE = 'data-aid=\\\"pages-tree\\\"'\\nconst FILES_TREE = 'data-aid=\\\"files-tree\\\"'\\nconst NPM_PACKAGES_TREE = 'data-aid=\\\"npm-packages-tree\\\"'\\nconst COLLECTIONS_TREE = 'data-aid=\\\"collections-tree\\\"'\\nconst APPS = 'data-aid=\\\"packages-view\\\"'\\nclass LeftPane { constructor(editorFrame) { this.editorFrame = editorFrame } async waitForLeftPane() { await this.editorFrame.waitFor('[data-aid=wix-code-left-pane]') return true } async isVisible() { const leftPane = await this.editorFrame.$('[data-aid=wix-code-left-pane]') return !!leftPane } async isIdeTreePartVisible(part) { let partSelector = '' switch (part) { case 'pages': partSelector = PAGES_TREE break case 'files': partSelector = FILES_TREE break case 'packages': partSelector = NPM_PACKAGES_TREE break case 'collections': partSelector = COLLECTIONS_TREE break case 'apps': partSelector = APPS break default: break } if (partSelector) { const partElement = await this.editorFrame.$('[data-aid=wix-code-left-pane]') return !!partElement } return false }\\n} module.exports = LeftPane\\n####"}
{"prompt":"define(['babel-plugin-polyfill-corejs2','fast-json-stable-stringify','broccoli-rollup','@types/graceful-fs','@nuxtjs/eslint-config','brfs','eslint-config-ostai','better-assert','babel-loader','require-xml','iconv-lite','code-point-at','postcss-merge-rules','sprintf-js','core-js-compat','babel-plugin-react-require','node-tick-processor','open','ajv'], function(babelPluginPolyfillCorejs2,fastJsonStableStringify,broccoliRollup,typesGracefulFs,nuxtjsEslintConfig,brfs,eslintConfigOstai,betterAssert,babelLoader,requireXml,iconvLite,codePointAt,postcssMergeRules,sprintfJs,coreJsCompat,babelPluginReactRequire,nodeTickProcessor,open,ajv){\\n'use strict'\\nconst {withDocumentServices} = require('../../../../testkit')\\nconst SITE_WIDTH = 980\\nconst viewport = {width: 1000, height: 600}\\ndescribe('component inside a container with contentArea', () => { describe('left position', () => { // component in page --> anchors / mesh async function testComponentInPage(site, components) { const buttonLayout = {x: 10, y: 20, width: 120, height: 48} const button = await site.addComponent(components.SiteButton, {layout: buttonLayout}) const expectedLeft = (viewport.width - SITE_WIDTH) * 0.5 + buttonLayout.x // = 20 const buttonLeft = await site.viewerFrame.evaluate(id => window.document.querySelector(`#${id}`).getBoundingClientRect().left, button.id) expect(buttonLeft).toBe(expectedLeft, 'should have left position calculated according to siteWidth') } test( 'should be correct for component in page when layoutMechanism = anchors', withDocumentServices({viewport}, ({site, components}) => testComponentInPage(site, components)) ) test( 'should be correct for component in page when layoutMechanism = mesh', withDocumentServices({viewport, queryParams: {layoutMechanism: 'mesh'}}, ({site, components}) => testComponentInPage(site, components)) ) })\\n})\\n\\n})\\n####","completion":" import babelPluginPolyfillCorejs2 from 'babel-plugin-polyfill-corejs2'\\nimport fastJsonStableStringify from 'fast-json-stable-stringify'\\nimport broccoliRollup from 'broccoli-rollup'\\nimport typesGracefulFs from '@types/graceful-fs'\\nimport nuxtjsEslintConfig from '@nuxtjs/eslint-config'\\nimport brfs from 'brfs'\\nimport eslintConfigOstai from 'eslint-config-ostai'\\nimport betterAssert from 'better-assert'\\nimport babelLoader from 'babel-loader'\\nimport requireXml from 'require-xml'\\nimport iconvLite from 'iconv-lite'\\nimport codePointAt from 'code-point-at'\\nimport postcssMergeRules from 'postcss-merge-rules'\\nimport sprintfJs from 'sprintf-js'\\nimport coreJsCompat from 'core-js-compat'\\nimport babelPluginReactRequire from 'babel-plugin-react-require'\\nimport nodeTickProcessor from 'node-tick-processor'\\nimport open from 'open'\\nimport ajv from 'ajv'\\n\\n'use strict'\\nconst {withDocumentServices} = require('../../../../testkit')\\nconst SITE_WIDTH = 980\\nconst viewport = {width: 1000, height: 600}\\ndescribe('component inside a container with contentArea', () => { describe('left position', () => { // component in page --> anchors / mesh async function testComponentInPage(site, components) { const buttonLayout = {x: 10, y: 20, width: 120, height: 48} const button = await site.addComponent(components.SiteButton, {layout: buttonLayout}) const expectedLeft = (viewport.width - SITE_WIDTH) * 0.5 + buttonLayout.x // = 20 const buttonLeft = await site.viewerFrame.evaluate(id => window.document.querySelector(`#${id}`).getBoundingClientRect().left, button.id) expect(buttonLeft).toBe(expectedLeft, 'should have left position calculated according to siteWidth') } test( 'should be correct for component in page when layoutMechanism = anchors', withDocumentServices({viewport}, ({site, components}) => testComponentInPage(site, components)) ) test( 'should be correct for component in page when layoutMechanism = mesh', withDocumentServices({viewport, queryParams: {layoutMechanism: 'mesh'}}, ({site, components}) => testComponentInPage(site, components)) ) })\\n})\\n\\n####"}
{"prompt":"define(['postcss-reduce-initial','@babel/plugin-transform-property-literals','rollup-plugin-terser','postcss-unique-selectors','regjsgen','grunt-contrib-watch','@babel/plugin-syntax-async-generators','abortcontroller-polyfill','@babel/plugin-transform-typeof-symbol','@types/d3-selection','foreach','d3-dispatch'], function(postcssReduceInitial,babelPluginTransformPropertyLiterals,rollupPluginTerser,postcssUniqueSelectors,regjsgen,gruntContribWatch,babelPluginSyntaxAsyncGenerators,abortcontrollerPolyfill,babelPluginTransformTypeofSymbol,typesD3Selection,foreach,d3Dispatch){\\ndefine([ 'test/mockJasmine/privateServicesHelper', 'documentServices/tpa/core', 'documentServices/tpa/services/clientSpecMapService', 'documentServices/tpa/services/experimentService'\\n], function (privateServicesHelper, tpaCore, clientSpecMapService, experimentService) { 'use strict' describe('initEditor', function () { let mockPs //, isSiteSavedMock; beforeEach(async function () { mockPs = await privateServicesHelper.mockPrivateServicesWithRealDAL() //isSiteSavedMock = spyOn(tpaUtils, 'isSiteSaved'); spyOn(experimentService, 'setExperiments') spyOn(clientSpecMapService, 'setIsInDevMode') }) it('should set clientSpecMapService dev mode', function () { tpaCore.initEditor(mockPs, true) expect(clientSpecMapService.setIsInDevMode).toHaveBeenCalledWith(true) }) it('should set experimentService w/ given experiments', function () { const experiments = { foo: 'bar' } tpaCore.initEditor(mockPs, true, experiments) expect(experimentService.setExperiments).toHaveBeenCalledWith(experiments) }) })\\n})\\n\\n})\\n####","completion":" import postcssReduceInitial from 'postcss-reduce-initial'\\nimport babelPluginTransformPropertyLiterals from '@babel/plugin-transform-property-literals'\\nimport rollupPluginTerser from 'rollup-plugin-terser'\\nimport postcssUniqueSelectors from 'postcss-unique-selectors'\\nimport regjsgen from 'regjsgen'\\nimport gruntContribWatch from 'grunt-contrib-watch'\\nimport babelPluginSyntaxAsyncGenerators from '@babel/plugin-syntax-async-generators'\\nimport abortcontrollerPolyfill from 'abortcontroller-polyfill'\\nimport babelPluginTransformTypeofSymbol from '@babel/plugin-transform-typeof-symbol'\\nimport typesD3Selection from '@types/d3-selection'\\nimport foreach from 'foreach'\\nimport d3Dispatch from 'd3-dispatch'\\n\\ndefine([ 'test/mockJasmine/privateServicesHelper', 'documentServices/tpa/core', 'documentServices/tpa/services/clientSpecMapService', 'documentServices/tpa/services/experimentService'\\n], function (privateServicesHelper, tpaCore, clientSpecMapService, experimentService) { 'use strict' describe('initEditor', function () { let mockPs //, isSiteSavedMock; beforeEach(async function () { mockPs = await privateServicesHelper.mockPrivateServicesWithRealDAL() //isSiteSavedMock = spyOn(tpaUtils, 'isSiteSaved'); spyOn(experimentService, 'setExperiments') spyOn(clientSpecMapService, 'setIsInDevMode') }) it('should set clientSpecMapService dev mode', function () { tpaCore.initEditor(mockPs, true) expect(clientSpecMapService.setIsInDevMode).toHaveBeenCalledWith(true) }) it('should set experimentService w/ given experiments', function () { const experiments = { foo: 'bar' } tpaCore.initEditor(mockPs, true, experiments) expect(experimentService.setExperiments).toHaveBeenCalledWith(experiments) }) })\\n})\\n\\n####"}
{"prompt":"define(['path-exists','istanbul-coveralls','eslint-config-gulp','@babel/helper-validator-identifier','delayed-stream','broccoli-concat','google-protobuf','typescript','object.getownpropertydescriptors','eslint-config-mourner','gulp-filter','d3-quadtree','topojson-client'], function(pathExists,istanbulCoveralls,eslintConfigGulp,babelHelperValidatorIdentifier,delayedStream,broccoliConcat,googleProtobuf,typescript,objectGetownpropertydescriptors,eslintConfigMourner,gulpFilter,d3Quadtree,topojsonClient){\\nimport React from 'react';\\nimport styles from './LayoutSelector.icss';\\nimport HorizontalLayout from './HorizontalLayout';\\nimport VerticalLayout from './VerticalLayout'; export default class LayoutSelector extends React.Component { constructor(props) { super(props); this._onClick = this._onClick.bind(this); this._selectHorizontal = this._selectHorizontal.bind(this); this._selectVertical = this._selectVertical.bind(this); } static displayName = 'LayoutSelector' static propTypes = { layout: React.PropTypes.number.isRequired, onClick: React.PropTypes.func, className: React.PropTypes.string } static defaultProps = { onClick: () => {}, className: '' } render() { const { layout, className } = this.props; return ( <div className={styles.wrapper + ' ' + className}> <div onClick={this._selectHorizontal}><HorizontalLayout isSelected={layout === 1} /></div> <div onClick={this._selectVertical}><VerticalLayout isSelected={layout === 0} /></div> </div> ); } _selectVertical() { this._onClick(0); } _selectHorizontal() { this._onClick(1); } _onClick(layout) { this.props.onClick(layout); }\\n}\\n\\n})\\n####","completion":" import pathExists from 'path-exists'\\nimport istanbulCoveralls from 'istanbul-coveralls'\\nimport eslintConfigGulp from 'eslint-config-gulp'\\nimport babelHelperValidatorIdentifier from '@babel/helper-validator-identifier'\\nimport delayedStream from 'delayed-stream'\\nimport broccoliConcat from 'broccoli-concat'\\nimport googleProtobuf from 'google-protobuf'\\nimport typescript from 'typescript'\\nimport objectGetownpropertydescriptors from 'object.getownpropertydescriptors'\\nimport eslintConfigMourner from 'eslint-config-mourner'\\nimport gulpFilter from 'gulp-filter'\\nimport d3Quadtree from 'd3-quadtree'\\nimport topojsonClient from 'topojson-client'\\n\\nimport React from 'react';\\nimport styles from './LayoutSelector.icss';\\nimport HorizontalLayout from './HorizontalLayout';\\nimport VerticalLayout from './VerticalLayout'; export default class LayoutSelector extends React.Component { constructor(props) { super(props); this._onClick = this._onClick.bind(this); this._selectHorizontal = this._selectHorizontal.bind(this); this._selectVertical = this._selectVertical.bind(this); } static displayName = 'LayoutSelector' static propTypes = { layout: React.PropTypes.number.isRequired, onClick: React.PropTypes.func, className: React.PropTypes.string } static defaultProps = { onClick: () => {}, className: '' } render() { const { layout, className } = this.props; return ( <div className={styles.wrapper + ' ' + className}> <div onClick={this._selectHorizontal}><HorizontalLayout isSelected={layout === 1} /></div> <div onClick={this._selectVertical}><VerticalLayout isSelected={layout === 0} /></div> </div> ); } _selectVertical() { this._onClick(0); } _selectHorizontal() { this._onClick(1); } _onClick(layout) { this.props.onClick(layout); }\\n}\\n\\n####"}
{"prompt":"define(['tty-browserify','@bazel/ibazel','gauge','lint-staged','@babel/plugin-transform-unicode-regex','tar-fs','vega','@swc/core','babel-plugin-transform-es2015-shorthand-properties','babel-preset-react','universalify','@mdn/browser-compat-data'], function(ttyBrowserify,bazelIbazel,gauge,lintStaged,babelPluginTransformUnicodeRegex,tarFs,vega,swcCore,babelPluginTransformEs2015ShorthandProperties,babelPresetReact,universalify,mdnBrowserCompatData){\\nimport * as OrganizationActions from '../actions/OrganizationActions';\\nimport _ from 'lodash';\\nimport Properties from '@wix/wixrest-properties';\\nimport OPU from '@wix/wixrest-utils/dist/Properties'; let INITIAL_STATE = { organization:null, topLevelOrganization:null, newOrganization:false\\n}; const HANDLERS = { [OrganizationActions.types.ORGANIZATION_LOAD] : (payload, state) => { const {organization, isOriginOrg} = payload; const newOrganization = organization.title[organization.locale] === '[new]'; return { ...state, organization : migrateOrganization(organization), newOrganization : newOrganization, topLevelOrganization: state.topLevelOrganization || migrateOrganization(organization), isOriginOrg }; }\\n}; export default function(state = INITIAL_STATE, action = {}) { let handler = HANDLERS[action.type] || (() => state); return handler(action.payload, state);\\n} /** * Various organization migration tools */\\nfunction migrateOrganization(organization) { const migrated = _.cloneDeep(organization); if (!migrated.media) { migrated.media = {}; } if ((migrated.type === 'restaurant') && ((migrated.deliveryInfos || []).length === 0)) { migrated.deliveryInfos = [{type:'takeout', delayMins:15, inactive: true}]; } return migrated;\\n}\\n\\n})\\n####","completion":" import ttyBrowserify from 'tty-browserify'\\nimport bazelIbazel from '@bazel/ibazel'\\nimport gauge from 'gauge'\\nimport lintStaged from 'lint-staged'\\nimport babelPluginTransformUnicodeRegex from '@babel/plugin-transform-unicode-regex'\\nimport tarFs from 'tar-fs'\\nimport vega from 'vega'\\nimport swcCore from '@swc/core'\\nimport babelPluginTransformEs2015ShorthandProperties from 'babel-plugin-transform-es2015-shorthand-properties'\\nimport babelPresetReact from 'babel-preset-react'\\nimport universalify from 'universalify'\\nimport mdnBrowserCompatData from '@mdn/browser-compat-data'\\n\\nimport * as OrganizationActions from '../actions/OrganizationActions';\\nimport _ from 'lodash';\\nimport Properties from '@wix/wixrest-properties';\\nimport OPU from '@wix/wixrest-utils/dist/Properties'; let INITIAL_STATE = { organization:null, topLevelOrganization:null, newOrganization:false\\n}; const HANDLERS = { [OrganizationActions.types.ORGANIZATION_LOAD] : (payload, state) => { const {organization, isOriginOrg} = payload; const newOrganization = organization.title[organization.locale] === '[new]'; return { ...state, organization : migrateOrganization(organization), newOrganization : newOrganization, topLevelOrganization: state.topLevelOrganization || migrateOrganization(organization), isOriginOrg }; }\\n}; export default function(state = INITIAL_STATE, action = {}) { let handler = HANDLERS[action.type] || (() => state); return handler(action.payload, state);\\n} /** * Various organization migration tools */\\nfunction migrateOrganization(organization) { const migrated = _.cloneDeep(organization); if (!migrated.media) { migrated.media = {}; } if ((migrated.type === 'restaurant') && ((migrated.deliveryInfos || []).length === 0)) { migrated.deliveryInfos = [{type:'takeout', delayMins:15, inactive: true}]; } return migrated;\\n}\\n\\n####"}
{"prompt":"define(['tar','babel-plugin-transform-es2015-spread','airtap','csv-spectrum','semantic-release','path-exists','@babel/plugin-proposal-async-generator-functions','grunt-banner','@parcel/cache'], function(tar,babelPluginTransformEs2015Spread,airtap,csvSpectrum,semanticRelease,pathExists,babelPluginProposalAsyncGeneratorFunctions,gruntBanner,parcelCache){\\ndefine(['documentServices/saveAPI/saveDataFixer/plugins/platformAppsSaveDataFixer', '@wix/santa-ds-libs/src/coreUtils'], function ( platformAppsSaveDataFixer, coreUtils\\n) { 'use strict' const plugins = [ platformAppsSaveDataFixer /* STOP! If you are adding a save-data-fixer that means that you have a bug during the editing session. Please fix the bug and don't patch it here. AUTOSAVE DOESN'T GO THROUGH THIS CODE - so you have to make sure the data in the snapshots is always correct and ready to be saved. */ ] /** * * @param {{component_properties:object, document_data:object, theme_data:object}} dataToSave * @param args * @param fixerPlugins * @returns {*} */ function fixDataInternal(dataToSave, args, fixerPlugins) { coreUtils.loggingUtils.performance.start(coreUtils.loggingUtils.performanceMetrics.SAVE.SAVE_DATA_FIXER) fixerPlugins.forEach(function (plugin) { plugin.exec(dataToSave, args) }) coreUtils.loggingUtils.performance.start(coreUtils.loggingUtils.performanceMetrics.SAVE.SAVE_DATA_FIXER) return dataToSave } /** * @exports utils/saveDataFixer/saveDataFixer */ const exports = { fixData: (dataToSave, args) => fixDataInternal(dataToSave, args, plugins) } return exports\\n})\\n\\n})\\n####","completion":" import tar from 'tar'\\nimport babelPluginTransformEs2015Spread from 'babel-plugin-transform-es2015-spread'\\nimport airtap from 'airtap'\\nimport csvSpectrum from 'csv-spectrum'\\nimport semanticRelease from 'semantic-release'\\nimport pathExists from 'path-exists'\\nimport babelPluginProposalAsyncGeneratorFunctions from '@babel/plugin-proposal-async-generator-functions'\\nimport gruntBanner from 'grunt-banner'\\nimport parcelCache from '@parcel/cache'\\n\\ndefine(['documentServices/saveAPI/saveDataFixer/plugins/platformAppsSaveDataFixer', '@wix/santa-ds-libs/src/coreUtils'], function ( platformAppsSaveDataFixer, coreUtils\\n) { 'use strict' const plugins = [ platformAppsSaveDataFixer /* STOP! If you are adding a save-data-fixer that means that you have a bug during the editing session. Please fix the bug and don't patch it here. AUTOSAVE DOESN'T GO THROUGH THIS CODE - so you have to make sure the data in the snapshots is always correct and ready to be saved. */ ] /** * * @param {{component_properties:object, document_data:object, theme_data:object}} dataToSave * @param args * @param fixerPlugins * @returns {*} */ function fixDataInternal(dataToSave, args, fixerPlugins) { coreUtils.loggingUtils.performance.start(coreUtils.loggingUtils.performanceMetrics.SAVE.SAVE_DATA_FIXER) fixerPlugins.forEach(function (plugin) { plugin.exec(dataToSave, args) }) coreUtils.loggingUtils.performance.start(coreUtils.loggingUtils.performanceMetrics.SAVE.SAVE_DATA_FIXER) return dataToSave } /** * @exports utils/saveDataFixer/saveDataFixer */ const exports = { fixData: (dataToSave, args) => fixDataInternal(dataToSave, args, plugins) } return exports\\n})\\n\\n####"}
{"prompt":"define(['core-js-compat','@jridgewell/resolve-uri','@babel/plugin-syntax-import-assertions','mdn-data','levn','csv-parse','weak-map','locate-path','babel-preset-airbnb','through','babel-plugin-transform-es2015-spread'], function(coreJsCompat,jridgewellResolveUri,babelPluginSyntaxImportAssertions,mdnData,levn,csvParse,weakMap,locatePath,babelPresetAirbnb,through,babelPluginTransformEs2015Spread){\\nimport { bindActionCreators } from 'redux';\\nimport { clearCustomerSession, displayModal, goToSettings, hideModal, init, setFirstTime, sideMenuDisplay, goToMenus,\\n} from '../../stateManagement/engine/actions/SessionActions';\\nimport { cancelOrder } from '../../stateManagement/engine/actions/OrderActions';\\nimport { goTo } from '../../stateManagement/engine/actions/HistoryActions';\\nimport { connect } from 'react-redux';\\nimport Main from './Main'; function mapStateToProps(state) { return { step: state.session.step, user: state.session.user, msid: state.session.msid, organization: state.session.organization, menu: state.session.menu, lowResMenuShown: state.session.lowResMenuShown, modals: state.session.modals, simplifiedMenu: state.session.simplifiedMenu, emptyState: state.session.emptyState, isFirstTime: state.session.isFirstTime, };\\n} function mapDispatchToProps(dispatch, ownProps) { return bindActionCreators( { initSession: ownProps.initSession || init, sideMenuDisplay, cancelOrder, hideModal, clearCustomerSession, goTo, displayModal, setFirstTime, goToSettings, goToMenus, }, dispatch, );\\n} export default connect(mapStateToProps, mapDispatchToProps)(Main);\\n\\n})\\n####","completion":" import coreJsCompat from 'core-js-compat'\\nimport jridgewellResolveUri from '@jridgewell/resolve-uri'\\nimport babelPluginSyntaxImportAssertions from '@babel/plugin-syntax-import-assertions'\\nimport mdnData from 'mdn-data'\\nimport levn from 'levn'\\nimport csvParse from 'csv-parse'\\nimport weakMap from 'weak-map'\\nimport locatePath from 'locate-path'\\nimport babelPresetAirbnb from 'babel-preset-airbnb'\\nimport through from 'through'\\nimport babelPluginTransformEs2015Spread from 'babel-plugin-transform-es2015-spread'\\n\\nimport { bindActionCreators } from 'redux';\\nimport { clearCustomerSession, displayModal, goToSettings, hideModal, init, setFirstTime, sideMenuDisplay, goToMenus,\\n} from '../../stateManagement/engine/actions/SessionActions';\\nimport { cancelOrder } from '../../stateManagement/engine/actions/OrderActions';\\nimport { goTo } from '../../stateManagement/engine/actions/HistoryActions';\\nimport { connect } from 'react-redux';\\nimport Main from './Main'; function mapStateToProps(state) { return { step: state.session.step, user: state.session.user, msid: state.session.msid, organization: state.session.organization, menu: state.session.menu, lowResMenuShown: state.session.lowResMenuShown, modals: state.session.modals, simplifiedMenu: state.session.simplifiedMenu, emptyState: state.session.emptyState, isFirstTime: state.session.isFirstTime, };\\n} function mapDispatchToProps(dispatch, ownProps) { return bindActionCreators( { initSession: ownProps.initSession || init, sideMenuDisplay, cancelOrder, hideModal, clearCustomerSession, goTo, displayModal, setFirstTime, goToSettings, goToMenus, }, dispatch, );\\n} export default connect(mapStateToProps, mapDispatchToProps)(Main);\\n\\n####"}
{"prompt":"define(['tape','replace','function.prototype.name','parted','clone-deep','phantomjs','@types/shelljs'], function(tape,replace,functionPrototypeName,parted,cloneDeep,phantomjs,typesShelljs){\\n'use strict'\\nconst {expect} = require('chai')\\nconst makeDateTimeProvider = require('../src/dateTimeProvider') describe('date time provider', () => { const waitTime = 10 // subtracting 2 because sometimes setTimeout waits less than the given waitTime! const actualTimeWaited = waitTime - 2 it('should return the start time when the provider was created', done => { const dateTimeProvider = makeDateTimeProvider() const startTime = dateTimeProvider.start setTimeout(() => { expect(dateTimeProvider.start).to.equal(startTime) done() }, waitTime) }) it('should return the time now', done => { const dateTimeProvider = makeDateTimeProvider() const startTime = dateTimeProvider.start setTimeout(() => { expect(dateTimeProvider.now()).to.be.above(startTime + actualTimeWaited) done() }, waitTime) }) it('should return the elapsed time from start', done => { const dateTimeProvider = makeDateTimeProvider() setTimeout(() => { expect(dateTimeProvider.timeFromStart()).to.be.above(actualTimeWaited) done() }, waitTime) }) it('should return the given start time', () => { const givenStartTime = 100 const dateTimeProvider = makeDateTimeProvider(givenStartTime) expect(dateTimeProvider.start).to.equal(givenStartTime) })\\n})\\n\\n})\\n####","completion":" import tape from 'tape'\\nimport replace from 'replace'\\nimport functionPrototypeName from 'function.prototype.name'\\nimport parted from 'parted'\\nimport cloneDeep from 'clone-deep'\\nimport phantomjs from 'phantomjs'\\nimport typesShelljs from '@types/shelljs'\\n\\n'use strict'\\nconst {expect} = require('chai')\\nconst makeDateTimeProvider = require('../src/dateTimeProvider') describe('date time provider', () => { const waitTime = 10 // subtracting 2 because sometimes setTimeout waits less than the given waitTime! const actualTimeWaited = waitTime - 2 it('should return the start time when the provider was created', done => { const dateTimeProvider = makeDateTimeProvider() const startTime = dateTimeProvider.start setTimeout(() => { expect(dateTimeProvider.start).to.equal(startTime) done() }, waitTime) }) it('should return the time now', done => { const dateTimeProvider = makeDateTimeProvider() const startTime = dateTimeProvider.start setTimeout(() => { expect(dateTimeProvider.now()).to.be.above(startTime + actualTimeWaited) done() }, waitTime) }) it('should return the elapsed time from start', done => { const dateTimeProvider = makeDateTimeProvider() setTimeout(() => { expect(dateTimeProvider.timeFromStart()).to.be.above(actualTimeWaited) done() }, waitTime) }) it('should return the given start time', () => { const givenStartTime = 100 const dateTimeProvider = makeDateTimeProvider(givenStartTime) expect(dateTimeProvider.start).to.equal(givenStartTime) })\\n})\\n\\n####"}
{"prompt":"define(['semistandard','@babel/runtime-corejs3','abort-controller','string-to-arraybuffer','safe-publish-latest','@babel/plugin-syntax-private-property-in-object','@parcel/compressor-raw','native-promise-only','tty-browserify','karma-babel-preprocessor','deep-equal','eslint-config-babel','boolbase','fast-deep-equal','karma-firefox-launcher','@babel/helper-define-polyfill-provider','get-port','minimatch','make-async-generator-function'], function(semistandard,babelRuntimeCorejs3,abortController,stringToArraybuffer,safePublishLatest,babelPluginSyntaxPrivatePropertyInObject,parcelCompressorRaw,nativePromiseOnly,ttyBrowserify,karmaBabelPreprocessor,deepEqual,eslintConfigBabel,boolbase,fastDeepEqual,karmaFirefoxLauncher,babelHelperDefinePolyfillProvider,getPort,minimatch,makeAsyncGeneratorFunction){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://kfirg6.wixsite.com/pinned-form (59)', withViewer({ tpaInterceptor, baseUrl: 'https://kfirg6.wixsite.com/pinned-form', emulateMobileDevice: false, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/59-pinned-form-component/mesh/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import semistandard from 'semistandard'\\nimport babelRuntimeCorejs3 from '@babel/runtime-corejs3'\\nimport abortController from 'abort-controller'\\nimport stringToArraybuffer from 'string-to-arraybuffer'\\nimport safePublishLatest from 'safe-publish-latest'\\nimport babelPluginSyntaxPrivatePropertyInObject from '@babel/plugin-syntax-private-property-in-object'\\nimport parcelCompressorRaw from '@parcel/compressor-raw'\\nimport nativePromiseOnly from 'native-promise-only'\\nimport ttyBrowserify from 'tty-browserify'\\nimport karmaBabelPreprocessor from 'karma-babel-preprocessor'\\nimport deepEqual from 'deep-equal'\\nimport eslintConfigBabel from 'eslint-config-babel'\\nimport boolbase from 'boolbase'\\nimport fastDeepEqual from 'fast-deep-equal'\\nimport karmaFirefoxLauncher from 'karma-firefox-launcher'\\nimport babelHelperDefinePolyfillProvider from '@babel/helper-define-polyfill-provider'\\nimport getPort from 'get-port'\\nimport minimatch from 'minimatch'\\nimport makeAsyncGeneratorFunction from 'make-async-generator-function'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://kfirg6.wixsite.com/pinned-form (59)', withViewer({ tpaInterceptor, baseUrl: 'https://kfirg6.wixsite.com/pinned-form', emulateMobileDevice: false, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/59-pinned-form-component/mesh/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['grunt-bowercopy','safer-buffer','inflight'], function(gruntBowercopy,saferBuffer,inflight){\\n'use strict'\\nconst {withDocumentServices} = require('../../../testkit')\\nconst eventually = require('@wix/wix-eventually').with({timeout: 5000}) const style = { skin: 'wysiwyg.viewer.skins.page.BasicPageSkin', style: {groups: {}, properties: {'alpha-bg': '1', bg: '#232323'}, propertiesSource: {'alpha-bg': 'value', bg: 'value'}}\\n} describe('Pages - Style and Skin', () => { test( 'New page with no style will get primary page style and skin', withDocumentServices({}, async ({site}) => { const pageDriver = await site.getCurrentPageDriver() await pageDriver.updateStyle(style) const pageStyle = await pageDriver.getStyle() let pageId = '' await eventually(async () => { pageId = await site.addNewPage('Page1') expect(pageId).toBeDefined() }) const newPageDriver = await site.createPageDriver(pageId) const newPageStyle = await newPageDriver.getStyle() expect(pageStyle.style).toEqual(newPageStyle.style) expect(pageStyle.skin).toEqual(newPageStyle.skin) }) )\\n})\\n\\n})\\n####","completion":" import gruntBowercopy from 'grunt-bowercopy'\\nimport saferBuffer from 'safer-buffer'\\nimport inflight from 'inflight'\\n\\n'use strict'\\nconst {withDocumentServices} = require('../../../testkit')\\nconst eventually = require('@wix/wix-eventually').with({timeout: 5000}) const style = { skin: 'wysiwyg.viewer.skins.page.BasicPageSkin', style: {groups: {}, properties: {'alpha-bg': '1', bg: '#232323'}, propertiesSource: {'alpha-bg': 'value', bg: 'value'}}\\n} describe('Pages - Style and Skin', () => { test( 'New page with no style will get primary page style and skin', withDocumentServices({}, async ({site}) => { const pageDriver = await site.getCurrentPageDriver() await pageDriver.updateStyle(style) const pageStyle = await pageDriver.getStyle() let pageId = '' await eventually(async () => { pageId = await site.addNewPage('Page1') expect(pageId).toBeDefined() }) const newPageDriver = await site.createPageDriver(pageId) const newPageStyle = await newPageDriver.getStyle() expect(pageStyle.style).toEqual(newPageStyle.style) expect(pageStyle.skin).toEqual(newPageStyle.skin) }) )\\n})\\n\\n####"}
{"prompt":"define(['minizlib','base64-js','grunt-mocha-test','esbuild-register','codecov','postcss-normalize-positions','is-core-module','babel-plugin-transform-es2015-template-literals','@babel/plugin-proposal-unicode-property-regex','babel-preset-airbnb','postcss-unique-selectors','@types/lodash'], function(minizlib,base64Js,gruntMochaTest,esbuildRegister,codecov,postcssNormalizePositions,isCoreModule,babelPluginTransformEs2015TemplateLiterals,babelPluginProposalUnicodePropertyRegex,babelPresetAirbnb,postcssUniqueSelectors,typesLodash){\\ndefine(['lodash', '@wix/santa-core-utils', 'layout'], function (_, santaCoreUtils, /** layout.layout*/ layout) { 'use strict' function measureAppWidget(id, measureMap, nodesMap, structureInfo, {isMobileView}) { const [child] = santaCoreUtils.dataUtils.getChildrenData(structureInfo.structure, isMobileView()) if (child) { measureMap.width[id] = _.get(measureMap, ['width', child.id], child.layout.width) measureMap.height[id] = _.get(measureMap, ['height', child.id], child.layout.height) } } function patchAppWidget(id, patchers, measureMap) { patchers.css(id, { width: measureMap.width[id], height: measureMap.height[id] }) } const componentType = 'platform.components.AppWidget' layout.registerMeasureChildrenFirst(componentType, true) layout.registerRequestToMeasureDom(componentType) layout.registerCustomMeasure(componentType, measureAppWidget) layout.registerPatcher(componentType, patchAppWidget)\\n})\\n\\n})\\n####","completion":" import minizlib from 'minizlib'\\nimport base64Js from 'base64-js'\\nimport gruntMochaTest from 'grunt-mocha-test'\\nimport esbuildRegister from 'esbuild-register'\\nimport codecov from 'codecov'\\nimport postcssNormalizePositions from 'postcss-normalize-positions'\\nimport isCoreModule from 'is-core-module'\\nimport babelPluginTransformEs2015TemplateLiterals from 'babel-plugin-transform-es2015-template-literals'\\nimport babelPluginProposalUnicodePropertyRegex from '@babel/plugin-proposal-unicode-property-regex'\\nimport babelPresetAirbnb from 'babel-preset-airbnb'\\nimport postcssUniqueSelectors from 'postcss-unique-selectors'\\nimport typesLodash from '@types/lodash'\\n\\ndefine(['lodash', '@wix/santa-core-utils', 'layout'], function (_, santaCoreUtils, /** layout.layout*/ layout) { 'use strict' function measureAppWidget(id, measureMap, nodesMap, structureInfo, {isMobileView}) { const [child] = santaCoreUtils.dataUtils.getChildrenData(structureInfo.structure, isMobileView()) if (child) { measureMap.width[id] = _.get(measureMap, ['width', child.id], child.layout.width) measureMap.height[id] = _.get(measureMap, ['height', child.id], child.layout.height) } } function patchAppWidget(id, patchers, measureMap) { patchers.css(id, { width: measureMap.width[id], height: measureMap.height[id] }) } const componentType = 'platform.components.AppWidget' layout.registerMeasureChildrenFirst(componentType, true) layout.registerRequestToMeasureDom(componentType) layout.registerCustomMeasure(componentType, measureAppWidget) layout.registerPatcher(componentType, patchAppWidget)\\n})\\n\\n####"}
{"prompt":"define(['autoprefixer','buffer','jison-gho','postcss-minify-params'], function(autoprefixer,buffer,jisonGho,postcssMinifyParams){\\nimport 'babel-polyfill';\\nimport 'isomorphic-fetch';\\nimport 'es6-promise/auto';\\nimport React from 'react';\\nimport PropTypes from 'prop-types';\\nimport {Provider} from 'react-redux';\\nimport Panel from '@wix/site-react-dropdown/dist/src/containers/Panel/Panel'; export default class App extends React.PureComponent { static propTypes: { store: PropTypes.object, uniqueId: PropTypes.string, type: PropTypes.string, rtl: PropTypes.bool, isHebrew: PropTypes.bool, wixParams: PropTypes.object, wixStyleId: PropTypes.string, timezone: PropTypes.string, locale: PropTypes.string }; render() { const { store, uniqueId, type, rtl, isHebrew, wixParams, wixStyleId, timezone, locale } = this.props; return ( <Provider store={store}> <Panel uniqueId={uniqueId} type={type} rtl={rtl} isHebrew={isHebrew} wixStyleId={wixStyleId} fieldFill={wixParams.fieldFill} fieldFont={wixParams.fieldFont} fieldColor={wixParams.fieldColor} fieldBorderWidth={wixParams.fieldBorderWidth} timezone={timezone} locale={locale}/> </Provider> ); }\\n};\\n\\n})\\n####","completion":" import autoprefixer from 'autoprefixer'\\nimport buffer from 'buffer'\\nimport jisonGho from 'jison-gho'\\nimport postcssMinifyParams from 'postcss-minify-params'\\n\\nimport 'babel-polyfill';\\nimport 'isomorphic-fetch';\\nimport 'es6-promise/auto';\\nimport React from 'react';\\nimport PropTypes from 'prop-types';\\nimport {Provider} from 'react-redux';\\nimport Panel from '@wix/site-react-dropdown/dist/src/containers/Panel/Panel'; export default class App extends React.PureComponent { static propTypes: { store: PropTypes.object, uniqueId: PropTypes.string, type: PropTypes.string, rtl: PropTypes.bool, isHebrew: PropTypes.bool, wixParams: PropTypes.object, wixStyleId: PropTypes.string, timezone: PropTypes.string, locale: PropTypes.string }; render() { const { store, uniqueId, type, rtl, isHebrew, wixParams, wixStyleId, timezone, locale } = this.props; return ( <Provider store={store}> <Panel uniqueId={uniqueId} type={type} rtl={rtl} isHebrew={isHebrew} wixStyleId={wixStyleId} fieldFill={wixParams.fieldFill} fieldFont={wixParams.fieldFont} fieldColor={wixParams.fieldColor} fieldBorderWidth={wixParams.fieldBorderWidth} timezone={timezone} locale={locale}/> </Provider> ); }\\n};\\n\\n####"}
{"prompt":"define(['unicode-8.0.0','json-pointer','webpack-cli','postcss-normalize-url','@my-scope/package-b','word-wrap','axios','@babel/plugin-syntax-private-property-in-object','ses','@babel/plugin-transform-regenerator','babel-plugin-polyfill-corejs2','eslint-plugin-react','source-map-support','chai-iterator','eslint-plugin-jsx-a11y'], function(unicode800,jsonPointer,webpackCli,postcssNormalizeUrl,myScopePackageB,wordWrap,axios,babelPluginSyntaxPrivatePropertyInObject,ses,babelPluginTransformRegenerator,babelPluginPolyfillCorejs2,eslintPluginReact,sourceMapSupport,chaiIterator,eslintPluginJsxA11Y){\\nimport http from 'http'\\nimport _ from 'lodash' export class CommonProtocolDriver { constructor({port}) { this.server = http.createServer(this._handler.bind(this)) this.port = port this.reset() } start() { this.server.listen(this.port, '127.0.0.1') } stop() { this.server.close() } reset() { this.rules = {} } addRule({resource, request, response, delay, useRawResponse}) { delay = delay || 0 let resourceRules = this.rules[resource] if (!resourceRules) { resourceRules = [] this.rules[resource] = resourceRules } resourceRules.push({request, response, delay, useRawResponse}) } _handler(req, res) { let body = '' req.on('data', (data) => { body += data }) req.on('end', () => { const request = JSON.parse(body) const rule = _.find(this.rules[req.url], (rule) => { return _.isEqual(rule.request, request) }) if (rule) { _.delay(() => { res.writeHead(200, {'Content-Type': rule.useRawResponse ? 'text/html' : 'application/json'}) res.end(rule.useRawResponse ? rule.response : JSON.stringify(rule.response)) }, rule.delay) } else { res.writeHead(404) res.end() } }) }\\n}\\n\\n})\\n####","completion":" import unicode800 from 'unicode-8.0.0'\\nimport jsonPointer from 'json-pointer'\\nimport webpackCli from 'webpack-cli'\\nimport postcssNormalizeUrl from 'postcss-normalize-url'\\nimport myScopePackageB from '@my-scope/package-b'\\nimport wordWrap from 'word-wrap'\\nimport axios from 'axios'\\nimport babelPluginSyntaxPrivatePropertyInObject from '@babel/plugin-syntax-private-property-in-object'\\nimport ses from 'ses'\\nimport babelPluginTransformRegenerator from '@babel/plugin-transform-regenerator'\\nimport babelPluginPolyfillCorejs2 from 'babel-plugin-polyfill-corejs2'\\nimport eslintPluginReact from 'eslint-plugin-react'\\nimport sourceMapSupport from 'source-map-support'\\nimport chaiIterator from 'chai-iterator'\\nimport eslintPluginJsxA11Y from 'eslint-plugin-jsx-a11y'\\n\\nimport http from 'http'\\nimport _ from 'lodash' export class CommonProtocolDriver { constructor({port}) { this.server = http.createServer(this._handler.bind(this)) this.port = port this.reset() } start() { this.server.listen(this.port, '127.0.0.1') } stop() { this.server.close() } reset() { this.rules = {} } addRule({resource, request, response, delay, useRawResponse}) { delay = delay || 0 let resourceRules = this.rules[resource] if (!resourceRules) { resourceRules = [] this.rules[resource] = resourceRules } resourceRules.push({request, response, delay, useRawResponse}) } _handler(req, res) { let body = '' req.on('data', (data) => { body += data }) req.on('end', () => { const request = JSON.parse(body) const rule = _.find(this.rules[req.url], (rule) => { return _.isEqual(rule.request, request) }) if (rule) { _.delay(() => { res.writeHead(200, {'Content-Type': rule.useRawResponse ? 'text/html' : 'application/json'}) res.end(rule.useRawResponse ? rule.response : JSON.stringify(rule.response)) }, rule.delay) } else { res.writeHead(404) res.end() } }) }\\n}\\n\\n####"}
{"prompt":"define(['lodash.debounce','@babel/helper-wrap-function'], function(lodashDebounce,babelHelperWrapFunction){\\nimport React from 'react';\\nimport { Text } from 'wix-style-react';\\nimport { GoogleMapsMap } from '@wix/restaurants-components/web';\\nimport styles from './GoogleMap.scss'; /* Make sure that your parent div has the position:relative property*/\\nconst GoogleMap = React.forwardRef( ({ disabledMap = false, children, overlayText, ...rest }, ref) => { const childrenToPass = !disabledMap ? children : undefined; return ( <React.Fragment> <GoogleMapsMap ref={ref} {...rest}> {childrenToPass} </GoogleMapsMap> {disabledMap ? ( <div className={styles.overlayMap}> {overlayText ? ( <Text className={styles.overlayText} skin=\\\"standard\\\" tagName=\\\"div\\\" dataHook=\\\"overlay-text\\\" weight=\\\"bold\\\" light > {overlayText} </Text> ) : null} </div> ) : null} </React.Fragment> ); },\\n); GoogleMap.displayName = 'GoogleMap'; export default GoogleMap;\\n\\n})\\n####","completion":" import lodashDebounce from 'lodash.debounce'\\nimport babelHelperWrapFunction from '@babel/helper-wrap-function'\\n\\nimport React from 'react';\\nimport { Text } from 'wix-style-react';\\nimport { GoogleMapsMap } from '@wix/restaurants-components/web';\\nimport styles from './GoogleMap.scss'; /* Make sure that your parent div has the position:relative property*/\\nconst GoogleMap = React.forwardRef( ({ disabledMap = false, children, overlayText, ...rest }, ref) => { const childrenToPass = !disabledMap ? children : undefined; return ( <React.Fragment> <GoogleMapsMap ref={ref} {...rest}> {childrenToPass} </GoogleMapsMap> {disabledMap ? ( <div className={styles.overlayMap}> {overlayText ? ( <Text className={styles.overlayText} skin=\\\"standard\\\" tagName=\\\"div\\\" dataHook=\\\"overlay-text\\\" weight=\\\"bold\\\" light > {overlayText} </Text> ) : null} </div> ) : null} </React.Fragment> ); },\\n); GoogleMap.displayName = 'GoogleMap'; export default GoogleMap;\\n\\n####"}
{"prompt":"define(['co','rollup-plugin-babel-minify','travis-check-changes','async','babel-loader','timers-browserify','tap','concurrently','typescript-formatter','@babel/plugin-transform-property-literals','eslint-plugin-import','@babel/plugin-transform-modules-systemjs','karma-edge-launcher','babel-plugin-transform-es2015-arrow-functions'], function(co,rollupPluginBabelMinify,travisCheckChanges,async,babelLoader,timersBrowserify,tap,concurrently,typescriptFormatter,babelPluginTransformPropertyLiterals,eslintPluginImport,babelPluginTransformModulesSystemjs,karmaEdgeLauncher,babelPluginTransformEs2015ArrowFunctions){\\nimport PropTypes from 'prop-types';\\nimport React from 'react'; export default function Vegetarian(props) { const {height, secondaryColor, primaryColor, i18n = { get: () => null } } = props; const style = { height, padding: '0px ' + (height / 1.75) + 'px', fontSize: (height / 1.9) + 'px', lineHeight: height + 'px', backgroundColor: primaryColor, color: secondaryColor, letterSpacing: (height / 12.5) + 'px' }; return ( <div role='img' aria-labelledby='imgVegt' id='imgVegt' className={'restaurants-menus-icons-label'} style={style} data-hook='wixrest-menus-icon-label-vegetarian'> {i18n.get('openrest_menubuilderv3_dishlabels_vegetarian') || 'vegetarian'} </div> );\\n} Vegetarian.displayName = 'Vegetarian';\\nVegetarian.propTypes = { height: PropTypes.number, secondaryColor: PropTypes.string, primaryColor: PropTypes.string\\n};\\nVegetarian.defaultProps = { height: 21, secondaryColor: '#fff', primaryColor: '#a9c360'\\n};\\n\\n})\\n####","completion":" import co from 'co'\\nimport rollupPluginBabelMinify from 'rollup-plugin-babel-minify'\\nimport travisCheckChanges from 'travis-check-changes'\\nimport async from 'async'\\nimport babelLoader from 'babel-loader'\\nimport timersBrowserify from 'timers-browserify'\\nimport tap from 'tap'\\nimport concurrently from 'concurrently'\\nimport typescriptFormatter from 'typescript-formatter'\\nimport babelPluginTransformPropertyLiterals from '@babel/plugin-transform-property-literals'\\nimport eslintPluginImport from 'eslint-plugin-import'\\nimport babelPluginTransformModulesSystemjs from '@babel/plugin-transform-modules-systemjs'\\nimport karmaEdgeLauncher from 'karma-edge-launcher'\\nimport babelPluginTransformEs2015ArrowFunctions from 'babel-plugin-transform-es2015-arrow-functions'\\n\\nimport PropTypes from 'prop-types';\\nimport React from 'react'; export default function Vegetarian(props) { const {height, secondaryColor, primaryColor, i18n = { get: () => null } } = props; const style = { height, padding: '0px ' + (height / 1.75) + 'px', fontSize: (height / 1.9) + 'px', lineHeight: height + 'px', backgroundColor: primaryColor, color: secondaryColor, letterSpacing: (height / 12.5) + 'px' }; return ( <div role='img' aria-labelledby='imgVegt' id='imgVegt' className={'restaurants-menus-icons-label'} style={style} data-hook='wixrest-menus-icon-label-vegetarian'> {i18n.get('openrest_menubuilderv3_dishlabels_vegetarian') || 'vegetarian'} </div> );\\n} Vegetarian.displayName = 'Vegetarian';\\nVegetarian.propTypes = { height: PropTypes.number, secondaryColor: PropTypes.string, primaryColor: PropTypes.string\\n};\\nVegetarian.defaultProps = { height: 21, secondaryColor: '#fff', primaryColor: '#a9c360'\\n};\\n\\n####"}
{"prompt":"define(['pkg-dir','@tensorflow/tfjs-layers','bundlesize','idb','postcss-reduce-initial','globby','unicode-canonical-property-names-ecmascript','core-util-is','lintspaces-cli','@mapbox/cloudfriend','node-jsx','@babel/helper-skip-transparent-expression-wrappers','util','agent-base','commonjs-everywhere','fastest-levenshtein'], function(pkgDir,tensorflowTfjsLayers,bundlesize,idb,postcssReduceInitial,globby,unicodeCanonicalPropertyNamesEcmascript,coreUtilIs,lintspacesCli,mapboxCloudfriend,nodeJsx,babelHelperSkipTransparentExpressionWrappers,util,agentBase,commonjsEverywhere,fastestLevenshtein){\\nimport createFixture from './createFixture'; export default (id) => createFixture({ initState: { id, status: 'new', restaurantStatus: 'new', contact: { firstName: 'foo', lastName: 'bar' } }, methods: { id(_id) { this.id = _id; }, unhandled() { this.status = 'new'; this.restaurantStatus = 'new'; }, accepted() { this.status = 'accepted'; this.restaurantStatus = 'accepted'; }, rejected() { this.status = 'canceled'; this.restaurantStatus = 'canceled'; }, requestCancel() { this.status = 'canceled'; this.restaurantStatus = 'accepted'; }, pending() { this.status = 'pending'; }, time(t) { this.time = t; }, partySize(partysize) { this.partySize = partysize; }, contact(_contact) { this.contact = _contact; } }\\n});\\n\\n})\\n####","completion":" import pkgDir from 'pkg-dir'\\nimport tensorflowTfjsLayers from '@tensorflow/tfjs-layers'\\nimport bundlesize from 'bundlesize'\\nimport idb from 'idb'\\nimport postcssReduceInitial from 'postcss-reduce-initial'\\nimport globby from 'globby'\\nimport unicodeCanonicalPropertyNamesEcmascript from 'unicode-canonical-property-names-ecmascript'\\nimport coreUtilIs from 'core-util-is'\\nimport lintspacesCli from 'lintspaces-cli'\\nimport mapboxCloudfriend from '@mapbox/cloudfriend'\\nimport nodeJsx from 'node-jsx'\\nimport babelHelperSkipTransparentExpressionWrappers from '@babel/helper-skip-transparent-expression-wrappers'\\nimport util from 'util'\\nimport agentBase from 'agent-base'\\nimport commonjsEverywhere from 'commonjs-everywhere'\\nimport fastestLevenshtein from 'fastest-levenshtein'\\n\\nimport createFixture from './createFixture'; export default (id) => createFixture({ initState: { id, status: 'new', restaurantStatus: 'new', contact: { firstName: 'foo', lastName: 'bar' } }, methods: { id(_id) { this.id = _id; }, unhandled() { this.status = 'new'; this.restaurantStatus = 'new'; }, accepted() { this.status = 'accepted'; this.restaurantStatus = 'accepted'; }, rejected() { this.status = 'canceled'; this.restaurantStatus = 'canceled'; }, requestCancel() { this.status = 'canceled'; this.restaurantStatus = 'accepted'; }, pending() { this.status = 'pending'; }, time(t) { this.time = t; }, partySize(partysize) { this.partySize = partysize; }, contact(_contact) { this.contact = _contact; } }\\n});\\n\\n####"}
{"prompt":"define(['@parcel/optimizer-image'], function(parcelOptimizerImage){\\nimport React from 'react';\\nimport { View, Image, TouchableHighlight } from 'react-native';\\nimport { TextRoman } from './WixText'; class SelectLocaleItem extends React.Component { constructor(props) { super(props); } render() { const { changeLocale, locale, countryCode, styles, description, isSelected, underlayColor } = this.props; return ( <TouchableHighlight underlayColor={underlayColor} onPress={() => changeLocale({ locale, countryCode })}> <View style={[styles.localeRow, isSelected && styles.localeRowSelected]}> <TextRoman style={styles.localeText}> {description} </TextRoman> <View style={styles.localeIcon}> { isSelected ? <Image source={require('./resources/BlueCheckmark.png')} /> : null } </View> </View> </TouchableHighlight> ); }\\n} SelectLocaleItem.displayName = 'SelectLocaleItem'; export default SelectLocaleItem;\\n\\n})\\n####","completion":" import parcelOptimizerImage from '@parcel/optimizer-image'\\n\\nimport React from 'react';\\nimport { View, Image, TouchableHighlight } from 'react-native';\\nimport { TextRoman } from './WixText'; class SelectLocaleItem extends React.Component { constructor(props) { super(props); } render() { const { changeLocale, locale, countryCode, styles, description, isSelected, underlayColor } = this.props; return ( <TouchableHighlight underlayColor={underlayColor} onPress={() => changeLocale({ locale, countryCode })}> <View style={[styles.localeRow, isSelected && styles.localeRowSelected]}> <TextRoman style={styles.localeText}> {description} </TextRoman> <View style={styles.localeIcon}> { isSelected ? <Image source={require('./resources/BlueCheckmark.png')} /> : null } </View> </View> </TouchableHighlight> ); }\\n} SelectLocaleItem.displayName = 'SelectLocaleItem'; export default SelectLocaleItem;\\n\\n####"}
{"prompt":"define(['nth-check','auto-changelog','gitbook','qunitjs','@babel/plugin-proposal-export-namespace-from','rewire','coffeescript','grunt-sass'], function(nthCheck,autoChangelog,gitbook,qunitjs,babelPluginProposalExportNamespaceFrom,rewire,coffeescript,gruntSass){\\nlet template = `<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?> <svg width=\\\"31px\\\" height=\\\"42px\\\" viewBox=\\\"0 0 11 15.5\\\" version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\"> <g id=\\\"Page-1\\\" stroke=\\\"none\\\" stroke-width=\\\"1\\\" fill=\\\"none\\\" fill-rule=\\\"evenodd\\\"> <g id=\\\"Group\\\"> <ellipse id=\\\"Oval\\\" fill-opacity=\\\"0.2\\\" fill=\\\"#162D3D\\\" cx=\\\"5.5\\\" cy=\\\"14\\\" rx=\\\"4.5\\\" ry=\\\"1.5\\\"></ellipse> <path d=\\\"M5.3706,7.5 C3.9896,7.5 3.0266,6.381 3.0266,5 C3.0266,3.619 4.1006,2.5 5.4816,2.5 C6.8626,2.5 7.8566,3.619 7.8566,5 C7.8566,6.381 6.7516,7.5 5.3706,7.5 M5.4966,0 C2.5046,0 -0.0004,2.229 -0.0004,5.292 C-0.0004,9.879 5.4736,14 5.4736,14 C5.4736,14 10.9476,9.879 10.9476,5.292 C10.9476,2.229 8.4886,0 5.4966,0\\\" id=\\\"Fill-1\\\" fill=\\\"{{bgColor}}\\\"></path> </g> </g> </svg>`; export default function createPin({fgColor, bgColor}) { let instancedTemplate = template.replace(/{{fgColor}}/g, fgColor) .replace(/{{bgColor}}/g, bgColor); let encoded = encodeURIComponent(instancedTemplate); return { url: `data:image/svg+xml;charset=UTF-8,${encoded}` };\\n}\\n\\n})\\n####","completion":" import nthCheck from 'nth-check'\\nimport autoChangelog from 'auto-changelog'\\nimport gitbook from 'gitbook'\\nimport qunitjs from 'qunitjs'\\nimport babelPluginProposalExportNamespaceFrom from '@babel/plugin-proposal-export-namespace-from'\\nimport rewire from 'rewire'\\nimport coffeescript from 'coffeescript'\\nimport gruntSass from 'grunt-sass'\\n\\nlet template = `<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?> <svg width=\\\"31px\\\" height=\\\"42px\\\" viewBox=\\\"0 0 11 15.5\\\" version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\"> <g id=\\\"Page-1\\\" stroke=\\\"none\\\" stroke-width=\\\"1\\\" fill=\\\"none\\\" fill-rule=\\\"evenodd\\\"> <g id=\\\"Group\\\"> <ellipse id=\\\"Oval\\\" fill-opacity=\\\"0.2\\\" fill=\\\"#162D3D\\\" cx=\\\"5.5\\\" cy=\\\"14\\\" rx=\\\"4.5\\\" ry=\\\"1.5\\\"></ellipse> <path d=\\\"M5.3706,7.5 C3.9896,7.5 3.0266,6.381 3.0266,5 C3.0266,3.619 4.1006,2.5 5.4816,2.5 C6.8626,2.5 7.8566,3.619 7.8566,5 C7.8566,6.381 6.7516,7.5 5.3706,7.5 M5.4966,0 C2.5046,0 -0.0004,2.229 -0.0004,5.292 C-0.0004,9.879 5.4736,14 5.4736,14 C5.4736,14 10.9476,9.879 10.9476,5.292 C10.9476,2.229 8.4886,0 5.4966,0\\\" id=\\\"Fill-1\\\" fill=\\\"{{bgColor}}\\\"></path> </g> </g> </svg>`; export default function createPin({fgColor, bgColor}) { let instancedTemplate = template.replace(/{{fgColor}}/g, fgColor) .replace(/{{bgColor}}/g, bgColor); let encoded = encodeURIComponent(instancedTemplate); return { url: `data:image/svg+xml;charset=UTF-8,${encoded}` };\\n}\\n\\n####"}
{"prompt":"define(['karma-ie-launcher','bikeshed-to-ts','available-typed-arrays','@wdio/jasmine-framework','pinkie-promise','merge-stream','micromatch','babel-plugin-transform-es2015-block-scoping','hyperquest'], function(karmaIeLauncher,bikeshedToTs,availableTypedArrays,wdioJasmineFramework,pinkiePromise,mergeStream,micromatch,babelPluginTransformEs2015BlockScoping,hyperquest){\\n'use strict' const nock = require('nock')\\nconst artifactFetcher = require('../../lib/artifactFetcher') const createMetadata = (name, latest) => `<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?>\\n<metadata modelVersion=\\\"1.1.0\\\"> <groupId>com.wixpress</groupId> <artifactId>${name}</artifactId> <version>${latest}</version> <versioning> <latest>${latest}</latest> <release>${latest}</release> <versions> <version>${latest}</version> </versions> <lastUpdated>20180801090949</lastUpdated> </versioning>\\n</metadata>` describe('getLatestVersion', () => { beforeEach(() => { nock('http://repo.dev.wix/artifactory/libs-releases-local/com/wixpress') .get(/(\\/html\\-client)?\\/(.+)\\/maven-metadata\\.xml/g) .reply(200, () => createMetadata('some-artifact', '1.2.3')) }) it('resolves with the latest version of a given artifact', async () => { const latestVersion = await artifactFetcher.getLatestVersion('wixcodeSdk') expect(latestVersion).toEqual('1.2.3') })\\n})\\n})\\n####","completion":" import karmaIeLauncher from 'karma-ie-launcher'\\nimport bikeshedToTs from 'bikeshed-to-ts'\\nimport availableTypedArrays from 'available-typed-arrays'\\nimport wdioJasmineFramework from '@wdio/jasmine-framework'\\nimport pinkiePromise from 'pinkie-promise'\\nimport mergeStream from 'merge-stream'\\nimport micromatch from 'micromatch'\\nimport babelPluginTransformEs2015BlockScoping from 'babel-plugin-transform-es2015-block-scoping'\\nimport hyperquest from 'hyperquest'\\n\\n'use strict' const nock = require('nock')\\nconst artifactFetcher = require('../../lib/artifactFetcher') const createMetadata = (name, latest) => `<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?>\\n<metadata modelVersion=\\\"1.1.0\\\"> <groupId>com.wixpress</groupId> <artifactId>${name}</artifactId> <version>${latest}</version> <versioning> <latest>${latest}</latest> <release>${latest}</release> <versions> <version>${latest}</version> </versions> <lastUpdated>20180801090949</lastUpdated> </versioning>\\n</metadata>` describe('getLatestVersion', () => { beforeEach(() => { nock('http://repo.dev.wix/artifactory/libs-releases-local/com/wixpress') .get(/(\\/html\\-client)?\\/(.+)\\/maven-metadata\\.xml/g) .reply(200, () => createMetadata('some-artifact', '1.2.3')) }) it('resolves with the latest version of a given artifact', async () => { const latestVersion = await artifactFetcher.getLatestVersion('wixcodeSdk') expect(latestVersion).toEqual('1.2.3') })\\n})\\n####"}
{"prompt":"define(['path-browserify','expect-jsx','color-name','npmpub','c8','@parcel/runtime-react-refresh','@babel/helper-annotate-as-pure','karma-chai-sinon','babel-plugin-polyfill-corejs3','esbuild-runner','lintspaces-cli','grunt-template','load-grunt-tasks','number-is-nan','@mapbox/cloudfriend'], function(pathBrowserify,expectJsx,colorName,npmpub,c8,parcelRuntimeReactRefresh,babelHelperAnnotateAsPure,karmaChaiSinon,babelPluginPolyfillCorejs3,esbuildRunner,lintspacesCli,gruntTemplate,loadGruntTasks,numberIsNan,mapboxCloudfriend){\\nimport {default as WhiteStatusBar, __RewireAPI__} from 'src/mobile/components/WhiteStatusBar.js';\\nimport {expect} from 'chai';\\nimport {mount} from 'enzyme';\\nimport sinon from 'sinon'; describe('WhiteStatusBar', function () { let wrapper, dispatch, wiring; beforeEach(() => { dispatch = sinon.spy(); wiring = {NativeMessaging: {dispatchEvent: sinon.spy()}}; }); it('sends \\\"setStatusBarColorWhite\\\" message when mounted', function () { // When render(); // Then expect(wiring.NativeMessaging.dispatchEvent).to.have.been.calledWith('setStatusBarColorWhite'); }); // This doesn't work, skipping // it.skip('sends \\\"setStatusBarColorBlack\\\" message when unmounted', function () { // When render(); wrapper.unmount(); // Then expect(wiring.NativeMessaging.dispatchEvent).to.have.been.calledWith('setStatusBarColorBlack'); }); function render() { __RewireAPI__.__with__(wiring)(() => { wrapper = mount(<WhiteStatusBar dispatch={dispatch}/>); }); }\\n});\\n\\n})\\n####","completion":" import pathBrowserify from 'path-browserify'\\nimport expectJsx from 'expect-jsx'\\nimport colorName from 'color-name'\\nimport npmpub from 'npmpub'\\nimport c8 from 'c8'\\nimport parcelRuntimeReactRefresh from '@parcel/runtime-react-refresh'\\nimport babelHelperAnnotateAsPure from '@babel/helper-annotate-as-pure'\\nimport karmaChaiSinon from 'karma-chai-sinon'\\nimport babelPluginPolyfillCorejs3 from 'babel-plugin-polyfill-corejs3'\\nimport esbuildRunner from 'esbuild-runner'\\nimport lintspacesCli from 'lintspaces-cli'\\nimport gruntTemplate from 'grunt-template'\\nimport loadGruntTasks from 'load-grunt-tasks'\\nimport numberIsNan from 'number-is-nan'\\nimport mapboxCloudfriend from '@mapbox/cloudfriend'\\n\\nimport {default as WhiteStatusBar, __RewireAPI__} from 'src/mobile/components/WhiteStatusBar.js';\\nimport {expect} from 'chai';\\nimport {mount} from 'enzyme';\\nimport sinon from 'sinon'; describe('WhiteStatusBar', function () { let wrapper, dispatch, wiring; beforeEach(() => { dispatch = sinon.spy(); wiring = {NativeMessaging: {dispatchEvent: sinon.spy()}}; }); it('sends \\\"setStatusBarColorWhite\\\" message when mounted', function () { // When render(); // Then expect(wiring.NativeMessaging.dispatchEvent).to.have.been.calledWith('setStatusBarColorWhite'); }); // This doesn't work, skipping // it.skip('sends \\\"setStatusBarColorBlack\\\" message when unmounted', function () { // When render(); wrapper.unmount(); // Then expect(wiring.NativeMessaging.dispatchEvent).to.have.been.calledWith('setStatusBarColorBlack'); }); function render() { __RewireAPI__.__with__(wiring)(() => { wrapper = mount(<WhiteStatusBar dispatch={dispatch}/>); }); }\\n});\\n\\n####"}
{"prompt":"define(['babel-plugin-transform-es2015-destructuring','@babel/helper-member-expression-to-functions','@babel/plugin-syntax-dynamic-import','@babel/runtime-corejs2','async','jsdom','concat-map'], function(babelPluginTransformEs2015Destructuring,babelHelperMemberExpressionToFunctions,babelPluginSyntaxDynamicImport,babelRuntimeCorejs2,async,jsdom,concatMap){\\nimport React from 'react';\\nimport RestaurantTile from '../src/components/RestaurantTile.js';\\nimport StoreStoryProvider from './StoreStoryProvider.js'; const restaurant = { id: '1', title: 'Mong Sushi Take Away', image: 'https://lh3.googleusercontent.com/Sy-4JXie-_v7ucfOFXD59KThkhYtcY0edy4FgJmdMdkWj5We94-uI7-BTHenvDSM4JVEeRXDpvK6Su2zigX9iA=s466', description: 'Fresh, authentic, handmade Japanese Sushi and Bento.', nextAvailabilityStatusIn: 40, isOpen: true, bestDeliveryInfo: { delayMins: '24 minutes', minOrderPrice: '$15', charge: '$5' }\\n}; export const story1 = () => ( <StoreStoryProvider> <div style={{width: '35%'}}> <RestaurantTile restaurant={restaurant}/> </div> </StoreStoryProvider>\\n); story1.storyName = 'Open (about to close)'; export const story2 = () => ( <StoreStoryProvider> <div style={{width: '35%'}}> <RestaurantTile restaurant={{...restaurant, isOpen: false, nextAvailabilityStatusIn: 999}}/> </div> </StoreStoryProvider>\\n); story2.storyName = 'Closed'; export const story3 = () => ( <StoreStoryProvider> <div style={{width: '35%'}}> <RestaurantTile restaurant={{...restaurant, image: undefined}}/> </div> </StoreStoryProvider>\\n); story3.storyName = 'Tile without an image';\\n\\n})\\n####","completion":" import babelPluginTransformEs2015Destructuring from 'babel-plugin-transform-es2015-destructuring'\\nimport babelHelperMemberExpressionToFunctions from '@babel/helper-member-expression-to-functions'\\nimport babelPluginSyntaxDynamicImport from '@babel/plugin-syntax-dynamic-import'\\nimport babelRuntimeCorejs2 from '@babel/runtime-corejs2'\\nimport async from 'async'\\nimport jsdom from 'jsdom'\\nimport concatMap from 'concat-map'\\n\\nimport React from 'react';\\nimport RestaurantTile from '../src/components/RestaurantTile.js';\\nimport StoreStoryProvider from './StoreStoryProvider.js'; const restaurant = { id: '1', title: 'Mong Sushi Take Away', image: 'https://lh3.googleusercontent.com/Sy-4JXie-_v7ucfOFXD59KThkhYtcY0edy4FgJmdMdkWj5We94-uI7-BTHenvDSM4JVEeRXDpvK6Su2zigX9iA=s466', description: 'Fresh, authentic, handmade Japanese Sushi and Bento.', nextAvailabilityStatusIn: 40, isOpen: true, bestDeliveryInfo: { delayMins: '24 minutes', minOrderPrice: '$15', charge: '$5' }\\n}; export const story1 = () => ( <StoreStoryProvider> <div style={{width: '35%'}}> <RestaurantTile restaurant={restaurant}/> </div> </StoreStoryProvider>\\n); story1.storyName = 'Open (about to close)'; export const story2 = () => ( <StoreStoryProvider> <div style={{width: '35%'}}> <RestaurantTile restaurant={{...restaurant, isOpen: false, nextAvailabilityStatusIn: 999}}/> </div> </StoreStoryProvider>\\n); story2.storyName = 'Closed'; export const story3 = () => ( <StoreStoryProvider> <div style={{width: '35%'}}> <RestaurantTile restaurant={{...restaurant, image: undefined}}/> </div> </StoreStoryProvider>\\n); story3.storyName = 'Tile without an image';\\n\\n####"}
{"prompt":"define(['@babel/eslint-plugin','matcha','@babel/eslint-parser','path-browserify','@types/shelljs','@babel/plugin-proposal-optional-chaining','clone-deep','@parcel/diagnostic','@babel/plugin-proposal-private-property-in-object','karma-babel-preprocessor','karma-safaritechpreview-launcher','postcss-unique-selectors','unicode-match-property-value-ecmascript','@types/jsesc','regexpu-fixtures','d3-dsv','karma-chai','get-port','@babel/plugin-transform-modules-systemjs'], function(babelEslintPlugin,matcha,babelEslintParser,pathBrowserify,typesShelljs,babelPluginProposalOptionalChaining,cloneDeep,parcelDiagnostic,babelPluginProposalPrivatePropertyInObject,karmaBabelPreprocessor,karmaSafaritechpreviewLauncher,postcssUniqueSelectors,unicodeMatchPropertyValueEcmascript,typesJsesc,regexpuFixtures,d3Dsv,karmaChai,getPort,babelPluginTransformModulesSystemjs){\\nexport const whitelistFilter = (reducerKeyList = []) => reducerKey => { return reducerKeyList && Array.isArray(reducerKeyList) && reducerKeyList.indexOf(reducerKey) !== -1;\\n}; export const blacklistFilter = (reducerKeyList = []) => reducerKey => { return reducerKeyList && Array.isArray(reducerKeyList) && reducerKeyList.indexOf(reducerKey) === -1;\\n}; export const resettable = ({reducerKey, reducer, rawConfig = {}}) => { const config = { filter : rawConfig.filter || (() => true), actions : rawConfig.actions || [], }; // Make the reducer resettable only if it passes a valid filter function if (config.filter && typeof config.filter === 'function' && config.filter(reducerKey, reducer)) { // Make the reducer resettable only if there's a valid list of actions if (config.actions && Array.isArray(config.actions) && config.actions.length > 0) { return (state, action) => { if (action && action.type && config.actions.indexOf(action.type) !== -1) { return reducer(undefined, action); } else { return reducer(state, action); } }; } } return reducer;\\n}; export default (reducers, rawConfig = {}) => { let result = {}; Object.keys(reducers).forEach(key => result[key] = resettable({ reducerKey : key, reducer : reducers[key], rawConfig })); return result;\\n}; \\n})\\n####","completion":" import babelEslintPlugin from '@babel/eslint-plugin'\\nimport matcha from 'matcha'\\nimport babelEslintParser from '@babel/eslint-parser'\\nimport pathBrowserify from 'path-browserify'\\nimport typesShelljs from '@types/shelljs'\\nimport babelPluginProposalOptionalChaining from '@babel/plugin-proposal-optional-chaining'\\nimport cloneDeep from 'clone-deep'\\nimport parcelDiagnostic from '@parcel/diagnostic'\\nimport babelPluginProposalPrivatePropertyInObject from '@babel/plugin-proposal-private-property-in-object'\\nimport karmaBabelPreprocessor from 'karma-babel-preprocessor'\\nimport karmaSafaritechpreviewLauncher from 'karma-safaritechpreview-launcher'\\nimport postcssUniqueSelectors from 'postcss-unique-selectors'\\nimport unicodeMatchPropertyValueEcmascript from 'unicode-match-property-value-ecmascript'\\nimport typesJsesc from '@types/jsesc'\\nimport regexpuFixtures from 'regexpu-fixtures'\\nimport d3Dsv from 'd3-dsv'\\nimport karmaChai from 'karma-chai'\\nimport getPort from 'get-port'\\nimport babelPluginTransformModulesSystemjs from '@babel/plugin-transform-modules-systemjs'\\n\\nexport const whitelistFilter = (reducerKeyList = []) => reducerKey => { return reducerKeyList && Array.isArray(reducerKeyList) && reducerKeyList.indexOf(reducerKey) !== -1;\\n}; export const blacklistFilter = (reducerKeyList = []) => reducerKey => { return reducerKeyList && Array.isArray(reducerKeyList) && reducerKeyList.indexOf(reducerKey) === -1;\\n}; export const resettable = ({reducerKey, reducer, rawConfig = {}}) => { const config = { filter : rawConfig.filter || (() => true), actions : rawConfig.actions || [], }; // Make the reducer resettable only if it passes a valid filter function if (config.filter && typeof config.filter === 'function' && config.filter(reducerKey, reducer)) { // Make the reducer resettable only if there's a valid list of actions if (config.actions && Array.isArray(config.actions) && config.actions.length > 0) { return (state, action) => { if (action && action.type && config.actions.indexOf(action.type) !== -1) { return reducer(undefined, action); } else { return reducer(state, action); } }; } } return reducer;\\n}; export default (reducers, rawConfig = {}) => { let result = {}; Object.keys(reducers).forEach(key => result[key] = resettable({ reducerKey : key, reducer : reducers[key], rawConfig })); return result;\\n}; \\n####"}
{"prompt":"define(['is','path-key','follow-redirects','postcss-discard-duplicates','@babel/plugin-transform-function-name','postcss-discard-comments','detect-browser','postcss-normalize-charset','clinton','@babel/plugin-proposal-private-methods','mdn-data','svgo','babel-plugin-transform-es2015-block-scoping','kcd-scripts','delegates','p-locate'], function(is,pathKey,followRedirects,postcssDiscardDuplicates,babelPluginTransformFunctionName,postcssDiscardComments,detectBrowser,postcssNormalizeCharset,clinton,babelPluginProposalPrivateMethods,mdnData,svgo,babelPluginTransformEs2015BlockScoping,kcdScripts,delegates,pLocate){\\nimport React from 'react';\\nimport BorderedDivider from './BorderedDivider';\\nimport DesignComponent, { COLOR_OPACITY, SLIDER } from './DesignComponent';\\nimport { ContentConnector } from '@wix/restaurants-components/web'; export default ContentConnector({prefix: 'design_bg_'})(React.createClass({ displayName: 'BackgroundDesign', render() { const { content } = this.props; return ( <div> <BorderedDivider label={content.get('label')}/> <div> <DesignComponent type={COLOR_OPACITY} bottomDivider={true} title={content.get('fill')} wixParam=\\\"wixseating-bg-fill-custom\\\" startWithColor=\\\"color-1\\\" startWithOpacity={1} /> <DesignComponent type={COLOR_OPACITY} bottomDivider={true} title={content.get('border_color')} wixParam=\\\"wixseating-bg-border-color-custom\\\" startWithColor=\\\"color-8\\\" startWithOpacity={1}/> <DesignComponent type={SLIDER} title={content.get('border_width')} min={0} max={5} units=\\\"px\\\" step={1} defaultValue={1} wixParam=\\\"wixseating-bg-border-size-custom\\\"/> </div> </div> ); }\\n}));\\n\\n})\\n####","completion":" import is from 'is'\\nimport pathKey from 'path-key'\\nimport followRedirects from 'follow-redirects'\\nimport postcssDiscardDuplicates from 'postcss-discard-duplicates'\\nimport babelPluginTransformFunctionName from '@babel/plugin-transform-function-name'\\nimport postcssDiscardComments from 'postcss-discard-comments'\\nimport detectBrowser from 'detect-browser'\\nimport postcssNormalizeCharset from 'postcss-normalize-charset'\\nimport clinton from 'clinton'\\nimport babelPluginProposalPrivateMethods from '@babel/plugin-proposal-private-methods'\\nimport mdnData from 'mdn-data'\\nimport svgo from 'svgo'\\nimport babelPluginTransformEs2015BlockScoping from 'babel-plugin-transform-es2015-block-scoping'\\nimport kcdScripts from 'kcd-scripts'\\nimport delegates from 'delegates'\\nimport pLocate from 'p-locate'\\n\\nimport React from 'react';\\nimport BorderedDivider from './BorderedDivider';\\nimport DesignComponent, { COLOR_OPACITY, SLIDER } from './DesignComponent';\\nimport { ContentConnector } from '@wix/restaurants-components/web'; export default ContentConnector({prefix: 'design_bg_'})(React.createClass({ displayName: 'BackgroundDesign', render() { const { content } = this.props; return ( <div> <BorderedDivider label={content.get('label')}/> <div> <DesignComponent type={COLOR_OPACITY} bottomDivider={true} title={content.get('fill')} wixParam=\\\"wixseating-bg-fill-custom\\\" startWithColor=\\\"color-1\\\" startWithOpacity={1} /> <DesignComponent type={COLOR_OPACITY} bottomDivider={true} title={content.get('border_color')} wixParam=\\\"wixseating-bg-border-color-custom\\\" startWithColor=\\\"color-8\\\" startWithOpacity={1}/> <DesignComponent type={SLIDER} title={content.get('border_width')} min={0} max={5} units=\\\"px\\\" step={1} defaultValue={1} wixParam=\\\"wixseating-bg-border-size-custom\\\"/> </div> </div> ); }\\n}));\\n\\n####"}
{"prompt":"define(['webpack-dev-server','is','postcss-reduce-initial','karma-mocha','@parcel/workers','es-value-fixtures','uglify-js','@size-limit/preset-small-lib','karma-edge-launcher','sinon-chai','argparse','fast-levenshtein'], function(webpackDevServer,is,postcssReduceInitial,karmaMocha,parcelWorkers,esValueFixtures,uglifyJs,sizeLimitPresetSmallLib,karmaEdgeLauncher,sinonChai,argparse,fastLevenshtein){\\n'use strict'\\nconst {withDocumentServices} = require('../../../../testkit')\\nconst viewport = {width: 600, height: 600} describe('component inside a container with contentArea', () => { describe('left position', () => { // soap component, viewport < 980 --> anchors / mesh async function testSoapComponent(site, components) { const initialButtonLeft = 10 const layout = {x: initialButtonLeft, y: 20, width: 120, height: 48} //site.addComponentToContainer const button = await site.addComponentToContainer(components.SiteButton, {getPointer: () => ({id: 'masterPage', type: 'DESKTOP'})}, {layout}) const buttonLeft = await site.viewerFrame.evaluate(id => window.document.querySelector(`#${id}`).getBoundingClientRect().left, button.id) expect(buttonLeft).toBe(initialButtonLeft, 'soap component should have left position as in the structure') } test( 'should be correct for SOAP components when window size < 980 px, and layoutMechanism = anchors', withDocumentServices({viewport}, ({site, components}) => testSoapComponent(site, components)) ) test( 'should be correct for SOAP components when window size < 980 px, and layoutMechanism = mesh', withDocumentServices({viewport, queryParams: {layoutMechanism: 'mesh'}}, ({site, components}) => testSoapComponent(site, components)) ) })\\n})\\n\\n})\\n####","completion":" import webpackDevServer from 'webpack-dev-server'\\nimport is from 'is'\\nimport postcssReduceInitial from 'postcss-reduce-initial'\\nimport karmaMocha from 'karma-mocha'\\nimport parcelWorkers from '@parcel/workers'\\nimport esValueFixtures from 'es-value-fixtures'\\nimport uglifyJs from 'uglify-js'\\nimport sizeLimitPresetSmallLib from '@size-limit/preset-small-lib'\\nimport karmaEdgeLauncher from 'karma-edge-launcher'\\nimport sinonChai from 'sinon-chai'\\nimport argparse from 'argparse'\\nimport fastLevenshtein from 'fast-levenshtein'\\n\\n'use strict'\\nconst {withDocumentServices} = require('../../../../testkit')\\nconst viewport = {width: 600, height: 600} describe('component inside a container with contentArea', () => { describe('left position', () => { // soap component, viewport < 980 --> anchors / mesh async function testSoapComponent(site, components) { const initialButtonLeft = 10 const layout = {x: initialButtonLeft, y: 20, width: 120, height: 48} //site.addComponentToContainer const button = await site.addComponentToContainer(components.SiteButton, {getPointer: () => ({id: 'masterPage', type: 'DESKTOP'})}, {layout}) const buttonLeft = await site.viewerFrame.evaluate(id => window.document.querySelector(`#${id}`).getBoundingClientRect().left, button.id) expect(buttonLeft).toBe(initialButtonLeft, 'soap component should have left position as in the structure') } test( 'should be correct for SOAP components when window size < 980 px, and layoutMechanism = anchors', withDocumentServices({viewport}, ({site, components}) => testSoapComponent(site, components)) ) test( 'should be correct for SOAP components when window size < 980 px, and layoutMechanism = mesh', withDocumentServices({viewport, queryParams: {layoutMechanism: 'mesh'}}, ({site, components}) => testSoapComponent(site, components)) ) })\\n})\\n\\n####"}
{"prompt":"define(['ms'], function(ms){\\n/*eslint strict:[2, \\\"global\\\"],semi:[2,\\\"never\\\"],no-unused-vars:0,curly:0 */\\n/*eslint-env node, es6 */\\n'use strict'\\nrequire('@wix/santa-utils/common/jasmine/matchers')\\nconst Enzyme = require('enzyme')\\nconst EnzymeReact16Adapter = require('enzyme-adapter-react-16') Enzyme.configure({adapter: new EnzymeReact16Adapter()}) let mock = {} function createMockBrowser() { const {JSDOM} = require('jsdom') const window = new JSDOM({ features: { FetchExternalResources: false, ProcessExternalResources: false } }).defaultView const MockBrowser = require('mock-browser').mocks.MockBrowser const mockBrowser = new MockBrowser({window}) global._ = require('lodash') global.document = mockBrowser.getDocument() global.document.documentElement.style.objectFit = {} global.window = mockBrowser.getWindow() global.window._ = require('lodash') global.navigator = global.window.navigator global.self = global.window global.requestAnimationFrame = () => {} mock = { document: global.document, window: global.window, navigator: global.navigator, self } // require('./module')\\n} createMockBrowser()\\n\\n})\\n####","completion":" import ms from 'ms'\\n\\n/*eslint strict:[2, \\\"global\\\"],semi:[2,\\\"never\\\"],no-unused-vars:0,curly:0 */\\n/*eslint-env node, es6 */\\n'use strict'\\nrequire('@wix/santa-utils/common/jasmine/matchers')\\nconst Enzyme = require('enzyme')\\nconst EnzymeReact16Adapter = require('enzyme-adapter-react-16') Enzyme.configure({adapter: new EnzymeReact16Adapter()}) let mock = {} function createMockBrowser() { const {JSDOM} = require('jsdom') const window = new JSDOM({ features: { FetchExternalResources: false, ProcessExternalResources: false } }).defaultView const MockBrowser = require('mock-browser').mocks.MockBrowser const mockBrowser = new MockBrowser({window}) global._ = require('lodash') global.document = mockBrowser.getDocument() global.document.documentElement.style.objectFit = {} global.window = mockBrowser.getWindow() global.window._ = require('lodash') global.navigator = global.window.navigator global.self = global.window global.requestAnimationFrame = () => {} mock = { document: global.document, window: global.window, navigator: global.navigator, self } // require('./module')\\n} createMockBrowser()\\n\\n####"}
{"prompt":"define(['aproba','emoji-regex','eslint-import-resolver-typescript','http-server','is-node-modern','@babel/plugin-proposal-private-methods','grunt-contrib-concat','relateurl','webpack-dev-server','postcss','unicode-canonical-property-names-ecmascript','@types/svgo'], function(aproba,emojiRegex,eslintImportResolverTypescript,httpServer,isNodeModern,babelPluginProposalPrivateMethods,gruntContribConcat,relateurl,webpackDevServer,postcss,unicodeCanonicalPropertyNamesEcmascript,typesSvgo){\\n'use strict' const getSkinFromSkinsDefinitions = require('../../src/mixins/getSkinFromSkinsDefinitions') const toSkinsMap = skins => ({ get: skinName => skins[skinName] // eslint-disable-line\\n}) const IS_EXPERIMENT_OPEN = Symbol('isExperimentOpen')\\nconst skins = { default: 'skin', 'not-default': 'another-skin'\\n}\\nconst skinsMap = toSkinsMap(skins) describe('getSkinFromSkinsDefinitions', () => { it('works with skinsMap', () => { const mock = spyOn(skinsMap, 'get').and.callThrough() const result = getSkinFromSkinsDefinitions(skinsMap, 'default', IS_EXPERIMENT_OPEN) expect(mock).toHaveBeenCalledWith('default', IS_EXPERIMENT_OPEN) expect(result).toBe('skin') }) describe('works with skins json object', () => { it('when skin exists, returns its value', () => { const defaultSkin = getSkinFromSkinsDefinitions(skins, 'default', IS_EXPERIMENT_OPEN) const notDefaultSkin = getSkinFromSkinsDefinitions(skins, 'not-default', IS_EXPERIMENT_OPEN) expect(defaultSkin).toBe('skin') expect(notDefaultSkin).toBe('another-skin') }) it(\\\"when skin doesn't exist, return the first skin\\\", () => { const result = getSkinFromSkinsDefinitions(skins, 'no-skin', IS_EXPERIMENT_OPEN) expect(result).toBe('skin') }) })\\n})\\n\\n})\\n####","completion":" import aproba from 'aproba'\\nimport emojiRegex from 'emoji-regex'\\nimport eslintImportResolverTypescript from 'eslint-import-resolver-typescript'\\nimport httpServer from 'http-server'\\nimport isNodeModern from 'is-node-modern'\\nimport babelPluginProposalPrivateMethods from '@babel/plugin-proposal-private-methods'\\nimport gruntContribConcat from 'grunt-contrib-concat'\\nimport relateurl from 'relateurl'\\nimport webpackDevServer from 'webpack-dev-server'\\nimport postcss from 'postcss'\\nimport unicodeCanonicalPropertyNamesEcmascript from 'unicode-canonical-property-names-ecmascript'\\nimport typesSvgo from '@types/svgo'\\n\\n'use strict' const getSkinFromSkinsDefinitions = require('../../src/mixins/getSkinFromSkinsDefinitions') const toSkinsMap = skins => ({ get: skinName => skins[skinName] // eslint-disable-line\\n}) const IS_EXPERIMENT_OPEN = Symbol('isExperimentOpen')\\nconst skins = { default: 'skin', 'not-default': 'another-skin'\\n}\\nconst skinsMap = toSkinsMap(skins) describe('getSkinFromSkinsDefinitions', () => { it('works with skinsMap', () => { const mock = spyOn(skinsMap, 'get').and.callThrough() const result = getSkinFromSkinsDefinitions(skinsMap, 'default', IS_EXPERIMENT_OPEN) expect(mock).toHaveBeenCalledWith('default', IS_EXPERIMENT_OPEN) expect(result).toBe('skin') }) describe('works with skins json object', () => { it('when skin exists, returns its value', () => { const defaultSkin = getSkinFromSkinsDefinitions(skins, 'default', IS_EXPERIMENT_OPEN) const notDefaultSkin = getSkinFromSkinsDefinitions(skins, 'not-default', IS_EXPERIMENT_OPEN) expect(defaultSkin).toBe('skin') expect(notDefaultSkin).toBe('another-skin') }) it(\\\"when skin doesn't exist, return the first skin\\\", () => { const result = getSkinFromSkinsDefinitions(skins, 'no-skin', IS_EXPERIMENT_OPEN) expect(result).toBe('skin') }) })\\n})\\n\\n####"}
{"prompt":"define(['@parcel/runtime-service-worker','size-limit','expect.js','codecov.io','ember-cli-dependency-checker','util-deprecate','xxhash-wasm','lerna','is','eslint-config-standard','eslint-plugin-jest','@mdn/browser-compat-data','deep-equal','abortcontroller-polyfill','functions-have-names','sinon','is-json','auto-changelog','rollup-plugin-terser'], function(parcelRuntimeServiceWorker,sizeLimit,expectJs,codecovIo,emberCliDependencyChecker,utilDeprecate,xxhashWasm,lerna,is,eslintConfigStandard,eslintPluginJest,mdnBrowserCompatData,deepEqual,abortcontrollerPolyfill,functionsHaveNames,sinon,isJson,autoChangelog,rollupPluginTerser){\\n'use strict' const coreUtils = require('@wix/santa-core-utils')\\nconst {getThemeData} = require('../helpers/themeDataUtils') const EXPERIMENT_NAME = 'dm_migrateToTextTheme' const enrichThemeDataWithTextThemes = themeData => { const {font, textTheme} = themeData if (!textTheme || !textTheme.length) { themeData.textTheme = font.map(fontString => coreUtils.fonts.fontStringToTextTheme(fontString)) }\\n} const cleanupThemeDataOfTextThemes = themeData => { if (themeData.textTheme) { delete themeData.textTheme }\\n} module.exports = { name: 'textThemesDataFixer', version: 1, exec(pageJson, pageIdsArray, magicObject) { if (pageJson.structure.type === 'Document') { const themeData = getThemeData(pageJson) if (themeData) { if (magicObject.isExperimentOpen(EXPERIMENT_NAME)) { enrichThemeDataWithTextThemes(themeData) } else { cleanupThemeDataOfTextThemes(themeData) } } } return pageJson }, EXPERIMENT_NAME\\n}\\n\\n})\\n####","completion":" import parcelRuntimeServiceWorker from '@parcel/runtime-service-worker'\\nimport sizeLimit from 'size-limit'\\nimport expectJs from 'expect.js'\\nimport codecovIo from 'codecov.io'\\nimport emberCliDependencyChecker from 'ember-cli-dependency-checker'\\nimport utilDeprecate from 'util-deprecate'\\nimport xxhashWasm from 'xxhash-wasm'\\nimport lerna from 'lerna'\\nimport is from 'is'\\nimport eslintConfigStandard from 'eslint-config-standard'\\nimport eslintPluginJest from 'eslint-plugin-jest'\\nimport mdnBrowserCompatData from '@mdn/browser-compat-data'\\nimport deepEqual from 'deep-equal'\\nimport abortcontrollerPolyfill from 'abortcontroller-polyfill'\\nimport functionsHaveNames from 'functions-have-names'\\nimport sinon from 'sinon'\\nimport isJson from 'is-json'\\nimport autoChangelog from 'auto-changelog'\\nimport rollupPluginTerser from 'rollup-plugin-terser'\\n\\n'use strict' const coreUtils = require('@wix/santa-core-utils')\\nconst {getThemeData} = require('../helpers/themeDataUtils') const EXPERIMENT_NAME = 'dm_migrateToTextTheme' const enrichThemeDataWithTextThemes = themeData => { const {font, textTheme} = themeData if (!textTheme || !textTheme.length) { themeData.textTheme = font.map(fontString => coreUtils.fonts.fontStringToTextTheme(fontString)) }\\n} const cleanupThemeDataOfTextThemes = themeData => { if (themeData.textTheme) { delete themeData.textTheme }\\n} module.exports = { name: 'textThemesDataFixer', version: 1, exec(pageJson, pageIdsArray, magicObject) { if (pageJson.structure.type === 'Document') { const themeData = getThemeData(pageJson) if (themeData) { if (magicObject.isExperimentOpen(EXPERIMENT_NAME)) { enrichThemeDataWithTextThemes(themeData) } else { cleanupThemeDataOfTextThemes(themeData) } } } return pageJson }, EXPERIMENT_NAME\\n}\\n\\n####"}
{"prompt":"define(['klaw','event-target-shim','idb','@types/d3-selection','postcss-reduce-initial','sprintf-js','mocha-phantomjs','tslib','@types/chai','karma-phantomjs-launcher','grunt-browserify','grunt-karma','errto','chai-exclude','d3-time-format','regjsparser'], function(klaw,eventTargetShim,idb,typesD3Selection,postcssReduceInitial,sprintfJs,mochaPhantomjs,tslib,typesChai,karmaPhantomjsLauncher,gruntBrowserify,gruntKarma,errto,chaiExclude,d3TimeFormat,regjsparser){\\nimport _ from 'lodash'; function orientStyles(styles, rtl) { styles = styles || {}; const keyMapping = { paddingInlineStart: rtl ? 'paddingRight' : 'paddingLeft', paddingInlineEnd: rtl ? 'paddingLeft' : 'paddingRight', marginInlineStart: rtl ? 'marginRight' : 'marginLeft', marginInlineEnd: rtl ? 'marginLeft' : 'marginRight', inlineStart: rtl ? 'right' : 'left', inlineEnd: rtl ? 'left' : 'right', }; const valMapping = { inlineStart: rtl ? 'right' : 'left', inlineEnd: rtl ? 'left' : 'right', }; let _helper = function(obj) { let ret = {}; _.each(_.keys(obj), key => { if (typeof obj[key] == 'object') { ret[key] = orientStyles(obj[key], rtl); } else if (typeof obj[key] == 'function') { // Do nothing } else if (keyMapping[key]) { ret[keyMapping[key]] = obj[key]; } else { ret[key] = obj[key]; } }); if (ret.textAlign && valMapping[ret.textAlign]) { ret.textAlign = valMapping[ret.textAlign]; } return ret; } return _helper(styles);\\n} export default orientStyles;\\n\\n})\\n####","completion":" import klaw from 'klaw'\\nimport eventTargetShim from 'event-target-shim'\\nimport idb from 'idb'\\nimport typesD3Selection from '@types/d3-selection'\\nimport postcssReduceInitial from 'postcss-reduce-initial'\\nimport sprintfJs from 'sprintf-js'\\nimport mochaPhantomjs from 'mocha-phantomjs'\\nimport tslib from 'tslib'\\nimport typesChai from '@types/chai'\\nimport karmaPhantomjsLauncher from 'karma-phantomjs-launcher'\\nimport gruntBrowserify from 'grunt-browserify'\\nimport gruntKarma from 'grunt-karma'\\nimport errto from 'errto'\\nimport chaiExclude from 'chai-exclude'\\nimport d3TimeFormat from 'd3-time-format'\\nimport regjsparser from 'regjsparser'\\n\\nimport _ from 'lodash'; function orientStyles(styles, rtl) { styles = styles || {}; const keyMapping = { paddingInlineStart: rtl ? 'paddingRight' : 'paddingLeft', paddingInlineEnd: rtl ? 'paddingLeft' : 'paddingRight', marginInlineStart: rtl ? 'marginRight' : 'marginLeft', marginInlineEnd: rtl ? 'marginLeft' : 'marginRight', inlineStart: rtl ? 'right' : 'left', inlineEnd: rtl ? 'left' : 'right', }; const valMapping = { inlineStart: rtl ? 'right' : 'left', inlineEnd: rtl ? 'left' : 'right', }; let _helper = function(obj) { let ret = {}; _.each(_.keys(obj), key => { if (typeof obj[key] == 'object') { ret[key] = orientStyles(obj[key], rtl); } else if (typeof obj[key] == 'function') { // Do nothing } else if (keyMapping[key]) { ret[keyMapping[key]] = obj[key]; } else { ret[key] = obj[key]; } }); if (ret.textAlign && valMapping[ret.textAlign]) { ret.textAlign = valMapping[ret.textAlign]; } return ret; } return _helper(styles);\\n} export default orientStyles;\\n\\n####"}
{"prompt":"define(['make-async-function','wd','whatwg-url','webpack','@ls-lint/ls-lint','locate-path','regjsparser','@babel/plugin-transform-regenerator','detect-libc','@types/ensure-posix-path','jsesc','karma-jasmine-ajax','gitbook-plugin-edit-link','d3-time'], function(makeAsyncFunction,wd,whatwgUrl,webpack,lsLintLsLint,locatePath,regjsparser,babelPluginTransformRegenerator,detectLibc,typesEnsurePosixPath,jsesc,karmaJasmineAjax,gitbookPluginEditLink,d3Time){\\n'use strict';\\nlet path = require('path');\\nlet defaultSettings = require('./defaults'); // Additional npm or bower modules to include in builds\\n// Add all foreign plugins you may need into this array\\n// @example:\\n// let npmBase = path.join(__dirname, '../node_modules');\\n// let additionalPaths = [ path.join(npmBase, 'react-bootstrap') ];\\nlet additionalPaths = []; module.exports = { additionalPaths: additionalPaths, port: defaultSettings.port, debug: true, devtool: 'eval', output: { path: path.join(__dirname, '/../dist/assets'), filename: 'app.js', publicPath: defaultSettings.publicPath }, devServer: { contentBase: './src/', historyApiFallback: true, hot: true, port: defaultSettings.port, publicPath: defaultSettings.publicPath, noInfo: false }, resolve: { extensions: ['', '.js', '.jsx'], alias: { actions: `${defaultSettings.srcPath}/actions/`, components: `${defaultSettings.srcPath}/components/`, sources: `${defaultSettings.srcPath}/sources/`, stores: `${defaultSettings.srcPath}/stores/`, styles: `${defaultSettings.srcPath}/styles/`, config: `${defaultSettings.srcPath}/config/` + process.env.REACT_WEBPACK_ENV, 'react/addons': 'react' } }, module: {}\\n};\\n\\n})\\n####","completion":" import makeAsyncFunction from 'make-async-function'\\nimport wd from 'wd'\\nimport whatwgUrl from 'whatwg-url'\\nimport webpack from 'webpack'\\nimport lsLintLsLint from '@ls-lint/ls-lint'\\nimport locatePath from 'locate-path'\\nimport regjsparser from 'regjsparser'\\nimport babelPluginTransformRegenerator from '@babel/plugin-transform-regenerator'\\nimport detectLibc from 'detect-libc'\\nimport typesEnsurePosixPath from '@types/ensure-posix-path'\\nimport jsesc from 'jsesc'\\nimport karmaJasmineAjax from 'karma-jasmine-ajax'\\nimport gitbookPluginEditLink from 'gitbook-plugin-edit-link'\\nimport d3Time from 'd3-time'\\n\\n'use strict';\\nlet path = require('path');\\nlet defaultSettings = require('./defaults'); // Additional npm or bower modules to include in builds\\n// Add all foreign plugins you may need into this array\\n// @example:\\n// let npmBase = path.join(__dirname, '../node_modules');\\n// let additionalPaths = [ path.join(npmBase, 'react-bootstrap') ];\\nlet additionalPaths = []; module.exports = { additionalPaths: additionalPaths, port: defaultSettings.port, debug: true, devtool: 'eval', output: { path: path.join(__dirname, '/../dist/assets'), filename: 'app.js', publicPath: defaultSettings.publicPath }, devServer: { contentBase: './src/', historyApiFallback: true, hot: true, port: defaultSettings.port, publicPath: defaultSettings.publicPath, noInfo: false }, resolve: { extensions: ['', '.js', '.jsx'], alias: { actions: `${defaultSettings.srcPath}/actions/`, components: `${defaultSettings.srcPath}/components/`, sources: `${defaultSettings.srcPath}/sources/`, stores: `${defaultSettings.srcPath}/stores/`, styles: `${defaultSettings.srcPath}/styles/`, config: `${defaultSettings.srcPath}/config/` + process.env.REACT_WEBPACK_ENV, 'react/addons': 'react' } }, module: {}\\n};\\n\\n####"}
{"prompt":"define(['stylelint-config-standard','serve-handler','url-loader','shx','follow-redirects','babel-plugin-transform-es2015-parameters'], function(stylelintConfigStandard,serveHandler,urlLoader,shx,followRedirects,babelPluginTransformEs2015Parameters){\\n'use strict'\\nconst {noop} = require('lodash') module.exports = ({msid, origUrl, requestId, messagePrefix, dateTimeProvider, sendTraceEvent, origAppName}) => { const timeFromStart = () => dateTimeProvider.timeFromStart() const reportToFrog = ({appName, actionName, actionDurationMs, pageId, pageUrl, tracePosition, message = '', timestampMs, timeFromStartMs: platformTimeFromStartMs}) => { const timeFromStartMs = platformTimeFromStartMs || timeFromStart() const isServerSide = true return sendTraceEvent({ evid: 100, src: 72, msid, request_id: requestId, appName: appName || origAppName, actionName, actionDurationMs, pageId, pageUrl, tracePosition, timeFromStartMs, message: `${messagePrefix}: ${message}`, isServerSide, timestampMs }) } const shouldReport = origUrl && origUrl.toLowerCase().includes('sv_reporttrace') const reportDuration = shouldReport ? reportToFrog : noop return {reportDuration, shouldReport}\\n}\\n\\n})\\n####","completion":" import stylelintConfigStandard from 'stylelint-config-standard'\\nimport serveHandler from 'serve-handler'\\nimport urlLoader from 'url-loader'\\nimport shx from 'shx'\\nimport followRedirects from 'follow-redirects'\\nimport babelPluginTransformEs2015Parameters from 'babel-plugin-transform-es2015-parameters'\\n\\n'use strict'\\nconst {noop} = require('lodash') module.exports = ({msid, origUrl, requestId, messagePrefix, dateTimeProvider, sendTraceEvent, origAppName}) => { const timeFromStart = () => dateTimeProvider.timeFromStart() const reportToFrog = ({appName, actionName, actionDurationMs, pageId, pageUrl, tracePosition, message = '', timestampMs, timeFromStartMs: platformTimeFromStartMs}) => { const timeFromStartMs = platformTimeFromStartMs || timeFromStart() const isServerSide = true return sendTraceEvent({ evid: 100, src: 72, msid, request_id: requestId, appName: appName || origAppName, actionName, actionDurationMs, pageId, pageUrl, tracePosition, timeFromStartMs, message: `${messagePrefix}: ${message}`, isServerSide, timestampMs }) } const shouldReport = origUrl && origUrl.toLowerCase().includes('sv_reporttrace') const reportDuration = shouldReport ? reportToFrog : noop return {reportDuration, shouldReport}\\n}\\n\\n####"}
{"prompt":"define(['vega','concat-stream','@babel/plugin-transform-unicode-regex','karma-jasmine-ajax'], function(vega,concatStream,babelPluginTransformUnicodeRegex,karmaJasmineAjax){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.wix.com/demone2/handyman (48)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/handyman', emulateMobileDevice: false, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/48-handyman/anchors/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import vega from 'vega'\\nimport concatStream from 'concat-stream'\\nimport babelPluginTransformUnicodeRegex from '@babel/plugin-transform-unicode-regex'\\nimport karmaJasmineAjax from 'karma-jasmine-ajax'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.wix.com/demone2/handyman (48)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/handyman', emulateMobileDevice: false, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/48-handyman/anchors/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['console-control-strings','grunt-bowercopy','cpy-cli','temp','@babel/plugin-transform-new-target','@commitlint/config-angular','grunt-contrib-jshint','@types/jest','core-js-pure','array.prototype.reduce'], function(consoleControlStrings,gruntBowercopy,cpyCli,temp,babelPluginTransformNewTarget,commitlintConfigAngular,gruntContribJshint,typesJest,coreJsPure,arrayPrototypeReduce){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.shaiyallin.com/contact (58)', withViewer({ tpaInterceptor, baseUrl: 'https://www.shaiyallin.com/contact', emulateMobileDevice: true, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/58-shai-yalin-contact/anchors/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import consoleControlStrings from 'console-control-strings'\\nimport gruntBowercopy from 'grunt-bowercopy'\\nimport cpyCli from 'cpy-cli'\\nimport temp from 'temp'\\nimport babelPluginTransformNewTarget from '@babel/plugin-transform-new-target'\\nimport commitlintConfigAngular from '@commitlint/config-angular'\\nimport gruntContribJshint from 'grunt-contrib-jshint'\\nimport typesJest from '@types/jest'\\nimport coreJsPure from 'core-js-pure'\\nimport arrayPrototypeReduce from 'array.prototype.reduce'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.shaiyallin.com/contact (58)', withViewer({ tpaInterceptor, baseUrl: 'https://www.shaiyallin.com/contact', emulateMobileDevice: true, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/58-shai-yalin-contact/anchors/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['electron-to-chromium','@parcel/reporter-dev-server','istanbul-instrumenter-loader'], function(electronToChromium,parcelReporterDevServer,istanbulInstrumenterLoader){\\ndefine(['wixCode'], function (wixCode) { 'use strict' const {filePathAffectsBundles, filePathAffectsSingleBundle, bundleIdFromFilePath} = wixCode.wixCodeUserScriptsService function init(ps) { reset(ps) } function reset(ps) { clearBundleCacheKillerMap(ps) updateCacheKillerValue(ps, ps.pointers.wixCode.getGlobalBundleCacheKiller()) } function notifyPathModified(ps, path) { if (filePathAffectsSingleBundle(path)) { const bundleId = bundleIdFromFilePath(path) const bundleCacheKillerPointer = ps.pointers.wixCode.getBundleCacheKiller(bundleId) updateCacheKillerValue(ps, bundleCacheKillerPointer) } else if (filePathAffectsBundles(path)) { reset(ps) } } function getNewCacheKillerValue(existingValue) { const suggestedValue = Date.now().toString() return suggestedValue === existingValue ? `${suggestedValue}_1` : suggestedValue } function updateCacheKillerValue(ps, pointer) { const currentVal = ps.dal.get(pointer) const newValue = getNewCacheKillerValue(currentVal) ps.dal.set(pointer, newValue) } function clearBundleCacheKillerMap(ps) { ps.dal.set(ps.pointers.wixCode.getBundleCacheKillerMap(), {}) } return { init, getNewCacheKillerValue, notifyPathModified }\\n})\\n\\n})\\n####","completion":" import electronToChromium from 'electron-to-chromium'\\nimport parcelReporterDevServer from '@parcel/reporter-dev-server'\\nimport istanbulInstrumenterLoader from 'istanbul-instrumenter-loader'\\n\\ndefine(['wixCode'], function (wixCode) { 'use strict' const {filePathAffectsBundles, filePathAffectsSingleBundle, bundleIdFromFilePath} = wixCode.wixCodeUserScriptsService function init(ps) { reset(ps) } function reset(ps) { clearBundleCacheKillerMap(ps) updateCacheKillerValue(ps, ps.pointers.wixCode.getGlobalBundleCacheKiller()) } function notifyPathModified(ps, path) { if (filePathAffectsSingleBundle(path)) { const bundleId = bundleIdFromFilePath(path) const bundleCacheKillerPointer = ps.pointers.wixCode.getBundleCacheKiller(bundleId) updateCacheKillerValue(ps, bundleCacheKillerPointer) } else if (filePathAffectsBundles(path)) { reset(ps) } } function getNewCacheKillerValue(existingValue) { const suggestedValue = Date.now().toString() return suggestedValue === existingValue ? `${suggestedValue}_1` : suggestedValue } function updateCacheKillerValue(ps, pointer) { const currentVal = ps.dal.get(pointer) const newValue = getNewCacheKillerValue(currentVal) ps.dal.set(pointer, newValue) } function clearBundleCacheKillerMap(ps) { ps.dal.set(ps.pointers.wixCode.getBundleCacheKillerMap(), {}) } return { init, getNewCacheKillerValue, notifyPathModified }\\n})\\n\\n####"}
{"prompt":"define(['lerna'], function(lerna){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.wix.com/demone2/handyman (48)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/handyman', emulateMobileDevice: true, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/48-handyman/anchors/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import lerna from 'lerna'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.wix.com/demone2/handyman (48)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/handyman', emulateMobileDevice: true, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/48-handyman/anchors/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['@parcel/resolver-default','acorn','babel-preset-airbnb','at-least-node','has-strict-mode','clsx','foo','inline-style-prefixer','grunt','far','@mdx-js/react'], function(parcelResolverDefault,acorn,babelPresetAirbnb,atLeastNode,hasStrictMode,clsx,foo,inlineStylePrefixer,grunt,far,mdxJsReact){\\n'use strict' import { ProgrammableJsonServer } from './ProgrammableJsonServer' export class TwitterDriver { constructor({port}) { this._server = new ProgrammableJsonServer({port}) } start() { this._server.start() } stop() { this._server.stop() } reset() { this._server.reset() } api({path, params, ignoreParams = []}) { return { returns: ({value, delay = 0}) => { this._server.addRule({ resource: path, params, delay, responseText: JSON.stringify(value), ignoreParams }) }, failsOnInvalidAuth: () => { this._server.addRule({ resource: path, params, responseText: JSON.stringify({\\\"meta\\\":{\\\"code\\\":401,\\\"errorType\\\":\\\"invalid_auth\\\",\\\"errorDetail\\\":\\\"OAuth token invalid or revoked.\\\"},\\\"response\\\":{}}), ignoreParams }) }, failsWith: ({code, description}) => { this._server.addRule({ resource: path, params, responseText: JSON.stringify({\\\"meta\\\":{\\\"code\\\":401,\\\"errorType\\\":code,\\\"errorDetail\\\":description},\\\"response\\\":{}}), ignoreParams }) }, returnsInvalidResponse: () => { this._server.addRule({ resource: path, params, responseText: '<html><head><title>Error 500</title></head></html>', ignoreParams }) } } }\\n}\\n\\n})\\n####","completion":" import parcelResolverDefault from '@parcel/resolver-default'\\nimport acorn from 'acorn'\\nimport babelPresetAirbnb from 'babel-preset-airbnb'\\nimport atLeastNode from 'at-least-node'\\nimport hasStrictMode from 'has-strict-mode'\\nimport clsx from 'clsx'\\nimport foo from 'foo'\\nimport inlineStylePrefixer from 'inline-style-prefixer'\\nimport grunt from 'grunt'\\nimport far from 'far'\\nimport mdxJsReact from '@mdx-js/react'\\n\\n'use strict' import { ProgrammableJsonServer } from './ProgrammableJsonServer' export class TwitterDriver { constructor({port}) { this._server = new ProgrammableJsonServer({port}) } start() { this._server.start() } stop() { this._server.stop() } reset() { this._server.reset() } api({path, params, ignoreParams = []}) { return { returns: ({value, delay = 0}) => { this._server.addRule({ resource: path, params, delay, responseText: JSON.stringify(value), ignoreParams }) }, failsOnInvalidAuth: () => { this._server.addRule({ resource: path, params, responseText: JSON.stringify({\\\"meta\\\":{\\\"code\\\":401,\\\"errorType\\\":\\\"invalid_auth\\\",\\\"errorDetail\\\":\\\"OAuth token invalid or revoked.\\\"},\\\"response\\\":{}}), ignoreParams }) }, failsWith: ({code, description}) => { this._server.addRule({ resource: path, params, responseText: JSON.stringify({\\\"meta\\\":{\\\"code\\\":401,\\\"errorType\\\":code,\\\"errorDetail\\\":description},\\\"response\\\":{}}), ignoreParams }) }, returnsInvalidResponse: () => { this._server.addRule({ resource: path, params, responseText: '<html><head><title>Error 500</title></head></html>', ignoreParams }) } } }\\n}\\n\\n####"}
{"prompt":"define(['buffer','postcss-discard-empty'], function(buffer,postcssDiscardEmpty){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.wix.com/demone2/actor-model-resume (29)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/actor-model-resume', emulateMobileDevice: true, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/29-actor-model-resume/anchors/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import buffer from 'buffer'\\nimport postcssDiscardEmpty from 'postcss-discard-empty'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.wix.com/demone2/actor-model-resume (29)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/actor-model-resume', emulateMobileDevice: true, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/29-actor-model-resume/anchors/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['grunt-browserify','nanoid','@babel/plugin-transform-object-super','gitbook-plugin-prism','q','@parcel/diagnostic','@babel/plugin-syntax-private-property-in-object','pre-suf','@types/deep-equal','webpack-cli','twist','fastest-levenshtein','sauce-connect-launcher','@types/es6-promisify'], function(gruntBrowserify,nanoid,babelPluginTransformObjectSuper,gitbookPluginPrism,q,parcelDiagnostic,babelPluginSyntaxPrivatePropertyInObject,preSuf,typesDeepEqual,webpackCli,twist,fastestLevenshtein,sauceConnectLauncher,typesEs6Promisify){\\n'use strict' const MASTER_PAGE_ID = 'masterPage' const DEFAULT_CONTROLLER_APP_ID = 'dataBinding' const TPA_WIDGET = 'wysiwyg.viewer.components.tpapps.TPAWidget'\\nconst TPA_SECTION = 'wysiwyg.viewer.components.tpapps.TPASection'\\nconst TPA_MULTI_SECTION = 'wysiwyg.viewer.components.tpapps.TPAMultiSection'\\nconst CONTAINER = 'mobile.core.components.Container'\\nconst BUTTON = 'wysiwyg.viewer.components.SiteButton'\\nconst APP_CONTROLLER = 'platform.components.AppController'\\nconst TPA_GLOBAL_DATA_TYPE = 'TPAGlobalData' const SITE_HEADER = 'SITE_HEADER'\\nconst SITE_FOOTER = 'SITE_FOOTER'\\nconst SITE_COLORS = [ '#FFFFFF', '#FFFFFF', '#000000', '#ED1C24', '#0088CB', '#FFCB05', '#727272', '#B0B0B0', '#FFFFFF', '#727272', '#B0B0B0', '#FFFFFF', '#F9F9F9', '#D4D4D2', '123,44,55', '#414141', '#D9F0FD', '#BEE5FB', '#7FCCF7', '#40667C', '#213D4D', '#ADC6F8', '#83A8F0', '#155DE9', '#0E3E9B', '#071F4E', '#C4AEDD', '#9C7FBA', '#663898', '#442565', '#221333', '#E5FAD1', '#CAE5AF', '#9BCB6C', '#4E6636', '#27331B'\\n] module.exports = { MASTER_PAGE_ID, SITE_HEADER, SITE_FOOTER, DEFAULT_CONTROLLER_APP_ID, SITE_COLORS, COMP_TYPES: { TPA_WIDGET, TPA_SECTION, TPA_MULTI_SECTION, BUTTON, CONTAINER, APP_CONTROLLER, TPA_GLOBAL_DATA_TYPE }\\n}\\n\\n})\\n####","completion":" import gruntBrowserify from 'grunt-browserify'\\nimport nanoid from 'nanoid'\\nimport babelPluginTransformObjectSuper from '@babel/plugin-transform-object-super'\\nimport gitbookPluginPrism from 'gitbook-plugin-prism'\\nimport q from 'q'\\nimport parcelDiagnostic from '@parcel/diagnostic'\\nimport babelPluginSyntaxPrivatePropertyInObject from '@babel/plugin-syntax-private-property-in-object'\\nimport preSuf from 'pre-suf'\\nimport typesDeepEqual from '@types/deep-equal'\\nimport webpackCli from 'webpack-cli'\\nimport twist from 'twist'\\nimport fastestLevenshtein from 'fastest-levenshtein'\\nimport sauceConnectLauncher from 'sauce-connect-launcher'\\nimport typesEs6Promisify from '@types/es6-promisify'\\n\\n'use strict' const MASTER_PAGE_ID = 'masterPage' const DEFAULT_CONTROLLER_APP_ID = 'dataBinding' const TPA_WIDGET = 'wysiwyg.viewer.components.tpapps.TPAWidget'\\nconst TPA_SECTION = 'wysiwyg.viewer.components.tpapps.TPASection'\\nconst TPA_MULTI_SECTION = 'wysiwyg.viewer.components.tpapps.TPAMultiSection'\\nconst CONTAINER = 'mobile.core.components.Container'\\nconst BUTTON = 'wysiwyg.viewer.components.SiteButton'\\nconst APP_CONTROLLER = 'platform.components.AppController'\\nconst TPA_GLOBAL_DATA_TYPE = 'TPAGlobalData' const SITE_HEADER = 'SITE_HEADER'\\nconst SITE_FOOTER = 'SITE_FOOTER'\\nconst SITE_COLORS = [ '#FFFFFF', '#FFFFFF', '#000000', '#ED1C24', '#0088CB', '#FFCB05', '#727272', '#B0B0B0', '#FFFFFF', '#727272', '#B0B0B0', '#FFFFFF', '#F9F9F9', '#D4D4D2', '123,44,55', '#414141', '#D9F0FD', '#BEE5FB', '#7FCCF7', '#40667C', '#213D4D', '#ADC6F8', '#83A8F0', '#155DE9', '#0E3E9B', '#071F4E', '#C4AEDD', '#9C7FBA', '#663898', '#442565', '#221333', '#E5FAD1', '#CAE5AF', '#9BCB6C', '#4E6636', '#27331B'\\n] module.exports = { MASTER_PAGE_ID, SITE_HEADER, SITE_FOOTER, DEFAULT_CONTROLLER_APP_ID, SITE_COLORS, COMP_TYPES: { TPA_WIDGET, TPA_SECTION, TPA_MULTI_SECTION, BUTTON, CONTAINER, APP_CONTROLLER, TPA_GLOBAL_DATA_TYPE }\\n}\\n\\n####"}
{"prompt":"define(['nth-check','@types/argparse','deep-equal','diff','@bazel/typescript','@babel/plugin-transform-regenerator','chai-subset'], function(nthCheck,typesArgparse,deepEqual,diff,bazelTypescript,babelPluginTransformRegenerator,chaiSubset){\\n// All Wix TPAs in the editor/preview/viewer are initialized with a Wix Instance\\n// to tell them various information about the environment (eg. instanceId, userId,\\n// etc...)\\n// This reducer will holder the Wix Instance used to initialize the system. import WixInstance from '@wix/wixrest-utils/dist/WixInstance';\\nimport * as WixInstanceActions from '../actions/WixInstanceActions'; let INITIAL_STATE = { instance:null\\n}; const HANDLERS = { [WixInstanceActions.types.SET_INSTANCE] : (payload, state) => { WixInstance.init(payload.instance, payload.appId); const parsed = WixInstance.getParsedInstance() ? _.extend({}, WixInstance.getParsedInstance(), { permissions: WixInstance.getPermissions() }) : null; return { ...state, value: payload.instance, appId: payload.appId, instance: WixInstance, parsed }; }\\n}; export default function(state = INITIAL_STATE, action = {}) { let handler = HANDLERS[action.type] || (() => state); return handler(action.payload, state);\\n}\\n\\n})\\n####","completion":" import nthCheck from 'nth-check'\\nimport typesArgparse from '@types/argparse'\\nimport deepEqual from 'deep-equal'\\nimport diff from 'diff'\\nimport bazelTypescript from '@bazel/typescript'\\nimport babelPluginTransformRegenerator from '@babel/plugin-transform-regenerator'\\nimport chaiSubset from 'chai-subset'\\n\\n// All Wix TPAs in the editor/preview/viewer are initialized with a Wix Instance\\n// to tell them various information about the environment (eg. instanceId, userId,\\n// etc...)\\n// This reducer will holder the Wix Instance used to initialize the system. import WixInstance from '@wix/wixrest-utils/dist/WixInstance';\\nimport * as WixInstanceActions from '../actions/WixInstanceActions'; let INITIAL_STATE = { instance:null\\n}; const HANDLERS = { [WixInstanceActions.types.SET_INSTANCE] : (payload, state) => { WixInstance.init(payload.instance, payload.appId); const parsed = WixInstance.getParsedInstance() ? _.extend({}, WixInstance.getParsedInstance(), { permissions: WixInstance.getPermissions() }) : null; return { ...state, value: payload.instance, appId: payload.appId, instance: WixInstance, parsed }; }\\n}; export default function(state = INITIAL_STATE, action = {}) { let handler = HANDLERS[action.type] || (() => state); return handler(action.payload, state);\\n}\\n\\n####"}
{"prompt":"define(['@mapbox/node-pre-gyp','lodash','browserify-istanbul','expect','@types/rimraf','iconv','@types/svgo','tar'], function(mapboxNodePreGyp,lodash,browserifyIstanbul,expect,typesRimraf,iconv,typesSvgo,tar){\\n'use strict' const _ = require('lodash') const KEYWORD_SIZE_TYPES = new Set(['auto', 'maxContent', 'minContent'])\\nconst SINGLE_LAYOUT_DATA_TYPE = 'SingleLayoutData' function fixInvalidLayoutSize(layoutData) { if (!_.isPlainObject(layoutData) && !_.isArray(layoutData)) return if (layoutData.type && KEYWORD_SIZE_TYPES.has(layoutData.type) && Object.keys(layoutData).length === 2) { delete layoutData.value return } _.forEach(layoutData, fixInvalidLayoutSize)\\n} function exec(pageJson, pageIdsArray, magicObject) { if (!magicObject.isExperimentOpen('dm_invalidLayoutSizeFixer')) return const layouts = _.get(pageJson, 'data.layout_data') if (!layouts) return _(layouts).pickBy({type: SINGLE_LAYOUT_DATA_TYPE}).forOwn(fixInvalidLayoutSize)\\n} /** * Fixes all layout size objects that are a mix of UnitSize and KeywordSize. * For example: {type: 'auto', value: 5} * This was caused by an issue in the schema builder that allowed putting any string as type for UnitSize. * @exports utils/dataFixer/plugins/invalidLayoutSizeFixer * @type {{exec: function}} */\\nmodule.exports = { name: 'invalidLayoutSizeFixer', version: 1, exec\\n}\\n\\n})\\n####","completion":" import mapboxNodePreGyp from '@mapbox/node-pre-gyp'\\nimport lodash from 'lodash'\\nimport browserifyIstanbul from 'browserify-istanbul'\\nimport expect from 'expect'\\nimport typesRimraf from '@types/rimraf'\\nimport iconv from 'iconv'\\nimport typesSvgo from '@types/svgo'\\nimport tar from 'tar'\\n\\n'use strict' const _ = require('lodash') const KEYWORD_SIZE_TYPES = new Set(['auto', 'maxContent', 'minContent'])\\nconst SINGLE_LAYOUT_DATA_TYPE = 'SingleLayoutData' function fixInvalidLayoutSize(layoutData) { if (!_.isPlainObject(layoutData) && !_.isArray(layoutData)) return if (layoutData.type && KEYWORD_SIZE_TYPES.has(layoutData.type) && Object.keys(layoutData).length === 2) { delete layoutData.value return } _.forEach(layoutData, fixInvalidLayoutSize)\\n} function exec(pageJson, pageIdsArray, magicObject) { if (!magicObject.isExperimentOpen('dm_invalidLayoutSizeFixer')) return const layouts = _.get(pageJson, 'data.layout_data') if (!layouts) return _(layouts).pickBy({type: SINGLE_LAYOUT_DATA_TYPE}).forOwn(fixInvalidLayoutSize)\\n} /** * Fixes all layout size objects that are a mix of UnitSize and KeywordSize. * For example: {type: 'auto', value: 5} * This was caused by an issue in the schema builder that allowed putting any string as type for UnitSize. * @exports utils/dataFixer/plugins/invalidLayoutSizeFixer * @type {{exec: function}} */\\nmodule.exports = { name: 'invalidLayoutSizeFixer', version: 1, exec\\n}\\n\\n####"}
{"prompt":"define(['tsd-check','srcset','co','grunt-clean'], function(tsdCheck,srcset,co,gruntClean){\\n'use strict'\\nconst fontCss = require('../src/runtime/fontCss') describe('fontCss', () => { it('should convert fontToCSSWithoutColor', () => { const themData = { color: ['#FAFAFA'] } expect(fontCss.fontToCSSWithoutColor('aa bb cc {color_0} almoni-dl-aaa-700', themData, true)).toEqual('aa bb cc almoni-dl-aaa-700,sans-serif;') }) it('should convert fontToCSSWithoutColor that contain - font_', () => { const themData = { font: ['lala', 'normal normal normal 23px/1.4em arial+black {color_0}'], color: ['#FAFAFA'] } expect(fontCss.fontToCSSWithoutColor('font_1', themData, true)).toEqual('normal normal normal 23px/1.4em \\'arial black\\',arial-w01-black,arial-w02-black,\\'arial-w10 black\\',sans-serif ;') }) it('should work for font with spaces or non-latin chars', () => { const themData = { color: ['#FAFAFA'] } expect(fontCss.fontToCSSWithoutColor('normal normal normal 23px/1.4em ｍｓ+ｐゴシック {color_0}', themData, true)) .toEqual('normal normal normal 23px/1.4em \\'ｍｓ ｐゴシック\\',\\'ms pgothic\\',\\'ヒラギノ角ゴ pro w3\\',\\'hiragino kaku gothic pro\\',osaka,sans-serif ;') })\\n})\\n\\n})\\n####","completion":" import tsdCheck from 'tsd-check'\\nimport srcset from 'srcset'\\nimport co from 'co'\\nimport gruntClean from 'grunt-clean'\\n\\n'use strict'\\nconst fontCss = require('../src/runtime/fontCss') describe('fontCss', () => { it('should convert fontToCSSWithoutColor', () => { const themData = { color: ['#FAFAFA'] } expect(fontCss.fontToCSSWithoutColor('aa bb cc {color_0} almoni-dl-aaa-700', themData, true)).toEqual('aa bb cc almoni-dl-aaa-700,sans-serif;') }) it('should convert fontToCSSWithoutColor that contain - font_', () => { const themData = { font: ['lala', 'normal normal normal 23px/1.4em arial+black {color_0}'], color: ['#FAFAFA'] } expect(fontCss.fontToCSSWithoutColor('font_1', themData, true)).toEqual('normal normal normal 23px/1.4em \\'arial black\\',arial-w01-black,arial-w02-black,\\'arial-w10 black\\',sans-serif ;') }) it('should work for font with spaces or non-latin chars', () => { const themData = { color: ['#FAFAFA'] } expect(fontCss.fontToCSSWithoutColor('normal normal normal 23px/1.4em ｍｓ+ｐゴシック {color_0}', themData, true)) .toEqual('normal normal normal 23px/1.4em \\'ｍｓ ｐゴシック\\',\\'ms pgothic\\',\\'ヒラギノ角ゴ pro w3\\',\\'hiragino kaku gothic pro\\',osaka,sans-serif ;') })\\n})\\n\\n####"}
{"prompt":"define(['jshint','grunt-mocha-istanbul','esutils','events','mocha-phantomjs','load-grunt-tasks','chalk','@types/chai','acorn-jsx','is-json'], function(jshint,gruntMochaIstanbul,esutils,events,mochaPhantomjs,loadGruntTasks,chalk,typesChai,acornJsx,isJson){\\nexport class OpenrestAuthenticator { constructor({openrest}) { this._openrest = openrest; } getId() { return 'com.openrest'; } async authenticate(data) { const legacyOpenrestAccessToken = data; const parts = legacyOpenrestAccessToken.split('\\|'); if ((parts.length !== 3) || (parts[0] !== 'spice')) { throw { type: 'https://www.wixrestaurants.com/errors/invalid_data', detail: 'invalid legacy access token format' }; } try { const userId = await this._openrest.authenticate({ credentials: { username: parts[1], password: parts[2] } }); return { ns: 'com.openrest', id: userId }; } catch (e) { switch (e.code) { case 'no_permission': throw { type: 'https://www.wixrestaurants.com/errors/forbidden', detail: 'invalid username/password' }; default: throw { type: 'https://www.wixrestaurants.com/errors/internal', detail: `${e.code}|${e.description}` }; } } }\\n}\\n\\n})\\n####","completion":" import jshint from 'jshint'\\nimport gruntMochaIstanbul from 'grunt-mocha-istanbul'\\nimport esutils from 'esutils'\\nimport events from 'events'\\nimport mochaPhantomjs from 'mocha-phantomjs'\\nimport loadGruntTasks from 'load-grunt-tasks'\\nimport chalk from 'chalk'\\nimport typesChai from '@types/chai'\\nimport acornJsx from 'acorn-jsx'\\nimport isJson from 'is-json'\\n\\nexport class OpenrestAuthenticator { constructor({openrest}) { this._openrest = openrest; } getId() { return 'com.openrest'; } async authenticate(data) { const legacyOpenrestAccessToken = data; const parts = legacyOpenrestAccessToken.split('\\|'); if ((parts.length !== 3) || (parts[0] !== 'spice')) { throw { type: 'https://www.wixrestaurants.com/errors/invalid_data', detail: 'invalid legacy access token format' }; } try { const userId = await this._openrest.authenticate({ credentials: { username: parts[1], password: parts[2] } }); return { ns: 'com.openrest', id: userId }; } catch (e) { switch (e.code) { case 'no_permission': throw { type: 'https://www.wixrestaurants.com/errors/forbidden', detail: 'invalid username/password' }; default: throw { type: 'https://www.wixrestaurants.com/errors/internal', detail: `${e.code}|${e.description}` }; } } }\\n}\\n\\n####"}
{"prompt":"define(['idb','setimmediate','delegates','@parcel/fs-write-stream-atomic','@babel/plugin-proposal-object-rest-spread','world-atlas','eslint-plugin-node','json-parse-even-better-errors'], function(idb,setimmediate,delegates,parcelFsWriteStreamAtomic,babelPluginProposalObjectRestSpread,worldAtlas,eslintPluginNode,jsonParseEvenBetterErrors){\\nimport PropTypes from 'prop-types';\\nimport React from 'react'; import createReactClass from 'create-react-class'; export default createReactClass({ displayName: 'ExclamationMark', PropTypes: { width: PropTypes.number, height: PropTypes.number, className: PropTypes.string }, getDefaultProps() { return { width: 18, height: 18, className: '' }; }, render() { let { width, height, className } = this.props; return ( <svg className={className} width={width} height={height} viewBox=\\\"0 0 18 18\\\" > <g stroke=\\\"none\\\" strokeWidth=\\\"1\\\" fill=\\\"none\\\" fillRule=\\\"evenodd\\\"> <circle fill=\\\"#D7233E\\\" cx=\\\"9\\\" cy=\\\"9\\\" r=\\\"9\\\"></circle> <polygon fill=\\\"#FFFFFF\\\" points=\\\"8 4 8 10 10 10 10 4\\\"></polygon> <polygon fill=\\\"#FFFFFF\\\" points=\\\"8 12 8 14 10 14 10 12\\\"></polygon> </g> </svg> ); }\\n});\\n\\n})\\n####","completion":" import idb from 'idb'\\nimport setimmediate from 'setimmediate'\\nimport delegates from 'delegates'\\nimport parcelFsWriteStreamAtomic from '@parcel/fs-write-stream-atomic'\\nimport babelPluginProposalObjectRestSpread from '@babel/plugin-proposal-object-rest-spread'\\nimport worldAtlas from 'world-atlas'\\nimport eslintPluginNode from 'eslint-plugin-node'\\nimport jsonParseEvenBetterErrors from 'json-parse-even-better-errors'\\n\\nimport PropTypes from 'prop-types';\\nimport React from 'react'; import createReactClass from 'create-react-class'; export default createReactClass({ displayName: 'ExclamationMark', PropTypes: { width: PropTypes.number, height: PropTypes.number, className: PropTypes.string }, getDefaultProps() { return { width: 18, height: 18, className: '' }; }, render() { let { width, height, className } = this.props; return ( <svg className={className} width={width} height={height} viewBox=\\\"0 0 18 18\\\" > <g stroke=\\\"none\\\" strokeWidth=\\\"1\\\" fill=\\\"none\\\" fillRule=\\\"evenodd\\\"> <circle fill=\\\"#D7233E\\\" cx=\\\"9\\\" cy=\\\"9\\\" r=\\\"9\\\"></circle> <polygon fill=\\\"#FFFFFF\\\" points=\\\"8 4 8 10 10 10 10 4\\\"></polygon> <polygon fill=\\\"#FFFFFF\\\" points=\\\"8 12 8 14 10 14 10 12\\\"></polygon> </g> </svg> ); }\\n});\\n\\n####"}
{"prompt":"define(['babel-preset-moxy','get-symbol-description','nth-check','sprintf-js'], function(babelPresetMoxy,getSymbolDescription,nthCheck,sprintfJs){\\nimport {fixtures} from 'openrest4js'; import availabilityRangeGroups from './availabilityRangeGroups.js';\\nimport cart from './cart';\\nimport deliveryInfo from './deliveryInfo';\\nimport clientInfo from './clientInfo';\\nimport deliveryPickupSelectionMode from './deliveryPickupSelectionMode.js';\\nimport notifications from './notifications';\\nimport organization from './organization';\\nimport * as moment from './moment';\\nimport order from './order';\\nimport branch from './branch';\\nimport i18n from './i18n';\\nimport menu from './menu'; const {ChargeV2:charge, Availability:weeklyAvailability, OrderItem:orderItem} = fixtures; export {availabilityRangeGroups};\\nexport {cart};\\nexport {deliveryInfo};\\nexport {clientInfo};\\nexport {deliveryPickupSelectionMode};\\nexport {notifications};\\nexport {organization};\\nexport {charge};\\nexport {weeklyAvailability};\\nexport {moment};\\nexport {order};\\nexport {branch};\\nexport {orderItem};\\nexport {i18n};\\nexport {menu};\\nexport const metasite = require('./metasite').default;\\nexport {default as reservation} from './reservation';\\n\\n})\\n####","completion":" import babelPresetMoxy from 'babel-preset-moxy'\\nimport getSymbolDescription from 'get-symbol-description'\\nimport nthCheck from 'nth-check'\\nimport sprintfJs from 'sprintf-js'\\n\\nimport {fixtures} from 'openrest4js'; import availabilityRangeGroups from './availabilityRangeGroups.js';\\nimport cart from './cart';\\nimport deliveryInfo from './deliveryInfo';\\nimport clientInfo from './clientInfo';\\nimport deliveryPickupSelectionMode from './deliveryPickupSelectionMode.js';\\nimport notifications from './notifications';\\nimport organization from './organization';\\nimport * as moment from './moment';\\nimport order from './order';\\nimport branch from './branch';\\nimport i18n from './i18n';\\nimport menu from './menu'; const {ChargeV2:charge, Availability:weeklyAvailability, OrderItem:orderItem} = fixtures; export {availabilityRangeGroups};\\nexport {cart};\\nexport {deliveryInfo};\\nexport {clientInfo};\\nexport {deliveryPickupSelectionMode};\\nexport {notifications};\\nexport {organization};\\nexport {charge};\\nexport {weeklyAvailability};\\nexport {moment};\\nexport {order};\\nexport {branch};\\nexport {orderItem};\\nexport {i18n};\\nexport {menu};\\nexport const metasite = require('./metasite').default;\\nexport {default as reservation} from './reservation';\\n\\n####"}
{"prompt":"define(['webdriverio','npmignore','ieee754','@types/ensure-posix-path','@mdn/browser-compat-data','postcss-normalize-repeat-style'], function(webdriverio,npmignore,ieee754,typesEnsurePosixPath,mdnBrowserCompatData,postcssNormalizeRepeatStyle){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.wix.com/demone2/outdoor-bags (9)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/outdoor-bags', emulateMobileDevice: false, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/9-outdoor-bags/mesh/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import webdriverio from 'webdriverio'\\nimport npmignore from 'npmignore'\\nimport ieee754 from 'ieee754'\\nimport typesEnsurePosixPath from '@types/ensure-posix-path'\\nimport mdnBrowserCompatData from '@mdn/browser-compat-data'\\nimport postcssNormalizeRepeatStyle from 'postcss-normalize-repeat-style'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.wix.com/demone2/outdoor-bags (9)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/outdoor-bags', emulateMobileDevice: false, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/9-outdoor-bags/mesh/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['core-js','domhandler','fast-glob','ajv','gitbook-plugin-prism','convert-source-map','event-target-shim','knox','eslint-plugin-prettier','dot','bluebird-retry','postcss-discard-empty'], function(coreJs,domhandler,fastGlob,ajv,gitbookPluginPrism,convertSourceMap,eventTargetShim,knox,eslintPluginPrettier,dot,bluebirdRetry,postcssDiscardEmpty){\\ndefine(['documentServices/dataModel/dataModel', 'documentServices/mobileConversion/modules/textStats'], function (dataModel, textStats) { const getProps = (ps, component, pageId) => { const propsPointer = ps.pointers.data.getPropertyItem(component.propertyQuery, pageId) return dataModel.getPropertiesItemById(ps, propsPointer.id, pageId) || {} } const getWRichTextConversionData = (ps, component, pageId) => { const {verticalText} = getProps(ps, component, pageId) const conversionData = { isVerticalText: verticalText } if (verticalText) { const {approximateMobileHeight, approximateMobileWidth} = textStats.getTextsData(ps, component, pageId, verticalText) conversionData.mobileHints = { recommendedHeight: approximateMobileHeight, recommendedWidth: approximateMobileWidth } } return conversionData } return { getWRichTextConversionData }\\n})\\n\\n})\\n####","completion":" import coreJs from 'core-js'\\nimport domhandler from 'domhandler'\\nimport fastGlob from 'fast-glob'\\nimport ajv from 'ajv'\\nimport gitbookPluginPrism from 'gitbook-plugin-prism'\\nimport convertSourceMap from 'convert-source-map'\\nimport eventTargetShim from 'event-target-shim'\\nimport knox from 'knox'\\nimport eslintPluginPrettier from 'eslint-plugin-prettier'\\nimport dot from 'dot'\\nimport bluebirdRetry from 'bluebird-retry'\\nimport postcssDiscardEmpty from 'postcss-discard-empty'\\n\\ndefine(['documentServices/dataModel/dataModel', 'documentServices/mobileConversion/modules/textStats'], function (dataModel, textStats) { const getProps = (ps, component, pageId) => { const propsPointer = ps.pointers.data.getPropertyItem(component.propertyQuery, pageId) return dataModel.getPropertiesItemById(ps, propsPointer.id, pageId) || {} } const getWRichTextConversionData = (ps, component, pageId) => { const {verticalText} = getProps(ps, component, pageId) const conversionData = { isVerticalText: verticalText } if (verticalText) { const {approximateMobileHeight, approximateMobileWidth} = textStats.getTextsData(ps, component, pageId, verticalText) conversionData.mobileHints = { recommendedHeight: approximateMobileHeight, recommendedWidth: approximateMobileWidth } } return conversionData } return { getWRichTextConversionData }\\n})\\n\\n####"}
{"prompt":"define(['@babel/plugin-transform-classes','@commitlint/cli','@babel/helper-explode-assignable-expression','shx','unicode-match-property-value-ecmascript','@babel/plugin-transform-for-of','eslint-config-gulp','d3-time','micromatch','dtslint','preact-render-spy','kcd-scripts','karma-mocha-reporter','jsdoc-to-markdown','should','formidable','sourcemap-codec'], function(postcssDiscardEmpty,commitlintCli,errorEx,urlLoader,postcssUniqueSelectors,tapeAwait,istanbulCoveralls,gitbookPluginEditLink,mergeStream,dtslint,teenyRequest,babelPluginTransformEs2015BlockScoping,lruCache,httpsBrowserify,objectKeys,gruntExec,sourcemapCodec){\\nimport _ from 'lodash';\\nimport sinon from 'sinon'; export default function createModuleRegistry({ getModule } = {}) { const listeners = []; const notifyListenersSpy = sinon.spy(); const invokeSpy = sinon.spy(); const registerComponentSpy = sinon.spy(); const registeredMethods = {}; const ModuleRegistry = { notifyListeners: (ofTopic, payload) => { notifyListenersSpy(ofTopic, payload); listeners.forEach(({ topic, callback }) => { if (topic === ofTopic) { callback(payload); } }); }, addListener: (topic, callback) => { listeners.push({ topic, callback }); }, registerMethod: (topic, callback) => { registeredMethods[topic] = callback; }, registerComponent: (key, fn) => { registerComponentSpy(key, fn); }, invoke: (topic, ...args) => { invokeSpy(topic, ...args); const method = registeredMethods[topic]; return method && method(topic, ...args); }, getModule, }; return { ModuleRegistry, spies: { notifyListeners: notifyListenersSpy, invoke: invokeSpy, registerComponentSpy, }, };\\n}\\n\\n})\\n####","completion":" import postcssDiscardEmpty from '@babel/plugin-transform-classes'\\nimport commitlintCli from '@commitlint/cli'\\nimport errorEx from '@babel/helper-explode-assignable-expression'\\nimport urlLoader from 'shx'\\nimport postcssUniqueSelectors from 'unicode-match-property-value-ecmascript'\\nimport tapeAwait from '@babel/plugin-transform-for-of'\\nimport istanbulCoveralls from 'eslint-config-gulp'\\nimport gitbookPluginEditLink from 'd3-time'\\nimport mergeStream from 'micromatch'\\nimport dtslint from 'dtslint'\\nimport teenyRequest from 'preact-render-spy'\\nimport babelPluginTransformEs2015BlockScoping from 'kcd-scripts'\\nimport lruCache from 'karma-mocha-reporter'\\nimport httpsBrowserify from 'jsdoc-to-markdown'\\nimport objectKeys from 'should'\\nimport gruntExec from 'formidable'\\nimport sourcemapCodec from 'sourcemap-codec'\\n\\nimport _ from 'lodash';\\nimport sinon from 'sinon'; export default function createModuleRegistry({ getModule } = {}) { const listeners = []; const notifyListenersSpy = sinon.spy(); const invokeSpy = sinon.spy(); const registerComponentSpy = sinon.spy(); const registeredMethods = {}; const ModuleRegistry = { notifyListeners: (ofTopic, payload) => { notifyListenersSpy(ofTopic, payload); listeners.forEach(({ topic, callback }) => { if (topic === ofTopic) { callback(payload); } }); }, addListener: (topic, callback) => { listeners.push({ topic, callback }); }, registerMethod: (topic, callback) => { registeredMethods[topic] = callback; }, registerComponent: (key, fn) => { registerComponentSpy(key, fn); }, invoke: (topic, ...args) => { invokeSpy(topic, ...args); const method = registeredMethods[topic]; return method && method(topic, ...args); }, getModule, }; return { ModuleRegistry, spies: { notifyListeners: notifyListenersSpy, invoke: invokeSpy, registerComponentSpy, }, };\\n}\\n\\n####"}
{"prompt":"define(['gnode','grunt-shell','domhandler','jest-cli'], function(gnode,flowCopySource,coreJs,jestCli){\\nimport sagaReducerFactory from 'saga-reducer-factory';\\nimport { actions, types } from '../actions/addressActions.js';\\nimport { actions as restaurantsListActions } from '../actions/restaurantsList.js';\\nimport { put } from 'redux-saga/effects';\\nimport {deliveryAddressCookieKey} from '../consts.js'; export default sagaParams => { const defaultAddress = { formatted: 'נמל תל אביב 40, תל אביב יפו, ישראל', latLng: {lat: 32.0972337, lng: 34.773851599999944} }; const {handle, saga, reducer, updateState} = sagaReducerFactory({ actionTypes: types, actionCreators: actions, initState: sagaParams.address || defaultAddress }); handle(types.SET_ADDRESS, function* (sagaParams, {payload}) { const address = { formatted: payload.formatted, latLng: payload.location }; yield put(updateState(address)); sagaParams.cookieService.set(deliveryAddressCookieKey, address); yield put(restaurantsListActions.loadRestaurantsList()); }); return {saga, reducer}\\n};\\n\\n})\\n####","completion":" import gnode from 'gnode'\\nimport flowCopySource from 'grunt-shell'\\nimport coreJs from 'domhandler'\\nimport jestCli from 'jest-cli'\\n\\nimport sagaReducerFactory from 'saga-reducer-factory';\\nimport { actions, types } from '../actions/addressActions.js';\\nimport { actions as restaurantsListActions } from '../actions/restaurantsList.js';\\nimport { put } from 'redux-saga/effects';\\nimport {deliveryAddressCookieKey} from '../consts.js'; export default sagaParams => { const defaultAddress = { formatted: 'נמל תל אביב 40, תל אביב יפו, ישראל', latLng: {lat: 32.0972337, lng: 34.773851599999944} }; const {handle, saga, reducer, updateState} = sagaReducerFactory({ actionTypes: types, actionCreators: actions, initState: sagaParams.address || defaultAddress }); handle(types.SET_ADDRESS, function* (sagaParams, {payload}) { const address = { formatted: payload.formatted, latLng: payload.location }; yield put(updateState(address)); sagaParams.cookieService.set(deliveryAddressCookieKey, address); yield put(restaurantsListActions.loadRestaurantsList()); }); return {saga, reducer}\\n};\\n\\n####"}
{"prompt":"define(['typedoc','node-forge','rollup-plugin-uglify','array.prototype.indexof','lolex','@parcel/transformer-raw'], function(typedoc,requirejs,rollupPluginUglify,arrayPrototypeIndexof,regexpPrototypeFlags,parcelTransformerRaw){\\nconst _ = require('lodash')\\nconst initBrowser = async (editorFrame, url) => { await editorFrame.setUserAgent('Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3738.0 Safari/537.36') const pageTitle = `siteHistory - Kof Nae ${Date.now()}` await editorFrame.setViewport({width: 1600, height: 1200}) console.log(`editorFrame.goto(url) ${url}`) await editorFrame.goto(url) console.log('editorFrame.goto(url) done') console.log('navigated to url') await editorFrame.evaluate(title => { window.document.title = title const link = document.querySelector(\\\"link[rel*='icon']\\\") || document.createElement('link') link.type = 'image/x-icon' link.rel = 'shortcut icon' link.href = 'https://static.mailchimp.com/web/favicon.ico' document.getElementsByTagName('head')[0].appendChild(link) }, pageTitle) let previewFrame = null while (!previewFrame) { await editorFrame.waitFor(1000) const frames = await editorFrame.frames() previewFrame = _.find(frames, frame => frame.url().includes('//editor.wix.com/html/editor/web/renderer/revisions/view')) } return {editorFrame, previewFrame, pageTitle}\\n} module.exports = initBrowser \\n})\\n####","completion":" import typedoc from 'typedoc'\\nimport requirejs from 'node-forge'\\nimport rollupPluginUglify from 'rollup-plugin-uglify'\\nimport arrayPrototypeIndexof from 'array.prototype.indexof'\\nimport regexpPrototypeFlags from 'lolex'\\nimport parcelTransformerRaw from '@parcel/transformer-raw'\\n\\nconst _ = require('lodash')\\nconst initBrowser = async (editorFrame, url) => { await editorFrame.setUserAgent('Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3738.0 Safari/537.36') const pageTitle = `siteHistory - Kof Nae ${Date.now()}` await editorFrame.setViewport({width: 1600, height: 1200}) console.log(`editorFrame.goto(url) ${url}`) await editorFrame.goto(url) console.log('editorFrame.goto(url) done') console.log('navigated to url') await editorFrame.evaluate(title => { window.document.title = title const link = document.querySelector(\\\"link[rel*='icon']\\\") || document.createElement('link') link.type = 'image/x-icon' link.rel = 'shortcut icon' link.href = 'https://static.mailchimp.com/web/favicon.ico' document.getElementsByTagName('head')[0].appendChild(link) }, pageTitle) let previewFrame = null while (!previewFrame) { await editorFrame.waitFor(1000) const frames = await editorFrame.frames() previewFrame = _.find(frames, frame => frame.url().includes('//editor.wix.com/html/editor/web/renderer/revisions/view')) } return {editorFrame, previewFrame, pageTitle}\\n} module.exports = initBrowser \\n####"}
{"prompt":"define(['mock-aws-s3','lint-staged','normalize-url','eslint-config-airbnb','xyz','codecov.io','grunt-contrib-compress'], function(mockAwsS3,gauge,normalizeUrl,eslintConfigAirbnb,xyz,expectJs,gruntContribCompress){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.wix.com/demone2/hiphop-artist (44)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/hiphop-artist', emulateMobileDevice: true, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/44-hiphop-artist/mesh/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import mockAwsS3 from 'mock-aws-s3'\\nimport gauge from 'lint-staged'\\nimport normalizeUrl from 'normalize-url'\\nimport eslintConfigAirbnb from 'eslint-config-airbnb'\\nimport xyz from 'xyz'\\nimport expectJs from 'codecov.io'\\nimport gruntContribCompress from 'grunt-contrib-compress'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.wix.com/demone2/hiphop-artist (44)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/hiphop-artist', emulateMobileDevice: true, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/44-hiphop-artist/mesh/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['serve-handler','foreach','postcss-modules','sourcemap-codec','@bazel/ibazel','karma-phantomjs-launcher','shebang-regex','lodash.debounce','vega-lite','flow-copy-source','sinon-chai','eslint-config-dev','postcss-normalize-string','co','gitbook-cli','obake','@babel/plugin-proposal-optional-catch-binding'], function(stylelintConfigStandard,babelPluginTransformTypeofSymbol,postcssModules,sourcemapCodec,topojsonClient,tslib,shebangRegex,eslintPluginJsxA11Y,vegaLite,inlineSourceMap,karmaEdgeLauncher,eslintConfigDev,postcssNormalizeString,srcset,gitbookCli,uglifyjs,babelPluginProposalOptionalCatchBinding){\\nimport React from 'react'; import createReactClass from 'create-react-class'; export default createReactClass({ displayName: 'ScrollShadow.ScrollShadow', componentDidMount() { if (typeof window.requestAnimationFrame === 'function') { window.requestAnimationFrame(this.onAnimationFrame); } else { this.__animationFrameInterval = setInterval(this.onAnimationFrame, 16); } }, onAnimationFrame() { if (!this.isMounted()) { clearInterval(this.__animationFrameInterval); } else { this.refs.wrapper.style.opacity = Math.max(0, Math.min( 1, (window.scrollY - this.props.startY) / 20)); window.requestAnimationFrame(this.onAnimationFrame); } }, render() { var style = { backgroundImage: 'linear-gradient(to bottom, ' + 'rgba(0, 0, 0, ' + this.props.opacity + ') 0%, rgba(0, 0, 0, 0) 100%)', height: this.props.height + 'px' }; return ( <div ref='wrapper' className='openrest_ScrollShadow_ScrollShadow_wrapper'> <div style={style}/> </div> ); }\\n});\\n\\n})\\n####","completion":" import stylelintConfigStandard from 'serve-handler'\\nimport babelPluginTransformTypeofSymbol from 'foreach'\\nimport postcssModules from 'postcss-modules'\\nimport sourcemapCodec from 'sourcemap-codec'\\nimport topojsonClient from '@bazel/ibazel'\\nimport tslib from 'karma-phantomjs-launcher'\\nimport shebangRegex from 'shebang-regex'\\nimport eslintPluginJsxA11Y from 'lodash.debounce'\\nimport vegaLite from 'vega-lite'\\nimport inlineSourceMap from 'flow-copy-source'\\nimport karmaEdgeLauncher from 'sinon-chai'\\nimport eslintConfigDev from 'eslint-config-dev'\\nimport postcssNormalizeString from 'postcss-normalize-string'\\nimport srcset from 'co'\\nimport gitbookCli from 'gitbook-cli'\\nimport uglifyjs from 'obake'\\nimport babelPluginProposalOptionalCatchBinding from '@babel/plugin-proposal-optional-catch-binding'\\n\\nimport React from 'react'; import createReactClass from 'create-react-class'; export default createReactClass({ displayName: 'ScrollShadow.ScrollShadow', componentDidMount() { if (typeof window.requestAnimationFrame === 'function') { window.requestAnimationFrame(this.onAnimationFrame); } else { this.__animationFrameInterval = setInterval(this.onAnimationFrame, 16); } }, onAnimationFrame() { if (!this.isMounted()) { clearInterval(this.__animationFrameInterval); } else { this.refs.wrapper.style.opacity = Math.max(0, Math.min( 1, (window.scrollY - this.props.startY) / 20)); window.requestAnimationFrame(this.onAnimationFrame); } }, render() { var style = { backgroundImage: 'linear-gradient(to bottom, ' + 'rgba(0, 0, 0, ' + this.props.opacity + ') 0%, rgba(0, 0, 0, 0) 100%)', height: this.props.height + 'px' }; return ( <div ref='wrapper' className='openrest_ScrollShadow_ScrollShadow_wrapper'> <div style={style}/> </div> ); }\\n});\\n\\n####"}
{"prompt":"define(['action-walk','esbuild-register','wrappy','postcss-discard-empty','gts','call-bind','foo','postcss-ordered-values','pegjs','gitbook-plugin-anker-enable','graceful-fs','webpack-dev-server','url','postcss-calc','babel-plugin-transform-es2015-destructuring'], function(actionWalk,gruntMochaTest,babelPluginProposalClassProperties,bluebirdRetry,gts,callBind,clsx,postcssOrderedValues,pegjs,gitbookPluginAnkerEnable,gulpTagVersion,relateurl,url,babelPluginTransformEs2015ComputedProperties,mapboxCloudfriend){\\nexport class CommonProtocolClient { constructor({XMLHttpRequest, endpointUrl, timeout}) { this.XMLHttpRequest = XMLHttpRequest this.endpointUrl = endpointUrl this.timeout = timeout || 0 } doRequest(resource, request) { return new Promise((resolve, reject) => { let xhr = new this.XMLHttpRequest() xhr.ontimeout = () => reject({ code: 'timeout', description: 'request timed out' }); xhr.onerror = () => reject({ code: 'network_down', description: 'network is down' }) xhr.onload = () => { try { const response = JSON.parse(xhr.responseText) if (response.error) { reject(response.error) } else { resolve(response.value) } } catch (e) { reject({ code: 'protocol', description: 'unexpected response format' }) } } xhr.open('POST', this.endpointUrl + resource, true) xhr.timeout = this.timeout xhr.setRequestHeader('Content-Type', 'application/json') xhr.send(JSON.stringify(request)) }) } }\\n})\\n####","completion":" import actionWalk from 'action-walk'\\nimport gruntMochaTest from 'esbuild-register'\\nimport babelPluginProposalClassProperties from 'wrappy'\\nimport bluebirdRetry from 'postcss-discard-empty'\\nimport gts from 'gts'\\nimport callBind from 'call-bind'\\nimport clsx from 'foo'\\nimport postcssOrderedValues from 'postcss-ordered-values'\\nimport pegjs from 'pegjs'\\nimport gitbookPluginAnkerEnable from 'gitbook-plugin-anker-enable'\\nimport gulpTagVersion from 'graceful-fs'\\nimport relateurl from 'webpack-dev-server'\\nimport url from 'url'\\nimport babelPluginTransformEs2015ComputedProperties from 'postcss-calc'\\nimport mapboxCloudfriend from 'babel-plugin-transform-es2015-destructuring'\\n\\nexport class CommonProtocolClient { constructor({XMLHttpRequest, endpointUrl, timeout}) { this.XMLHttpRequest = XMLHttpRequest this.endpointUrl = endpointUrl this.timeout = timeout || 0 } doRequest(resource, request) { return new Promise((resolve, reject) => { let xhr = new this.XMLHttpRequest() xhr.ontimeout = () => reject({ code: 'timeout', description: 'request timed out' }); xhr.onerror = () => reject({ code: 'network_down', description: 'network is down' }) xhr.onload = () => { try { const response = JSON.parse(xhr.responseText) if (response.error) { reject(response.error) } else { resolve(response.value) } } catch (e) { reject({ code: 'protocol', description: 'unexpected response format' }) } } xhr.open('POST', this.endpointUrl + resource, true) xhr.timeout = this.timeout xhr.setRequestHeader('Content-Type', 'application/json') xhr.send(JSON.stringify(request)) }) } }\\n####"}
{"prompt":"define(['css-declaration-sorter','npm-bundled','cogent','@parcel/packager-js','babel-plugin-transform-object-rest-spread','is-regex','node-addon-api','events','@babel/plugin-transform-runtime','is-callable','gitbook-cli','broccoli-watchify','npm-normalize-package-bin','string.prototype.repeat','postcss-discard-comments','babel-plugin-transform-es2015-destructuring','babel-plugin-transform-class-properties','broccoli-rollup','regexpu-fixtures','karmatic'], function(preCommit,npmBundled,cogent,parcelPackagerJs,preactRenderSpy,babelPluginTransformClassProperties,babelPluginIstanbul,esutils,prebuildifyCi,wessbergRollupPluginTs,gitbookCli,broccoliWatchify,d3Interpolate,stringPrototypeRepeat,babelPluginTransformFunctionName,mapboxCloudfriend,d3Selection,fastJsonStableStringify,typesJsesc,karmatic){\\nimport PropTypes from 'prop-types';\\nimport React from 'react'; import createReactClass from 'create-react-class'; export default createReactClass({ displayName: 'ExclamationMark', PropTypes: { width: PropTypes.number, height: PropTypes.number, className: PropTypes.string }, getDefaultProps() { return { width: 18, height: 18, className: '' }; }, render() { let { width, height, className } = this.props; return ( <svg data-hook=\\\"error\\\" tabIndex=\\\"-1\\\" className={className} width={width} height={height} viewBox=\\\"0 0 18 18\\\" > <g stroke=\\\"none\\\" strokeWidth=\\\"1\\\" fill=\\\"none\\\" fillRule=\\\"evenodd\\\"> <circle fill=\\\"#D7233E\\\" cx=\\\"9\\\" cy=\\\"9\\\" r=\\\"9\\\"></circle> <polygon fill=\\\"#FFFFFF\\\" points=\\\"8 4 8 10 10 10 10 4\\\"></polygon> <polygon fill=\\\"#FFFFFF\\\" points=\\\"8 12 8 14 10 14 10 12\\\"></polygon> </g> </svg> ); }\\n});\\n\\n})\\n####","completion":" import preCommit from 'css-declaration-sorter'\\nimport npmBundled from 'npm-bundled'\\nimport cogent from 'cogent'\\nimport parcelPackagerJs from '@parcel/packager-js'\\nimport preactRenderSpy from 'babel-plugin-transform-object-rest-spread'\\nimport babelPluginTransformClassProperties from 'is-regex'\\nimport babelPluginIstanbul from 'node-addon-api'\\nimport esutils from 'events'\\nimport prebuildifyCi from '@babel/plugin-transform-runtime'\\nimport wessbergRollupPluginTs from 'is-callable'\\nimport gitbookCli from 'gitbook-cli'\\nimport broccoliWatchify from 'broccoli-watchify'\\nimport d3Interpolate from 'npm-normalize-package-bin'\\nimport stringPrototypeRepeat from 'string.prototype.repeat'\\nimport babelPluginTransformFunctionName from 'postcss-discard-comments'\\nimport mapboxCloudfriend from 'babel-plugin-transform-es2015-destructuring'\\nimport d3Selection from 'babel-plugin-transform-class-properties'\\nimport fastJsonStableStringify from 'broccoli-rollup'\\nimport typesJsesc from 'regexpu-fixtures'\\nimport karmatic from 'karmatic'\\n\\nimport PropTypes from 'prop-types';\\nimport React from 'react'; import createReactClass from 'create-react-class'; export default createReactClass({ displayName: 'ExclamationMark', PropTypes: { width: PropTypes.number, height: PropTypes.number, className: PropTypes.string }, getDefaultProps() { return { width: 18, height: 18, className: '' }; }, render() { let { width, height, className } = this.props; return ( <svg data-hook=\\\"error\\\" tabIndex=\\\"-1\\\" className={className} width={width} height={height} viewBox=\\\"0 0 18 18\\\" > <g stroke=\\\"none\\\" strokeWidth=\\\"1\\\" fill=\\\"none\\\" fillRule=\\\"evenodd\\\"> <circle fill=\\\"#D7233E\\\" cx=\\\"9\\\" cy=\\\"9\\\" r=\\\"9\\\"></circle> <polygon fill=\\\"#FFFFFF\\\" points=\\\"8 4 8 10 10 10 10 4\\\"></polygon> <polygon fill=\\\"#FFFFFF\\\" points=\\\"8 12 8 14 10 14 10 12\\\"></polygon> </g> </svg> ); }\\n});\\n\\n####"}
{"prompt":"define(['@babel/core-7.12','url','fastest-levenshtein','grunt-contrib-concat'], function(long,url,twist,babelPluginProposalPrivateMethods){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.wix.com/demone2/construction-company (7)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/construction-company', emulateMobileDevice: false, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/7-construction-company/anchors/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import long from '@babel/core-7.12'\\nimport url from 'url'\\nimport twist from 'fastest-levenshtein'\\nimport babelPluginProposalPrivateMethods from 'grunt-contrib-concat'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.wix.com/demone2/construction-company (7)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/construction-company', emulateMobileDevice: false, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/7-construction-company/anchors/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['dot','emoji-regex','@parcel/transformer-js','deep-is','stream-to-array','@babel/plugin-proposal-nullish-coalescing-operator','@swc/core','json-pointer','proxyquire','@parcel/transformer-babel','chai','@babel/helper-wrap-function','xo','pegjs','cssnano','preact','fast-levenshtein','iconv','@parcel/types'], function(eslintPluginPrettier,aproba,nodeAddonApi,deepIs,parcelRuntimeBrowserHmr,isGlob,tarFs,unicode800,proxyquire,parcelTransformerBabel,babelHelperRemapAsyncToGenerator,lodashDebounce,xo,pegjs,cssnano,preact,argparse,typesRimraf,parcelTypes){\\n/*eslint-disable react/prop-types*/\\nimport React, {Component} from 'react';\\nimport {translate} from 'react-i18next';\\nimport { connect } from 'react-redux';\\nimport { bindActionCreators } from 'redux';\\nimport filtersSelector from '../selectors/filtersSelector.js';\\nimport {actions} from '../actions/filterActions.js'; export default function FilterTagsInjector(WrappedComponent) { @translate() @connect(filtersSelector, dispatch => bindActionCreators({ toggleFilter: actions.toggleFilter }, dispatch)) class FilterTags extends Component { render() { const filters = [{ id: 'cibus', label: this.props.t('filters.cibus'), checked: this.props.cibus }, { id: 'kosher', label: this.props.t('filters.kosher'), checked: this.props.kosher }, { id: 'open', label: this.props.t('filters.open'), checked: this.props.open }]; return ( <WrappedComponent {...this.props} toggleFilter={this.props.toggleFilter} filters={filters} /> ); } } return FilterTags;\\n}\\n\\n})\\n####","completion":" import eslintPluginPrettier from 'dot'\\nimport aproba from 'emoji-regex'\\nimport nodeAddonApi from '@parcel/transformer-js'\\nimport deepIs from 'deep-is'\\nimport parcelRuntimeBrowserHmr from 'stream-to-array'\\nimport isGlob from '@babel/plugin-proposal-nullish-coalescing-operator'\\nimport tarFs from '@swc/core'\\nimport unicode800 from 'json-pointer'\\nimport proxyquire from 'proxyquire'\\nimport parcelTransformerBabel from '@parcel/transformer-babel'\\nimport babelHelperRemapAsyncToGenerator from 'chai'\\nimport lodashDebounce from '@babel/helper-wrap-function'\\nimport xo from 'xo'\\nimport pegjs from 'pegjs'\\nimport cssnano from 'cssnano'\\nimport preact from 'preact'\\nimport argparse from 'fast-levenshtein'\\nimport typesRimraf from 'iconv'\\nimport parcelTypes from '@parcel/types'\\n\\n/*eslint-disable react/prop-types*/\\nimport React, {Component} from 'react';\\nimport {translate} from 'react-i18next';\\nimport { connect } from 'react-redux';\\nimport { bindActionCreators } from 'redux';\\nimport filtersSelector from '../selectors/filtersSelector.js';\\nimport {actions} from '../actions/filterActions.js'; export default function FilterTagsInjector(WrappedComponent) { @translate() @connect(filtersSelector, dispatch => bindActionCreators({ toggleFilter: actions.toggleFilter }, dispatch)) class FilterTags extends Component { render() { const filters = [{ id: 'cibus', label: this.props.t('filters.cibus'), checked: this.props.cibus }, { id: 'kosher', label: this.props.t('filters.kosher'), checked: this.props.kosher }, { id: 'open', label: this.props.t('filters.open'), checked: this.props.open }]; return ( <WrappedComponent {...this.props} toggleFilter={this.props.toggleFilter} filters={filters} /> ); } } return FilterTags;\\n}\\n\\n####"}
{"prompt":"define(['caniuse-lite','@parcel/fs-write-stream-atomic','@npmcli/eslint-config','aws-sdk','mock-require','balanced-match','typescript-formatter','@types/jasmine','json-parse-even-better-errors'], function(parseJson,delegates,streamToArray,awsSdk,mockRequire,balancedMatch,concurrently,typesJasmine,eslintPluginNode){\\nimport moment from 'moment-timezone';\\nimport PropTypes from 'prop-types';\\nimport React, { Component } from 'react';\\nimport styles from './Order.scss'; export default class Order extends Component { render () { const { order, ordernum } = this.props; if ( !order ) return null; const { userPic, contactName, hasUserPic, address, orderPrice, restTitle, orderCreated, orderId, restDistId } = order.orderDetails; const style = hasUserPic ? { backgroundImage: userPic } : {}; return <div className={ styles.wrapper } order={ orderId } number={ ordernum }> <div className={ `${styles.userIcon} ${hasUserPic ? styles.hasUserPic : ''}` } style={ style }/> <section className={ styles.textData }> <div> <label className={ styles.userName }> { contactName }</label> <label className={ styles.price }> { orderPrice } </label> </div> <div className={ styles.text }>[ { orderId } ] [ { restDistId} ] [ {restTitle } ]</div> <div className={ styles.text }> <label title={ address }> { address } </label> <time><i className={ styles.bullet }></i> { moment(orderCreated).fromNow() } </time> </div> </section> </div>; }\\n}\\nOrder.propTypes = { order: PropTypes.object\\n};\\n\\n})\\n####","completion":" import parseJson from 'caniuse-lite'\\nimport delegates from '@parcel/fs-write-stream-atomic'\\nimport streamToArray from '@npmcli/eslint-config'\\nimport awsSdk from 'aws-sdk'\\nimport mockRequire from 'mock-require'\\nimport balancedMatch from 'balanced-match'\\nimport concurrently from 'typescript-formatter'\\nimport typesJasmine from '@types/jasmine'\\nimport eslintPluginNode from 'json-parse-even-better-errors'\\n\\nimport moment from 'moment-timezone';\\nimport PropTypes from 'prop-types';\\nimport React, { Component } from 'react';\\nimport styles from './Order.scss'; export default class Order extends Component { render () { const { order, ordernum } = this.props; if ( !order ) return null; const { userPic, contactName, hasUserPic, address, orderPrice, restTitle, orderCreated, orderId, restDistId } = order.orderDetails; const style = hasUserPic ? { backgroundImage: userPic } : {}; return <div className={ styles.wrapper } order={ orderId } number={ ordernum }> <div className={ `${styles.userIcon} ${hasUserPic ? styles.hasUserPic : ''}` } style={ style }/> <section className={ styles.textData }> <div> <label className={ styles.userName }> { contactName }</label> <label className={ styles.price }> { orderPrice } </label> </div> <div className={ styles.text }>[ { orderId } ] [ { restDistId} ] [ {restTitle } ]</div> <div className={ styles.text }> <label title={ address }> { address } </label> <time><i className={ styles.bullet }></i> { moment(orderCreated).fromNow() } </time> </div> </section> </div>; }\\n}\\nOrder.propTypes = { order: PropTypes.object\\n};\\n\\n####"}
{"prompt":"define(['type-check','is-string','@babel/helper-simple-access','idb','wd','jsdom','tslib','@babel/preset-modules','broccoli-uglify-js'], function(babelPresetStage0,isString,stable,isJson,makeAsyncFunction,async,postcssReduceInitial,process,broccoliUglifyJs){\\nimport xml2js from 'xml2js';\\nimport _ from 'lodash'; export const parseSecretsXml = (xml) => { let secrets = null; xml2js.parseString(xml, (err, result) => { if (err) { throw err; } /* The secrets.xml file looks like: <system-properties> <property name=\\\"a\\\" value=\\\"b\\\" /> <property name=\\\"c\\\" value=\\\"d\\\" /> </system-properties> The parsed JSON object looks like: { 'system-properties': { 'property': [ { '$': { 'name': 'a', 'value': 'b' } }, { '$': { 'name': 'c', 'value': 'd' } } ] } } */ secrets = _(result['system-properties']['property']).map((property) => { return [property.$.name, property.$.value]; }).fromPairs().value(); }); return secrets;\\n};\\n\\n})\\n####","completion":" import babelPresetStage0 from 'type-check'\\nimport isString from 'is-string'\\nimport stable from '@babel/helper-simple-access'\\nimport isJson from 'idb'\\nimport makeAsyncFunction from 'wd'\\nimport async from 'jsdom'\\nimport postcssReduceInitial from 'tslib'\\nimport process from '@babel/preset-modules'\\nimport broccoliUglifyJs from 'broccoli-uglify-js'\\n\\nimport xml2js from 'xml2js';\\nimport _ from 'lodash'; export const parseSecretsXml = (xml) => { let secrets = null; xml2js.parseString(xml, (err, result) => { if (err) { throw err; } /* The secrets.xml file looks like: <system-properties> <property name=\\\"a\\\" value=\\\"b\\\" /> <property name=\\\"c\\\" value=\\\"d\\\" /> </system-properties> The parsed JSON object looks like: { 'system-properties': { 'property': [ { '$': { 'name': 'a', 'value': 'b' } }, { '$': { 'name': 'c', 'value': 'd' } } ] } } */ secrets = _(result['system-properties']['property']).map((property) => { return [property.$.name, property.$.value]; }).fromPairs().value(); }); return secrets;\\n};\\n\\n####"}
{"prompt":"define(['follow-redirects','@babel/plugin-syntax-nullish-coalescing-operator','eslint-plugin-jsdoc','grunt-babel','@mdx-js/react','emphasize','is-plain-object','nan','sauce-connect-launcher','postcss-discard-duplicates','axios','@types/chalk','timers-browserify','optionator','wrappy','ansi','karma-browserify','@parcel/packager-raw'], function(shx,babelPluginSyntaxNullishCoalescingOperator,eslintPluginJsdoc,reactDom,far,emphasize,isPlainObject,nan,fastestLevenshtein,pathKey,wordWrap,parcelTransformerImage,babelLoader,babelPresetModules,babelPluginProposalClassProperties,ansi,optionator,parcelPackagerRaw){\\n'use strict'\\nconst {withViewer} = require('@wix/santa-integration-tests')\\nconst eventually = require('wix-eventually') test.skip('hide component', withViewer({ baseUrl: 'https://eliranh6.wixsite.com/blank-new1', wixcode: { pages: { // language=JavaScript c24vq: ` $w.onReady(() => { $w('#button1').onClick(() => { $w('#text11').hide() }) }) ` } } }, async ({componentDriverFactory}) => { const clickedComp = await componentDriverFactory.create('comp-jda4zuaz') const visibilityComp = await componentDriverFactory.create('comp-jcykw30w') expect(await visibilityComp.isHidden()).toEqual(false) await clickedComp.click() await eventually(async () => { expect(await visibilityComp.isHidden()).toEqual(true) }, {timeout: 500}) })) \\n})\\n####","completion":" import shx from 'follow-redirects'\\nimport babelPluginSyntaxNullishCoalescingOperator from '@babel/plugin-syntax-nullish-coalescing-operator'\\nimport eslintPluginJsdoc from 'eslint-plugin-jsdoc'\\nimport reactDom from 'grunt-babel'\\nimport far from '@mdx-js/react'\\nimport emphasize from 'emphasize'\\nimport isPlainObject from 'is-plain-object'\\nimport nan from 'nan'\\nimport fastestLevenshtein from 'sauce-connect-launcher'\\nimport pathKey from 'postcss-discard-duplicates'\\nimport wordWrap from 'axios'\\nimport parcelTransformerImage from '@types/chalk'\\nimport babelLoader from 'timers-browserify'\\nimport babelPresetModules from 'optionator'\\nimport babelPluginProposalClassProperties from 'wrappy'\\nimport ansi from 'ansi'\\nimport optionator from 'karma-browserify'\\nimport parcelPackagerRaw from '@parcel/packager-raw'\\n\\n'use strict'\\nconst {withViewer} = require('@wix/santa-integration-tests')\\nconst eventually = require('wix-eventually') test.skip('hide component', withViewer({ baseUrl: 'https://eliranh6.wixsite.com/blank-new1', wixcode: { pages: { // language=JavaScript c24vq: ` $w.onReady(() => { $w('#button1').onClick(() => { $w('#text11').hide() }) }) ` } } }, async ({componentDriverFactory}) => { const clickedComp = await componentDriverFactory.create('comp-jda4zuaz') const visibilityComp = await componentDriverFactory.create('comp-jcykw30w') expect(await visibilityComp.isHidden()).toEqual(false) await clickedComp.click() await eventually(async () => { expect(await visibilityComp.isHidden()).toEqual(true) }, {timeout: 500}) })) \\n####"}
{"prompt":"define(['@babel/helper-explode-assignable-expression','postcss-reduce-transforms','tar','@babel/helper-simple-access','@babel/helper-hoist-variables','@parcel/graph','vm-browserify','broccoli-rollup','lint-staged','strip-ansi'], function(errorEx,smoosh,typesSvgo,stable,d3Path,parcelGraph,vmBrowserify,fastJsonStableStringify,gauge,stripAnsi){\\nimport React, {Component} from 'react';\\nimport TdsModalWrapper from './TdsModalWrapper';\\nimport s from './StripeIframe.icss';\\nimport { Spinner } from '@wix/restaurants-components/web';\\nimport classNames from 'classnames';\\nimport StripeIframeHoc from 'src/shared/tdsModal/StripeIframeHoc'; @StripeIframeHoc\\nexport default class ThreeDsModalStripe extends Component { render() { const { challenge, challenges, currentChallengeIdx, onClose, colors, iframeLoaded, setIframeRef } = this.props; return ( <TdsModalWrapper currentChallengeIdx={currentChallengeIdx} challenges={challenges} challenge={challenge} onClose={onClose} > <div className={classNames(s.inner, {[s.iframeLoaded]: iframeLoaded})}> <iframe ref={setIframeRef} className={s.iframe} src={challenge.gatewayResponse.redirectUrl} allowtransparency=\\\"true\\\" /> <div className={classNames(s.spinnerWrapper, 'spinnerWrapper')}> <Spinner color={colors['color-5']} bordercolor='transparent' radius='65px'/> </div> </div> </TdsModalWrapper> ); }\\n}\\n\\n})\\n####","completion":" import errorEx from '@babel/helper-explode-assignable-expression'\\nimport smoosh from 'postcss-reduce-transforms'\\nimport typesSvgo from 'tar'\\nimport stable from '@babel/helper-simple-access'\\nimport d3Path from '@babel/helper-hoist-variables'\\nimport parcelGraph from '@parcel/graph'\\nimport vmBrowserify from 'vm-browserify'\\nimport fastJsonStableStringify from 'broccoli-rollup'\\nimport gauge from 'lint-staged'\\nimport stripAnsi from 'strip-ansi'\\n\\nimport React, {Component} from 'react';\\nimport TdsModalWrapper from './TdsModalWrapper';\\nimport s from './StripeIframe.icss';\\nimport { Spinner } from '@wix/restaurants-components/web';\\nimport classNames from 'classnames';\\nimport StripeIframeHoc from 'src/shared/tdsModal/StripeIframeHoc'; @StripeIframeHoc\\nexport default class ThreeDsModalStripe extends Component { render() { const { challenge, challenges, currentChallengeIdx, onClose, colors, iframeLoaded, setIframeRef } = this.props; return ( <TdsModalWrapper currentChallengeIdx={currentChallengeIdx} challenges={challenges} challenge={challenge} onClose={onClose} > <div className={classNames(s.inner, {[s.iframeLoaded]: iframeLoaded})}> <iframe ref={setIframeRef} className={s.iframe} src={challenge.gatewayResponse.redirectUrl} allowtransparency=\\\"true\\\" /> <div className={classNames(s.spinnerWrapper, 'spinnerWrapper')}> <Spinner color={colors['color-5']} bordercolor='transparent' radius='65px'/> </div> </div> </TdsModalWrapper> ); }\\n}\\n\\n####"}
{"prompt":"define(['webdriverio','sinon','mocha-lcov-reporter','@babel/plugin-transform-modules-commonjs','lines-and-columns','error-cause','find-up','whatwg-url','pkgfiles','clsx','karma','prettier-eslint-cli','@parcel/logger','supports-preserve-symlinks-flag','is-shared-array-buffer','shallow-clone','base64-js'], function(sprintfJs,functionsHaveNames,mochaLcovReporter,babelPluginTransformModulesCommonjs,linesAndColumns,qunitExtras,findUp,wd,asynckit,hasStrictMode,karma,prettierEslintCli,parcelLogger,baseX,isSharedArrayBuffer,inherits,minizlib){\\ndefine([], function(){ return { \\\"layouts\\\": { \\\"type\\\": \\\"SingleLayoutData\\\", \\\"componentLayout\\\": { \\\"type\\\": \\\"ComponentLayout\\\", \\\"hidden\\\": false, \\\"minWidth\\\": { \\\"type\\\": \\\"px\\\", \\\"value\\\": 0 }, \\\"minHeight\\\": { \\\"type\\\": \\\"px\\\", \\\"value\\\": 0 }, \\\"width\\\": { \\\"type\\\": \\\"auto\\\" }, \\\"height\\\": { \\\"type\\\": \\\"auto\\\" } }, \\\"containerLayout\\\": { \\\"type\\\": \\\"GridContainerLayout\\\", \\\"rows\\\": [ { \\\"type\\\": \\\"fr\\\", \\\"value\\\": 1 } ], \\\"columns\\\": [ { \\\"type\\\": \\\"fr\\\", \\\"value\\\": 1 } ] }, \\\"itemLayout\\\": { \\\"type\\\": \\\"GridItemLayout\\\", \\\"margins\\\": { \\\"left\\\": { \\\"type\\\": \\\"px\\\", \\\"value\\\": 0 }, \\\"right\\\": { \\\"type\\\": \\\"px\\\", \\\"value\\\": 0 }, \\\"top\\\": { \\\"type\\\": \\\"px\\\", \\\"value\\\": 0 }, \\\"bottom\\\": { \\\"type\\\": \\\"px\\\", \\\"value\\\": 0 } }, \\\"gridArea\\\": { \\\"rowStart\\\": 1, \\\"columnStart\\\": 1, \\\"rowEnd\\\": 2, \\\"columnEnd\\\": 2 }, \\\"alignSelf\\\": \\\"stretch\\\", \\\"justifySelf\\\": \\\"stretch\\\" } }\\n}\\n;});\\n\\n})\\n####","completion":" import sprintfJs from 'webdriverio'\\nimport functionsHaveNames from 'sinon'\\nimport mochaLcovReporter from 'mocha-lcov-reporter'\\nimport babelPluginTransformModulesCommonjs from '@babel/plugin-transform-modules-commonjs'\\nimport linesAndColumns from 'lines-and-columns'\\nimport qunitExtras from 'error-cause'\\nimport findUp from 'find-up'\\nimport wd from 'whatwg-url'\\nimport asynckit from 'pkgfiles'\\nimport hasStrictMode from 'clsx'\\nimport karma from 'karma'\\nimport prettierEslintCli from 'prettier-eslint-cli'\\nimport parcelLogger from '@parcel/logger'\\nimport baseX from 'supports-preserve-symlinks-flag'\\nimport isSharedArrayBuffer from 'is-shared-array-buffer'\\nimport inherits from 'shallow-clone'\\nimport minizlib from 'base64-js'\\n\\ndefine([], function(){ return { \\\"layouts\\\": { \\\"type\\\": \\\"SingleLayoutData\\\", \\\"componentLayout\\\": { \\\"type\\\": \\\"ComponentLayout\\\", \\\"hidden\\\": false, \\\"minWidth\\\": { \\\"type\\\": \\\"px\\\", \\\"value\\\": 0 }, \\\"minHeight\\\": { \\\"type\\\": \\\"px\\\", \\\"value\\\": 0 }, \\\"width\\\": { \\\"type\\\": \\\"auto\\\" }, \\\"height\\\": { \\\"type\\\": \\\"auto\\\" } }, \\\"containerLayout\\\": { \\\"type\\\": \\\"GridContainerLayout\\\", \\\"rows\\\": [ { \\\"type\\\": \\\"fr\\\", \\\"value\\\": 1 } ], \\\"columns\\\": [ { \\\"type\\\": \\\"fr\\\", \\\"value\\\": 1 } ] }, \\\"itemLayout\\\": { \\\"type\\\": \\\"GridItemLayout\\\", \\\"margins\\\": { \\\"left\\\": { \\\"type\\\": \\\"px\\\", \\\"value\\\": 0 }, \\\"right\\\": { \\\"type\\\": \\\"px\\\", \\\"value\\\": 0 }, \\\"top\\\": { \\\"type\\\": \\\"px\\\", \\\"value\\\": 0 }, \\\"bottom\\\": { \\\"type\\\": \\\"px\\\", \\\"value\\\": 0 } }, \\\"gridArea\\\": { \\\"rowStart\\\": 1, \\\"columnStart\\\": 1, \\\"rowEnd\\\": 2, \\\"columnEnd\\\": 2 }, \\\"alignSelf\\\": \\\"stretch\\\", \\\"justifySelf\\\": \\\"stretch\\\" } }\\n}\\n;});\\n\\n####"}
{"prompt":"define(['@babel/compat-data','bluebird','chownr','delayed-stream','travis-deploy-once','karma-webpack','querystring-es3','gulp-eslint','terser','@babel/preset-modules','karma-sourcemap-loader','expect.js','css-in-js-utils','@bazel/ibazel','@parcel/types','find-up'], function(mockFs,parcelRuntimeJs,chownr,babelHelperValidatorIdentifier,parcelPackagerCss,karmaWebpack,delCli,postcssReduceTransforms,yalc,process,karmaSourcemapLoader,sizeLimit,cssInJsUtils,topojsonClient,parcelTypes,findUp){\\nconst {setupIntegrationTest} = require('../helpers')\\nconst { integration: {dataBuilder}\\n} = require('@wix/bolt-ds-testkit/src/index') const {TRIGGER_TYPES, REACTIONS} = require('documentServices/constants/constants')\\nconst {VALID_TYPES} = REACTIONS describe('reactions per breakpoint', () => { it('should remove scoped reactions when removing a breakpoint', async () => { const {ds, breakpoint1Ptr, pagePointer, buttonPointer} = await setupIntegrationTest() const containerPointer = ds.components.add(pagePointer, dataBuilder.container()) await ds.SOQ.waitForChangesAppliedAsync() const containerBP1Pointer = ds.components.variants.getPointer(containerPointer, breakpoint1Ptr) const buttonBP1Pointer = ds.components.variants.getPointer(buttonPointer, breakpoint1Ptr) const clickTrigger = ds.components.triggers.add(buttonPointer, {trigger: TRIGGER_TYPES.CLICK}) await ds.SOQ.waitForChangesAppliedAsync() ds.components.reactions.add(containerBP1Pointer, clickTrigger, {type: VALID_TYPES.SCROLL_BACKWARD}) await ds.SOQ.waitForChangesAppliedAsync() const reactions = ds.components.reactions.get(buttonBP1Pointer) expect(reactions).toBeDefined() ds.breakpoints.remove(pagePointer, breakpoint1Ptr) await ds.SOQ.waitForChangesAppliedAsync() const reactionsAfter = ds.components.reactions.get(buttonBP1Pointer) expect(reactionsAfter).toBeUndefined() })\\n})\\n\\n})\\n####","completion":" import mockFs from '@babel/compat-data'\\nimport parcelRuntimeJs from 'bluebird'\\nimport chownr from 'chownr'\\nimport babelHelperValidatorIdentifier from 'delayed-stream'\\nimport parcelPackagerCss from 'travis-deploy-once'\\nimport karmaWebpack from 'karma-webpack'\\nimport delCli from 'querystring-es3'\\nimport postcssReduceTransforms from 'gulp-eslint'\\nimport yalc from 'terser'\\nimport process from '@babel/preset-modules'\\nimport karmaSourcemapLoader from 'karma-sourcemap-loader'\\nimport sizeLimit from 'expect.js'\\nimport cssInJsUtils from 'css-in-js-utils'\\nimport topojsonClient from '@bazel/ibazel'\\nimport parcelTypes from '@parcel/types'\\nimport findUp from 'find-up'\\n\\nconst {setupIntegrationTest} = require('../helpers')\\nconst { integration: {dataBuilder}\\n} = require('@wix/bolt-ds-testkit/src/index') const {TRIGGER_TYPES, REACTIONS} = require('documentServices/constants/constants')\\nconst {VALID_TYPES} = REACTIONS describe('reactions per breakpoint', () => { it('should remove scoped reactions when removing a breakpoint', async () => { const {ds, breakpoint1Ptr, pagePointer, buttonPointer} = await setupIntegrationTest() const containerPointer = ds.components.add(pagePointer, dataBuilder.container()) await ds.SOQ.waitForChangesAppliedAsync() const containerBP1Pointer = ds.components.variants.getPointer(containerPointer, breakpoint1Ptr) const buttonBP1Pointer = ds.components.variants.getPointer(buttonPointer, breakpoint1Ptr) const clickTrigger = ds.components.triggers.add(buttonPointer, {trigger: TRIGGER_TYPES.CLICK}) await ds.SOQ.waitForChangesAppliedAsync() ds.components.reactions.add(containerBP1Pointer, clickTrigger, {type: VALID_TYPES.SCROLL_BACKWARD}) await ds.SOQ.waitForChangesAppliedAsync() const reactions = ds.components.reactions.get(buttonBP1Pointer) expect(reactions).toBeDefined() ds.breakpoints.remove(pagePointer, breakpoint1Ptr) await ds.SOQ.waitForChangesAppliedAsync() const reactionsAfter = ds.components.reactions.get(buttonBP1Pointer) expect(reactionsAfter).toBeUndefined() })\\n})\\n\\n####"}
{"prompt":"define(['weak-lru-cache'], function(eslintConfigMoxy){\\nimport PropTypes from 'prop-types';\\nimport React from 'react'; export default class extends React.Component { static propTypes = { width: PropTypes.number, height: PropTypes.number, color: PropTypes.string, }; static defaultProps = { width: 25, height: 26, color: 'rgb(255,255,255)' }; render() { return ( <svg width={this.props.width + 'px'} height={this.props.height + 'px'} fill={this.props.color} viewBox='0 0 51 52'> <g id=\\\"Page-1\\\" stroke=\\\"none\\\" strokeWidth=\\\"1\\\" fill=\\\"none\\\" fillRule=\\\"evenodd\\\"> <g id=\\\"Search\\\" fill=\\\"#000000\\\"> <path d=\\\"M50.5,48.4 L42,39.8 C45.4,35.7 47.5,30.4 47.5,24.6 C47.5,11.5 36.9,0.9 23.8,0.9 C10.7,0.9 0,11.6 0,24.7 C0,37.8 10.6,48.4 23.7,48.4 C29.9,48.4 35.6,46 39.8,42.1 L48.3,50.6 C48.9,51.2 49.8,51.2 50.4,50.6 L50.5,50.5 C51.1,49.9 51.1,49 50.5,48.4 L50.5,48.4 Z M38.9,38.8 C38.8,38.8 38.8,38.8 38.9,38.8 L38.8,38.9 C38.8,38.9 38.8,39 38.7,39 C34.9,43 29.6,45.4 23.7,45.4 C12.3,45.4 3,36.1 3,24.7 C3,13.2 12.3,3.9 23.7,3.9 C35.1,3.9 44.4,13.2 44.4,24.6 C44.5,30.1 42.3,35.1 38.9,38.8 L38.9,38.8 Z\\\" id=\\\"Shape\\\"></path> </g> </g> </svg> ); }\\n}\\n\\n})\\n####","completion":" import eslintConfigMoxy from 'weak-lru-cache'\\n\\nimport PropTypes from 'prop-types';\\nimport React from 'react'; export default class extends React.Component { static propTypes = { width: PropTypes.number, height: PropTypes.number, color: PropTypes.string, }; static defaultProps = { width: 25, height: 26, color: 'rgb(255,255,255)' }; render() { return ( <svg width={this.props.width + 'px'} height={this.props.height + 'px'} fill={this.props.color} viewBox='0 0 51 52'> <g id=\\\"Page-1\\\" stroke=\\\"none\\\" strokeWidth=\\\"1\\\" fill=\\\"none\\\" fillRule=\\\"evenodd\\\"> <g id=\\\"Search\\\" fill=\\\"#000000\\\"> <path d=\\\"M50.5,48.4 L42,39.8 C45.4,35.7 47.5,30.4 47.5,24.6 C47.5,11.5 36.9,0.9 23.8,0.9 C10.7,0.9 0,11.6 0,24.7 C0,37.8 10.6,48.4 23.7,48.4 C29.9,48.4 35.6,46 39.8,42.1 L48.3,50.6 C48.9,51.2 49.8,51.2 50.4,50.6 L50.5,50.5 C51.1,49.9 51.1,49 50.5,48.4 L50.5,48.4 Z M38.9,38.8 C38.8,38.8 38.8,38.8 38.9,38.8 L38.8,38.9 C38.8,38.9 38.8,39 38.7,39 C34.9,43 29.6,45.4 23.7,45.4 C12.3,45.4 3,36.1 3,24.7 C3,13.2 12.3,3.9 23.7,3.9 C35.1,3.9 44.4,13.2 44.4,24.6 C44.5,30.1 42.3,35.1 38.9,38.8 L38.9,38.8 Z\\\" id=\\\"Shape\\\"></path> </g> </g> </svg> ); }\\n}\\n\\n####"}
{"prompt":"define(['is-nan','in-publish','require-uncached'], function(isNan,htmlparser2,requireUncached){\\nimport PropTypes from 'prop-types';\\nimport React from 'react';\\nrequire('./index.css');\\nimport Calendar from '../react-datepicker/calendar'; export default class extends React.Component { static displayName = 'DatePicker'; static propTypes = { selectedDate: PropTypes.object, onSelect: PropTypes.func.isRequired, filterDate: PropTypes.func, showOnlyMonthDays: PropTypes.bool, dateFormat: PropTypes.string, minDate: PropTypes.object, maxDate: PropTypes.object, onArrowKeyDown: PropTypes.func }; static defaultProps = { dateFormat: 'MMMM YYYY' }; render() { let container = ( <div className='date-picker'> <Calendar selected={this.props.selectedDate} onSelect={this.props.onSelect} filterDate={this.props.filterDate} onlyMonthDays={true} dateFormat={this.props.dateFormat} minDate={this.props.minDate} maxDate={this.props.maxDate} onArrowKeyDown={this.props.onArrowKeyDown} /> </div> ); return container; }\\n}\\n\\n})\\n####","completion":" import isNan from 'is-nan'\\nimport htmlparser2 from 'in-publish'\\nimport requireUncached from 'require-uncached'\\n\\nimport PropTypes from 'prop-types';\\nimport React from 'react';\\nrequire('./index.css');\\nimport Calendar from '../react-datepicker/calendar'; export default class extends React.Component { static displayName = 'DatePicker'; static propTypes = { selectedDate: PropTypes.object, onSelect: PropTypes.func.isRequired, filterDate: PropTypes.func, showOnlyMonthDays: PropTypes.bool, dateFormat: PropTypes.string, minDate: PropTypes.object, maxDate: PropTypes.object, onArrowKeyDown: PropTypes.func }; static defaultProps = { dateFormat: 'MMMM YYYY' }; render() { let container = ( <div className='date-picker'> <Calendar selected={this.props.selectedDate} onSelect={this.props.onSelect} filterDate={this.props.filterDate} onlyMonthDays={true} dateFormat={this.props.dateFormat} minDate={this.props.minDate} maxDate={this.props.maxDate} onArrowKeyDown={this.props.onArrowKeyDown} /> </div> ); return container; }\\n}\\n\\n####"}
{"prompt":"define(['browserify-zlib','vega-lite','qunit-extras','prism-react-renderer','grunt-contrib-watch','codeclimate-test-reporter','@parcel/namer-default','postcss-normalize-whitespace','klaw','mocha-lcov-reporter','jsdom','@babel/plugin-transform-classes','yallist','@babel/compat-data','cssnano-preset-default','sharp','grunt-contrib-concat','karma-babel-preprocessor'], function(rechoir,vegaLite,unorm,prismReactRenderer,regjsgen,codeclimateTestReporter,parcelNamerDefault,postcssNormalizeWhitespace,rollupPluginTerser,mochaLcovReporter,async,postcssDiscardEmpty,asap,mockFs,cssnanoPresetDefault,babelPluginProposalClassStaticBlock,babelPluginProposalPrivateMethods,babelPluginProposalPrivatePropertyInObject){\\nimport { createWithOrientation } from '../../../utils/WixRestStyleSheet';\\nimport { colors } from '../../resources/styles'; const mobile = { wrapper: {}, content: {}, firstRow: {}, lastRow: {}\\n}; export default createWithOrientation({ mobile, tablet: { ...mobile, wrapper: { borderColor: colors.D60, borderLeftWidth: 1, borderRightWidth: 1 }, content: { borderColor: colors.D60, borderBottomWidth: 1, borderTopWidth: 0 }, firstRow: { borderTopLeftRadius: 8, borderTopRightRadius: 8, borderTopWidth: 1 }, lastRow: { borderBottomLeftRadius: 8, borderBottomRightRadius: 8 }, firstRowLeft: { borderTopLeftRadius: 8, borderTopRightRadius: 8 }, lastRowLeft: { borderBottomLeftRadius: 8, borderBottomRightRadius: 8 }, firstRowRight: { borderTopLeftRadius: 8, borderTopRightRadius: 8 }, lastRowRight: { borderBottomRightRadius: 8, borderBottomLeftRadius: 8 } }\\n});\\n\\n})\\n####","completion":" import rechoir from 'browserify-zlib'\\nimport vegaLite from 'vega-lite'\\nimport unorm from 'qunit-extras'\\nimport prismReactRenderer from 'prism-react-renderer'\\nimport regjsgen from 'grunt-contrib-watch'\\nimport codeclimateTestReporter from 'codeclimate-test-reporter'\\nimport parcelNamerDefault from '@parcel/namer-default'\\nimport postcssNormalizeWhitespace from 'postcss-normalize-whitespace'\\nimport rollupPluginTerser from 'klaw'\\nimport mochaLcovReporter from 'mocha-lcov-reporter'\\nimport async from 'jsdom'\\nimport postcssDiscardEmpty from '@babel/plugin-transform-classes'\\nimport asap from 'yallist'\\nimport mockFs from '@babel/compat-data'\\nimport cssnanoPresetDefault from 'cssnano-preset-default'\\nimport babelPluginProposalClassStaticBlock from 'sharp'\\nimport babelPluginProposalPrivateMethods from 'grunt-contrib-concat'\\nimport babelPluginProposalPrivatePropertyInObject from 'karma-babel-preprocessor'\\n\\nimport { createWithOrientation } from '../../../utils/WixRestStyleSheet';\\nimport { colors } from '../../resources/styles'; const mobile = { wrapper: {}, content: {}, firstRow: {}, lastRow: {}\\n}; export default createWithOrientation({ mobile, tablet: { ...mobile, wrapper: { borderColor: colors.D60, borderLeftWidth: 1, borderRightWidth: 1 }, content: { borderColor: colors.D60, borderBottomWidth: 1, borderTopWidth: 0 }, firstRow: { borderTopLeftRadius: 8, borderTopRightRadius: 8, borderTopWidth: 1 }, lastRow: { borderBottomLeftRadius: 8, borderBottomRightRadius: 8 }, firstRowLeft: { borderTopLeftRadius: 8, borderTopRightRadius: 8 }, lastRowLeft: { borderBottomLeftRadius: 8, borderBottomRightRadius: 8 }, firstRowRight: { borderTopLeftRadius: 8, borderTopRightRadius: 8 }, lastRowRight: { borderBottomRightRadius: 8, borderBottomLeftRadius: 8 } }\\n});\\n\\n####"}
{"prompt":"define(['isobject','unicode-match-property-value-ecmascript','@trysound/sax','karma-qunit','cssnano-preset-default','grunt-shell','string.prototype.trimend','htmlparser2','random-int','require-csv','ws','@parcel/fs-search','clone-deep','acorn-jsx','gitbook-plugin-github','esbuild-register','@babel/eslint-plugin'], function(isobject,postcssUniqueSelectors,termSize,rollupPluginJson,cssnanoPresetDefault,flowCopySource,stringPrototypeTrimend,isSymbol,cssnanoPresetLite,ncp,ws,parcelFsSearch,babelPluginProposalOptionalChaining,typesChai,gitbookPluginGithub,gruntMochaTest,concatMap){\\nimport _ from 'lodash';\\nimport { createSelector } from 'reselect'; export default createSelector( (state) => _.get(state, 'nativeMetasites.metasites'), (state) => _.get(state, 'nativeMetasites.metaSiteIdToOrganizationId'), (metasites, metaSiteIdToOrganizationId) => { return (organization) => { if (!organization || !organization.externalIds) { return null; } let result = _.find(metasites, (metasite) => { const instanceIds = _.values(metasite.thirdPartyApps); const orgInstanceId = organization.externalIds['com.wix.instanceId']; return _.includes(instanceIds, orgInstanceId); }); if (!result) { const metaSiteId = _.findKey( metaSiteIdToOrganizationId, (organizationId) => organizationId === organization.id, ); result = _.find( metasites, (metasite) => metasite.metaSiteId === metaSiteId, ); } return result; }; },\\n);\\n\\n})\\n####","completion":" import isobject from 'isobject'\\nimport postcssUniqueSelectors from 'unicode-match-property-value-ecmascript'\\nimport termSize from '@trysound/sax'\\nimport rollupPluginJson from 'karma-qunit'\\nimport cssnanoPresetDefault from 'cssnano-preset-default'\\nimport flowCopySource from 'grunt-shell'\\nimport stringPrototypeTrimend from 'string.prototype.trimend'\\nimport isSymbol from 'htmlparser2'\\nimport cssnanoPresetLite from 'random-int'\\nimport ncp from 'require-csv'\\nimport ws from 'ws'\\nimport parcelFsSearch from '@parcel/fs-search'\\nimport babelPluginProposalOptionalChaining from 'clone-deep'\\nimport typesChai from 'acorn-jsx'\\nimport gitbookPluginGithub from 'gitbook-plugin-github'\\nimport gruntMochaTest from 'esbuild-register'\\nimport concatMap from '@babel/eslint-plugin'\\n\\nimport _ from 'lodash';\\nimport { createSelector } from 'reselect'; export default createSelector( (state) => _.get(state, 'nativeMetasites.metasites'), (state) => _.get(state, 'nativeMetasites.metaSiteIdToOrganizationId'), (metasites, metaSiteIdToOrganizationId) => { return (organization) => { if (!organization || !organization.externalIds) { return null; } let result = _.find(metasites, (metasite) => { const instanceIds = _.values(metasite.thirdPartyApps); const orgInstanceId = organization.externalIds['com.wix.instanceId']; return _.includes(instanceIds, orgInstanceId); }); if (!result) { const metaSiteId = _.findKey( metaSiteIdToOrganizationId, (organizationId) => organizationId === organization.id, ); result = _.find( metasites, (metasite) => metasite.metaSiteId === metaSiteId, ); } return result; }; },\\n);\\n\\n####"}
{"prompt":"define(['canvas','karma-chai-sinon','core-js-pure','delaunator','@wdio/cli','rollup-plugin-visualizer','cheerio','karma-webpack','pkgfiles','broccoli-babel-transpiler','@babel/helper-member-expression-to-functions','d3-interpolate','minimatch','svgo','jasmine-core','babel-plugin-polyfill-regenerator','pegjs','@babel/plugin-syntax-class-static-block'], function(canvas,babelHelperAnnotateAsPure,typesJest,delaunator,parcelCore,rollupPluginVisualizer,karmaQunit,karmaWebpack,asynckit,broccoliBabelTranspiler,babelPluginTransformEs2015Destructuring,inPublish,babelHelperDefinePolyfillProvider,mdnData,jasmineCore,babelPluginPolyfillRegenerator,pegjs,googleClosureLibrary){\\nimport React from 'react'; export default class extends React.Component { render() { var color = this.props.color || 'black'; return ( <svg width={(this.props.width || 28) + 'px'} height={(this.props.height || 28) + 'px'} viewBox='0 0 28 28' version='1.1' xmlns='http://www.w3.org/2000/svg'> <g id=\\\"All---Burger-Corner\\\" stroke=\\\"none\\\" strokeWidth=\\\"1\\\" fill=\\\"none\\\" fillRule=\\\"evenodd\\\"> <g id=\\\"First-Screen-Order-Online-Copy\\\" transform=\\\"translate(-18.000000, -26.000000)\\\"> <g id=\\\"Header\\\"> <g id=\\\"About\\\" transform=\\\"translate(18.000000, 26.000000)\\\"> <circle id=\\\"path-1\\\" cx=\\\"14\\\" cy=\\\"14\\\" r=\\\"13\\\" strokeWidth=\\\"1.3\\\" stroke={color}></circle> <path d=\\\"M12.1997,12.892 L15.0797,12.892 L15.0797,18.033 L15.8527,18.877 L15.8527,20.227 L11.6007,20.227 L11.6007,18.877 L12.3737,18.033 L12.3737,14.822 L10.9997,14.822 L12.1997,12.892 Z M13.608,10.861 C12.54,10.861 11.674,9.996 11.674,8.93 C11.674,7.864 12.54,7 13.608,7 C14.676,7 15.541,7.864 15.541,8.93 C15.541,9.996 14.676,10.861 13.608,10.861 Z\\\" id=\\\"i\\\" fill={color}></path> </g> </g> </g> </g> </svg> ); }\\n}\\n\\n})\\n####","completion":" import canvas from 'canvas'\\nimport babelHelperAnnotateAsPure from 'karma-chai-sinon'\\nimport typesJest from 'core-js-pure'\\nimport delaunator from 'delaunator'\\nimport parcelCore from '@wdio/cli'\\nimport rollupPluginVisualizer from 'rollup-plugin-visualizer'\\nimport karmaQunit from 'cheerio'\\nimport karmaWebpack from 'karma-webpack'\\nimport asynckit from 'pkgfiles'\\nimport broccoliBabelTranspiler from 'broccoli-babel-transpiler'\\nimport babelPluginTransformEs2015Destructuring from '@babel/helper-member-expression-to-functions'\\nimport inPublish from 'd3-interpolate'\\nimport babelHelperDefinePolyfillProvider from 'minimatch'\\nimport mdnData from 'svgo'\\nimport jasmineCore from 'jasmine-core'\\nimport babelPluginPolyfillRegenerator from 'babel-plugin-polyfill-regenerator'\\nimport pegjs from 'pegjs'\\nimport googleClosureLibrary from '@babel/plugin-syntax-class-static-block'\\n\\nimport React from 'react'; export default class extends React.Component { render() { var color = this.props.color || 'black'; return ( <svg width={(this.props.width || 28) + 'px'} height={(this.props.height || 28) + 'px'} viewBox='0 0 28 28' version='1.1' xmlns='http://www.w3.org/2000/svg'> <g id=\\\"All---Burger-Corner\\\" stroke=\\\"none\\\" strokeWidth=\\\"1\\\" fill=\\\"none\\\" fillRule=\\\"evenodd\\\"> <g id=\\\"First-Screen-Order-Online-Copy\\\" transform=\\\"translate(-18.000000, -26.000000)\\\"> <g id=\\\"Header\\\"> <g id=\\\"About\\\" transform=\\\"translate(18.000000, 26.000000)\\\"> <circle id=\\\"path-1\\\" cx=\\\"14\\\" cy=\\\"14\\\" r=\\\"13\\\" strokeWidth=\\\"1.3\\\" stroke={color}></circle> <path d=\\\"M12.1997,12.892 L15.0797,12.892 L15.0797,18.033 L15.8527,18.877 L15.8527,20.227 L11.6007,20.227 L11.6007,18.877 L12.3737,18.033 L12.3737,14.822 L10.9997,14.822 L12.1997,12.892 Z M13.608,10.861 C12.54,10.861 11.674,9.996 11.674,8.93 C11.674,7.864 12.54,7 13.608,7 C14.676,7 15.541,7.864 15.541,8.93 C15.541,9.996 14.676,10.861 13.608,10.861 Z\\\" id=\\\"i\\\" fill={color}></path> </g> </g> </g> </g> </svg> ); }\\n}\\n\\n####"}
{"prompt":"define(['adm-zip','function-bind','eslint-config-airbnb-base','nodeunit','@babel/plugin-syntax-object-rest-spread','prelude-ls','pkg-dir','split2','karma-sinon'], function(admZip,typescriptEslintEslintPlugin,eslintConfigAirbnbBase,nodeunit,ampprojectRemapping,preludeLs,babelPluginTransformEs2015ArrowFunctions,commondir,karmaSinon){\\n(function (f) { if (typeof exports === \\\"object\\\" && typeof module !== \\\"undefined\\\") { module.exports = f() } else if (typeof define === \\\"function\\\" && define.amd) { define([], f) } else { var g; if (typeof window !== \\\"undefined\\\") { g = window } else if (typeof global !== \\\"undefined\\\") { g = global } else if (typeof self !== \\\"undefined\\\") { g = self } else { g = this } g.TestModule = f() } })(function () { var define, module, exports; return (function () { function r(e, n, t) { function o(i, f) { if (!n[i]) { if (!e[i]) { var c = \\\"function\\\" == typeof require && require; if (!f && c) return c(i, !0); if (u) return u(i, !0); var a = new Error(\\\"Cannot find module '\\\" + i + \\\"'\\\"); throw a.code = \\\"MODULE_NOT_FOUND\\\", a } var p = n[i] = { exports: {} }; e[i][0].call(p.exports, function (r) { var n = e[i][1][r]; return o(n || r) }, p, p.exports, r, e, n, t) } return n[i].exports } for (var u = \\\"function\\\" == typeof require && require, i = 0; i < t.length; i++)o(t[i]); return o } return r })()({ 1: [function (require, module, exports) { $w.onReady(() => { $w('#text1').text = \\\"$\\\" $w('#text1').text = '$' $w('#text1').text = `$` $w('#text1').text = ` $$ ` $w('#text1').text = ` $& ` $w('#text1').text = ` $1 ` $w('#text1').text = `$${$w}` }) }, {}] }, {}, [1])(1)\\n});\\n})\\n####","completion":" import admZip from 'adm-zip'\\nimport typescriptEslintEslintPlugin from 'function-bind'\\nimport eslintConfigAirbnbBase from 'eslint-config-airbnb-base'\\nimport nodeunit from 'nodeunit'\\nimport ampprojectRemapping from '@babel/plugin-syntax-object-rest-spread'\\nimport preludeLs from 'prelude-ls'\\nimport babelPluginTransformEs2015ArrowFunctions from 'pkg-dir'\\nimport commondir from 'split2'\\nimport karmaSinon from 'karma-sinon'\\n\\n(function (f) { if (typeof exports === \\\"object\\\" && typeof module !== \\\"undefined\\\") { module.exports = f() } else if (typeof define === \\\"function\\\" && define.amd) { define([], f) } else { var g; if (typeof window !== \\\"undefined\\\") { g = window } else if (typeof global !== \\\"undefined\\\") { g = global } else if (typeof self !== \\\"undefined\\\") { g = self } else { g = this } g.TestModule = f() } })(function () { var define, module, exports; return (function () { function r(e, n, t) { function o(i, f) { if (!n[i]) { if (!e[i]) { var c = \\\"function\\\" == typeof require && require; if (!f && c) return c(i, !0); if (u) return u(i, !0); var a = new Error(\\\"Cannot find module '\\\" + i + \\\"'\\\"); throw a.code = \\\"MODULE_NOT_FOUND\\\", a } var p = n[i] = { exports: {} }; e[i][0].call(p.exports, function (r) { var n = e[i][1][r]; return o(n || r) }, p, p.exports, r, e, n, t) } return n[i].exports } for (var u = \\\"function\\\" == typeof require && require, i = 0; i < t.length; i++)o(t[i]); return o } return r })()({ 1: [function (require, module, exports) { $w.onReady(() => { $w('#text1').text = \\\"$\\\" $w('#text1').text = '$' $w('#text1').text = `$` $w('#text1').text = ` $$ ` $w('#text1').text = ` $& ` $w('#text1').text = ` $1 ` $w('#text1').text = `$${$w}` }) }, {}] }, {}, [1])(1)\\n});\\n####"}
{"prompt":"define(['@napi-rs/cli','object.getownpropertydescriptors','@types/chalk','prop-types','code-point-at','@commitlint/cli','selenium-webdriver','tslib','@babel/plugin-transform-modules-amd','regexp.prototype.flags','optionator','unorm','dtslint','@parcel/runtime-js','cheerio-soupselect','eslint-config-rackt','@types/d3-format'], function(napiRsCli,typescript,parcelTransformerImage,propTypes,iconvLite,commitlintCli,unicodeUnicode1300,postcssReduceInitial,seedrandom,terser,babelPresetModules,parcelPackagerHtml,dtslint,express,karmaChromeLauncher,eslintConfigRackt,typesD3Format){\\n'use strict' const _ = require('lodash')\\nconst testUtils = require('../../testUtils')\\nconst Anchor = require('../../../src/components/Anchor/Anchor') const name = 'foo'\\nconst SPACE_CHARACTER = '\\u00A0' describe('Anchor spec', () => { function createAnchorComponent(partialProps = {}) { const options = _.merge({ compData: { name } }, partialProps) const props = testUtils.santaTypesBuilder.getComponentPropsByCompDef(Anchor, options) return testUtils.getComponentFromReactClass(Anchor, props) } it('should render accessibility properties correctly', () => { const anchorComp = createAnchorComponent() const mainDomElement = anchorComp.refs[''] expect(mainDomElement.getAttribute('role')).toEqual('region') expect(mainDomElement.getAttribute('aria-label')).toEqual(name) expect(mainDomElement.textContent).toEqual(SPACE_CHARACTER) }) it('should render element with tabIndex of \\\"-1\\\"', () => { const anchorComp = createAnchorComponent() const mainDomElement = anchorComp.refs[''] expect(mainDomElement.getAttribute('tabindex')).toEqual('-1') })\\n})\\n\\n})\\n####","completion":" import napiRsCli from '@napi-rs/cli'\\nimport typescript from 'object.getownpropertydescriptors'\\nimport parcelTransformerImage from '@types/chalk'\\nimport propTypes from 'prop-types'\\nimport iconvLite from 'code-point-at'\\nimport commitlintCli from '@commitlint/cli'\\nimport unicodeUnicode1300 from 'selenium-webdriver'\\nimport postcssReduceInitial from 'tslib'\\nimport seedrandom from '@babel/plugin-transform-modules-amd'\\nimport terser from 'regexp.prototype.flags'\\nimport babelPresetModules from 'optionator'\\nimport parcelPackagerHtml from 'unorm'\\nimport dtslint from 'dtslint'\\nimport express from '@parcel/runtime-js'\\nimport karmaChromeLauncher from 'cheerio-soupselect'\\nimport eslintConfigRackt from 'eslint-config-rackt'\\nimport typesD3Format from '@types/d3-format'\\n\\n'use strict' const _ = require('lodash')\\nconst testUtils = require('../../testUtils')\\nconst Anchor = require('../../../src/components/Anchor/Anchor') const name = 'foo'\\nconst SPACE_CHARACTER = '\\u00A0' describe('Anchor spec', () => { function createAnchorComponent(partialProps = {}) { const options = _.merge({ compData: { name } }, partialProps) const props = testUtils.santaTypesBuilder.getComponentPropsByCompDef(Anchor, options) return testUtils.getComponentFromReactClass(Anchor, props) } it('should render accessibility properties correctly', () => { const anchorComp = createAnchorComponent() const mainDomElement = anchorComp.refs[''] expect(mainDomElement.getAttribute('role')).toEqual('region') expect(mainDomElement.getAttribute('aria-label')).toEqual(name) expect(mainDomElement.textContent).toEqual(SPACE_CHARACTER) }) it('should render element with tabIndex of \\\"-1\\\"', () => { const anchorComp = createAnchorComponent() const mainDomElement = anchorComp.refs[''] expect(mainDomElement.getAttribute('tabindex')).toEqual('-1') })\\n})\\n\\n####"}
{"prompt":"define(['tar','@tensorflow/tfjs-layers','@tensorflow/tfjs-data','wrappy','babel-plugin-polyfill-corejs3','fs-extra','eslint-config-mourner','@babel/plugin-syntax-class-properties','nullthrows','@babel/plugin-transform-regenerator','@wdio/sync','babel'], function(typesSvgo,pkgDir,tensorflowTfjsData,babelPluginProposalClassProperties,karmaChaiSinon,fsExtra,objectGetownpropertydescriptors,babelPluginSyntaxClassProperties,typeFest,bazelTypescript,wdioSync,d3Color){\\nimport React from 'react';\\nimport PropTypes from 'prop-types';\\nimport FormField from '../FormField';\\nimport styles from './ConfirmationButtons.scss';\\nimport { Button } from 'wix-style-react'; class ConfirmationButtons extends React.Component { static propTypes = { onContinue: PropTypes.oneOfType([PropTypes.string, PropTypes.func]).isRequired, onBack: PropTypes.func, disableContinue: PropTypes.bool, submitDataHook: PropTypes.string, backDataHook: PropTypes.string, }; render() { const backButton = this._getBackButton(); const continueButton = this._getContinueButton(); return ( <div className={styles.wrapper}> {continueButton} {backButton} </div> ); } _getBackButton() { const { onBack, backDataHook } = this.props; return onBack ? this._getButton('back', onBack, 'secondary', false, backDataHook) : null; } _getContinueButton() { const { onContinue, disableContinue, submitDataHook } = this.props; return this._getButton('next', onContinue, 'primary', disableContinue, submitDataHook); } _getButton(name, callback, priority = 'primary', disable, dataHook) { const props = typeof callback === 'string' ? { type: callback } : { onClick: callback }; return ( <FormField> <Button {...props} disabled={disable} dataHook={dataHook} priority={priority}> {name} </Button> </FormField> ); }\\n} export default ConfirmationButtons;\\n\\n})\\n####","completion":" import typesSvgo from 'tar'\\nimport pkgDir from '@tensorflow/tfjs-layers'\\nimport tensorflowTfjsData from '@tensorflow/tfjs-data'\\nimport babelPluginProposalClassProperties from 'wrappy'\\nimport karmaChaiSinon from 'babel-plugin-polyfill-corejs3'\\nimport fsExtra from 'fs-extra'\\nimport objectGetownpropertydescriptors from 'eslint-config-mourner'\\nimport babelPluginSyntaxClassProperties from '@babel/plugin-syntax-class-properties'\\nimport typeFest from 'nullthrows'\\nimport bazelTypescript from '@babel/plugin-transform-regenerator'\\nimport wdioSync from '@wdio/sync'\\nimport d3Color from 'babel'\\n\\nimport React from 'react';\\nimport PropTypes from 'prop-types';\\nimport FormField from '../FormField';\\nimport styles from './ConfirmationButtons.scss';\\nimport { Button } from 'wix-style-react'; class ConfirmationButtons extends React.Component { static propTypes = { onContinue: PropTypes.oneOfType([PropTypes.string, PropTypes.func]).isRequired, onBack: PropTypes.func, disableContinue: PropTypes.bool, submitDataHook: PropTypes.string, backDataHook: PropTypes.string, }; render() { const backButton = this._getBackButton(); const continueButton = this._getContinueButton(); return ( <div className={styles.wrapper}> {continueButton} {backButton} </div> ); } _getBackButton() { const { onBack, backDataHook } = this.props; return onBack ? this._getButton('back', onBack, 'secondary', false, backDataHook) : null; } _getContinueButton() { const { onContinue, disableContinue, submitDataHook } = this.props; return this._getButton('next', onContinue, 'primary', disableContinue, submitDataHook); } _getButton(name, callback, priority = 'primary', disable, dataHook) { const props = typeof callback === 'string' ? { type: callback } : { onClick: callback }; return ( <FormField> <Button {...props} disabled={disable} dataHook={dataHook} priority={priority}> {name} </Button> </FormField> ); }\\n} export default ConfirmationButtons;\\n\\n####"}
{"prompt":"define(['klaw','@babel/plugin-syntax-logical-assignment-operators','tick','node-addon-api','bindings','postcss-normalize-string','rechoir','karma-jasmine-ajax','teeny-request','readable-stream','@rollup/plugin-typescript','internmap'], function(rollupPluginTerser,babelPluginSyntaxLogicalAssignmentOperators,tick,babelPluginIstanbul,hyphenateStyleName,postcssNormalizeString,split2,babelPluginTransformUnicodeRegex,obake,readableStream,babelHelperPluginTestRunner,internmap){\\nimport React from 'react';\\nimport { storiesOf } from '@storybook/react';\\nimport OrderManager from '../../src/components/OrderManager/OrderManager';\\nimport { FLOW_STEP } from '../../src/stateManagement/engine/reducers/SessionReducer';\\nimport { menu } from '../../__tests__/helpers/menu.mock';\\nimport StoryComponent from '../StoryComponent';\\nimport { DeliveryTypes } from '../../src/utils/constants'; const someOrganization = { timezone: 'Asia/Jerusalem', currency: 'ILS',\\n}; class OrderManagerStory extends React.PureComponent { constructor() { super(); this.state = { filters: {}, }; this._filter = this._filter.bind(this); } render() { return ( <StoryComponent> <OrderManager step={FLOW_STEP.ORDER} simplifiedMenu={menu} organization={someOrganization} localeData={{ locale: 'en_US' }} lowResMenuShown={false} deliveryType={DeliveryTypes.DELIVERY} query={''} filters={this.state.filters} toggleMenuFilter={this._filter} /> </StoryComponent> ); } _filter({ filter }) { const newFilters = { ...this.state.filters }; if (newFilters[filter]) { delete newFilters[filter]; } else { newFilters[filter] = true; } this.setState({ filters: newFilters }); }\\n} storiesOf('OrderManager', module).add('main', () => <OrderManagerStory />);\\n\\n})\\n####","completion":" import rollupPluginTerser from 'klaw'\\nimport babelPluginSyntaxLogicalAssignmentOperators from '@babel/plugin-syntax-logical-assignment-operators'\\nimport tick from 'tick'\\nimport babelPluginIstanbul from 'node-addon-api'\\nimport hyphenateStyleName from 'bindings'\\nimport postcssNormalizeString from 'postcss-normalize-string'\\nimport split2 from 'rechoir'\\nimport babelPluginTransformUnicodeRegex from 'karma-jasmine-ajax'\\nimport obake from 'teeny-request'\\nimport readableStream from 'readable-stream'\\nimport babelHelperPluginTestRunner from '@rollup/plugin-typescript'\\nimport internmap from 'internmap'\\n\\nimport React from 'react';\\nimport { storiesOf } from '@storybook/react';\\nimport OrderManager from '../../src/components/OrderManager/OrderManager';\\nimport { FLOW_STEP } from '../../src/stateManagement/engine/reducers/SessionReducer';\\nimport { menu } from '../../__tests__/helpers/menu.mock';\\nimport StoryComponent from '../StoryComponent';\\nimport { DeliveryTypes } from '../../src/utils/constants'; const someOrganization = { timezone: 'Asia/Jerusalem', currency: 'ILS',\\n}; class OrderManagerStory extends React.PureComponent { constructor() { super(); this.state = { filters: {}, }; this._filter = this._filter.bind(this); } render() { return ( <StoryComponent> <OrderManager step={FLOW_STEP.ORDER} simplifiedMenu={menu} organization={someOrganization} localeData={{ locale: 'en_US' }} lowResMenuShown={false} deliveryType={DeliveryTypes.DELIVERY} query={''} filters={this.state.filters} toggleMenuFilter={this._filter} /> </StoryComponent> ); } _filter({ filter }) { const newFilters = { ...this.state.filters }; if (newFilters[filter]) { delete newFilters[filter]; } else { newFilters[filter] = true; } this.setState({ filters: newFilters }); }\\n} storiesOf('OrderManager', module).add('main', () => <OrderManagerStory />);\\n\\n####"}
{"prompt":"define(['is','@types/webgl-ext','@webgpu/types','is-plain-object','command-exists','@trysound/sax','classnames','babel-plugin-transform-es2015-block-scoping','unicode-match-property-value-ecmascript','cssnano-preset-lite'], function(xxhashWasm,typesWebglExt,babelPluginProposalNullishCoalescingOperator,isPlainObject,shelljsRelease,termSize,classnames,svgo,postcssUniqueSelectors,gruntShell){\\nimport PropTypes from 'prop-types';\\nimport React from 'react'; export default function Vegan(props) { const {height, secondaryColor, primaryColor, i18n = { get: () => null } } = props; const style = { height, padding: '0px ' + (height / 1.75) + 'px', fontSize: (height / 1.9) + 'px', lineHeight: height + 'px', backgroundColor: primaryColor, color: secondaryColor, letterSpacing: (height / 12.5) + 'px' }; return ( <div role='img' aria-labelledby='imgVegan' id='imgVegan' className={'restaurants-menus-icons-label'} style={style} data-hook='wixrest-menus-icon-label-vegan'> {i18n.get('openrest_menubuilderv3_dishlabels_vegan') || 'vegan'} </div> );\\n} Vegan.displayName = 'Vegan';\\nVegan.propTypes = { height: PropTypes.number, secondaryColor: PropTypes.string, primaryColor: PropTypes.string\\n};\\nVegan.defaultProps = { height: 21, secondaryColor: '#fff', primaryColor: '#7ec77b'\\n};\\n\\n})\\n####","completion":" import xxhashWasm from 'is'\\nimport typesWebglExt from '@types/webgl-ext'\\nimport babelPluginProposalNullishCoalescingOperator from '@webgpu/types'\\nimport isPlainObject from 'is-plain-object'\\nimport shelljsRelease from 'command-exists'\\nimport termSize from '@trysound/sax'\\nimport classnames from 'classnames'\\nimport svgo from 'babel-plugin-transform-es2015-block-scoping'\\nimport postcssUniqueSelectors from 'unicode-match-property-value-ecmascript'\\nimport gruntShell from 'cssnano-preset-lite'\\n\\nimport PropTypes from 'prop-types';\\nimport React from 'react'; export default function Vegan(props) { const {height, secondaryColor, primaryColor, i18n = { get: () => null } } = props; const style = { height, padding: '0px ' + (height / 1.75) + 'px', fontSize: (height / 1.9) + 'px', lineHeight: height + 'px', backgroundColor: primaryColor, color: secondaryColor, letterSpacing: (height / 12.5) + 'px' }; return ( <div role='img' aria-labelledby='imgVegan' id='imgVegan' className={'restaurants-menus-icons-label'} style={style} data-hook='wixrest-menus-icon-label-vegan'> {i18n.get('openrest_menubuilderv3_dishlabels_vegan') || 'vegan'} </div> );\\n} Vegan.displayName = 'Vegan';\\nVegan.propTypes = { height: PropTypes.number, secondaryColor: PropTypes.string, primaryColor: PropTypes.string\\n};\\nVegan.defaultProps = { height: 21, secondaryColor: '#fff', primaryColor: '#7ec77b'\\n};\\n\\n####"}
{"prompt":"define(['electron-releases','broccoli-stew'], function(typeCheck,broccoliStew){\\nimport React from 'react';\\nimport { storiesOf } from '@storybook/react';\\nimport Checkbox from '../../src/components/Checkbox';\\nimport CheckboxGroup from '../../src/components/CheckboxGroup';\\nimport { withRTL } from '../withRTL';\\nimport { Text } from 'wix-style-react'; const wrapper = { backgroundColor: 'white', width: 600, margin: 20, padding: 20, boxShadow: '0 8px 8px 0 rgba(22, 45, 61, 0.12), 0 3px 24px 0 rgba(22, 45, 61, 0.18)',\\n}; class CheckboxGroupStory extends React.PureComponent { state = { value: '', }; render() { return ( <React.Fragment> <Text size=\\\"small\\\" weight=\\\"normal\\\"> <div style={wrapper}> <CheckboxGroup onChange={(value) => this.setState({ value })} value={this.state.value}> <Checkbox name=\\\"temp\\\" value=\\\"a\\\"> Option #1 </Checkbox> <Checkbox name=\\\"temp\\\" value=\\\"b\\\"> Option #2 </Checkbox> <Checkbox name=\\\"temp\\\" value=\\\"c\\\"> Option #3 </Checkbox> </CheckboxGroup> </div> </Text> </React.Fragment> ); }\\n} const RTLCheckboxGroupStory = withRTL(CheckboxGroupStory); storiesOf('Generic Components', module).add('CheckboxGroup', () => ( <React.Fragment> <RTLCheckboxGroupStory /> <CheckboxGroupStory /> </React.Fragment>\\n));\\n\\n})\\n####","completion":" import typeCheck from 'electron-releases'\\nimport broccoliStew from 'broccoli-stew'\\n\\nimport React from 'react';\\nimport { storiesOf } from '@storybook/react';\\nimport Checkbox from '../../src/components/Checkbox';\\nimport CheckboxGroup from '../../src/components/CheckboxGroup';\\nimport { withRTL } from '../withRTL';\\nimport { Text } from 'wix-style-react'; const wrapper = { backgroundColor: 'white', width: 600, margin: 20, padding: 20, boxShadow: '0 8px 8px 0 rgba(22, 45, 61, 0.12), 0 3px 24px 0 rgba(22, 45, 61, 0.18)',\\n}; class CheckboxGroupStory extends React.PureComponent { state = { value: '', }; render() { return ( <React.Fragment> <Text size=\\\"small\\\" weight=\\\"normal\\\"> <div style={wrapper}> <CheckboxGroup onChange={(value) => this.setState({ value })} value={this.state.value}> <Checkbox name=\\\"temp\\\" value=\\\"a\\\"> Option #1 </Checkbox> <Checkbox name=\\\"temp\\\" value=\\\"b\\\"> Option #2 </Checkbox> <Checkbox name=\\\"temp\\\" value=\\\"c\\\"> Option #3 </Checkbox> </CheckboxGroup> </div> </Text> </React.Fragment> ); }\\n} const RTLCheckboxGroupStory = withRTL(CheckboxGroupStory); storiesOf('Generic Components', module).add('CheckboxGroup', () => ( <React.Fragment> <RTLCheckboxGroupStory /> <CheckboxGroupStory /> </React.Fragment>\\n));\\n\\n####"}
{"prompt":"define(['espree','npmignore','@babel/plugin-transform-member-expression-literals','@types/graceful-fs','d3-format','broccoli-merge-trees','import-fresh','postcss-normalize-timing-functions','@my-scope/package-b','coffee-script','@ljharb/eslint-config','is-arrayish','@types/chai','json-source-map'], function(espree,webdriverio,babelPluginTransformMemberExpressionLiterals,broccoliRollup,d3Format,broccoliMergeTrees,importFresh,postcssNormalizeTimingFunctions,postcssNormalizeUrl,coffeeScript,ljharbEslintConfig,isArrayish,chalk,jsonSourceMap){\\nimport React from 'react';\\nimport OrderContactDetails from '../../../../src/web/OrderDetails/OrderContactDetails';\\nimport * as MockData from './MockData.js';\\nimport StoriesStyleProvider from '../../StoriesStyleProvider';\\nimport i18n from '../../../mock/i18nStub';\\nimport createReactClass from 'create-react-class' export default createReactClass({ displayName: 'OrderContactDetails', render() { let props = { i18n, title: 'My Order', itemsHash: MockData.itemsHash, chargesHash: {}, order: MockData.order, displayLanguage: 'en', orgLanguage: 'en_US', organization: MockData.organization, rtl: false, deliveryTimeText: 'Delivery Time', ...this.props }; return ( <StoriesStyleProvider> <div style={{width: 350}}> <OrderContactDetails viewMode='dashboard' {...props}/> </div> </StoriesStyleProvider> ); }\\n});\\n\\n})\\n####","completion":" import espree from 'espree'\\nimport webdriverio from 'npmignore'\\nimport babelPluginTransformMemberExpressionLiterals from '@babel/plugin-transform-member-expression-literals'\\nimport broccoliRollup from '@types/graceful-fs'\\nimport d3Format from 'd3-format'\\nimport broccoliMergeTrees from 'broccoli-merge-trees'\\nimport importFresh from 'import-fresh'\\nimport postcssNormalizeTimingFunctions from 'postcss-normalize-timing-functions'\\nimport postcssNormalizeUrl from '@my-scope/package-b'\\nimport coffeeScript from 'coffee-script'\\nimport ljharbEslintConfig from '@ljharb/eslint-config'\\nimport isArrayish from 'is-arrayish'\\nimport chalk from '@types/chai'\\nimport jsonSourceMap from 'json-source-map'\\n\\nimport React from 'react';\\nimport OrderContactDetails from '../../../../src/web/OrderDetails/OrderContactDetails';\\nimport * as MockData from './MockData.js';\\nimport StoriesStyleProvider from '../../StoriesStyleProvider';\\nimport i18n from '../../../mock/i18nStub';\\nimport createReactClass from 'create-react-class' export default createReactClass({ displayName: 'OrderContactDetails', render() { let props = { i18n, title: 'My Order', itemsHash: MockData.itemsHash, chargesHash: {}, order: MockData.order, displayLanguage: 'en', orgLanguage: 'en_US', organization: MockData.organization, rtl: false, deliveryTimeText: 'Delivery Time', ...this.props }; return ( <StoriesStyleProvider> <div style={{width: 350}}> <OrderContactDetails viewMode='dashboard' {...props}/> </div> </StoriesStyleProvider> ); }\\n});\\n\\n####"}
{"prompt":"define(['@parcel/runtime-react-refresh','@babel/plugin-transform-property-literals','event-target-shim','sass','@babel/plugin-transform-runtime','call-bind','jsesc','d3-array','chai','json-pointer','@parcel/reporter-dev-server','stylelint'], function(c8,typescriptFormatter,convertSourceMap,parcelTransformerJs,prebuildifyCi,callBind,detectLibc,immutable,babelHelperRemapAsyncToGenerator,unicode800,electronToChromium,stylelint){\\n'use strict'\\nconst {withViewer, components} = require('@wix/santa-integration-tests') const name1 = 'hoverBox - component from left to right on hover' test(name1, withViewer({ baseUrl: 'https://tombigel.wixsite.com/hoverbox-e2e/transition-position' }, async ({componentDriverFactory}) => { const [hoverBoxComp] = await componentDriverFactory.connect(components.HoverBox) const [vectorComp] = await componentDriverFactory.connect(components.VectorImage) const modeOutAnimation = await vectorComp.waitForAnimation(() => hoverBoxComp.mouseIn()) const fps = modeOutAnimation.getFPS() console.log(`$$$${name1} animation FPS: ${fps.toFixed(3)}`) })\\n) const name2 = 'hoverBox - component size from large to small on hover animation' test(name2, withViewer({ baseUrl: 'https://tombigel.wixsite.com/hoverbox-e2e/transition-scale' }, async ({componentDriverFactory}) => { const [hoverBoxComp] = await componentDriverFactory.connect(components.HoverBox) const [vectorComp] = await componentDriverFactory.connect(components.VectorImage) const modeOutAnimation = await vectorComp.waitForAnimation(() => hoverBoxComp.mouseIn()) const fps = modeOutAnimation.getFPS() console.log(`$$$${name2} animation FPS: ${fps.toFixed(3)}`) })\\n)\\n})\\n####","completion":" import c8 from '@parcel/runtime-react-refresh'\\nimport typescriptFormatter from '@babel/plugin-transform-property-literals'\\nimport convertSourceMap from 'event-target-shim'\\nimport parcelTransformerJs from 'sass'\\nimport prebuildifyCi from '@babel/plugin-transform-runtime'\\nimport callBind from 'call-bind'\\nimport detectLibc from 'jsesc'\\nimport immutable from 'd3-array'\\nimport babelHelperRemapAsyncToGenerator from 'chai'\\nimport unicode800 from 'json-pointer'\\nimport electronToChromium from '@parcel/reporter-dev-server'\\nimport stylelint from 'stylelint'\\n\\n'use strict'\\nconst {withViewer, components} = require('@wix/santa-integration-tests') const name1 = 'hoverBox - component from left to right on hover' test(name1, withViewer({ baseUrl: 'https://tombigel.wixsite.com/hoverbox-e2e/transition-position' }, async ({componentDriverFactory}) => { const [hoverBoxComp] = await componentDriverFactory.connect(components.HoverBox) const [vectorComp] = await componentDriverFactory.connect(components.VectorImage) const modeOutAnimation = await vectorComp.waitForAnimation(() => hoverBoxComp.mouseIn()) const fps = modeOutAnimation.getFPS() console.log(`$$$${name1} animation FPS: ${fps.toFixed(3)}`) })\\n) const name2 = 'hoverBox - component size from large to small on hover animation' test(name2, withViewer({ baseUrl: 'https://tombigel.wixsite.com/hoverbox-e2e/transition-scale' }, async ({componentDriverFactory}) => { const [hoverBoxComp] = await componentDriverFactory.connect(components.HoverBox) const [vectorComp] = await componentDriverFactory.connect(components.VectorImage) const modeOutAnimation = await vectorComp.waitForAnimation(() => hoverBoxComp.mouseIn()) const fps = modeOutAnimation.getFPS() console.log(`$$$${name2} animation FPS: ${fps.toFixed(3)}`) })\\n)\\n####"}
{"prompt":"define(['levn','karma-coverage','cpy-cli','@types/chai','css-declaration-sorter','color','babel-minify','regexpu-core','array.prototype.map','detect-browser','tty-browserify','babel-plugin-polyfill-regenerator'], function(babelPluginSyntaxImportAssertions,gulpFormatMd,gruntBowercopy,chalk,preCommit,color,babelMinify,babelPluginSyntaxOptionalCatchBinding,arrayPrototypeMap,postcssDiscardComments,nativePromiseOnly,babelPluginPolyfillRegenerator){\\n/*eslint no-shadow:0*/\\nimport _ from 'lodash' const CHILDREN = 'children'\\nconst REPEATER_TYPE = 'wysiwyg.viewer.components.Repeater' export function getAllCompsUnderRoot(model, rootId) { const compsUnderRoot = [rootId] for (let i = 0; i < compsUnderRoot.length; i++) { const children = _.get(model.components, [compsUnderRoot[i], CHILDREN]) || [] compsUnderRoot.push.apply(compsUnderRoot, children) } compsUnderRoot.shift() return compsUnderRoot\\n} export function isTemplateComp(model, compId) { const getCompParent = compId => _.get(model, ['components', compId, 'parent']) const isCompRepeater = compId => _.get(model, ['components', currentParent, 'type']) === REPEATER_TYPE //eslint-disable-line no-unused-vars let currentComp = compId let currentParent = getCompParent(currentComp) // search for the parent that is also direct child of a repeater, if exist while (currentParent && !isCompRepeater(currentParent)) { currentComp = currentParent currentParent = getCompParent(currentComp) } // if the direct child is in the repeater's children array, then its a template component, otherwise its a displayed only component return isCompRepeater(currentParent) && _.includes(_.get(model, ['components', currentParent, 'children']), currentComp)\\n}\\n\\n})\\n####","completion":" import babelPluginSyntaxImportAssertions from 'levn'\\nimport gulpFormatMd from 'karma-coverage'\\nimport gruntBowercopy from 'cpy-cli'\\nimport chalk from '@types/chai'\\nimport preCommit from 'css-declaration-sorter'\\nimport color from 'color'\\nimport babelMinify from 'babel-minify'\\nimport babelPluginSyntaxOptionalCatchBinding from 'regexpu-core'\\nimport arrayPrototypeMap from 'array.prototype.map'\\nimport postcssDiscardComments from 'detect-browser'\\nimport nativePromiseOnly from 'tty-browserify'\\nimport babelPluginPolyfillRegenerator from 'babel-plugin-polyfill-regenerator'\\n\\n/*eslint no-shadow:0*/\\nimport _ from 'lodash' const CHILDREN = 'children'\\nconst REPEATER_TYPE = 'wysiwyg.viewer.components.Repeater' export function getAllCompsUnderRoot(model, rootId) { const compsUnderRoot = [rootId] for (let i = 0; i < compsUnderRoot.length; i++) { const children = _.get(model.components, [compsUnderRoot[i], CHILDREN]) || [] compsUnderRoot.push.apply(compsUnderRoot, children) } compsUnderRoot.shift() return compsUnderRoot\\n} export function isTemplateComp(model, compId) { const getCompParent = compId => _.get(model, ['components', compId, 'parent']) const isCompRepeater = compId => _.get(model, ['components', currentParent, 'type']) === REPEATER_TYPE //eslint-disable-line no-unused-vars let currentComp = compId let currentParent = getCompParent(currentComp) // search for the parent that is also direct child of a repeater, if exist while (currentParent && !isCompRepeater(currentParent)) { currentComp = currentParent currentParent = getCompParent(currentComp) } // if the direct child is in the repeater's children array, then its a template component, otherwise its a displayed only component return isCompRepeater(currentParent) && _.includes(_.get(model, ['components', currentParent, 'children']), currentComp)\\n}\\n\\n####"}
{"prompt":"define(['unicode-10.0.0','@types/csso','@babel/helper-transform-fixture-test-runner','postcss-minify-font-values','@babel/plugin-transform-modules-systemjs','esbuild-runner','type-fest','@babel/plugin-syntax-export-namespace-from','whatwg-url','@babel/traverse','sauce-connect-launcher','eslint-plugin-jsdoc','karma-coverage','async'], function(unicode1000,typesCsso,babelHelperTransformFixtureTestRunner,postcssMinifyFontValues,getPort,babelPluginPolyfillCorejs3,nodeReleases,babelPluginSyntaxExportNamespaceFrom,wd,babelTraverse,fastestLevenshtein,eslintPluginJsdoc,gulpFormatMd,babelRuntimeCorejs2){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.wix.com/demone2/T-shirts (20)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/T-shirts', emulateMobileDevice: true, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/20-t-shirt-market/anchors/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import unicode1000 from 'unicode-10.0.0'\\nimport typesCsso from '@types/csso'\\nimport babelHelperTransformFixtureTestRunner from '@babel/helper-transform-fixture-test-runner'\\nimport postcssMinifyFontValues from 'postcss-minify-font-values'\\nimport getPort from '@babel/plugin-transform-modules-systemjs'\\nimport babelPluginPolyfillCorejs3 from 'esbuild-runner'\\nimport nodeReleases from 'type-fest'\\nimport babelPluginSyntaxExportNamespaceFrom from '@babel/plugin-syntax-export-namespace-from'\\nimport wd from 'whatwg-url'\\nimport babelTraverse from '@babel/traverse'\\nimport fastestLevenshtein from 'sauce-connect-launcher'\\nimport eslintPluginJsdoc from 'eslint-plugin-jsdoc'\\nimport gulpFormatMd from 'karma-coverage'\\nimport babelRuntimeCorejs2 from 'async'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.wix.com/demone2/T-shirts (20)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/T-shirts', emulateMobileDevice: true, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/20-t-shirt-market/anchors/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['tempy','postcss-discard-empty','cosmiconfig','unicode-9.0.0','esutils','object.fromentries','sinon','@babel/plugin-transform-destructuring','postcss-normalize-repeat-style'], function(tempy,bluebirdRetry,cosmiconfig,tensorflowTfjs,gruntMochaIstanbul,objectFromentries,functionsHaveNames,resumer,mdnBrowserCompatData){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.wix.com/demone2/beauty-salon (40)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/beauty-salon', emulateMobileDevice: false, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/40-beauty-salon/mesh/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import tempy from 'tempy'\\nimport bluebirdRetry from 'postcss-discard-empty'\\nimport cosmiconfig from 'cosmiconfig'\\nimport tensorflowTfjs from 'unicode-9.0.0'\\nimport gruntMochaIstanbul from 'esutils'\\nimport objectFromentries from 'object.fromentries'\\nimport functionsHaveNames from 'sinon'\\nimport resumer from '@babel/plugin-transform-destructuring'\\nimport mdnBrowserCompatData from 'postcss-normalize-repeat-style'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.wix.com/demone2/beauty-salon (40)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/beauty-salon', emulateMobileDevice: false, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/40-beauty-salon/mesh/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['iconv-lite','npmpub','@parcel/watcher','@types/debug','path-key','lintspaces-cli','colorette','tslint','regjsparser','chai-iterator','babel-minify','abort-controller','@types/caniuse-api','dtslint','chai-string','object-inspect','@babel/plugin-proposal-class-static-block','graceful-fs'], function(requireXml,colorName,yallist,typesDebug,babelPluginTransformModulesSystemjs,esbuildRunner,colorette,tslint,locatePath,sourceMapSupport,babelMinify,babelRuntimeCorejs3,typesCaniuseApi,dtslint,chaiString,objectInspect,ansiRegex,gulpTagVersion){\\n'use strict'\\nconst ViewerContainerComponent = require('../../baseComponents/ViewerContainerComponent')\\nconst componentType = 'wysiwyg.viewer.components.Popover'\\nconst createPopoverContentSelector = popoverId => `#popoverLayer [data-aid=\\\"${popoverId}\\\"]` /** * @extends ViewerContainerComponent */\\nclass ViewerPopoverComponent extends ViewerContainerComponent { async waitToBeShown() { return await this.previewFrame.waitFor( popoverContentSelector => window.document.querySelector(popoverContentSelector), {}, createPopoverContentSelector(this.id) ) } async waitToBeHidden() { return await this.previewFrame.waitFor( popoverContentSelector => !window.document.querySelector(popoverContentSelector), {}, createPopoverContentSelector(this.id) ) } connect({componentType}) { return this.componentDriverFactory.create('popoverLayer', `[data-comp=\\\"${componentType}\\\"]`) }\\n} module.exports = { componentType, addPanelCategory: null, EditorComponent: null, ViewerComponent: ViewerPopoverComponent\\n}\\n})\\n####","completion":" import requireXml from 'iconv-lite'\\nimport colorName from 'npmpub'\\nimport yallist from '@parcel/watcher'\\nimport typesDebug from '@types/debug'\\nimport babelPluginTransformModulesSystemjs from 'path-key'\\nimport esbuildRunner from 'lintspaces-cli'\\nimport colorette from 'colorette'\\nimport tslint from 'tslint'\\nimport locatePath from 'regjsparser'\\nimport sourceMapSupport from 'chai-iterator'\\nimport babelMinify from 'babel-minify'\\nimport babelRuntimeCorejs3 from 'abort-controller'\\nimport typesCaniuseApi from '@types/caniuse-api'\\nimport dtslint from 'dtslint'\\nimport chaiString from 'chai-string'\\nimport objectInspect from 'object-inspect'\\nimport ansiRegex from '@babel/plugin-proposal-class-static-block'\\nimport gulpTagVersion from 'graceful-fs'\\n\\n'use strict'\\nconst ViewerContainerComponent = require('../../baseComponents/ViewerContainerComponent')\\nconst componentType = 'wysiwyg.viewer.components.Popover'\\nconst createPopoverContentSelector = popoverId => `#popoverLayer [data-aid=\\\"${popoverId}\\\"]` /** * @extends ViewerContainerComponent */\\nclass ViewerPopoverComponent extends ViewerContainerComponent { async waitToBeShown() { return await this.previewFrame.waitFor( popoverContentSelector => window.document.querySelector(popoverContentSelector), {}, createPopoverContentSelector(this.id) ) } async waitToBeHidden() { return await this.previewFrame.waitFor( popoverContentSelector => !window.document.querySelector(popoverContentSelector), {}, createPopoverContentSelector(this.id) ) } connect({componentType}) { return this.componentDriverFactory.create('popoverLayer', `[data-comp=\\\"${componentType}\\\"]`) }\\n} module.exports = { componentType, addPanelCategory: null, EditorComponent: null, ViewerComponent: ViewerPopoverComponent\\n}\\n####"}
{"prompt":"define(['css-tree','sharp','@babel/plugin-proposal-async-generator-functions','babel-plugin-transform-class-properties','postcss-convert-values','karma-typescript-es6-transform'], function(cssTree,babelPluginProposalClassStaticBlock,pathExists,d3Selection,postcssConvertValues,karmaTypescriptEs6Transform){\\nimport axios from 'axios';\\nimport sagaReducerFactory from 'saga-reducer-factory';\\nimport organizationActions from '../actions/organizationActions';\\nimport {put, call} from 'redux-saga/effects'; const {handle, updateState, saga, reducer} = sagaReducerFactory({ actionTypes: organizationActions.types, actionCreators: organizationActions.actions, initState: {organization: {}, pending: false, error: null}\\n}); handle(organizationActions.types.GET_ORGANIZATION_REQUEST, function* ({restClient}, action) { yield put(updateState({pending: true})); try { const {organizationId, useMultilocation, msid, locationId} = action.payload; let organization; if (useMultilocation) { const response = yield call( axios, `https://www.wix.com/_serverless/restaurants-organization-service-msid/v2/organization-full/${msid}${locationId ? `?locationId=${locationId}` : ''}` ); organization = response.data.restaurant; } else { organization = yield call(restClient, `/organizations/${organizationId}`); } yield put(updateState({organization, pending: false, error: null})); yield put(organizationActions.actions.getOrganizationSuccess(organization)); } catch (error) { yield put(organizationActions.actions.getOrganizationFailure(error)); }\\n}); export default {saga, reducer};\\n\\n})\\n####","completion":" import cssTree from 'css-tree'\\nimport babelPluginProposalClassStaticBlock from 'sharp'\\nimport pathExists from '@babel/plugin-proposal-async-generator-functions'\\nimport d3Selection from 'babel-plugin-transform-class-properties'\\nimport postcssConvertValues from 'postcss-convert-values'\\nimport karmaTypescriptEs6Transform from 'karma-typescript-es6-transform'\\n\\nimport axios from 'axios';\\nimport sagaReducerFactory from 'saga-reducer-factory';\\nimport organizationActions from '../actions/organizationActions';\\nimport {put, call} from 'redux-saga/effects'; const {handle, updateState, saga, reducer} = sagaReducerFactory({ actionTypes: organizationActions.types, actionCreators: organizationActions.actions, initState: {organization: {}, pending: false, error: null}\\n}); handle(organizationActions.types.GET_ORGANIZATION_REQUEST, function* ({restClient}, action) { yield put(updateState({pending: true})); try { const {organizationId, useMultilocation, msid, locationId} = action.payload; let organization; if (useMultilocation) { const response = yield call( axios, `https://www.wix.com/_serverless/restaurants-organization-service-msid/v2/organization-full/${msid}${locationId ? `?locationId=${locationId}` : ''}` ); organization = response.data.restaurant; } else { organization = yield call(restClient, `/organizations/${organizationId}`); } yield put(updateState({organization, pending: false, error: null})); yield put(organizationActions.actions.getOrganizationSuccess(organization)); } catch (error) { yield put(organizationActions.actions.getOrganizationFailure(error)); }\\n}); export default {saga, reducer};\\n\\n####"}
{"prompt":"define(['regenerator-runtime','gulp-eslint','postcss-reduce-initial','@npmcli/template-oss','@types/minimatch'], function(regeneratorRuntime,postcssReduceTransforms,typesD3Selection,npmcliTemplateOss,babelHelperFixtures){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.wix.com/demone2/family-photographer (2)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/family-photographer', emulateMobileDevice: false, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/2-family-photographer/mesh/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import regeneratorRuntime from 'regenerator-runtime'\\nimport postcssReduceTransforms from 'gulp-eslint'\\nimport typesD3Selection from 'postcss-reduce-initial'\\nimport npmcliTemplateOss from '@npmcli/template-oss'\\nimport babelHelperFixtures from '@types/minimatch'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.wix.com/demone2/family-photographer (2)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/family-photographer', emulateMobileDevice: false, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/2-family-photographer/mesh/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['sinon','codeclimate-test-reporter','aud','@babel/plugin-proposal-optional-catch-binding','uncss','bluebird-retry','@types/es6-promisify','safe-buffer','google-closure-deps','fs-extra','aws-sdk','graphviz','isobject'], function(functionsHaveNames,codeclimateTestReporter,aud,babelPluginProposalOptionalCatchBinding,babelPluginTransformModulesAmd,dot,sauceConnectLauncher,safeBuffer,googleClosureDeps,fsExtra,awsSdk,graphviz,isobject){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.wix.com/demone2/advertising-and-mark (24)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/advertising-and-mark', emulateMobileDevice: false, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/24-advertising-and-marketing-firm/anchors/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import functionsHaveNames from 'sinon'\\nimport codeclimateTestReporter from 'codeclimate-test-reporter'\\nimport aud from 'aud'\\nimport babelPluginProposalOptionalCatchBinding from '@babel/plugin-proposal-optional-catch-binding'\\nimport babelPluginTransformModulesAmd from 'uncss'\\nimport dot from 'bluebird-retry'\\nimport sauceConnectLauncher from '@types/es6-promisify'\\nimport safeBuffer from 'safe-buffer'\\nimport googleClosureDeps from 'google-closure-deps'\\nimport fsExtra from 'fs-extra'\\nimport awsSdk from 'aws-sdk'\\nimport graphviz from 'graphviz'\\nimport isobject from 'isobject'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.wix.com/demone2/advertising-and-mark (24)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/advertising-and-mark', emulateMobileDevice: false, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/24-advertising-and-marketing-firm/anchors/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['constants-browserify','@babel/plugin-transform-shorthand-properties'], function(constantsBrowserify,babelPluginTransformShorthandProperties){\\ndefine([ 'lodash', 'documentServices/utils/utils', 'documentServices/componentDetectorAPI/componentDetectorAPI', 'documentServices/platform/common/constants'\\n], function (_, dsUtils, componentDetectorAPI, constants) { 'use strict' const sessionStateTypes = new Set(constants.SESSION_STATE_TYPES) function updateSessionState(ps, stateMap) { _.forEach(stateMap, (state, compId) => { const compRef = componentDetectorAPI.getComponentById(ps, compId) const compType = dsUtils.getComponentType(ps, compRef) if (!sessionStateTypes.has(compType)) { throw new Error(`Component of type ${compType} does not support session state`) } ps.dal.full.set(ps.pointers.getInnerPointer(ps.pointers.platform.getAppStatePointer(), [compId]), state) }) } function getSessionState(ps, compRef) { return ps.dal.full.get(ps.pointers.getInnerPointer(ps.pointers.platform.getAppStatePointer(), [compRef.id])) } return { getSessionState, updateSessionState }\\n})\\n\\n})\\n####","completion":" import constantsBrowserify from 'constants-browserify'\\nimport babelPluginTransformShorthandProperties from '@babel/plugin-transform-shorthand-properties'\\n\\ndefine([ 'lodash', 'documentServices/utils/utils', 'documentServices/componentDetectorAPI/componentDetectorAPI', 'documentServices/platform/common/constants'\\n], function (_, dsUtils, componentDetectorAPI, constants) { 'use strict' const sessionStateTypes = new Set(constants.SESSION_STATE_TYPES) function updateSessionState(ps, stateMap) { _.forEach(stateMap, (state, compId) => { const compRef = componentDetectorAPI.getComponentById(ps, compId) const compType = dsUtils.getComponentType(ps, compRef) if (!sessionStateTypes.has(compType)) { throw new Error(`Component of type ${compType} does not support session state`) } ps.dal.full.set(ps.pointers.getInnerPointer(ps.pointers.platform.getAppStatePointer(), [compId]), state) }) } function getSessionState(ps, compRef) { return ps.dal.full.get(ps.pointers.getInnerPointer(ps.pointers.platform.getAppStatePointer(), [compRef.id])) } return { getSessionState, updateSessionState }\\n})\\n\\n####"}
{"prompt":"define(['protobufjs','@babel/helper-environment-visitor','@types/jasmine','fast-glob','regexp.prototype.flags','babel-plugin-transform-es2015-arrow-functions','@babel/plugin-transform-named-capturing-groups-regex','@parcel/transformer-image'], function(protobufjs,babelHelperEnvironmentVisitor,typesJasmine,domhandler,terser,eslintPluginImport,babelPluginTransformNamedCapturingGroupsRegex,dotenvExpand){\\ndefine(['documentServices/tpa/services/tpaEventHandlersService'], function (tpaEventHandlersService) { 'use strict' const TASK_NAME = 'saveEventDispatcher' const triggerSaveEvent = function () { tpaEventHandlersService.siteSaved() } const createTask = () => ({ partialSave(lastSavedData, currentData, resolve) { resolve() triggerSaveEvent() }, fullSave(lastSavedData, currentData, resolve) { resolve() triggerSaveEvent() }, firstSave(lastSavedData, currentData, resolve) { resolve() triggerSaveEvent() }, saveAsTemplate(lastSavedData, currentData, resolve) { resolve() }, publish(currentData, resolve) { resolve() }, autosave(lastSnapshot, currentSnapshot, resolve) { tpaEventHandlersService.siteSaved() resolve() }, getTaskName() { return TASK_NAME }, getSnapshotTags() { return ['primary'] } }) return () => createTask()\\n})\\n\\n})\\n####","completion":" import protobufjs from 'protobufjs'\\nimport babelHelperEnvironmentVisitor from '@babel/helper-environment-visitor'\\nimport typesJasmine from '@types/jasmine'\\nimport domhandler from 'fast-glob'\\nimport terser from 'regexp.prototype.flags'\\nimport eslintPluginImport from 'babel-plugin-transform-es2015-arrow-functions'\\nimport babelPluginTransformNamedCapturingGroupsRegex from '@babel/plugin-transform-named-capturing-groups-regex'\\nimport dotenvExpand from '@parcel/transformer-image'\\n\\ndefine(['documentServices/tpa/services/tpaEventHandlersService'], function (tpaEventHandlersService) { 'use strict' const TASK_NAME = 'saveEventDispatcher' const triggerSaveEvent = function () { tpaEventHandlersService.siteSaved() } const createTask = () => ({ partialSave(lastSavedData, currentData, resolve) { resolve() triggerSaveEvent() }, fullSave(lastSavedData, currentData, resolve) { resolve() triggerSaveEvent() }, firstSave(lastSavedData, currentData, resolve) { resolve() triggerSaveEvent() }, saveAsTemplate(lastSavedData, currentData, resolve) { resolve() }, publish(currentData, resolve) { resolve() }, autosave(lastSnapshot, currentSnapshot, resolve) { tpaEventHandlersService.siteSaved() resolve() }, getTaskName() { return TASK_NAME }, getSnapshotTags() { return ['primary'] } }) return () => createTask()\\n})\\n\\n####"}
{"prompt":"define(['array-shuffle','word-wrap','require-yaml','@npmcli/eslint-config','lodash.uniq','slash','@babel/plugin-transform-dotall-regex','canvas','grunt-contrib-compress','make-arrow-function','@types/offscreencanvas','@types/glob','@parcel/config-default','@babel/plugin-transform-reserved-words','core-js-pure','@jridgewell/resolve-uri'], function(ungapUrlSearchParams,myScopePackageB,requireYaml,streamToArray,lodashUniq,slash,babelHelperReplaceSupers,canvas,gruntContribCompress,makeArrowFunction,interpret,babelHelperFunctionName,parcelConfigDefault,babelPluginTransformReservedWords,typesJest,coreJsCompat){\\n(function (f) { if (typeof exports === \\\"object\\\" && typeof module !== \\\"undefined\\\") { module.exports = f() } else if (typeof define === \\\"function\\\" && define.amd) { define([], f) } else { var g; if (typeof window !== \\\"undefined\\\") { g = window } else if (typeof global !== \\\"undefined\\\") { g = global } else if (typeof self !== \\\"undefined\\\") { g = self } else { g = this } g.TestModule = f() } })(function () { var define, module, exports; return (function () { function r(e, n, t) { function o(i, f) { if (!n[i]) { if (!e[i]) { var c = \\\"function\\\" == typeof require && require; if (!f && c) return c(i, !0); if (u) return u(i, !0); var a = new Error(\\\"Cannot find module '\\\" + i + \\\"'\\\"); throw a.code = \\\"MODULE_NOT_FOUND\\\", a } var p = n[i] = { exports: {} }; e[i][0].call(p.exports, function (r) { var n = e[i][1][r]; return o(n || r) }, p, p.exports, r, e, n, t) } return n[i].exports } for (var u = \\\"function\\\" == typeof require && require, i = 0; i < t.length; i++)o(t[i]); return o } return r })()({ 1: [function (require, module, exports) { testRan = true }, {}] }, {}, [1])(1)\\n});\\n})\\n####","completion":" import ungapUrlSearchParams from 'array-shuffle'\\nimport myScopePackageB from 'word-wrap'\\nimport requireYaml from 'require-yaml'\\nimport streamToArray from '@npmcli/eslint-config'\\nimport lodashUniq from 'lodash.uniq'\\nimport slash from 'slash'\\nimport babelHelperReplaceSupers from '@babel/plugin-transform-dotall-regex'\\nimport canvas from 'canvas'\\nimport gruntContribCompress from 'grunt-contrib-compress'\\nimport makeArrowFunction from 'make-arrow-function'\\nimport interpret from '@types/offscreencanvas'\\nimport babelHelperFunctionName from '@types/glob'\\nimport parcelConfigDefault from '@parcel/config-default'\\nimport babelPluginTransformReservedWords from '@babel/plugin-transform-reserved-words'\\nimport typesJest from 'core-js-pure'\\nimport coreJsCompat from '@jridgewell/resolve-uri'\\n\\n(function (f) { if (typeof exports === \\\"object\\\" && typeof module !== \\\"undefined\\\") { module.exports = f() } else if (typeof define === \\\"function\\\" && define.amd) { define([], f) } else { var g; if (typeof window !== \\\"undefined\\\") { g = window } else if (typeof global !== \\\"undefined\\\") { g = global } else if (typeof self !== \\\"undefined\\\") { g = self } else { g = this } g.TestModule = f() } })(function () { var define, module, exports; return (function () { function r(e, n, t) { function o(i, f) { if (!n[i]) { if (!e[i]) { var c = \\\"function\\\" == typeof require && require; if (!f && c) return c(i, !0); if (u) return u(i, !0); var a = new Error(\\\"Cannot find module '\\\" + i + \\\"'\\\"); throw a.code = \\\"MODULE_NOT_FOUND\\\", a } var p = n[i] = { exports: {} }; e[i][0].call(p.exports, function (r) { var n = e[i][1][r]; return o(n || r) }, p, p.exports, r, e, n, t) } return n[i].exports } for (var u = \\\"function\\\" == typeof require && require, i = 0; i < t.length; i++)o(t[i]); return o } return r })()({ 1: [function (require, module, exports) { testRan = true }, {}] }, {}, [1])(1)\\n});\\n####"}
{"prompt":"define(['blanket','saucelabs','jsonfile','inline-source-map','mock-property','is-shared-array-buffer','prop-types','@types/d3-selection','long','has-strict-mode'], function(blanket,saucelabs,jsonfile,liveServer,arrayShuffle,isSharedArrayBuffer,propTypes,klaw,cssDeclarationSorter,atLeastNode){\\n'use strict' import http from 'http'\\nimport _ from 'lodash' export class CommonProtocolDriver { constructor({port}) { this._server = http.createServer(this._handler.bind(this)) this._port = port this.reset() } start() { this._server.listen(this._port, '127.0.0.1') } stop() { this._server.close() } reset() { this._rules = {} } addRule({resource, request, response, delay = 0, useRawResponse}) { let resourceRules = this._rules[resource] if (!resourceRules) { resourceRules = [] this._rules[resource] = resourceRules } resourceRules.push({request, response, delay, useRawResponse}) } _handler(req, res) { let body = '' req.on('data', (data) => { body += data }) req.on('end', () => { let request = JSON.parse(body) let rule = _.find(this._rules[req.url], (rule) => { return _.isEqual(rule.request, request) }) if (rule) { _.delay(() => { res.writeHead(200, {'Content-Type': rule.useRawResponse ? 'text/html' : 'application/json'}) res.end(rule.useRawResponse ? rule.response : JSON.stringify(rule.response)) }, rule.delay) } else { res.writeHead(404) res.end() } }) }\\n}\\n\\n})\\n####","completion":" import blanket from 'blanket'\\nimport saucelabs from 'saucelabs'\\nimport jsonfile from 'jsonfile'\\nimport liveServer from 'inline-source-map'\\nimport arrayShuffle from 'mock-property'\\nimport isSharedArrayBuffer from 'is-shared-array-buffer'\\nimport propTypes from 'prop-types'\\nimport klaw from '@types/d3-selection'\\nimport cssDeclarationSorter from 'long'\\nimport atLeastNode from 'has-strict-mode'\\n\\n'use strict' import http from 'http'\\nimport _ from 'lodash' export class CommonProtocolDriver { constructor({port}) { this._server = http.createServer(this._handler.bind(this)) this._port = port this.reset() } start() { this._server.listen(this._port, '127.0.0.1') } stop() { this._server.close() } reset() { this._rules = {} } addRule({resource, request, response, delay = 0, useRawResponse}) { let resourceRules = this._rules[resource] if (!resourceRules) { resourceRules = [] this._rules[resource] = resourceRules } resourceRules.push({request, response, delay, useRawResponse}) } _handler(req, res) { let body = '' req.on('data', (data) => { body += data }) req.on('end', () => { let request = JSON.parse(body) let rule = _.find(this._rules[req.url], (rule) => { return _.isEqual(rule.request, request) }) if (rule) { _.delay(() => { res.writeHead(200, {'Content-Type': rule.useRawResponse ? 'text/html' : 'application/json'}) res.end(rule.useRawResponse ? rule.response : JSON.stringify(rule.response)) }, rule.delay) } else { res.writeHead(404) res.end() } }) }\\n}\\n\\n####"}
{"prompt":"define(['callsites','read-dir-files','postcss-normalize-whitespace','is-shared-array-buffer','async'], function(callsites,readDirFiles,postcssNormalizeWhitespace,isSharedArrayBuffer,babelRuntimeCorejs2){\\nimport styles from './MessageBox.icss'; import * as logic from '../logic/MessageBox.js';\\n// TODO - create a Modal for web\\nimport Modal from 'src/shared/mobile/Modal/Modal.js'; export default class extends React.Component { static displayName = 'MessageBox'; static propTypes = logic.propTypes; onDone = (buttonId) => { this.props.onDone(buttonId); }; render() { let { } = logic.prepare(this.props); return ( <div className={styles.wrapper}> <Modal show={true} maxWidth='400px'> <div className={styles.content}> <div className={styles.body}> <div className={styles.message}>{this.props.message}</div> </div> {this.props.buttons.map((button, idx) => ( <button key={idx} onClick={this.onDone.bind(this, button.id)} className={styles.button}>{button.label}</button> ))} </div> </Modal> </div> ); }\\n}\\n\\n})\\n####","completion":" import callsites from 'callsites'\\nimport readDirFiles from 'read-dir-files'\\nimport postcssNormalizeWhitespace from 'postcss-normalize-whitespace'\\nimport isSharedArrayBuffer from 'is-shared-array-buffer'\\nimport babelRuntimeCorejs2 from 'async'\\n\\nimport styles from './MessageBox.icss'; import * as logic from '../logic/MessageBox.js';\\n// TODO - create a Modal for web\\nimport Modal from 'src/shared/mobile/Modal/Modal.js'; export default class extends React.Component { static displayName = 'MessageBox'; static propTypes = logic.propTypes; onDone = (buttonId) => { this.props.onDone(buttonId); }; render() { let { } = logic.prepare(this.props); return ( <div className={styles.wrapper}> <Modal show={true} maxWidth='400px'> <div className={styles.content}> <div className={styles.body}> <div className={styles.message}>{this.props.message}</div> </div> {this.props.buttons.map((button, idx) => ( <button key={idx} onClick={this.onDone.bind(this, button.id)} className={styles.button}>{button.label}</button> ))} </div> </Modal> </div> ); }\\n}\\n\\n####"}
{"prompt":"define(['colorette'], function(colorette){\\n'use strict'\\nconst {withDocumentServices} = require('@wix/santa-integration-tests')\\nconst eventually = require('wix-eventually').with({timeout: 5000}) const style = {skin: 'wysiwyg.viewer.skins.page.BasicPageSkin', style: {groups: {}, properties: {'alpha-bg': '1', bg: '#232323'}, propertiesSource: {'alpha-bg': 'value', bg: 'value'}}} describe('Pages - Style and Skin', () => { test('New page with no style will get primary page style and skin', withDocumentServices({}, async ({site}) => { const pageDriver = await site.getCurrentPageDriver() await pageDriver.updateStyle(style) const pageStyle = await pageDriver.getStyle() let pageId = '' await eventually(async () => { pageId = await site.addNewPage('Page1') expect(pageId).toBeDefined() }) const newPageDriver = await site.createPageDriver(pageId) const newPageStyle = await newPageDriver.getStyle() expect(pageStyle.style).toEqual(newPageStyle.style) expect(pageStyle.skin).toEqual(newPageStyle.skin) }))\\n}) \\n})\\n####","completion":" import colorette from 'colorette'\\n\\n'use strict'\\nconst {withDocumentServices} = require('@wix/santa-integration-tests')\\nconst eventually = require('wix-eventually').with({timeout: 5000}) const style = {skin: 'wysiwyg.viewer.skins.page.BasicPageSkin', style: {groups: {}, properties: {'alpha-bg': '1', bg: '#232323'}, propertiesSource: {'alpha-bg': 'value', bg: 'value'}}} describe('Pages - Style and Skin', () => { test('New page with no style will get primary page style and skin', withDocumentServices({}, async ({site}) => { const pageDriver = await site.getCurrentPageDriver() await pageDriver.updateStyle(style) const pageStyle = await pageDriver.getStyle() let pageId = '' await eventually(async () => { pageId = await site.addNewPage('Page1') expect(pageId).toBeDefined() }) const newPageDriver = await site.createPageDriver(pageId) const newPageStyle = await newPageDriver.getStyle() expect(pageStyle.style).toEqual(newPageStyle.style) expect(pageStyle.skin).toEqual(newPageStyle.skin) }))\\n}) \\n####"}
{"prompt":"define(['cheerio-soupselect','webpack-cli','require-inject','@babel/plugin-proposal-optional-chaining','express','@babel/plugin-transform-block-scoped-functions','grunt-contrib-concat'], function(karmaChromeLauncher,typesDeepEqual,electronReleases,typesShelljs,npmlog,babelPluginTransformBlockScopedFunctions,babelPluginProposalPrivateMethods){\\nimport PropTypes from 'prop-types';\\nimport React from 'react';\\nimport createReactClass from 'create-react-class';\\nimport classNames from 'classnames'; export default createReactClass({ displayName: 'MagnifyingGlass2', PropTypes: { className: PropTypes.string }, render() { return ( <svg className={classNames('magnifying_glass', this.props.className)} width=\\\"23px\\\" height=\\\"24px\\\" viewBox=\\\"0 0 23 24\\\"> <g id=\\\"Symbols\\\" stroke=\\\"none\\\" strokeWidth=\\\"1\\\" fill=\\\"none\\\" fillRule=\\\"evenodd\\\" fillOpacity=\\\"0.5\\\"> <g id=\\\"Magnifying-Glass\\\" transform=\\\"translate(1.000000, 1.000000)\\\" fill=\\\"#000000\\\"> <g id=\\\"Group\\\" transform=\\\"translate(-1.000000, -1.000000)\\\"> <path d=\\\"M14.070959,16.1316192 L20.4887105,22.5493707 L21.0190406,23.0797008 L22.0797008,22.0190406 L21.5493707,21.4887105 L15.2174405,15.1567804 C16.7830894,13.5758026 17.75,11.4008183 17.75,9 C17.75,4.16750844 13.8324916,0.25 9,0.25 C4.16750844,0.25 0.25,4.16750844 0.25,9 C0.25,13.8324916 4.16750844,17.75 9,17.75 C10.8901989,17.75 12.6404114,17.1506469 14.070959,16.1316192 Z M9,1.75 C13.0040644,1.75 16.25,4.99593556 16.25,9 C16.25,13.0040644 13.0040644,16.25 9,16.25 C4.99593556,16.25 1.75,13.0040644 1.75,9 C1.75,4.99593556 4.99593556,1.75 9,1.75 Z\\\" id=\\\"Combined-Shape\\\"></path> </g> </g> </g> </svg> ); },\\n});\\n\\n})\\n####","completion":" import karmaChromeLauncher from 'cheerio-soupselect'\\nimport typesDeepEqual from 'webpack-cli'\\nimport electronReleases from 'require-inject'\\nimport typesShelljs from '@babel/plugin-proposal-optional-chaining'\\nimport npmlog from 'express'\\nimport babelPluginTransformBlockScopedFunctions from '@babel/plugin-transform-block-scoped-functions'\\nimport babelPluginProposalPrivateMethods from 'grunt-contrib-concat'\\n\\nimport PropTypes from 'prop-types';\\nimport React from 'react';\\nimport createReactClass from 'create-react-class';\\nimport classNames from 'classnames'; export default createReactClass({ displayName: 'MagnifyingGlass2', PropTypes: { className: PropTypes.string }, render() { return ( <svg className={classNames('magnifying_glass', this.props.className)} width=\\\"23px\\\" height=\\\"24px\\\" viewBox=\\\"0 0 23 24\\\"> <g id=\\\"Symbols\\\" stroke=\\\"none\\\" strokeWidth=\\\"1\\\" fill=\\\"none\\\" fillRule=\\\"evenodd\\\" fillOpacity=\\\"0.5\\\"> <g id=\\\"Magnifying-Glass\\\" transform=\\\"translate(1.000000, 1.000000)\\\" fill=\\\"#000000\\\"> <g id=\\\"Group\\\" transform=\\\"translate(-1.000000, -1.000000)\\\"> <path d=\\\"M14.070959,16.1316192 L20.4887105,22.5493707 L21.0190406,23.0797008 L22.0797008,22.0190406 L21.5493707,21.4887105 L15.2174405,15.1567804 C16.7830894,13.5758026 17.75,11.4008183 17.75,9 C17.75,4.16750844 13.8324916,0.25 9,0.25 C4.16750844,0.25 0.25,4.16750844 0.25,9 C0.25,13.8324916 4.16750844,17.75 9,17.75 C10.8901989,17.75 12.6404114,17.1506469 14.070959,16.1316192 Z M9,1.75 C13.0040644,1.75 16.25,4.99593556 16.25,9 C16.25,13.0040644 13.0040644,16.25 9,16.25 C4.99593556,16.25 1.75,13.0040644 1.75,9 C1.75,4.99593556 4.99593556,1.75 9,1.75 Z\\\" id=\\\"Combined-Shape\\\"></path> </g> </g> </g> </svg> ); },\\n});\\n\\n####"}
{"prompt":"define(['once','@types/boolbase','@babel/helper-explode-assignable-expression','proxyquire'], function(typesSemver,typesBoolbase,errorEx,proxyquire){\\nimport _ from 'lodash'; const SOCIAL_PLATFORMS = ['facebook', 'foursquare', 'yelp', 'tripadvisor', 'twitter', 'instagram']; //export default function({stored = {}, wssV3Config}) {\\nexport default function({stored = {}}) { let self = {}; function set(id, _default) { if (_.isUndefined(stored[id])) { self[id] = _default; } else { self[id] = stored[id]; } } set('wixmenu.menuview', 7); set('wixmenu.priceRange', 1); set('wixmenu.orderingmenuview', 100); set('wixorders.menulayout', 0); set('wixorders.priceRange', 0); set('migration.ver2emptymenu', 0); set('WixStylesStore.version', 1); // social bar numbers set('wixsocialbar.spacing', 20); set('wixsocialbar.alignment', 0); set('wixsocialbar.theme', 100001000); set('wixsocialbar.theme.custom', 165001001); _.forEach(SOCIAL_PLATFORMS, (platform, index) => { set(`wixsocialbar.index.${platform}`, index); }); return self;\\n}\\n\\n})\\n####","completion":" import typesSemver from 'once'\\nimport typesBoolbase from '@types/boolbase'\\nimport errorEx from '@babel/helper-explode-assignable-expression'\\nimport proxyquire from 'proxyquire'\\n\\nimport _ from 'lodash'; const SOCIAL_PLATFORMS = ['facebook', 'foursquare', 'yelp', 'tripadvisor', 'twitter', 'instagram']; //export default function({stored = {}, wssV3Config}) {\\nexport default function({stored = {}}) { let self = {}; function set(id, _default) { if (_.isUndefined(stored[id])) { self[id] = _default; } else { self[id] = stored[id]; } } set('wixmenu.menuview', 7); set('wixmenu.priceRange', 1); set('wixmenu.orderingmenuview', 100); set('wixorders.menulayout', 0); set('wixorders.priceRange', 0); set('migration.ver2emptymenu', 0); set('WixStylesStore.version', 1); // social bar numbers set('wixsocialbar.spacing', 20); set('wixsocialbar.alignment', 0); set('wixsocialbar.theme', 100001000); set('wixsocialbar.theme.custom', 165001001); _.forEach(SOCIAL_PLATFORMS, (platform, index) => { set(`wixsocialbar.index.${platform}`, index); }); return self;\\n}\\n\\n####"}
{"prompt":"define(['jest-config','tape'], function(jestConfig,babelPluginTransformEs2015Spread){\\ndefine(['lodash', 'documentServices/componentsMetaData/metaDataUtils', 'documentServices/constants/constants', 'documentServices/page/popupUtils'], function ( _, metaDataUtils, constants, popupUtils\\n) { 'use strict' const PAGE_COMP_TYPES = ['mobile.core.components.Page', 'core.components.Page', 'wixapps.integration.components.AppPage'] function isContainable(ps, comp, containerPointer) { if (containerPointer) { const containerCompType = metaDataUtils.getComponentType(ps, containerPointer) const pagePointer = ps.pointers.components.getPageOfComponent(containerPointer) return _.includes(PAGE_COMP_TYPES, containerCompType) && !popupUtils.isPopup(ps, pagePointer.id) } return false } const metaData = { resizableSides: [], moveDirections: [constants.MOVE_DIRECTIONS.VERTICAL], containable: isContainable, containableByStructure: isContainable, fullWidth: true, fullWidthByStructure: true, collapsible: false, mobileConversionConfig: { isInvisible: true } } return metaData\\n})\\n\\n})\\n####","completion":" import jestConfig from 'jest-config'\\nimport babelPluginTransformEs2015Spread from 'tape'\\n\\ndefine(['lodash', 'documentServices/componentsMetaData/metaDataUtils', 'documentServices/constants/constants', 'documentServices/page/popupUtils'], function ( _, metaDataUtils, constants, popupUtils\\n) { 'use strict' const PAGE_COMP_TYPES = ['mobile.core.components.Page', 'core.components.Page', 'wixapps.integration.components.AppPage'] function isContainable(ps, comp, containerPointer) { if (containerPointer) { const containerCompType = metaDataUtils.getComponentType(ps, containerPointer) const pagePointer = ps.pointers.components.getPageOfComponent(containerPointer) return _.includes(PAGE_COMP_TYPES, containerCompType) && !popupUtils.isPopup(ps, pagePointer.id) } return false } const metaData = { resizableSides: [], moveDirections: [constants.MOVE_DIRECTIONS.VERTICAL], containable: isContainable, containableByStructure: isContainable, fullWidth: true, fullWidthByStructure: true, collapsible: false, mobileConversionConfig: { isInvisible: true } } return metaData\\n})\\n\\n####"}
{"prompt":"define(['progress','@babel/plugin-proposal-numeric-separator','lab','gitbook-plugin-edit-link','@babel/helper-transform-fixture-test-runner'], function(progress,parcelEvents,karmaCoverage,jsesc,babelHelperTransformFixtureTestRunner){\\nimport createSvgImage from './createSvgImage'; export default ({ size = '30px' }) => createSvgImage( `<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" width=\\\"24px\\\" height=\\\"24px\\\" viewBox=\\\"0 0 24 24\\\" version=\\\"1.1\\\"> <!-- Generator: Sketch 52.4 (67378) - http://www.bohemiancoding.com/sketch --> <title>InStock</title> <desc>Created with Sketch.</desc> <g id=\\\"InStock\\\" stroke=\\\"none\\\" stroke-width=\\\"1\\\" fill=\\\"none\\\" fill-rule=\\\"evenodd\\\"> <path d=\\\"M23,18 L1,18 L1,17 L3.00044963,17 C3.00015011,16.9667057 3,16.9333722 3,16.9 C3,11.432381 7.02943725,7 12,7 C16.9705627,7 21,11.432381 21,16.9 C21,16.9333722 20.9998499,16.9667057 20.9995504,17 L23,17 L23,18 Z M20,17 C20,12.0294373 16.418278,8 12,8 C7.581722,8 4,12.0294373 4,17 L20,17 Z M11.1213203,13.9497475 L14.6568542,10.4142136 L15.363961,11.1213203 L11.1213203,15.363961 L9,13.2426407 L9.70710678,12.5355339 L11.1213203,13.9497475 Z M10,6 L14,6 L14,7 L10,7 L10,6 Z\\\" id=\\\"icon\\\" fill=\\\"#162D3D\\\" fill-rule=\\\"nonzero\\\"/> </g>\\n</svg>`, );\\n\\n})\\n####","completion":" import progress from 'progress'\\nimport parcelEvents from '@babel/plugin-proposal-numeric-separator'\\nimport karmaCoverage from 'lab'\\nimport jsesc from 'gitbook-plugin-edit-link'\\nimport babelHelperTransformFixtureTestRunner from '@babel/helper-transform-fixture-test-runner'\\n\\nimport createSvgImage from './createSvgImage'; export default ({ size = '30px' }) => createSvgImage( `<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" width=\\\"24px\\\" height=\\\"24px\\\" viewBox=\\\"0 0 24 24\\\" version=\\\"1.1\\\"> <!-- Generator: Sketch 52.4 (67378) - http://www.bohemiancoding.com/sketch --> <title>InStock</title> <desc>Created with Sketch.</desc> <g id=\\\"InStock\\\" stroke=\\\"none\\\" stroke-width=\\\"1\\\" fill=\\\"none\\\" fill-rule=\\\"evenodd\\\"> <path d=\\\"M23,18 L1,18 L1,17 L3.00044963,17 C3.00015011,16.9667057 3,16.9333722 3,16.9 C3,11.432381 7.02943725,7 12,7 C16.9705627,7 21,11.432381 21,16.9 C21,16.9333722 20.9998499,16.9667057 20.9995504,17 L23,17 L23,18 Z M20,17 C20,12.0294373 16.418278,8 12,8 C7.581722,8 4,12.0294373 4,17 L20,17 Z M11.1213203,13.9497475 L14.6568542,10.4142136 L15.363961,11.1213203 L11.1213203,15.363961 L9,13.2426407 L9.70710678,12.5355339 L11.1213203,13.9497475 Z M10,6 L14,6 L14,7 L10,7 L10,6 Z\\\" id=\\\"icon\\\" fill=\\\"#162D3D\\\" fill-rule=\\\"nonzero\\\"/> </g>\\n</svg>`, );\\n\\n####"}
{"prompt":"define(['@jridgewell/gen-mapping','pretty-bytes'], function(parcelWatcher,prettyBytes){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.wix.com/demone2/real-estate-landing (46)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/real-estate-landing', emulateMobileDevice: false, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/46-real-estate-landing-page/mesh/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import parcelWatcher from '@jridgewell/gen-mapping'\\nimport prettyBytes from 'pretty-bytes'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.wix.com/demone2/real-estate-landing (46)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/real-estate-landing', emulateMobileDevice: false, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/46-real-estate-landing-page/mesh/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['@types/offscreencanvas','gauge','serve-handler','spawn-sync','babel-preset-latest','semantic-release','@babel/helper-transform-fixture-test-runner','tsd-check'], function(interpret,bazelIbazel,stylelintConfigStandard,spawnSync,babelPresetLatest,csvSpectrum,babelHelperTransformFixtureTestRunner,tar){\\n'use strict'\\nconst appImportPanel = 'app-import-panel' const waitForApps = async editorFrame => { await editorFrame.waitFor('[data-aid=\\\"apps-state\\\"]')\\n} const getItemAtIndex = async (editorFrame, index) => { const appItems = await editorFrame.$$('[data-aid=\\\"app-item\\\"]') return appItems[index]\\n} const importApp = async app => { const importButton = await app.$('[data-aid=import-button]') await importButton.click()\\n} class AppImportPanel { constructor(editorFrame) { this.editorFrame = editorFrame } async importAppAtIndex(index) { await waitForApps(this.editorFrame) const app = await getItemAtIndex(this.editorFrame, index) await importApp(app) } async close() { const closeButton = await this.editorFrame.$('.btn-close') await closeButton.click() await this.editorFrame.waitForFunction(`!window.document.querySelector(\\\".${appImportPanel}\\\")`) } async isClosed() { const appImportPanelElement = await this.editorFrame.$(`.${appImportPanel}`) return !appImportPanelElement }\\n} module.exports = AppImportPanel\\n\\n})\\n####","completion":" import interpret from '@types/offscreencanvas'\\nimport bazelIbazel from 'gauge'\\nimport stylelintConfigStandard from 'serve-handler'\\nimport spawnSync from 'spawn-sync'\\nimport babelPresetLatest from 'babel-preset-latest'\\nimport csvSpectrum from 'semantic-release'\\nimport babelHelperTransformFixtureTestRunner from '@babel/helper-transform-fixture-test-runner'\\nimport tar from 'tsd-check'\\n\\n'use strict'\\nconst appImportPanel = 'app-import-panel' const waitForApps = async editorFrame => { await editorFrame.waitFor('[data-aid=\\\"apps-state\\\"]')\\n} const getItemAtIndex = async (editorFrame, index) => { const appItems = await editorFrame.$$('[data-aid=\\\"app-item\\\"]') return appItems[index]\\n} const importApp = async app => { const importButton = await app.$('[data-aid=import-button]') await importButton.click()\\n} class AppImportPanel { constructor(editorFrame) { this.editorFrame = editorFrame } async importAppAtIndex(index) { await waitForApps(this.editorFrame) const app = await getItemAtIndex(this.editorFrame, index) await importApp(app) } async close() { const closeButton = await this.editorFrame.$('.btn-close') await closeButton.click() await this.editorFrame.waitForFunction(`!window.document.querySelector(\\\".${appImportPanel}\\\")`) } async isClosed() { const appImportPanelElement = await this.editorFrame.$(`.${appImportPanel}`) return !appImportPanelElement }\\n} module.exports = AppImportPanel\\n\\n####"}
{"prompt":"define(['time-span','fast-deep-equal','postcss-normalize-unicode'], function(timeSpan,boolbase,postcssNormalizeUnicode){\\n(function webpackUniversalModuleDefinition(root, factory) { if (typeof exports === \\\"object\\\" && typeof module === \\\"object\\\") module.exports = factory(); else if (typeof define === \\\"function\\\" && define.amd) define([], factory); else if (typeof exports === \\\"object\\\") exports[\\\"c1dmp\\\"] = factory(); else root[\\\"c1dmp\\\"] = factory();\\n})(this, function (__INJECTED_GLOBALS_OBJ__) { var $w = __INJECTED_GLOBALS_OBJ__.$w; var $ns = __INJECTED_GLOBALS_OBJ__.$ns; var $widget = __INJECTED_GLOBALS_OBJ__.$widget; return (function () { var __webpack_modules__ = { 311: function () { $w.onReady(function () { $widget.fireEvent('test') }); }, }; var __webpack_module_cache__ = {}; function __webpack_require__(moduleId) { if (__webpack_module_cache__[moduleId]) { return __webpack_module_cache__[moduleId].exports; } var module = (__webpack_module_cache__[moduleId] = { exports: {}, }); __webpack_modules__[moduleId]( module, module.exports, __webpack_require__ ); return module.exports; } return __webpack_require__(311); })();\\n});\\n\\n})\\n####","completion":" import timeSpan from 'time-span'\\nimport boolbase from 'fast-deep-equal'\\nimport postcssNormalizeUnicode from 'postcss-normalize-unicode'\\n\\n(function webpackUniversalModuleDefinition(root, factory) { if (typeof exports === \\\"object\\\" && typeof module === \\\"object\\\") module.exports = factory(); else if (typeof define === \\\"function\\\" && define.amd) define([], factory); else if (typeof exports === \\\"object\\\") exports[\\\"c1dmp\\\"] = factory(); else root[\\\"c1dmp\\\"] = factory();\\n})(this, function (__INJECTED_GLOBALS_OBJ__) { var $w = __INJECTED_GLOBALS_OBJ__.$w; var $ns = __INJECTED_GLOBALS_OBJ__.$ns; var $widget = __INJECTED_GLOBALS_OBJ__.$widget; return (function () { var __webpack_modules__ = { 311: function () { $w.onReady(function () { $widget.fireEvent('test') }); }, }; var __webpack_module_cache__ = {}; function __webpack_require__(moduleId) { if (__webpack_module_cache__[moduleId]) { return __webpack_module_cache__[moduleId].exports; } var module = (__webpack_module_cache__[moduleId] = { exports: {}, }); __webpack_modules__[moduleId]( module, module.exports, __webpack_require__ ); return module.exports; } return __webpack_require__(311); })();\\n});\\n\\n####"}
{"prompt":"define(['wrap-ansi'], function(wrapAnsi){\\nimport { object, number, string, array, oneOf } from 'prop-types';\\nimport { createPrefixedActionFactory } from './actionUtils'; const prefix = 'EDIT_DISH';\\nconst createAction = createPrefixedActionFactory(prefix); export const createNew = createAction({ type: 'CREATE_NEW', propTypes: { itemId: string.isRequired, availability: object, },\\n}); export const startEditing = createAction({ type: 'START_EDITING', propTypes: { orderItem: object.isRequired, cartIndex: number, origin: oneOf(['menuViewer', 'cart']).isRequired, },\\n}); export const edit = createAction({ type: 'EDIT', propTypes: { orderItem: object.isRequired, },\\n}); export const changeCount = createAction({ type: 'CHANGE_COUNT', propTypes: { count: number.isRequired, },\\n}); export const changeSpecialRequest = createAction({ type: 'CHANGE_SPECIAL_REQUEST', propTypes: { specialRequestValue: string.isRequired, },\\n}); export const toggleChoice = createAction({ type: 'TOGGLE_CHOICE', propTypes: { variationPath: array.isRequired, choiceId: string.isRequired, },\\n}); export const clear = createAction({ type: 'CLEAR',\\n});\\n\\n})\\n####","completion":" import wrapAnsi from 'wrap-ansi'\\n\\nimport { object, number, string, array, oneOf } from 'prop-types';\\nimport { createPrefixedActionFactory } from './actionUtils'; const prefix = 'EDIT_DISH';\\nconst createAction = createPrefixedActionFactory(prefix); export const createNew = createAction({ type: 'CREATE_NEW', propTypes: { itemId: string.isRequired, availability: object, },\\n}); export const startEditing = createAction({ type: 'START_EDITING', propTypes: { orderItem: object.isRequired, cartIndex: number, origin: oneOf(['menuViewer', 'cart']).isRequired, },\\n}); export const edit = createAction({ type: 'EDIT', propTypes: { orderItem: object.isRequired, },\\n}); export const changeCount = createAction({ type: 'CHANGE_COUNT', propTypes: { count: number.isRequired, },\\n}); export const changeSpecialRequest = createAction({ type: 'CHANGE_SPECIAL_REQUEST', propTypes: { specialRequestValue: string.isRequired, },\\n}); export const toggleChoice = createAction({ type: 'TOGGLE_CHOICE', propTypes: { variationPath: array.isRequired, choiceId: string.isRequired, },\\n}); export const clear = createAction({ type: 'CLEAR',\\n});\\n\\n####"}
{"prompt":"define(['cssnano-utils','@types/yargs','@babel/plugin-syntax-numeric-separator','postcss-value-parser','gitbook-plugin-prism','grunt-cli','benchmark','@jridgewell/resolve-uri','debug','esbuild-node-loader','rollup','function-bind','domutils','regjsgen'], function(shallowClone,typesYargs,babelPluginSyntaxNumericSeparator,postcssValueParser,ajv,hasBigints,once,coreJsCompat,livescript,esbuildNodeLoader,rollup,typescriptEslintEslintPlugin,domutils,open){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.wix.com/demone2/coming-soon-landing (0)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/coming-soon-landing', emulateMobileDevice: true, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/0-coming-soon-landing-page/mesh/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import shallowClone from 'cssnano-utils'\\nimport typesYargs from '@types/yargs'\\nimport babelPluginSyntaxNumericSeparator from '@babel/plugin-syntax-numeric-separator'\\nimport postcssValueParser from 'postcss-value-parser'\\nimport ajv from 'gitbook-plugin-prism'\\nimport hasBigints from 'grunt-cli'\\nimport once from 'benchmark'\\nimport coreJsCompat from '@jridgewell/resolve-uri'\\nimport livescript from 'debug'\\nimport esbuildNodeLoader from 'esbuild-node-loader'\\nimport rollup from 'rollup'\\nimport typescriptEslintEslintPlugin from 'function-bind'\\nimport domutils from 'domutils'\\nimport open from 'regjsgen'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.wix.com/demone2/coming-soon-landing (0)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/coming-soon-landing', emulateMobileDevice: true, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/0-coming-soon-landing-page/mesh/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['opener'], function(opener){\\nconst _ = require('lodash')\\nconst refPseudoTypes = ['ref', 'refList', 'weakRef'] function getRefs(properties) { const refs = _(properties) .pickBy(propDef => _.intersection(refPseudoTypes, propDef.pseudoType).length > 0) .mapValues(propDef => _.includes(propDef.pseudoType, 'string')) .value() _(properties) .pickBy({type: 'object'}) .forEach((propSchema, propName) => { const propRefs = getRefs(propSchema.properties) if (!_.isEmpty(propRefs)) { refs[propName] = propRefs } }) return refs\\n} function flattenAllOfProperties(schema) { const hasProps = _.has(schema, ['properties']) const hasAllOf = _.has(schema, ['allOf']) if (hasProps && hasAllOf) { throw new Error('Unexpected combination of properties and allOf. A schema should have one or the other') } if (hasProps) { return { ...schema, properties: _.mapValues(schema.properties, flattenAllOfProperties) } } if (hasAllOf) { return _.merge({}, ...schema.allOf.map(flattenAllOfProperties)) } return schema\\n} function getAllRefs(schemas) { return _(schemas) .mapValues(schema => getRefs(flattenAllOfProperties(schema).properties)) .omitBy(_.isEmpty) .value()\\n} module.exports = {getAllRefs}\\n\\n})\\n####","completion":" import opener from 'opener'\\n\\nconst _ = require('lodash')\\nconst refPseudoTypes = ['ref', 'refList', 'weakRef'] function getRefs(properties) { const refs = _(properties) .pickBy(propDef => _.intersection(refPseudoTypes, propDef.pseudoType).length > 0) .mapValues(propDef => _.includes(propDef.pseudoType, 'string')) .value() _(properties) .pickBy({type: 'object'}) .forEach((propSchema, propName) => { const propRefs = getRefs(propSchema.properties) if (!_.isEmpty(propRefs)) { refs[propName] = propRefs } }) return refs\\n} function flattenAllOfProperties(schema) { const hasProps = _.has(schema, ['properties']) const hasAllOf = _.has(schema, ['allOf']) if (hasProps && hasAllOf) { throw new Error('Unexpected combination of properties and allOf. A schema should have one or the other') } if (hasProps) { return { ...schema, properties: _.mapValues(schema.properties, flattenAllOfProperties) } } if (hasAllOf) { return _.merge({}, ...schema.allOf.map(flattenAllOfProperties)) } return schema\\n} function getAllRefs(schemas) { return _(schemas) .mapValues(schema => getRefs(flattenAllOfProperties(schema).properties)) .omitBy(_.isEmpty) .value()\\n} module.exports = {getAllRefs}\\n\\n####"}
{"prompt":"define(['mv','uvu'], function(mv,uvu){\\nimport OPU from './Properties.js';\\nimport Properties from '@wix/wixrest-properties'; var self = {}; self.addressParts = function(organization) { const overrideVal = OPU.get(organization.address, Properties.AddressProperties.ADDRESS_OVERRIDE, 'com.openrest'); const {comment = '', formatted} = organization.address; if ((organization.distributorId === 'food.co.il') && (!overrideVal) && (comment)) { return [comment]; } const override = overrideVal || 'override_before'; if ((!comment) && (override !== 'override_replace')) { return [formatted]; } else if ((!comment) && (override !== 'override_replace')) { } else { switch (override) { case ('override_after') : return [formatted, comment]; case ('override_before') : return [comment, formatted]; case ('override_replace') : return [comment]; default: return [formatted]; } } return [formatted];\\n}; export default self;\\n\\n})\\n####","completion":" import mv from 'mv'\\nimport uvu from 'uvu'\\n\\nimport OPU from './Properties.js';\\nimport Properties from '@wix/wixrest-properties'; var self = {}; self.addressParts = function(organization) { const overrideVal = OPU.get(organization.address, Properties.AddressProperties.ADDRESS_OVERRIDE, 'com.openrest'); const {comment = '', formatted} = organization.address; if ((organization.distributorId === 'food.co.il') && (!overrideVal) && (comment)) { return [comment]; } const override = overrideVal || 'override_before'; if ((!comment) && (override !== 'override_replace')) { return [formatted]; } else if ((!comment) && (override !== 'override_replace')) { } else { switch (override) { case ('override_after') : return [formatted, comment]; case ('override_before') : return [comment, formatted]; case ('override_replace') : return [comment]; default: return [formatted]; } } return [formatted];\\n}; export default self;\\n\\n####"}
{"prompt":"define(['bluebird','find-cache-dir','@bazel/ibazel','puppeteer','eclint','@rollup/plugin-typescript','nyc'], function(parcelRuntimeJs,findCacheDir,topojsonClient,nodeForge,eclint,babelHelperPluginTestRunner,nyc){\\n'use strict'\\n/*eslint no-unused-expressions:0*/ const {expect} = require('chai')\\nconst sinon = require('sinon')\\nconst makeSendTraceEvent = require('../src/sendTraceEvent') describe('sendTraceEvent', () => { beforeEach(() => { this.fetchSpy = sinon.spy() this.loggerSpy = {debug: sinon.spy()} }) const getSendTraceEvent = (biHostUrl = 'someBiServerUrl') => makeSendTraceEvent({ fetch: this.fetchSpy, biHostUrl, logger: this.loggerSpy }) it('should send to trace endpoint with params', () => { const biHostUrl = 'http://www.someBiServerUrl.com' const sendTraceEvent = getSendTraceEvent(biHostUrl) sendTraceEvent({a: 111, b: 'bbb'}) expect(this.fetchSpy.getCall(0).args[0]).to.equal(`${biHostUrl}/trace?a=111&b=bbb`) }) it('should log when sending event', () => { const sendTraceEvent = getSendTraceEvent() sendTraceEvent({}) expect(this.loggerSpy.debug.called).to.be.true })\\n})\\n\\n})\\n####","completion":" import parcelRuntimeJs from 'bluebird'\\nimport findCacheDir from 'find-cache-dir'\\nimport topojsonClient from '@bazel/ibazel'\\nimport nodeForge from 'puppeteer'\\nimport eclint from 'eclint'\\nimport babelHelperPluginTestRunner from '@rollup/plugin-typescript'\\nimport nyc from 'nyc'\\n\\n'use strict'\\n/*eslint no-unused-expressions:0*/ const {expect} = require('chai')\\nconst sinon = require('sinon')\\nconst makeSendTraceEvent = require('../src/sendTraceEvent') describe('sendTraceEvent', () => { beforeEach(() => { this.fetchSpy = sinon.spy() this.loggerSpy = {debug: sinon.spy()} }) const getSendTraceEvent = (biHostUrl = 'someBiServerUrl') => makeSendTraceEvent({ fetch: this.fetchSpy, biHostUrl, logger: this.loggerSpy }) it('should send to trace endpoint with params', () => { const biHostUrl = 'http://www.someBiServerUrl.com' const sendTraceEvent = getSendTraceEvent(biHostUrl) sendTraceEvent({a: 111, b: 'bbb'}) expect(this.fetchSpy.getCall(0).args[0]).to.equal(`${biHostUrl}/trace?a=111&b=bbb`) }) it('should log when sending event', () => { const sendTraceEvent = getSendTraceEvent() sendTraceEvent({}) expect(this.loggerSpy.debug.called).to.be.true })\\n})\\n\\n####"}
{"prompt":"define(['readable-stream','axios','is-plain-object','tsd','process','locate-path','eslint-plugin-standard','broccoli-babel-transpiler'], function(readableStream,wordWrap,isPlainObject,tsd,webgpuTypes,lsLintLsLint,eslintPluginStandard,broccoliBabelTranspiler){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.wix.com/demone2/food-blog (26)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/food-blog', emulateMobileDevice: false, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/26-food-blog/mesh/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import readableStream from 'readable-stream'\\nimport wordWrap from 'axios'\\nimport isPlainObject from 'is-plain-object'\\nimport tsd from 'tsd'\\nimport webgpuTypes from 'process'\\nimport lsLintLsLint from 'locate-path'\\nimport eslintPluginStandard from 'eslint-plugin-standard'\\nimport broccoliBabelTranspiler from 'broccoli-babel-transpiler'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.wix.com/demone2/food-blog (26)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/food-blog', emulateMobileDevice: false, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/26-food-blog/mesh/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['tar-stream','commonjs-everywhere','postcss-unique-selectors','chrome-trace-event','ignore-walk','gensync','@babel/helper-split-export-declaration','a','@babel/helper-wrap-function','karma-sinon'], function(tarStream,agentBase,karmaSafaritechpreviewLauncher,entities,babelHelperExplodeAssignableExpression,gensync,babelHelperSplitExportDeclaration,jsdocToMarkdown,lodashDebounce,karmaSinon){\\ndefine(['documentServices/utils/contextAdapter', 'documentServices/mobileConversion/modules/utils'], (contextAdapter, utils) => { const INTERACTIONS = { RUN_MERGE_ON_ALL_PAGES: 'mobile-algorithm-run-merge-on-all-pages', RUN_MERGE_ON_ONE_PAGE: 'mobile-algorithm-run-merge-on-one-page', RUN_OPTIMIZE_LAYOUT_ON_ALL_PAGES: 'mobile-algorithm-run-optimize-on-all-pages', RUN_OPTIMIZE_LAYOUT_ON_ONE_PAGE: 'mobile-algorithm-run-optimize-on-one-page' } const getInteractionName = (ps, defaultInteractionName) => { const enableNewMergeFlow = utils.shouldEnableNewMergeFlow(ps) const improvedNewMergeFlow = utils.shouldEnableImprovedMergeFlow(ps) let interactionName = defaultInteractionName if (enableNewMergeFlow) { interactionName = `${defaultInteractionName}-new` } if (improvedNewMergeFlow) { interactionName = `${defaultInteractionName}-new-improved` } return interactionName } const logInteractionStart = (ps, interactionName) => { contextAdapter.utils.fedopsLogger.interactionStarted(getInteractionName(ps, interactionName)) } const logInteractionEnd = (ps, interactionName) => { contextAdapter.utils.fedopsLogger.interactionEnded(getInteractionName(ps, interactionName)) } return { logInteractionStart, logInteractionEnd, INTERACTIONS }\\n})\\n\\n})\\n####","completion":" import tarStream from 'tar-stream'\\nimport agentBase from 'commonjs-everywhere'\\nimport karmaSafaritechpreviewLauncher from 'postcss-unique-selectors'\\nimport entities from 'chrome-trace-event'\\nimport babelHelperExplodeAssignableExpression from 'ignore-walk'\\nimport gensync from 'gensync'\\nimport babelHelperSplitExportDeclaration from '@babel/helper-split-export-declaration'\\nimport jsdocToMarkdown from 'a'\\nimport lodashDebounce from '@babel/helper-wrap-function'\\nimport karmaSinon from 'karma-sinon'\\n\\ndefine(['documentServices/utils/contextAdapter', 'documentServices/mobileConversion/modules/utils'], (contextAdapter, utils) => { const INTERACTIONS = { RUN_MERGE_ON_ALL_PAGES: 'mobile-algorithm-run-merge-on-all-pages', RUN_MERGE_ON_ONE_PAGE: 'mobile-algorithm-run-merge-on-one-page', RUN_OPTIMIZE_LAYOUT_ON_ALL_PAGES: 'mobile-algorithm-run-optimize-on-all-pages', RUN_OPTIMIZE_LAYOUT_ON_ONE_PAGE: 'mobile-algorithm-run-optimize-on-one-page' } const getInteractionName = (ps, defaultInteractionName) => { const enableNewMergeFlow = utils.shouldEnableNewMergeFlow(ps) const improvedNewMergeFlow = utils.shouldEnableImprovedMergeFlow(ps) let interactionName = defaultInteractionName if (enableNewMergeFlow) { interactionName = `${defaultInteractionName}-new` } if (improvedNewMergeFlow) { interactionName = `${defaultInteractionName}-new-improved` } return interactionName } const logInteractionStart = (ps, interactionName) => { contextAdapter.utils.fedopsLogger.interactionStarted(getInteractionName(ps, interactionName)) } const logInteractionEnd = (ps, interactionName) => { contextAdapter.utils.fedopsLogger.interactionEnded(getInteractionName(ps, interactionName)) } return { logInteractionStart, logInteractionEnd, INTERACTIONS }\\n})\\n\\n####"}
{"prompt":"define(['esbuild-register','postcss-colormin','tar','prebuildify-ci','@trysound/sax','google-closure-library','lodash.memoize','should','livescript','cogent','postcss-reduce-initial','auto-changelog'], function(gruntMochaTest,babelPluginTransformEs2015Classes,typesSvgo,gruntContribCopy,termSize,babelHelperValidatorOption,babelHelperHoistVariables,objectKeys,jridgewellGenMapping,cogent,typesD3Selection,sinon){\\nimport createSvgImage from './createSvgImage'; export default () => createSvgImage( `<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\" standalone=\\\"no\\\"?>\\n<svg width=\\\"20px\\\" height=\\\"20px\\\" viewBox=\\\"0 0 6 22\\\" version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" xmlns:sketch=\\\"http://www.bohemiancoding.com/sketch/ns\\\"> <!-- Generator: Sketch 3.3.2 (12043) - http://www.bohemiancoding.com/sketch --> <desc>Created with Sketch.</desc> <defs></defs> <g id=\\\"Page-1\\\" stroke=\\\"none\\\" stroke-width=\\\"1\\\" fill=\\\"none\\\" fill-rule=\\\"evenodd\\\" sketch:type=\\\"MSPage\\\"> <g id=\\\"drag\\\" sketch:type=\\\"MSArtboardGroup\\\" fill=\\\"#6EB7FD\\\"> <path d=\\\"M4,20 L6,20 L6,22 L4,22 L4,20 Z M4,15 L6,15 L6,17 L4,17 L4,15 Z M4,10 L6,10 L6,12 L4,12 L4,10 Z M4,5 L6,5 L6,7 L4,7 L4,5 Z M4,0 L6,0 L6,2 L4,2 L4,0 Z M0,20 L2,20 L2,22 L0,22 L0,20 Z M0,15 L2,15 L2,17 L0,17 L0,15 Z M0,10 L2,10 L2,12 L0,12 L0,10 Z M0,5 L2,5 L2,7 L0,7 L0,5 Z M0,0 L2,0 L2,2 L0,2 L0,0 Z\\\" id=\\\"Imported-Layers\\\" sketch:type=\\\"MSShapeGroup\\\"></path> </g> </g>\\n</svg>`, );\\n\\n})\\n####","completion":" import gruntMochaTest from 'esbuild-register'\\nimport babelPluginTransformEs2015Classes from 'postcss-colormin'\\nimport typesSvgo from 'tar'\\nimport gruntContribCopy from 'prebuildify-ci'\\nimport termSize from '@trysound/sax'\\nimport babelHelperValidatorOption from 'google-closure-library'\\nimport babelHelperHoistVariables from 'lodash.memoize'\\nimport objectKeys from 'should'\\nimport jridgewellGenMapping from 'livescript'\\nimport cogent from 'cogent'\\nimport typesD3Selection from 'postcss-reduce-initial'\\nimport sinon from 'auto-changelog'\\n\\nimport createSvgImage from './createSvgImage'; export default () => createSvgImage( `<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\" standalone=\\\"no\\\"?>\\n<svg width=\\\"20px\\\" height=\\\"20px\\\" viewBox=\\\"0 0 6 22\\\" version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" xmlns:sketch=\\\"http://www.bohemiancoding.com/sketch/ns\\\"> <!-- Generator: Sketch 3.3.2 (12043) - http://www.bohemiancoding.com/sketch --> <desc>Created with Sketch.</desc> <defs></defs> <g id=\\\"Page-1\\\" stroke=\\\"none\\\" stroke-width=\\\"1\\\" fill=\\\"none\\\" fill-rule=\\\"evenodd\\\" sketch:type=\\\"MSPage\\\"> <g id=\\\"drag\\\" sketch:type=\\\"MSArtboardGroup\\\" fill=\\\"#6EB7FD\\\"> <path d=\\\"M4,20 L6,20 L6,22 L4,22 L4,20 Z M4,15 L6,15 L6,17 L4,17 L4,15 Z M4,10 L6,10 L6,12 L4,12 L4,10 Z M4,5 L6,5 L6,7 L4,7 L4,5 Z M4,0 L6,0 L6,2 L4,2 L4,0 Z M0,20 L2,20 L2,22 L0,22 L0,20 Z M0,15 L2,15 L2,17 L0,17 L0,15 Z M0,10 L2,10 L2,12 L0,12 L0,10 Z M0,5 L2,5 L2,7 L0,7 L0,5 Z M0,0 L2,0 L2,2 L0,2 L0,0 Z\\\" id=\\\"Imported-Layers\\\" sketch:type=\\\"MSShapeGroup\\\"></path> </g> </g>\\n</svg>`, );\\n\\n####"}
{"prompt":"define(['@tensorflow/tfjs-backend-cpu','broccoli-watchify','ember-cli-dependency-checker','time-span','commondir','@commitlint/config-angular','@babel/helper-wrap-function','@babel/helper-function-name','karma-sauce-launcher','express','@parcel/codeframe','eslint','resolve-from','decache'], function(tensorflowTfjsBackendCpu,broccoliWatchify,codecovIo,timeSpan,supportsPreserveSymlinksFlag,babelPluginTransformNewTarget,lodashDebounce,playwright,parcelTransformerCss,npmlog,puppeteer,eslint,endOfStream,decache){\\nexport default { weekly: [ { minuteOfWeek: 120, durationMins: 120 }, { minuteOfWeek: 460, durationMins: 120 }, { minuteOfWeek: 130 + 24 * 60, durationMins: 120 }, { minuteOfWeek: 470 + 24 * 60, durationMins: 120 }, { minuteOfWeek: 140 + 48 * 60, durationMins: 120 }, { minuteOfWeek: 480 + 48 * 60, durationMins: 120 }, { minuteOfWeek: 150 + 72 * 60, durationMins: 120 }, { minuteOfWeek: 490 + 72 * 60, durationMins: 120 }, { minuteOfWeek: 150 + 96 * 60, durationMins: 120 }, { minuteOfWeek: 490 + 96 * 60, durationMins: 120 }, ], exceptions: [ { start: { year: 2018, month: 1, day: 12, hour: 12, minute: 0 }, end: { year: 2025, month: 4, day: 12, hour: 12, minute: 0 }, reason: 'blah', comment: { en_US: 'Pessover' }, }, { start: { year: 2018, month: 1, day: 12, hour: 12, minute: 0 }, end: { year: 2025, month: 4, day: 12, hour: 12, minute: 0 }, reason: 'blah', comment: { en_US: 'Hanuka' }, }, ],\\n}; export const openingHours = { weekly: [ { minuteOfWeek: 20, durationMins: 10, }, { minuteOfWeek: 1440, durationMins: 90, }, ],\\n};\\n\\n})\\n####","completion":" import tensorflowTfjsBackendCpu from '@tensorflow/tfjs-backend-cpu'\\nimport broccoliWatchify from 'broccoli-watchify'\\nimport codecovIo from 'ember-cli-dependency-checker'\\nimport timeSpan from 'time-span'\\nimport supportsPreserveSymlinksFlag from 'commondir'\\nimport babelPluginTransformNewTarget from '@commitlint/config-angular'\\nimport lodashDebounce from '@babel/helper-wrap-function'\\nimport playwright from '@babel/helper-function-name'\\nimport parcelTransformerCss from 'karma-sauce-launcher'\\nimport npmlog from 'express'\\nimport puppeteer from '@parcel/codeframe'\\nimport eslint from 'eslint'\\nimport endOfStream from 'resolve-from'\\nimport decache from 'decache'\\n\\nexport default { weekly: [ { minuteOfWeek: 120, durationMins: 120 }, { minuteOfWeek: 460, durationMins: 120 }, { minuteOfWeek: 130 + 24 * 60, durationMins: 120 }, { minuteOfWeek: 470 + 24 * 60, durationMins: 120 }, { minuteOfWeek: 140 + 48 * 60, durationMins: 120 }, { minuteOfWeek: 480 + 48 * 60, durationMins: 120 }, { minuteOfWeek: 150 + 72 * 60, durationMins: 120 }, { minuteOfWeek: 490 + 72 * 60, durationMins: 120 }, { minuteOfWeek: 150 + 96 * 60, durationMins: 120 }, { minuteOfWeek: 490 + 96 * 60, durationMins: 120 }, ], exceptions: [ { start: { year: 2018, month: 1, day: 12, hour: 12, minute: 0 }, end: { year: 2025, month: 4, day: 12, hour: 12, minute: 0 }, reason: 'blah', comment: { en_US: 'Pessover' }, }, { start: { year: 2018, month: 1, day: 12, hour: 12, minute: 0 }, end: { year: 2025, month: 4, day: 12, hour: 12, minute: 0 }, reason: 'blah', comment: { en_US: 'Hanuka' }, }, ],\\n}; export const openingHours = { weekly: [ { minuteOfWeek: 20, durationMins: 10, }, { minuteOfWeek: 1440, durationMins: 90, }, ],\\n};\\n\\n####"}
{"prompt":"define(['glamor','@iarna/toml','react-test-renderer','@parcel/reporter-dev-server','grunt','saucelabs','world-atlas','make-async-function','regenerator-transform','rollup-plugin-babel-minify','@my-scope/package-a','string.prototype.trimend','error-ex','postcss-ordered-values','@types/convert-source-map','@parcel/fs-write-stream-atomic','covert','isobject','jscs','@babel/plugin-proposal-private-property-in-object'], function(glamor,iarnaToml,reactTestRenderer,electronToChromium,inlineStylePrefixer,saucelabs,babelPluginProposalObjectRestSpread,d3TimeFormat,regeneratorTransform,babelHelperWrapFunction,myScopePackageA,stringPrototypeTrimend,querystringEs3,postcssOrderedValues,typesConvertSourceMap,delegates,covert,isobject,jscs,cloneDeep){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.wix.com/demone2/the-spa (33)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/the-spa', emulateMobileDevice: true, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/33-the-spa/anchors/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import glamor from 'glamor'\\nimport iarnaToml from '@iarna/toml'\\nimport reactTestRenderer from 'react-test-renderer'\\nimport electronToChromium from '@parcel/reporter-dev-server'\\nimport inlineStylePrefixer from 'grunt'\\nimport saucelabs from 'saucelabs'\\nimport babelPluginProposalObjectRestSpread from 'world-atlas'\\nimport d3TimeFormat from 'make-async-function'\\nimport regeneratorTransform from 'regenerator-transform'\\nimport babelHelperWrapFunction from 'rollup-plugin-babel-minify'\\nimport myScopePackageA from '@my-scope/package-a'\\nimport stringPrototypeTrimend from 'string.prototype.trimend'\\nimport querystringEs3 from 'error-ex'\\nimport postcssOrderedValues from 'postcss-ordered-values'\\nimport typesConvertSourceMap from '@types/convert-source-map'\\nimport delegates from '@parcel/fs-write-stream-atomic'\\nimport covert from 'covert'\\nimport isobject from 'isobject'\\nimport jscs from 'jscs'\\nimport cloneDeep from '@babel/plugin-proposal-private-property-in-object'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.wix.com/demone2/the-spa (33)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/the-spa', emulateMobileDevice: true, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/33-the-spa/anchors/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['@my-scope/package-b','core-js-pure','postcss-minify-params','babel-preset-fbjs','grunt-bowercopy','chai-subset','concurrently','rw','benchmark','posthtml-parser'], function(postcssNormalizeUrl,typesJest,jisonGho,babelPresetFbjs,consoleControlStrings,babelPluginTransformRegenerator,tap,rw,once,posthtmlParser){\\n'use strict'\\nconst util = require('util')\\nconst {connectBrowser} = require('../src/browser') jest.setTimeout(global.timeout) beforeAll(async () => { const {url} = global.browser global.myBrowser = await connectBrowser(url)\\n}) afterAll(async () => { if (global.myBrowser) { await global.myBrowser.disconnect() }\\n}) let current = null global.registerEditorTest = x => { current = x\\n} let currentViewer = null\\nlet cleanAfterEach = true global.registerViewer = (viewerTestData, preventCleanAfterEach) => { currentViewer = viewerTestData cleanAfterEach = !preventCleanAfterEach\\n} const cleanUpViewerResources = async ({viewerFrame, platformAppServer, pagesUserCodeServer} = {}) => { if (platformAppServer) { console.log('closing platform app server') await util.promisify(platformAppServer.close.bind(platformAppServer))() } if (pagesUserCodeServer) { console.log('closing pages code server') await util.promisify(pagesUserCodeServer.close.bind(pagesUserCodeServer))() } if (global.closePages) { await viewerFrame.close() }\\n} global.cleanUpCurrentViewer = () => cleanUpViewerResources(currentViewer) afterEach(async () => { if (current) { await current.tracer.trace('end') if (global.closePages) { await current.editorFrame.close() } } if (cleanAfterEach && currentViewer) { await cleanUpViewerResources(currentViewer) }\\n})\\n})\\n####","completion":" import postcssNormalizeUrl from '@my-scope/package-b'\\nimport typesJest from 'core-js-pure'\\nimport jisonGho from 'postcss-minify-params'\\nimport babelPresetFbjs from 'babel-preset-fbjs'\\nimport consoleControlStrings from 'grunt-bowercopy'\\nimport babelPluginTransformRegenerator from 'chai-subset'\\nimport tap from 'concurrently'\\nimport rw from 'rw'\\nimport once from 'benchmark'\\nimport posthtmlParser from 'posthtml-parser'\\n\\n'use strict'\\nconst util = require('util')\\nconst {connectBrowser} = require('../src/browser') jest.setTimeout(global.timeout) beforeAll(async () => { const {url} = global.browser global.myBrowser = await connectBrowser(url)\\n}) afterAll(async () => { if (global.myBrowser) { await global.myBrowser.disconnect() }\\n}) let current = null global.registerEditorTest = x => { current = x\\n} let currentViewer = null\\nlet cleanAfterEach = true global.registerViewer = (viewerTestData, preventCleanAfterEach) => { currentViewer = viewerTestData cleanAfterEach = !preventCleanAfterEach\\n} const cleanUpViewerResources = async ({viewerFrame, platformAppServer, pagesUserCodeServer} = {}) => { if (platformAppServer) { console.log('closing platform app server') await util.promisify(platformAppServer.close.bind(platformAppServer))() } if (pagesUserCodeServer) { console.log('closing pages code server') await util.promisify(pagesUserCodeServer.close.bind(pagesUserCodeServer))() } if (global.closePages) { await viewerFrame.close() }\\n} global.cleanUpCurrentViewer = () => cleanUpViewerResources(currentViewer) afterEach(async () => { if (current) { await current.tracer.trace('end') if (global.closePages) { await current.editorFrame.close() } } if (cleanAfterEach && currentViewer) { await cleanUpViewerResources(currentViewer) }\\n})\\n####"}
{"prompt":"define(['tar-fs','@babel/plugin-syntax-top-level-await','esutils','eslint-config-sanity','colorette','typescript-register','@types/boolbase'], function(lintStaged,babelPluginSyntaxTopLevelAwait,gruntMochaIstanbul,eslintConfigSanity,colorette,typescriptRegister,typesBoolbase){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.wix.com/demone2/cinematographer (34)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/cinematographer', emulateMobileDevice: false, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/34-cinematographer/mesh/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import lintStaged from 'tar-fs'\\nimport babelPluginSyntaxTopLevelAwait from '@babel/plugin-syntax-top-level-await'\\nimport gruntMochaIstanbul from 'esutils'\\nimport eslintConfigSanity from 'eslint-config-sanity'\\nimport colorette from 'colorette'\\nimport typescriptRegister from 'typescript-register'\\nimport typesBoolbase from '@types/boolbase'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.wix.com/demone2/cinematographer (34)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/cinematographer', emulateMobileDevice: false, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/34-cinematographer/mesh/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['eslint-plugin-standard','gulp-git','require-csv','expect-jsx','@parcel/packager-raw','grunt-banner','us-atlas','delayed-stream','@babel/plugin-syntax-json-strings','eslint-config-standard','process','d3-dsv','regexp.prototype.flags','live-server','parse-json','@types/d3-selection'], function(eslintPluginStandard,gulpGit,ncp,hyperquest,parcelPackagerRaw,babelPluginProposalAsyncGeneratorFunctions,usAtlas,babelHelperValidatorIdentifier,copyfiles,is,webgpuTypes,regexpuFixtures,terser,karmaSourceMapSupport,fsRealpath,klaw){\\ndefine(['lodash', 'documentServices/componentDetectorAPI/componentDetectorAPI', 'documentServices/dataModel/dataModel'], function ( _, componentDetectorAPI, dataModel\\n) { 'use strict' function replaceFullScreenModeToDock(ps, compPointer, compProperties) { const layoutPointer = ps.pointers.getInnerPointer(compPointer, 'layout') const layout = ps.dal.full.get(layoutPointer) layout.docked = {left: {vw: 0}, right: {vw: 0}} ps.dal.full.set(layoutPointer, layout) compProperties.fullScreenModeOn = false dataModel.updatePropertiesItem(ps, compPointer, compProperties) } return { exec(ps) { const allFiveGridLinesPointersInSite = componentDetectorAPI.getComponentByType(ps, 'wysiwyg.viewer.components.FiveGridLine') _.forEach(allFiveGridLinesPointersInSite, function (compPointer) { const compProperties = dataModel.getPropertiesItem(ps, compPointer) const isFullModeOn = compProperties && compProperties.fullScreenModeOn if (isFullModeOn) { replaceFullScreenModeToDock(ps, compPointer, compProperties) } }) }, name: 'fiveGridLineFullWidthFixer', version: 1 }\\n})\\n\\n})\\n####","completion":" import eslintPluginStandard from 'eslint-plugin-standard'\\nimport gulpGit from 'gulp-git'\\nimport ncp from 'require-csv'\\nimport hyperquest from 'expect-jsx'\\nimport parcelPackagerRaw from '@parcel/packager-raw'\\nimport babelPluginProposalAsyncGeneratorFunctions from 'grunt-banner'\\nimport usAtlas from 'us-atlas'\\nimport babelHelperValidatorIdentifier from 'delayed-stream'\\nimport copyfiles from '@babel/plugin-syntax-json-strings'\\nimport is from 'eslint-config-standard'\\nimport webgpuTypes from 'process'\\nimport regexpuFixtures from 'd3-dsv'\\nimport terser from 'regexp.prototype.flags'\\nimport karmaSourceMapSupport from 'live-server'\\nimport fsRealpath from 'parse-json'\\nimport klaw from '@types/d3-selection'\\n\\ndefine(['lodash', 'documentServices/componentDetectorAPI/componentDetectorAPI', 'documentServices/dataModel/dataModel'], function ( _, componentDetectorAPI, dataModel\\n) { 'use strict' function replaceFullScreenModeToDock(ps, compPointer, compProperties) { const layoutPointer = ps.pointers.getInnerPointer(compPointer, 'layout') const layout = ps.dal.full.get(layoutPointer) layout.docked = {left: {vw: 0}, right: {vw: 0}} ps.dal.full.set(layoutPointer, layout) compProperties.fullScreenModeOn = false dataModel.updatePropertiesItem(ps, compPointer, compProperties) } return { exec(ps) { const allFiveGridLinesPointersInSite = componentDetectorAPI.getComponentByType(ps, 'wysiwyg.viewer.components.FiveGridLine') _.forEach(allFiveGridLinesPointersInSite, function (compPointer) { const compProperties = dataModel.getPropertiesItem(ps, compPointer) const isFullModeOn = compProperties && compProperties.fullScreenModeOn if (isFullModeOn) { replaceFullScreenModeToDock(ps, compPointer, compProperties) } }) }, name: 'fiveGridLineFullWidthFixer', version: 1 }\\n})\\n\\n####"}
{"prompt":"define(['babel-plugin-transform-object-rest-spread','@parcel/transformer-image','gzip-size'], function(preactRenderSpy,dotenvExpand,gzipSize){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.wix.com/demone2/beauty-salon (40)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/beauty-salon', emulateMobileDevice: true, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/40-beauty-salon/anchors/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import preactRenderSpy from 'babel-plugin-transform-object-rest-spread'\\nimport dotenvExpand from '@parcel/transformer-image'\\nimport gzipSize from 'gzip-size'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.wix.com/demone2/beauty-salon (40)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/beauty-salon', emulateMobileDevice: true, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/40-beauty-salon/anchors/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['concat-stream','eslint-plugin-node','gzip-size-cli','npm-run-all','@babel/plugin-syntax-object-rest-spread','@jridgewell/set-array'], function(vega,worldAtlas,gzipSizeCli,npmRunAll,ampprojectRemapping,jridgewellSetArray){\\nimport React from 'react'; export default class extends React.Component { render() { const width = this.props.width; const height = this.props.height; const circleWidth = this.props.circleWidth || width; const circleHeight = this.props.circleHeight || height; const color = this.props.color; const midY = circleHeight / 2; const midX = circleWidth / 2; const style = { stroke: color || 'currentColor', strokeWidth: this.props.thickness }; return ( <svg width={circleWidth} height={circleHeight}> { this.props.circleWidth && <circle cx={midX} cy={midY} r={midX - this.props.thickness} stroke={color || 'currentColor'} strokeWidth={this.props.thickness} fill='transparent' /> } <line x1={midX - width / 2} y1={midY} x2={midX + width / 2} y2={midY} style={style}></line> <line x1={midX} y1={midY - height / 2} x2={midX} y2={midY + height / 2} style={style}></line> </svg> ); }\\n}\\n\\n})\\n####","completion":" import vega from 'concat-stream'\\nimport worldAtlas from 'eslint-plugin-node'\\nimport gzipSizeCli from 'gzip-size-cli'\\nimport npmRunAll from 'npm-run-all'\\nimport ampprojectRemapping from '@babel/plugin-syntax-object-rest-spread'\\nimport jridgewellSetArray from '@jridgewell/set-array'\\n\\nimport React from 'react'; export default class extends React.Component { render() { const width = this.props.width; const height = this.props.height; const circleWidth = this.props.circleWidth || width; const circleHeight = this.props.circleHeight || height; const color = this.props.color; const midY = circleHeight / 2; const midX = circleWidth / 2; const style = { stroke: color || 'currentColor', strokeWidth: this.props.thickness }; return ( <svg width={circleWidth} height={circleHeight}> { this.props.circleWidth && <circle cx={midX} cy={midY} r={midX - this.props.thickness} stroke={color || 'currentColor'} strokeWidth={this.props.thickness} fill='transparent' /> } <line x1={midX - width / 2} y1={midY} x2={midX + width / 2} y2={midY} style={style}></line> <line x1={midX} y1={midY - height / 2} x2={midX} y2={midY + height / 2} style={style}></line> </svg> ); }\\n}\\n\\n####"}
{"prompt":"define(['path-parse','coffeescript','browserify','@babel/plugin-transform-block-scoping'], function(kindOf,rewire,browserify,babelPluginTransformBlockScoping){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.wix.com/demone2/graffiti-artist (43)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/graffiti-artist', emulateMobileDevice: true, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/43-graffiti-artist/mesh/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import kindOf from 'path-parse'\\nimport rewire from 'coffeescript'\\nimport browserify from 'browserify'\\nimport babelPluginTransformBlockScoping from '@babel/plugin-transform-block-scoping'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.wix.com/demone2/graffiti-artist (43)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/graffiti-artist', emulateMobileDevice: true, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/43-graffiti-artist/mesh/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['@babel/template','@babel/generator','@babel/plugin-transform-literals','action-walk','gnode','regexpu-fixtures'], function(postcssMergeLonghand,babelGenerator,babelPluginTransformLiterals,actionWalk,gnode,typesJsesc){\\nimport React, {Component} from 'react';\\nimport { connect } from 'react-redux';\\nimport connectServices from './connectServices.js';\\nimport localeSelector from '../selectors/localeSelector.js';\\nimport {string, bool, func} from 'prop-types';\\nimport s from './ClientInfo.scss'; @connect(state => ({ isMobile: state.responsive.isMobile, locale: state.session.restaurantLocale\\n}))\\n@connectServices('ordersAppLoaderService')\\nexport default class extends Component { static propTypes = { organizationId: string, isMobile: bool, ordersAppLoaderService: func, locale: string } state = { ClientInfoButton: () => <div/>, ClientInfo: () => <div/>, ClientInfoContainer: () => <div/>, } componentDidMount() { this.loadClientInfo(); } loadClientInfo = () => { this.props.ordersAppLoaderService(this.props.isMobile).then(c => { this.setState({ ClientInfo: c.ClientInfo }); }); } render() { const {ClientInfo} = this.state; return ( <div className={s.wrapper}> <ClientInfo skipUpdatingStyles locale={this.props.locale}/> </div> ); }\\n}\\n\\n})\\n####","completion":" import postcssMergeLonghand from '@babel/template'\\nimport babelGenerator from '@babel/generator'\\nimport babelPluginTransformLiterals from '@babel/plugin-transform-literals'\\nimport actionWalk from 'action-walk'\\nimport gnode from 'gnode'\\nimport typesJsesc from 'regexpu-fixtures'\\n\\nimport React, {Component} from 'react';\\nimport { connect } from 'react-redux';\\nimport connectServices from './connectServices.js';\\nimport localeSelector from '../selectors/localeSelector.js';\\nimport {string, bool, func} from 'prop-types';\\nimport s from './ClientInfo.scss'; @connect(state => ({ isMobile: state.responsive.isMobile, locale: state.session.restaurantLocale\\n}))\\n@connectServices('ordersAppLoaderService')\\nexport default class extends Component { static propTypes = { organizationId: string, isMobile: bool, ordersAppLoaderService: func, locale: string } state = { ClientInfoButton: () => <div/>, ClientInfo: () => <div/>, ClientInfoContainer: () => <div/>, } componentDidMount() { this.loadClientInfo(); } loadClientInfo = () => { this.props.ordersAppLoaderService(this.props.isMobile).then(c => { this.setState({ ClientInfo: c.ClientInfo }); }); } render() { const {ClientInfo} = this.state; return ( <div className={s.wrapper}> <ClientInfo skipUpdatingStyles locale={this.props.locale}/> </div> ); }\\n}\\n\\n####"}
{"prompt":"define(['filesize','qunit-extras','posthtml-parser','chroma-js','color','jsesc','broccoli-watchify','@types/utf8','minimist','babel-plugin-add-module-exports','pirates','live-server','fake','tar-stream','del','klaw-sync'], function(filesize,unorm,posthtmlParser,chromaJs,color,detectLibc,broccoliWatchify,typesUtf8,minimist,babelPluginAddModuleExports,pirates,karmaSourceMapSupport,fake,tarStream,rollupPluginTypescript,klawSync){\\nimport createSvg from './createSvgImage'; export default (props) => createSvg( `<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" width=\\\"127\\\" height=\\\"126\\\" viewBox=\\\"0 0 127 126\\\"> <defs> <circle id=\\\"a\\\" cx=\\\"63.866\\\" cy=\\\"63\\\" r=\\\"63\\\"/> </defs> <g fill=\\\"none\\\" fillRule=\\\"evenodd\\\"> <mask id=\\\"b\\\" fill=\\\"#fff\\\"> <use xlink:href=\\\"#a\\\"/> </mask> <use fill=\\\"#C1E4FE\\\" xlink:href=\\\"#a\\\"/> <g mask=\\\"url(#b)\\\"> <path fill=\\\"#4EB7F5\\\" d=\\\"M54.076 44.83L41.873 66.846l-86.97-47.205 12.204-22.015z\\\"/> <path fill=\\\"#FFF\\\" d=\\\"M55.076 44.83l-8.203 4.016-86.97-47.205 8.204-4.015z\\\" opacity=\\\".25\\\"/> <path fill=\\\"#4EB7F5\\\" d=\\\"M55.478 89.073c-9.405-3.764-16.065-13.112-16.065-24.047 0-14.26 11.324-25.82 25.293-25.82a24.82 24.82 0 0 1 14.283 4.508c-5.234 3.955-10.727 11.28-15.416 20.098-4.982 9.37-8.07 18.57-8.095 25.26z\\\"/> <path fill=\\\"#FFF\\\" d=\\\"M73.363 69.157c6.64-12.747 9.079-23.437 5.778-25.229-3.301-1.792-11.093 5.994-17.733 18.74-6.64 12.747-9.345 24.533-6.044 26.324 3.3 1.792 11.36-7.089 17.999-19.835z\\\"/> <path fill=\\\"#DAEFFE\\\" d=\\\"M72 72C59.966 94.525 54 88 54 88l40.393 65.286 66.024-96.913L79 44s5.034 5.475-7 28z\\\" opacity=\\\".9\\\"/> </g> </g>\\n</svg>`, props, );\\n\\n})\\n####","completion":" import filesize from 'filesize'\\nimport unorm from 'qunit-extras'\\nimport posthtmlParser from 'posthtml-parser'\\nimport chromaJs from 'chroma-js'\\nimport color from 'color'\\nimport detectLibc from 'jsesc'\\nimport broccoliWatchify from 'broccoli-watchify'\\nimport typesUtf8 from '@types/utf8'\\nimport minimist from 'minimist'\\nimport babelPluginAddModuleExports from 'babel-plugin-add-module-exports'\\nimport pirates from 'pirates'\\nimport karmaSourceMapSupport from 'live-server'\\nimport fake from 'fake'\\nimport tarStream from 'tar-stream'\\nimport rollupPluginTypescript from 'del'\\nimport klawSync from 'klaw-sync'\\n\\nimport createSvg from './createSvgImage'; export default (props) => createSvg( `<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" width=\\\"127\\\" height=\\\"126\\\" viewBox=\\\"0 0 127 126\\\"> <defs> <circle id=\\\"a\\\" cx=\\\"63.866\\\" cy=\\\"63\\\" r=\\\"63\\\"/> </defs> <g fill=\\\"none\\\" fillRule=\\\"evenodd\\\"> <mask id=\\\"b\\\" fill=\\\"#fff\\\"> <use xlink:href=\\\"#a\\\"/> </mask> <use fill=\\\"#C1E4FE\\\" xlink:href=\\\"#a\\\"/> <g mask=\\\"url(#b)\\\"> <path fill=\\\"#4EB7F5\\\" d=\\\"M54.076 44.83L41.873 66.846l-86.97-47.205 12.204-22.015z\\\"/> <path fill=\\\"#FFF\\\" d=\\\"M55.076 44.83l-8.203 4.016-86.97-47.205 8.204-4.015z\\\" opacity=\\\".25\\\"/> <path fill=\\\"#4EB7F5\\\" d=\\\"M55.478 89.073c-9.405-3.764-16.065-13.112-16.065-24.047 0-14.26 11.324-25.82 25.293-25.82a24.82 24.82 0 0 1 14.283 4.508c-5.234 3.955-10.727 11.28-15.416 20.098-4.982 9.37-8.07 18.57-8.095 25.26z\\\"/> <path fill=\\\"#FFF\\\" d=\\\"M73.363 69.157c6.64-12.747 9.079-23.437 5.778-25.229-3.301-1.792-11.093 5.994-17.733 18.74-6.64 12.747-9.345 24.533-6.044 26.324 3.3 1.792 11.36-7.089 17.999-19.835z\\\"/> <path fill=\\\"#DAEFFE\\\" d=\\\"M72 72C59.966 94.525 54 88 54 88l40.393 65.286 66.024-96.913L79 44s5.034 5.475-7 28z\\\" opacity=\\\".9\\\"/> </g> </g>\\n</svg>`, props, );\\n\\n####"}
{"prompt":"define(['react-test-renderer','minipass','process-nextick-args','auto-changelog','covert','regexp.prototype.flags','standard-markdown','@babel/types','mock-fs','fs-extra','postcss-normalize-url','@babel/helper-module-imports','delayed-stream'], function(reactTestRenderer,minipass,processNextickArgs,sinon,covert,terser,standard,yargs,defineProperties,fsExtra,jsonPointer,babelHelperModuleImports,babelHelperValidatorIdentifier){\\n'use strict'\\nconst getEvals = require('../src/buildtime/getEvals') describe('getEvals', () => { it('should get evals object in the correct format', () => { const skin = { react: [], params: {abc: 'SIZE'}, paramsDefaults: {abc: ['bg']}, paramsMutators: { abc: { type: 'eval', value: '(10 + bg) % 2', param: 'bg' } }, css: {} } const evalsObj = getEvals(skin) expect(evalsObj).toEqual({'(10 + bg) % 2': 'bg'}) }) it('should return an empty object when there are no evals', () => { const skin = { react: [], params: {abc: 'SIZE'}, paramsDefaults: {abc: ['bg']}, paramsMutators: { abc: { type: 'alpha', value: 0.75 } }, css: {} } const evalsObj = getEvals(skin) expect(evalsObj).toEqual({}) })\\n})\\n})\\n####","completion":" import reactTestRenderer from 'react-test-renderer'\\nimport minipass from 'minipass'\\nimport processNextickArgs from 'process-nextick-args'\\nimport sinon from 'auto-changelog'\\nimport covert from 'covert'\\nimport terser from 'regexp.prototype.flags'\\nimport standard from 'standard-markdown'\\nimport yargs from '@babel/types'\\nimport defineProperties from 'mock-fs'\\nimport fsExtra from 'fs-extra'\\nimport jsonPointer from 'postcss-normalize-url'\\nimport babelHelperModuleImports from '@babel/helper-module-imports'\\nimport babelHelperValidatorIdentifier from 'delayed-stream'\\n\\n'use strict'\\nconst getEvals = require('../src/buildtime/getEvals') describe('getEvals', () => { it('should get evals object in the correct format', () => { const skin = { react: [], params: {abc: 'SIZE'}, paramsDefaults: {abc: ['bg']}, paramsMutators: { abc: { type: 'eval', value: '(10 + bg) % 2', param: 'bg' } }, css: {} } const evalsObj = getEvals(skin) expect(evalsObj).toEqual({'(10 + bg) % 2': 'bg'}) }) it('should return an empty object when there are no evals', () => { const skin = { react: [], params: {abc: 'SIZE'}, paramsDefaults: {abc: ['bg']}, paramsMutators: { abc: { type: 'alpha', value: 0.75 } }, css: {} } const evalsObj = getEvals(skin) expect(evalsObj).toEqual({}) })\\n})\\n####"}
{"prompt":"define(['@parcel/babel-preset','postcss-discard-overridden'], function(babelPluginTransformTemplateLiterals,through2){\\n'use strict'\\nconst {createWidgets} = require('./createWidgetData')\\nconst {generateId} = require('./generateId') function createAppData(overrides = {}) { const appsDataMap = {} const {widgets, tpasGlobalData} = createWidgets(overrides) widgets.forEach(widget => { appsDataMap[widget.appDefinitionId] = appsDataMap[widget.appDefinitionId] || {} appsDataMap[widget.appDefinitionId].widgets = appsDataMap[widget.appDefinitionId].widgets || [] appsDataMap[widget.appDefinitionId].widgets.push(widget) }) const appDefIds = Object.keys(appsDataMap) let definedMainApp = false appDefIds.forEach(appDefId => { appsDataMap[appDefId].isMainApp = !definedMainApp appsDataMap[appDefId].controllerIds = generateControllerIds({count: typeof overrides.controllerCount === 'number' ? overrides.controllerCount : 1}) definedMainApp = true }) return {appsDataMap, tpasGlobalData}\\n} function generateControllerIds({count = 0}) { const controllerIds = [] while (count > 0) { controllerIds.push(generateId()) count-- } return controllerIds\\n} module.exports = {createAppData}\\n\\n})\\n####","completion":" import babelPluginTransformTemplateLiterals from '@parcel/babel-preset'\\nimport through2 from 'postcss-discard-overridden'\\n\\n'use strict'\\nconst {createWidgets} = require('./createWidgetData')\\nconst {generateId} = require('./generateId') function createAppData(overrides = {}) { const appsDataMap = {} const {widgets, tpasGlobalData} = createWidgets(overrides) widgets.forEach(widget => { appsDataMap[widget.appDefinitionId] = appsDataMap[widget.appDefinitionId] || {} appsDataMap[widget.appDefinitionId].widgets = appsDataMap[widget.appDefinitionId].widgets || [] appsDataMap[widget.appDefinitionId].widgets.push(widget) }) const appDefIds = Object.keys(appsDataMap) let definedMainApp = false appDefIds.forEach(appDefId => { appsDataMap[appDefId].isMainApp = !definedMainApp appsDataMap[appDefId].controllerIds = generateControllerIds({count: typeof overrides.controllerCount === 'number' ? overrides.controllerCount : 1}) definedMainApp = true }) return {appsDataMap, tpasGlobalData}\\n} function generateControllerIds({count = 0}) { const controllerIds = [] while (count > 0) { controllerIds.push(generateId()) count-- } return controllerIds\\n} module.exports = {createAppData}\\n\\n####"}
{"prompt":"define(['travis-check-changes','karma-safari-launcher','msgpackr','gulp-babel','os-browserify','grunt-contrib-copy','@swc/cli','@types/caniuse-api','phantomjs-prebuilt','loose-envify','@types/convert-source-map','proxy','colorette','isarray'], function(rollupPluginBabelMinify,karmaSafariLauncher,msgpackr,gulpBabel,osBrowserify,cssesc,makeDir,typesCaniuseApi,phantomjsPrebuilt,benchmark,typesConvertSourceMap,proxy,colorette,isarray){\\nimport React from 'react';\\nimport Handling from '../../../../src/dashboard/web/reservationsSettings/handling';\\nimport * as helper from '../../../utils/integrationTestsHelper';\\nimport { enzymeHelper, fixtures } from '@wix/wixrest-test-utils'; const { organization: createOrganization } = fixtures;\\nconst { assertHasSingle } = enzymeHelper; describe('reservationsSettings/handling', function () { let wrapper, mocks, reservationsSettings; beforeEach(() => {}); describe('handling', () => { it('contains Receive Email Notifications section', () => { render(); assertHasSingle(wrapper, 'ReceiveEmail'); }); }); function render() { mocks = helper.createMocks(); const organization = createOrganization().val(); organization.reservations = reservationsSettings; wrapper = helper.render(<Handling route={[]} />, { initialState: { organization: { organization, }, }, sagaParams: { OpenrestService: mocks.OpenrestService, }, }); }\\n});\\n\\n})\\n####","completion":" import rollupPluginBabelMinify from 'travis-check-changes'\\nimport karmaSafariLauncher from 'karma-safari-launcher'\\nimport msgpackr from 'msgpackr'\\nimport gulpBabel from 'gulp-babel'\\nimport osBrowserify from 'os-browserify'\\nimport cssesc from 'grunt-contrib-copy'\\nimport makeDir from '@swc/cli'\\nimport typesCaniuseApi from '@types/caniuse-api'\\nimport phantomjsPrebuilt from 'phantomjs-prebuilt'\\nimport benchmark from 'loose-envify'\\nimport typesConvertSourceMap from '@types/convert-source-map'\\nimport proxy from 'proxy'\\nimport colorette from 'colorette'\\nimport isarray from 'isarray'\\n\\nimport React from 'react';\\nimport Handling from '../../../../src/dashboard/web/reservationsSettings/handling';\\nimport * as helper from '../../../utils/integrationTestsHelper';\\nimport { enzymeHelper, fixtures } from '@wix/wixrest-test-utils'; const { organization: createOrganization } = fixtures;\\nconst { assertHasSingle } = enzymeHelper; describe('reservationsSettings/handling', function () { let wrapper, mocks, reservationsSettings; beforeEach(() => {}); describe('handling', () => { it('contains Receive Email Notifications section', () => { render(); assertHasSingle(wrapper, 'ReceiveEmail'); }); }); function render() { mocks = helper.createMocks(); const organization = createOrganization().val(); organization.reservations = reservationsSettings; wrapper = helper.render(<Handling route={[]} />, { initialState: { organization: { organization, }, }, sagaParams: { OpenrestService: mocks.OpenrestService, }, }); }\\n});\\n\\n####"}
{"prompt":"define(['globby','regenerate-unicode-properties','kind-of','@parcel/runtime-js','agent-base','path-browserify','@babel/plugin-transform-unicode-escapes','cheerio','gulp-rename','react-is','eslint-plugin-import','@npmcli/template-oss','@babel/helper-create-regexp-features-plugin','nopt','regenerate','chroma-js','browserify','command-exists','filesize','mime-db'], function(bundlesize,regenerateUnicodeProperties,eslintPluginFlowtype,express,util,babelEslintParser,lodashMemoize,karmaQunit,gulpRename,reactIs,babelPluginTransformPropertyLiterals,npmcliTemplateOss,babelHelperCreateRegexpFeaturesPlugin,nopt,regenerate,chromaJs,browserify,shelljsRelease,filesize,mimeDb){\\n// https://github.com/wix/data-capsule\\nimport { DataCapsule, LocalStorageStrategy, NOT_FOUND, COOKIE_CONSENT_DISALLOWED,\\n} from 'data-capsule'; const dc = new DataCapsule({ strategy: new LocalStorageStrategy(), namespace: 'WixRestaurants',\\n}); async function getItem(key) { let item; try { item = await dc.getItem(key); } catch (err) { if (err === NOT_FOUND) { item = localStorage.getItem(key); if (item) { setItem(key, item); } } else { console.error('[DataCapsule]', err); } } return item;\\n} // getItem falls back to our old values - this should be temporary.\\n// setItem writes only to the capsule.\\nasync function setItem(key, value, options = {}) { try { if (!options.category) { options.category = 'functional'; } await dc.setItem(key, value, options); } catch (err) { if (err === COOKIE_CONSENT_DISALLOWED) { console.warn('[DataCapsule] cookie consent disallowed'); } else { console.error('[DataCapsule]', err); } return null; }\\n} export default { getItem, setItem,\\n};\\n\\n})\\n####","completion":" import bundlesize from 'globby'\\nimport regenerateUnicodeProperties from 'regenerate-unicode-properties'\\nimport eslintPluginFlowtype from 'kind-of'\\nimport express from '@parcel/runtime-js'\\nimport util from 'agent-base'\\nimport babelEslintParser from 'path-browserify'\\nimport lodashMemoize from '@babel/plugin-transform-unicode-escapes'\\nimport karmaQunit from 'cheerio'\\nimport gulpRename from 'gulp-rename'\\nimport reactIs from 'react-is'\\nimport babelPluginTransformPropertyLiterals from 'eslint-plugin-import'\\nimport npmcliTemplateOss from '@npmcli/template-oss'\\nimport babelHelperCreateRegexpFeaturesPlugin from '@babel/helper-create-regexp-features-plugin'\\nimport nopt from 'nopt'\\nimport regenerate from 'regenerate'\\nimport chromaJs from 'chroma-js'\\nimport browserify from 'browserify'\\nimport shelljsRelease from 'command-exists'\\nimport filesize from 'filesize'\\nimport mimeDb from 'mime-db'\\n\\n// https://github.com/wix/data-capsule\\nimport { DataCapsule, LocalStorageStrategy, NOT_FOUND, COOKIE_CONSENT_DISALLOWED,\\n} from 'data-capsule'; const dc = new DataCapsule({ strategy: new LocalStorageStrategy(), namespace: 'WixRestaurants',\\n}); async function getItem(key) { let item; try { item = await dc.getItem(key); } catch (err) { if (err === NOT_FOUND) { item = localStorage.getItem(key); if (item) { setItem(key, item); } } else { console.error('[DataCapsule]', err); } } return item;\\n} // getItem falls back to our old values - this should be temporary.\\n// setItem writes only to the capsule.\\nasync function setItem(key, value, options = {}) { try { if (!options.category) { options.category = 'functional'; } await dc.setItem(key, value, options); } catch (err) { if (err === COOKIE_CONSENT_DISALLOWED) { console.warn('[DataCapsule] cookie consent disallowed'); } else { console.error('[DataCapsule]', err); } return null; }\\n} export default { getItem, setItem,\\n};\\n\\n####"}
{"prompt":"define(['require-xml','karma-commonjs'], function(betterAssert,karmaCommonjs){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.wix.com/demone2/family-photographer (2)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/family-photographer', emulateMobileDevice: false, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/2-family-photographer/anchors/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import betterAssert from 'require-xml'\\nimport karmaCommonjs from 'karma-commonjs'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.wix.com/demone2/family-photographer (2)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/family-photographer', emulateMobileDevice: false, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/2-family-photographer/anchors/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['at-least-node','@parcel/graph','karma-safari-launcher','iconv-lite','webpack','@parcel/optimizer-svgo','parse-passwd','svgo','karma-firefox-launcher','@babel/helper-module-imports','is-string','@parcel/packager-css','https-browserify','express','@babel/helper-create-regexp-features-plugin','karma-commonjs','jsesc','abortcontroller-polyfill'], function(babelPresetAirbnb,parcelGraph,karmaSafariLauncher,requireXml,whatwgUrl,domelementtype,parsePasswd,mdnData,fastDeepEqual,babelHelperModuleImports,isString,weakLruCache,caniuseApi,npmlog,babelHelperCreateRegexpFeaturesPlugin,karmaCommonjs,detectLibc,eslintPluginJest){\\ndefine([], function () { const MOBILE_HINTS_AUTHORS = { STUDIO: 'studio', DUPLICATE: 'duplicate' } const PRESET_CONVERSION_CONFIG = { nestOverlayingSiblings: false, keepIfVerticalDivider: false, isSuitableForProportionGrouping: false, hideByDefault: false } const HINTS_PROPERTIES = { GENERAL_HINTS_PROPERTIES: ['id', 'metaData', 'type'], GENERAL_PRESET_DATA: ['author'], SIZE_DATA: ['recommendedHeight', 'recommendedWidth', 'recommendedScale', 'originalCompId'], OFFSET_DATA: ['offsetX', 'offsetY', 'offsetOrigin', 'orderIndex'] } const ALIASES = {styleId: 'style'} const PROPERTIES_FOR_MOBILE_PRESETS = ['layout', 'styleId', 'components', 'componentType', 'type', 'id', 'metaData'] const OFFSET_DELTA_TO_RESET_COORDINATES = 40 const SIZE_DELTA_TO_RESET = 50 const FEDOPS = { MOBILE_HINTS_MIGRATION: 'mobile-algo-mobile-hints-migration' } return { MOBILE_HINTS_AUTHORS, PRESET_CONVERSION_CONFIG, HINTS_PROPERTIES, OFFSET_DELTA_TO_RESET_COORDINATES, SIZE_DELTA_TO_RESET, PROPERTIES_FOR_MOBILE_PRESETS, ALIASES, FEDOPS }\\n})\\n\\n})\\n####","completion":" import babelPresetAirbnb from 'at-least-node'\\nimport parcelGraph from '@parcel/graph'\\nimport karmaSafariLauncher from 'karma-safari-launcher'\\nimport requireXml from 'iconv-lite'\\nimport whatwgUrl from 'webpack'\\nimport domelementtype from '@parcel/optimizer-svgo'\\nimport parsePasswd from 'parse-passwd'\\nimport mdnData from 'svgo'\\nimport fastDeepEqual from 'karma-firefox-launcher'\\nimport babelHelperModuleImports from '@babel/helper-module-imports'\\nimport isString from 'is-string'\\nimport weakLruCache from '@parcel/packager-css'\\nimport caniuseApi from 'https-browserify'\\nimport npmlog from 'express'\\nimport babelHelperCreateRegexpFeaturesPlugin from '@babel/helper-create-regexp-features-plugin'\\nimport karmaCommonjs from 'karma-commonjs'\\nimport detectLibc from 'jsesc'\\nimport eslintPluginJest from 'abortcontroller-polyfill'\\n\\ndefine([], function () { const MOBILE_HINTS_AUTHORS = { STUDIO: 'studio', DUPLICATE: 'duplicate' } const PRESET_CONVERSION_CONFIG = { nestOverlayingSiblings: false, keepIfVerticalDivider: false, isSuitableForProportionGrouping: false, hideByDefault: false } const HINTS_PROPERTIES = { GENERAL_HINTS_PROPERTIES: ['id', 'metaData', 'type'], GENERAL_PRESET_DATA: ['author'], SIZE_DATA: ['recommendedHeight', 'recommendedWidth', 'recommendedScale', 'originalCompId'], OFFSET_DATA: ['offsetX', 'offsetY', 'offsetOrigin', 'orderIndex'] } const ALIASES = {styleId: 'style'} const PROPERTIES_FOR_MOBILE_PRESETS = ['layout', 'styleId', 'components', 'componentType', 'type', 'id', 'metaData'] const OFFSET_DELTA_TO_RESET_COORDINATES = 40 const SIZE_DELTA_TO_RESET = 50 const FEDOPS = { MOBILE_HINTS_MIGRATION: 'mobile-algo-mobile-hints-migration' } return { MOBILE_HINTS_AUTHORS, PRESET_CONVERSION_CONFIG, HINTS_PROPERTIES, OFFSET_DELTA_TO_RESET_COORDINATES, SIZE_DELTA_TO_RESET, PROPERTIES_FOR_MOBILE_PRESETS, ALIASES, FEDOPS }\\n})\\n\\n####"}
{"prompt":"define(['fbjs-scripts'], function(fbjsScripts){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.wix.com/demone2/website-under-constr (14)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/website-under-constr', emulateMobileDevice: true, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/14-website-under-construction/mesh/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import fbjsScripts from 'fbjs-scripts'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.wix.com/demone2/website-under-constr (14)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/website-under-constr', emulateMobileDevice: true, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/14-website-under-construction/mesh/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['require-xml','abbrev','d3-dsv','cssnano-preset-advanced','babel-plugin-react-require','htmlparser2','grunt-contrib-clean','cssnano-preset-default','domelementtype','size-limit','postcss-convert-values','@babel/plugin-transform-async-to-generator','travis-deploy-once','ansi-regex'], function(betterAssert,abbrev,regexpuFixtures,cssnanoPresetAdvanced,postcssMergeRules,isSymbol,gruntContribClean,cssnanoPresetDefault,objectIs,parcelRuntimeServiceWorker,postcssConvertValues,babelPluginTransformAsyncToGenerator,parcelPackagerCss,cheerioSoupselect){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.wix.com/demone2/graphic-design-portf (8)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/graphic-design-portf', emulateMobileDevice: true, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/8-graphic-design-portfolio/anchors/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import betterAssert from 'require-xml'\\nimport abbrev from 'abbrev'\\nimport regexpuFixtures from 'd3-dsv'\\nimport cssnanoPresetAdvanced from 'cssnano-preset-advanced'\\nimport postcssMergeRules from 'babel-plugin-react-require'\\nimport isSymbol from 'htmlparser2'\\nimport gruntContribClean from 'grunt-contrib-clean'\\nimport cssnanoPresetDefault from 'cssnano-preset-default'\\nimport objectIs from 'domelementtype'\\nimport parcelRuntimeServiceWorker from 'size-limit'\\nimport postcssConvertValues from 'postcss-convert-values'\\nimport babelPluginTransformAsyncToGenerator from '@babel/plugin-transform-async-to-generator'\\nimport parcelPackagerCss from 'travis-deploy-once'\\nimport cheerioSoupselect from 'ansi-regex'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.wix.com/demone2/graphic-design-portf (8)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/graphic-design-portf', emulateMobileDevice: true, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/8-graphic-design-portfolio/anchors/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['eslint-plugin-standard','@babel/plugin-transform-spread','hyphenate-style-name','@babel/eslint-parser','@babel/plugin-transform-dotall-regex','babel-preset-moxy','grunt-sass','set-blocking','lodash.memoize','is-arrayish','raw-body','lodash.debounce','@babel/plugin-proposal-export-namespace-from','require-csv','buffer'], function(eslintPluginStandard,parcelHash,jest,matcha,babelHelperReplaceSupers,jsonParseEvenBetterErrors,coffeescript,setBlocking,babelHelperHoistVariables,isArrayish,rawBody,eslintPluginJsxA11Y,qunitjs,ncp,mdxJsReact){\\nconst i18n = require('i18next');\\n// const XHR = require('i18next-xhr-backend');\\n// const LanguageDetector = require('i18next-browser-languagedetector'); const options = { fallbackLng: 'en', // have a common namespace used around the full app ns: ['translations'], defaultNS: 'translations', keySeparator: '__', // as we use full text keys in this sample saveMissing: true, // cache: { // enabled: true // }, interpolation: { escapeValue: false, // not needed for react!! formatSeparator: ',', format: (value, format) => { if (format === 'uppercase') return value.toUpperCase(); return value; } }\\n}; // // for browser use xhr backend to load translations and browser lng detector\\n// if (process && !process.release) {\\n// i18n\\n// .use(XHR)\\n// // .use(Cache)\\n// .use(LanguageDetector);\\n// } // initialize if not already initialized\\nif (!i18n.isInitialized) i18n.init(options); module.exports = i18n;\\n\\n})\\n####","completion":" import eslintPluginStandard from 'eslint-plugin-standard'\\nimport parcelHash from '@babel/plugin-transform-spread'\\nimport jest from 'hyphenate-style-name'\\nimport matcha from '@babel/eslint-parser'\\nimport babelHelperReplaceSupers from '@babel/plugin-transform-dotall-regex'\\nimport jsonParseEvenBetterErrors from 'babel-preset-moxy'\\nimport coffeescript from 'grunt-sass'\\nimport setBlocking from 'set-blocking'\\nimport babelHelperHoistVariables from 'lodash.memoize'\\nimport isArrayish from 'is-arrayish'\\nimport rawBody from 'raw-body'\\nimport eslintPluginJsxA11Y from 'lodash.debounce'\\nimport qunitjs from '@babel/plugin-proposal-export-namespace-from'\\nimport ncp from 'require-csv'\\nimport mdxJsReact from 'buffer'\\n\\nconst i18n = require('i18next');\\n// const XHR = require('i18next-xhr-backend');\\n// const LanguageDetector = require('i18next-browser-languagedetector'); const options = { fallbackLng: 'en', // have a common namespace used around the full app ns: ['translations'], defaultNS: 'translations', keySeparator: '__', // as we use full text keys in this sample saveMissing: true, // cache: { // enabled: true // }, interpolation: { escapeValue: false, // not needed for react!! formatSeparator: ',', format: (value, format) => { if (format === 'uppercase') return value.toUpperCase(); return value; } }\\n}; // // for browser use xhr backend to load translations and browser lng detector\\n// if (process && !process.release) {\\n// i18n\\n// .use(XHR)\\n// // .use(Cache)\\n// .use(LanguageDetector);\\n// } // initialize if not already initialized\\nif (!i18n.isInitialized) i18n.init(options); module.exports = i18n;\\n\\n####"}
{"prompt":"define(['@babel/helper-validator-option'], function(tsup){\\nimport editDishReducer from './EditDishReducer';\\nimport { startEditing, clear, edit } from '../actions/EditDishActions'; const orderItem = { itemId: 'a' };\\nconst cartIndex = 777; describe('EditDishReducer', () => { function init(_cartIndex = cartIndex) { const action = startEditing({ orderItem, cartIndex: _cartIndex, origin: 'menuViewer' }); return editDishReducer(undefined, action); } it('Should handle START_EDITING action', () => { const state = init(); expect(state).toMatchObject({ orderItem, cartIndex, }); }); it('Should handle START_EDITING action when cartIndex is nil', () => { const state = init(null); expect(state).toMatchObject({ orderItem, cartIndex: -1, }); }); it('Should handle CLEAR action', () => { let state = init(); state = editDishReducer(state, clear()); expect(state).toEqual({}); }); it('Should handle EDIT action', () => { const _orderItem = { itemId: 'b' }; let state = init(); state = editDishReducer(state, edit({ orderItem: _orderItem })); expect(state.orderItem).toEqual(_orderItem); });\\n});\\n\\n})\\n####","completion":" import tsup from '@babel/helper-validator-option'\\n\\nimport editDishReducer from './EditDishReducer';\\nimport { startEditing, clear, edit } from '../actions/EditDishActions'; const orderItem = { itemId: 'a' };\\nconst cartIndex = 777; describe('EditDishReducer', () => { function init(_cartIndex = cartIndex) { const action = startEditing({ orderItem, cartIndex: _cartIndex, origin: 'menuViewer' }); return editDishReducer(undefined, action); } it('Should handle START_EDITING action', () => { const state = init(); expect(state).toMatchObject({ orderItem, cartIndex, }); }); it('Should handle START_EDITING action when cartIndex is nil', () => { const state = init(null); expect(state).toMatchObject({ orderItem, cartIndex: -1, }); }); it('Should handle CLEAR action', () => { let state = init(); state = editDishReducer(state, clear()); expect(state).toEqual({}); }); it('Should handle EDIT action', () => { const _orderItem = { itemId: 'b' }; let state = init(); state = editDishReducer(state, edit({ orderItem: _orderItem })); expect(state.orderItem).toEqual(_orderItem); });\\n});\\n\\n####"}
{"prompt":"define(['eslint-config-gulp','@jridgewell/set-array','parted','@babel/plugin-transform-block-scoped-functions','levn','babel-plugin-transform-es2015-shorthand-properties','@parcel/transformer-svg','delayed-stream','lilconfig','jest','punycode','@parcel/node-resolver-core','@babel/plugin-bugfix-safari-id-destructuring-collision-in-function-expression','tty-browserify','xo','@parcel/codeframe','at-least-node','@babel/plugin-transform-regenerator','command-exists'], function(istanbulCoveralls,jridgewellSetArray,functionPrototypeName,babelPluginTransformBlockScopedFunctions,babelPluginSyntaxImportAssertions,swcCore,parcelTransformerSvg,babelHelperValidatorIdentifier,lilconfig,gulpEslint,punycode,parcelNodeResolverCore,babelPluginBugfixSafariIdDestructuringCollisionInFunctionExpression,nativePromiseOnly,xo,puppeteer,babelPresetAirbnb,bazelTypescript,shelljsRelease){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://kfirg6.wixsite.com/header-top (51)', withViewer({ tpaInterceptor, baseUrl: 'https://kfirg6.wixsite.com/header-top', emulateMobileDevice: false, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/51-header-top/mesh/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import istanbulCoveralls from 'eslint-config-gulp'\\nimport jridgewellSetArray from '@jridgewell/set-array'\\nimport functionPrototypeName from 'parted'\\nimport babelPluginTransformBlockScopedFunctions from '@babel/plugin-transform-block-scoped-functions'\\nimport babelPluginSyntaxImportAssertions from 'levn'\\nimport swcCore from 'babel-plugin-transform-es2015-shorthand-properties'\\nimport parcelTransformerSvg from '@parcel/transformer-svg'\\nimport babelHelperValidatorIdentifier from 'delayed-stream'\\nimport lilconfig from 'lilconfig'\\nimport gulpEslint from 'jest'\\nimport punycode from 'punycode'\\nimport parcelNodeResolverCore from '@parcel/node-resolver-core'\\nimport babelPluginBugfixSafariIdDestructuringCollisionInFunctionExpression from '@babel/plugin-bugfix-safari-id-destructuring-collision-in-function-expression'\\nimport nativePromiseOnly from 'tty-browserify'\\nimport xo from 'xo'\\nimport puppeteer from '@parcel/codeframe'\\nimport babelPresetAirbnb from 'at-least-node'\\nimport bazelTypescript from '@babel/plugin-transform-regenerator'\\nimport shelljsRelease from 'command-exists'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://kfirg6.wixsite.com/header-top (51)', withViewer({ tpaInterceptor, baseUrl: 'https://kfirg6.wixsite.com/header-top', emulateMobileDevice: false, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/51-header-top/mesh/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['@babel/plugin-transform-new-target','@babel/generator','parted'], function(temp,babelGenerator,functionPrototypeName){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.wix.com/demone2/hip-hop-venue (50)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/hip-hop-venue', emulateMobileDevice: true, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/50-hip-hop-venue/mesh/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import temp from '@babel/plugin-transform-new-target'\\nimport babelGenerator from '@babel/generator'\\nimport functionPrototypeName from 'parted'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.wix.com/demone2/hip-hop-venue (50)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/hip-hop-venue', emulateMobileDevice: true, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/50-hip-hop-venue/mesh/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['grunt-browserify','@ljharb/eslint-config','require-ini','@types/lodash','foo','eslint-plugin-no-only-tests','npmignore','eslint-config-airbnb-base','escalade','nanoid','concurrently','formidable','agent-base','grunt-contrib-copy','deep-is','@babel/helpers'], function(buffer,ljharbEslintConfig,parcelPlugin,babelPluginProposalUnicodePropertyRegex,clsx,eslintPluginNoOnlyTests,webdriverio,eslintConfigAirbnbBase,escalade,gruntBrowserify,tap,gruntExec,util,cssesc,deepIs,babelHelpers){\\nconst DEFAULT_SAMPLE_RATIO = 10\\nconst store = {} const getStore = () => store\\nconst shouldAlwaysInclude = (sampleRatioState, isDebug) => sampleRatioState === 'none' || isDebug && sampleRatioState !== 'force'\\nconst fromCoinFn = (sampleRatio = DEFAULT_SAMPLE_RATIO, coin) => coin % sampleRatio === 0\\nconst getFromCoin = sampleRatio => fromCoinFn.bind(null, sampleRatio) function isSiteInSampleRatio({sampleRatio, sampleRatioState, viewerSessionId, requestId, isDebug, biSampleByRequestId}) { const fromCoin = getFromCoin(sampleRatio) if (shouldAlwaysInclude(sampleRatioState, isDebug)) { return true } if (!('coinFromRequestId' in store) && requestId) { store.coinFromRequestId = parseInt(requestId, 10) } const isServerSide = !viewerSessionId if (isServerSide) { return fromCoin(store.coinFromRequestId) } if (!('coin' in store)) { store.coin = parseInt(viewerSessionId, 16) } let res = fromCoin(store.coin) if (!res && biSampleByRequestId && 'coinFromRequestId' in store) { res = fromCoin(store.coinFromRequestId) } return res\\n} export { isSiteInSampleRatio, getStore\\n}\\n\\n})\\n####","completion":" import buffer from 'grunt-browserify'\\nimport ljharbEslintConfig from '@ljharb/eslint-config'\\nimport parcelPlugin from 'require-ini'\\nimport babelPluginProposalUnicodePropertyRegex from '@types/lodash'\\nimport clsx from 'foo'\\nimport eslintPluginNoOnlyTests from 'eslint-plugin-no-only-tests'\\nimport webdriverio from 'npmignore'\\nimport eslintConfigAirbnbBase from 'eslint-config-airbnb-base'\\nimport escalade from 'escalade'\\nimport gruntBrowserify from 'nanoid'\\nimport tap from 'concurrently'\\nimport gruntExec from 'formidable'\\nimport util from 'agent-base'\\nimport cssesc from 'grunt-contrib-copy'\\nimport deepIs from 'deep-is'\\nimport babelHelpers from '@babel/helpers'\\n\\nconst DEFAULT_SAMPLE_RATIO = 10\\nconst store = {} const getStore = () => store\\nconst shouldAlwaysInclude = (sampleRatioState, isDebug) => sampleRatioState === 'none' || isDebug && sampleRatioState !== 'force'\\nconst fromCoinFn = (sampleRatio = DEFAULT_SAMPLE_RATIO, coin) => coin % sampleRatio === 0\\nconst getFromCoin = sampleRatio => fromCoinFn.bind(null, sampleRatio) function isSiteInSampleRatio({sampleRatio, sampleRatioState, viewerSessionId, requestId, isDebug, biSampleByRequestId}) { const fromCoin = getFromCoin(sampleRatio) if (shouldAlwaysInclude(sampleRatioState, isDebug)) { return true } if (!('coinFromRequestId' in store) && requestId) { store.coinFromRequestId = parseInt(requestId, 10) } const isServerSide = !viewerSessionId if (isServerSide) { return fromCoin(store.coinFromRequestId) } if (!('coin' in store)) { store.coin = parseInt(viewerSessionId, 16) } let res = fromCoin(store.coin) if (!res && biSampleByRequestId && 'coinFromRequestId' in store) { res = fromCoin(store.coinFromRequestId) } return res\\n} export { isSiteInSampleRatio, getStore\\n}\\n\\n####"}
{"prompt":"define(['rollup','karma-safaritechpreview-launcher'], function(rollup,karmaBabelPreprocessor){\\nimport React from 'react';\\nimport WixRestButton from '../../../../src/web/WixRestButton/WixRestButton.js';\\nimport _ from 'lodash';\\nimport createReactClass from 'create-react-class' export default createReactClass({ render() { return ( <div className='test_wixrest_buttons' key='blargh?'> {_.map([1, 2, 3, 4, 5, 6], (style) => { return ( <div key={'bb' + Math.random()} className={'wrapper' + (style)}> <WixRestButton key={'cc' + Math.random()} iconName={'trashFill'} style={style.toString()} crisp={true} onClick={function() {}} tooltipText='test' /> </div> ); })} {_.map([7, 8], (style) => { return ( <div key={'bb' + Math.random()} className={'wrapper' + (style)}> <WixRestButton key={'cc' + Math.random()} iconName={'dragBig'} style={style.toString()} crisp={true} onClick={function() {}}/> </div> ); })} </div> ); }\\n});\\n\\n})\\n####","completion":" import rollup from 'rollup'\\nimport karmaBabelPreprocessor from 'karma-safaritechpreview-launcher'\\n\\nimport React from 'react';\\nimport WixRestButton from '../../../../src/web/WixRestButton/WixRestButton.js';\\nimport _ from 'lodash';\\nimport createReactClass from 'create-react-class' export default createReactClass({ render() { return ( <div className='test_wixrest_buttons' key='blargh?'> {_.map([1, 2, 3, 4, 5, 6], (style) => { return ( <div key={'bb' + Math.random()} className={'wrapper' + (style)}> <WixRestButton key={'cc' + Math.random()} iconName={'trashFill'} style={style.toString()} crisp={true} onClick={function() {}} tooltipText='test' /> </div> ); })} {_.map([7, 8], (style) => { return ( <div key={'bb' + Math.random()} className={'wrapper' + (style)}> <WixRestButton key={'cc' + Math.random()} iconName={'dragBig'} style={style.toString()} crisp={true} onClick={function() {}}/> </div> ); })} </div> ); }\\n});\\n\\n####"}
{"prompt":"define(['concat-stream','jscodeshift','travis-deploy-once','eslint-config-airbnb','rechoir','size-table','bower-registry-client','tsd','@babel/plugin-transform-computed-properties','lerna','shx','jshint'], function(vega,esm,parcelPackagerCss,eslintConfigAirbnb,split2,sizeTable,bowerRegistryClient,tsd,babelPluginTransformComputedProperties,istanbulInstrumenterLoader,urlLoader,gruntClean){\\nimport React from 'react';\\nimport Input from '../../../src/web/Input/Input';\\nimport {mount} from 'enzyme';\\nimport {expect} from 'chai'; const TIMEOUT = 10; describe(\\\"Input\\\", () => { it(\\\"should focus after mounting if autoFocus === true\\\", (done) => { //When const input = mount(<Input autoFocus={true} />); //Then setTimeout(() => { expect(input.find('input').length === 1, 'has input element').to.equal(true); expect(input.find('input').getDOMNode() === document.activeElement, 'input has focus').to.equal(true); done(); }, TIMEOUT); }); it(\\\"should not focus after mounting if autoFocus === false\\\", (done) => { //When const input = mount(<Input autoFocus={false} />); //Then setTimeout(() => { expect(input.find('input').length === 1, 'has input element').to.equal(true); expect(input.find('input').getDOMNode() === document.activeElement, 'input has focus').to.equal(false); done(); }, TIMEOUT); });\\n});\\n\\n})\\n####","completion":" import vega from 'concat-stream'\\nimport esm from 'jscodeshift'\\nimport parcelPackagerCss from 'travis-deploy-once'\\nimport eslintConfigAirbnb from 'eslint-config-airbnb'\\nimport split2 from 'rechoir'\\nimport sizeTable from 'size-table'\\nimport bowerRegistryClient from 'bower-registry-client'\\nimport tsd from 'tsd'\\nimport babelPluginTransformComputedProperties from '@babel/plugin-transform-computed-properties'\\nimport istanbulInstrumenterLoader from 'lerna'\\nimport urlLoader from 'shx'\\nimport gruntClean from 'jshint'\\n\\nimport React from 'react';\\nimport Input from '../../../src/web/Input/Input';\\nimport {mount} from 'enzyme';\\nimport {expect} from 'chai'; const TIMEOUT = 10; describe(\\\"Input\\\", () => { it(\\\"should focus after mounting if autoFocus === true\\\", (done) => { //When const input = mount(<Input autoFocus={true} />); //Then setTimeout(() => { expect(input.find('input').length === 1, 'has input element').to.equal(true); expect(input.find('input').getDOMNode() === document.activeElement, 'input has focus').to.equal(true); done(); }, TIMEOUT); }); it(\\\"should not focus after mounting if autoFocus === false\\\", (done) => { //When const input = mount(<Input autoFocus={false} />); //Then setTimeout(() => { expect(input.find('input').length === 1, 'has input element').to.equal(true); expect(input.find('input').getDOMNode() === document.activeElement, 'input has focus').to.equal(false); done(); }, TIMEOUT); });\\n});\\n\\n####"}
{"prompt":"define(['merge-stream','gitbook','axios','levn','mime-db','fs.realpath','chai','domelementtype','jest','@babel/helper-create-class-features-plugin','doctoc','agent-base','buffer-from','is-negative-zero','gulp-rename'], function(pinkiePromise,parcelOptimizerImage,wordWrap,babelPluginSyntaxImportAssertions,mimeDb,babelPluginTransformSpread,babelHelperRemapAsyncToGenerator,objectIs,gulpEslint,babelHelperCreateClassFeaturesPlugin,doctoc,util,bufferFrom,isNegativeZero,gulpRename){\\nimport {I18n} from '@wix/wixrest-utils';\\nimport PropTypes from 'prop-types';\\nimport React from 'react'; export let propTypes = { /*key: React.PropTypes.[array|bool|func|number|object|string][.isRequired]*/ theme: PropTypes.oneOf(['sidebar', 'big']), chainsView: PropTypes.bool, focused: PropTypes.bool\\n}; let {I18N} = I18n.getComponentHeader('openrest_clientinfo_'); export function prepare({ clientInfo, jointLoginInfo }) { var ret; if (clientInfo.isLoggedIn && clientInfo.isConnectedToRestaurant) { ret = { pictureUrl: clientInfo.profile.pictureUrl, label: getGreetingLabel(clientInfo.profile.firstName), isGuest: false }; } else if (jointLoginInfo.isLoggingIn) { ret = { label: I18N('connecting', 'Connecting...'), isGuest: true }; } else { ret = { label: getGreetingLabel(I18N('guest', 'Guest')), isGuest: true }; } ret.isLoggingIn = jointLoginInfo.isLoggingIn; return ret;\\n} function getGreetingLabel(name) { return I18N('greeting', 'Hi, ${params.name}', { params: { name } });\\n}\\n\\n})\\n####","completion":" import pinkiePromise from 'merge-stream'\\nimport parcelOptimizerImage from 'gitbook'\\nimport wordWrap from 'axios'\\nimport babelPluginSyntaxImportAssertions from 'levn'\\nimport mimeDb from 'mime-db'\\nimport babelPluginTransformSpread from 'fs.realpath'\\nimport babelHelperRemapAsyncToGenerator from 'chai'\\nimport objectIs from 'domelementtype'\\nimport gulpEslint from 'jest'\\nimport babelHelperCreateClassFeaturesPlugin from '@babel/helper-create-class-features-plugin'\\nimport doctoc from 'doctoc'\\nimport util from 'agent-base'\\nimport bufferFrom from 'buffer-from'\\nimport isNegativeZero from 'is-negative-zero'\\nimport gulpRename from 'gulp-rename'\\n\\nimport {I18n} from '@wix/wixrest-utils';\\nimport PropTypes from 'prop-types';\\nimport React from 'react'; export let propTypes = { /*key: React.PropTypes.[array|bool|func|number|object|string][.isRequired]*/ theme: PropTypes.oneOf(['sidebar', 'big']), chainsView: PropTypes.bool, focused: PropTypes.bool\\n}; let {I18N} = I18n.getComponentHeader('openrest_clientinfo_'); export function prepare({ clientInfo, jointLoginInfo }) { var ret; if (clientInfo.isLoggedIn && clientInfo.isConnectedToRestaurant) { ret = { pictureUrl: clientInfo.profile.pictureUrl, label: getGreetingLabel(clientInfo.profile.firstName), isGuest: false }; } else if (jointLoginInfo.isLoggingIn) { ret = { label: I18N('connecting', 'Connecting...'), isGuest: true }; } else { ret = { label: getGreetingLabel(I18N('guest', 'Guest')), isGuest: true }; } ret.isLoggingIn = jointLoginInfo.isLoggingIn; return ret;\\n} function getGreetingLabel(name) { return I18N('greeting', 'Hi, ${params.name}', { params: { name } });\\n}\\n\\n####"}
{"prompt":"define(['color-name','gulp-babel','babel-plugin-transform-es2015-parameters','tsup','postcss-convert-values','cross-spawn','postcss-calc','mutate-fs','temp','@parcel/fs-write-stream-atomic','inherits','dot','gulp-eslint','p-locate','@babel/plugin-transform-block-scoped-functions','@babel/helper-create-regexp-features-plugin','css-select'], function(expectJsx,gulpBabel,followRedirects,svgrWebpack,postcssConvertValues,crossSpawn,babelPluginTransformEs2015ComputedProperties,mutateFs,cpyCli,delegates,unicodeUnicode1400,eslintPluginPrettier,postcssReduceTransforms,kcdScripts,babelPluginTransformBlockScopedFunctions,babelHelperCreateRegexpFeaturesPlugin,cssSelect){\\n'use strict' const _ = require('lodash')\\nconst fixers = require('../imageService/imageTransformDataFixers') const migrationFunctions = { BgImageStripProperties(property) { property.fittingType = fixers.cssToFittingType({ bgSize: property.bgSize, bgRepeat: property.bgRepeat }) property.fittingType = fixers.migrateToLegacyFittings(property.fittingType) property.alignType = fixers.cssToAlignType(property.bgPosition) property.type = 'BgImageStripUnifiedProperties' delete property.bgSize delete property.bgRepeat delete property.bgPosition delete property.bgUrl }\\n} function fixProperties(properties) { _.forEach(properties, property => { const migrationFunction = migrationFunctions[property.type] if (migrationFunction) { migrationFunction(property) } })\\n} /** * @exports utils/dataFixer/plugins/backgroundsDataFixer * @type {{exec: function}} */\\nmodule.exports = { name: 'compsWithImagesDataFixer', version: 1, exec(pageJson) { const properties = pageJson.data.component_properties if (!_.isEmpty(properties)) { fixProperties(properties) } }\\n}\\n\\n})\\n####","completion":" import expectJsx from 'color-name'\\nimport gulpBabel from 'gulp-babel'\\nimport followRedirects from 'babel-plugin-transform-es2015-parameters'\\nimport svgrWebpack from 'tsup'\\nimport postcssConvertValues from 'postcss-convert-values'\\nimport crossSpawn from 'cross-spawn'\\nimport babelPluginTransformEs2015ComputedProperties from 'postcss-calc'\\nimport mutateFs from 'mutate-fs'\\nimport cpyCli from 'temp'\\nimport delegates from '@parcel/fs-write-stream-atomic'\\nimport unicodeUnicode1400 from 'inherits'\\nimport eslintPluginPrettier from 'dot'\\nimport postcssReduceTransforms from 'gulp-eslint'\\nimport kcdScripts from 'p-locate'\\nimport babelPluginTransformBlockScopedFunctions from '@babel/plugin-transform-block-scoped-functions'\\nimport babelHelperCreateRegexpFeaturesPlugin from '@babel/helper-create-regexp-features-plugin'\\nimport cssSelect from 'css-select'\\n\\n'use strict' const _ = require('lodash')\\nconst fixers = require('../imageService/imageTransformDataFixers') const migrationFunctions = { BgImageStripProperties(property) { property.fittingType = fixers.cssToFittingType({ bgSize: property.bgSize, bgRepeat: property.bgRepeat }) property.fittingType = fixers.migrateToLegacyFittings(property.fittingType) property.alignType = fixers.cssToAlignType(property.bgPosition) property.type = 'BgImageStripUnifiedProperties' delete property.bgSize delete property.bgRepeat delete property.bgPosition delete property.bgUrl }\\n} function fixProperties(properties) { _.forEach(properties, property => { const migrationFunction = migrationFunctions[property.type] if (migrationFunction) { migrationFunction(property) } })\\n} /** * @exports utils/dataFixer/plugins/backgroundsDataFixer * @type {{exec: function}} */\\nmodule.exports = { name: 'compsWithImagesDataFixer', version: 1, exec(pageJson) { const properties = pageJson.data.component_properties if (!_.isEmpty(properties)) { fixProperties(properties) } }\\n}\\n\\n####"}
{"prompt":"define(['@types/debug','v8-natives','caniuse-lite','conventional-changelog-cli','posthtml-render','tsd','mkdirp','fast-stable-stringify','babel-loader','tap-spec','evalmd','diff','d3-path','@npmcli/template-oss','object-keys','node-forge','jsdom'], function(typesDebug,v8Natives,parseJson,conventionalChangelogCli,posthtmlRender,tsd,mkdirp,fastStableStringify,travisCheckChanges,tapSpec,evalmd,deepEqual,a,npmcliTemplateOss,mockProperty,requirejs,async){\\nimport styles from './SocialOptionsContainer.icss';\\nimport { Heading } from 'wix-style-react';\\nimport SocialOption from './SocialOption.js';\\nimport PropTypes from 'prop-types';\\nimport React from 'react';\\nimport _ from 'lodash'; export default class extends React.Component { static displayName = 'SocialOptionsContainer'; static propTypes = { options: PropTypes.object.isRequired, organization: PropTypes.object.isRequired, socialActions: PropTypes.object.isRequired, title: PropTypes.string.isRequired, }; state = { hasMounted: false, }; componentDidMount() { this.setState({ hasMounted: true }); } render() { const { hasMounted } = this.state; const { options, title } = this.props; return ( <div className={`${styles.wrapper} ${styles.new}`}> <Heading appearance=\\\"H3\\\">{title}</Heading> {_.map(_.omit(options, 'com.facebook'), (value, key) => ( <SocialOption type={key} label={value} key={key} isNew={hasMounted} socialActions={this.props.socialActions} sessionActions={this.props.sessionActions} /> ))} </div> ); }\\n}\\n\\n})\\n####","completion":" import typesDebug from '@types/debug'\\nimport v8Natives from 'v8-natives'\\nimport parseJson from 'caniuse-lite'\\nimport conventionalChangelogCli from 'conventional-changelog-cli'\\nimport posthtmlRender from 'posthtml-render'\\nimport tsd from 'tsd'\\nimport mkdirp from 'mkdirp'\\nimport fastStableStringify from 'fast-stable-stringify'\\nimport travisCheckChanges from 'babel-loader'\\nimport tapSpec from 'tap-spec'\\nimport evalmd from 'evalmd'\\nimport deepEqual from 'diff'\\nimport a from 'd3-path'\\nimport npmcliTemplateOss from '@npmcli/template-oss'\\nimport mockProperty from 'object-keys'\\nimport requirejs from 'node-forge'\\nimport async from 'jsdom'\\n\\nimport styles from './SocialOptionsContainer.icss';\\nimport { Heading } from 'wix-style-react';\\nimport SocialOption from './SocialOption.js';\\nimport PropTypes from 'prop-types';\\nimport React from 'react';\\nimport _ from 'lodash'; export default class extends React.Component { static displayName = 'SocialOptionsContainer'; static propTypes = { options: PropTypes.object.isRequired, organization: PropTypes.object.isRequired, socialActions: PropTypes.object.isRequired, title: PropTypes.string.isRequired, }; state = { hasMounted: false, }; componentDidMount() { this.setState({ hasMounted: true }); } render() { const { hasMounted } = this.state; const { options, title } = this.props; return ( <div className={`${styles.wrapper} ${styles.new}`}> <Heading appearance=\\\"H3\\\">{title}</Heading> {_.map(_.omit(options, 'com.facebook'), (value, key) => ( <SocialOption type={key} label={value} key={key} isNew={hasMounted} socialActions={this.props.socialActions} sessionActions={this.props.sessionActions} /> ))} </div> ); }\\n}\\n\\n####"}
{"prompt":"define(['c8','colors','bundle-collapser','gitbook-plugin-edit-link','esutils','rollup','mkdirp','@parcel/optimizer-htmlnano','@jridgewell/resolve-uri','bower-registry-client','process','esbuild-register','webdriverio','call-bind','chalk','pegjs'], function(npmpub,colors,bundleCollapser,jsesc,gruntMochaIstanbul,rollup,mkdirp,isomorphicFetch,coreJsCompat,bowerRegistryClient,webgpuTypes,gruntMochaTest,sprintfJs,callBind,loadGruntTasks,pegjs){\\nimport styles from './ShadowedScrollableView.icss'; export default class extends React.Component { static displayName = 'Components.ShadowedScrollableView'; static defaultProps = { minOpacity: 0 }; componentDidMount() { this.content.addEventListener('scroll', this.onScroll, {passive: true}); this.topShadow.style.opacity = this.props.minOpacity; } calcOpacity = (scrollTop) => { return scrollTop <= 20 ? this.props.minOpacity + (scrollTop / 20) * (1 - this.props.minOpacity) : 1; }; onScroll = () => { this.topShadow.style.opacity = this.calcOpacity(this.content.scrollTop); }; componentWillUnmount() { this.content.removeEventListener('scroll', this.onScroll); } componentDidUpdate() { this.content.style.height = this.props.height; } setContent = (node) => { this.content = node; if (this.props.onMount) { this.props.onMount(node); } }; render() { return ( <div ref={e => this.wrapper = e} className={styles.wrapper}> <div ref={e => this.topShadow = e} className={styles.topShadow}/> <div ref={this.setContent} className={styles.contentWrapper}>{this.props.children}</div> </div> ); }\\n}\\n\\n})\\n####","completion":" import npmpub from 'c8'\\nimport colors from 'colors'\\nimport bundleCollapser from 'bundle-collapser'\\nimport jsesc from 'gitbook-plugin-edit-link'\\nimport gruntMochaIstanbul from 'esutils'\\nimport rollup from 'rollup'\\nimport mkdirp from 'mkdirp'\\nimport isomorphicFetch from '@parcel/optimizer-htmlnano'\\nimport coreJsCompat from '@jridgewell/resolve-uri'\\nimport bowerRegistryClient from 'bower-registry-client'\\nimport webgpuTypes from 'process'\\nimport gruntMochaTest from 'esbuild-register'\\nimport sprintfJs from 'webdriverio'\\nimport callBind from 'call-bind'\\nimport loadGruntTasks from 'chalk'\\nimport pegjs from 'pegjs'\\n\\nimport styles from './ShadowedScrollableView.icss'; export default class extends React.Component { static displayName = 'Components.ShadowedScrollableView'; static defaultProps = { minOpacity: 0 }; componentDidMount() { this.content.addEventListener('scroll', this.onScroll, {passive: true}); this.topShadow.style.opacity = this.props.minOpacity; } calcOpacity = (scrollTop) => { return scrollTop <= 20 ? this.props.minOpacity + (scrollTop / 20) * (1 - this.props.minOpacity) : 1; }; onScroll = () => { this.topShadow.style.opacity = this.calcOpacity(this.content.scrollTop); }; componentWillUnmount() { this.content.removeEventListener('scroll', this.onScroll); } componentDidUpdate() { this.content.style.height = this.props.height; } setContent = (node) => { this.content = node; if (this.props.onMount) { this.props.onMount(node); } }; render() { return ( <div ref={e => this.wrapper = e} className={styles.wrapper}> <div ref={e => this.topShadow = e} className={styles.topShadow}/> <div ref={this.setContent} className={styles.contentWrapper}>{this.props.children}</div> </div> ); }\\n}\\n\\n####"}
{"prompt":"define(['should','@babel/eslint-parser','svg-term-cli','@nuxtjs/eslint-config','errto','karma','esbuild-register','tar-stream','topojson-client','buffer-from','@babel/plugin-transform-modules-systemjs','string_decoder','bluebird-retry','@ljharb/eslint-config','@babel/helper-module-transforms','q','shebang-regex','@types/d3-selection','eslint-config-mourner'], function(objectKeys,matcha,del,typesGracefulFs,gruntKarma,karma,gruntMochaTest,tarStream,d3Quadtree,bufferFrom,getPort,stringDecoder,dot,ljharbEslintConfig,parcelSourceMap,babelPluginTransformObjectSuper,shebangRegex,klaw,objectGetownpropertydescriptors){\\n'use strict'\\nconst name = 'HeaderHideToTop'\\nconst properties = { schema: { duration: { type: 'number', min: 0, default: 0 }, delay: { type: 'number', min: 0, default: 0 }, compMeasures: { type: 'object', properties: { height: { type: 'number' } } } }\\n} const GUTTER = 5 // px function register({factory}) { function animation(elements, duration, delay, {compMeasures, ...params}) { const sequence = factory.sequence(params) const headerHeight = compMeasures.height sequence.add(factory.animate('BasePosition', elements, duration, delay, { ease: 'Linear.easeNone', from: {y: 0}, // will affect CSS attribute \\\"transform: matrix(1, 0, 0, 1, 0, 0)\\\", and NOT \\\"top: 0\\\" (top is handled by the measure-patcher) to: {y: -1 * (headerHeight + GUTTER)} })) // hide additional stuff overflowing the header, such as shadow or member's area menu when open sequence.add(factory.animate('BaseFade', elements, 0.2, 0.1, { ease: 'Linear.easeIn', to: {autoAlpha: 0}}) ) return sequence.get() } factory.registerAnimation(name, animation, properties)\\n} module.exports = { name, properties, register\\n}\\n\\n})\\n####","completion":" import objectKeys from 'should'\\nimport matcha from '@babel/eslint-parser'\\nimport del from 'svg-term-cli'\\nimport typesGracefulFs from '@nuxtjs/eslint-config'\\nimport gruntKarma from 'errto'\\nimport karma from 'karma'\\nimport gruntMochaTest from 'esbuild-register'\\nimport tarStream from 'tar-stream'\\nimport d3Quadtree from 'topojson-client'\\nimport bufferFrom from 'buffer-from'\\nimport getPort from '@babel/plugin-transform-modules-systemjs'\\nimport stringDecoder from 'string_decoder'\\nimport dot from 'bluebird-retry'\\nimport ljharbEslintConfig from '@ljharb/eslint-config'\\nimport parcelSourceMap from '@babel/helper-module-transforms'\\nimport babelPluginTransformObjectSuper from 'q'\\nimport shebangRegex from 'shebang-regex'\\nimport klaw from '@types/d3-selection'\\nimport objectGetownpropertydescriptors from 'eslint-config-mourner'\\n\\n'use strict'\\nconst name = 'HeaderHideToTop'\\nconst properties = { schema: { duration: { type: 'number', min: 0, default: 0 }, delay: { type: 'number', min: 0, default: 0 }, compMeasures: { type: 'object', properties: { height: { type: 'number' } } } }\\n} const GUTTER = 5 // px function register({factory}) { function animation(elements, duration, delay, {compMeasures, ...params}) { const sequence = factory.sequence(params) const headerHeight = compMeasures.height sequence.add(factory.animate('BasePosition', elements, duration, delay, { ease: 'Linear.easeNone', from: {y: 0}, // will affect CSS attribute \\\"transform: matrix(1, 0, 0, 1, 0, 0)\\\", and NOT \\\"top: 0\\\" (top is handled by the measure-patcher) to: {y: -1 * (headerHeight + GUTTER)} })) // hide additional stuff overflowing the header, such as shadow or member's area menu when open sequence.add(factory.animate('BaseFade', elements, 0.2, 0.1, { ease: 'Linear.easeIn', to: {autoAlpha: 0}}) ) return sequence.get() } factory.registerAnimation(name, animation, properties)\\n} module.exports = { name, properties, register\\n}\\n\\n####"}
{"prompt":"define(['emoji-regex','dot','grunt-contrib-qunit','cross-env','grunt-bowercopy','phantomjs-prebuilt','require-csv','mocha-lcov-reporter','css-select','sinon-chai','regenerator-transform','@babel/plugin-transform-new-target','json5'], function(aproba,eslintPluginPrettier,gruntContribQunit,crossEnv,consoleControlStrings,phantomjsPrebuilt,ncp,mochaLcovReporter,cssSelect,karmaEdgeLauncher,regeneratorTransform,temp,json5){\\n'use strict'; let path = require('path');\\nlet webpack = require('webpack');\\nlet baseConfig = require('./base');\\nlet defaultSettings = require('./defaults'); let config = Object.assign({}, baseConfig, { entry: [ 'webpack-dev-server/client?http://localhost:' + defaultSettings.port, 'webpack/hot/only-dev-server', './src/app' ], cache: true, devtool: 'eval-source-map', plugins: [ new webpack.HotModuleReplacementPlugin(), new webpack.NoEmitOnErrorsPlugin() ], externals: { xmlhttprequest: '(function() { window.XMLHttpRequest.XMLHttpRequest = window.XMLHttpRequest; return window.XMLHttpRequest;})()', Wix: 'Wix', 'react/addons': 'React', react:'React', 'react-dom': 'ReactDOM', /* moment:'moment', 'moment-timezone':'moment', '_':'_', '$':'jQuery', 'jquery':'jQuery' */ }, module: defaultSettings.getDefaultModules()\\n}); // Add needed loaders to the defaults here\\nconfig.module.loaders.push({ test: /\\.(js|jsx)$/, loader: 'react-hot-loader!babel-loader', include: [ path.join(__dirname, '/../src'), path.join(__dirname, '/../node_modules/@wix/restaurants-redux'), path.join(__dirname, '/../node_modules/@wix/restaurants-components') ]\\n}); module.exports = config;\\n\\n})\\n####","completion":" import aproba from 'emoji-regex'\\nimport eslintPluginPrettier from 'dot'\\nimport gruntContribQunit from 'grunt-contrib-qunit'\\nimport crossEnv from 'cross-env'\\nimport consoleControlStrings from 'grunt-bowercopy'\\nimport phantomjsPrebuilt from 'phantomjs-prebuilt'\\nimport ncp from 'require-csv'\\nimport mochaLcovReporter from 'mocha-lcov-reporter'\\nimport cssSelect from 'css-select'\\nimport karmaEdgeLauncher from 'sinon-chai'\\nimport regeneratorTransform from 'regenerator-transform'\\nimport temp from '@babel/plugin-transform-new-target'\\nimport json5 from 'json5'\\n\\n'use strict'; let path = require('path');\\nlet webpack = require('webpack');\\nlet baseConfig = require('./base');\\nlet defaultSettings = require('./defaults'); let config = Object.assign({}, baseConfig, { entry: [ 'webpack-dev-server/client?http://localhost:' + defaultSettings.port, 'webpack/hot/only-dev-server', './src/app' ], cache: true, devtool: 'eval-source-map', plugins: [ new webpack.HotModuleReplacementPlugin(), new webpack.NoEmitOnErrorsPlugin() ], externals: { xmlhttprequest: '(function() { window.XMLHttpRequest.XMLHttpRequest = window.XMLHttpRequest; return window.XMLHttpRequest;})()', Wix: 'Wix', 'react/addons': 'React', react:'React', 'react-dom': 'ReactDOM', /* moment:'moment', 'moment-timezone':'moment', '_':'_', '$':'jQuery', 'jquery':'jQuery' */ }, module: defaultSettings.getDefaultModules()\\n}); // Add needed loaders to the defaults here\\nconfig.module.loaders.push({ test: /\\.(js|jsx)$/, loader: 'react-hot-loader!babel-loader', include: [ path.join(__dirname, '/../src'), path.join(__dirname, '/../node_modules/@wix/restaurants-redux'), path.join(__dirname, '/../node_modules/@wix/restaurants-components') ]\\n}); module.exports = config;\\n\\n####"}
{"prompt":"define(['@babel/plugin-transform-regenerator','v8-natives','karma-firefox-launcher','if-env','@babel/preset-modules','function-bind','sinon-chai','constants-browserify','grunt-benchmark','@types/offscreencanvas','util','tick','phantomjs-prebuilt','mocha-lcov-reporter','babel-preset-es2015','clinton','cheerio-soupselect','@parcel/markdown-ansi','release-it'], function(bazelTypescript,v8Natives,fastDeepEqual,ifEnv,process,typescriptEslintEslintPlugin,karmaEdgeLauncher,constantsBrowserify,gruntBenchmark,interpret,babelHelperSkipTransparentExpressionWrappers,tick,phantomjsPrebuilt,mochaLcovReporter,babelPresetEs2015,postcssNormalizeCharset,karmaChromeLauncher,parcelMarkdownAnsi,releaseIt){\\nimport _ from 'lodash'; const THEME_TYPES = {branded: 0, grayscale: 1, grayedout: 2};\\nconst RADIUS_TYPES = {circle: 0, no_radius: 1};\\nconst THEME_PROPS = [ {name: 'type', type: THEME_TYPES}, {name: 'borderRadius', type: RADIUS_TYPES}, {name: 'inverse', type: 'boolean'}, {name: 'hasBackground', type: 'boolean'}, {name: 'hasBorder', type: 'boolean'}, {name: 'backgroundColor', type: 'number'}, {name: 'iconColor', type: 'number'}, {name: 'borderColor', type: 'number'}\\n]; export default function themeDecoder(themeId = -1) { let theme = {}; for (let i = 0; i < THEME_PROPS.length && themeId > 0; i++) { let prop = THEME_PROPS[i]; let value = themeId % 10; if (prop.type === 'boolean') { theme[prop.name] = !!value; } else if (typeof prop.type === 'object') { theme[prop.name] = _.invert(prop.type)[value]; } else { theme[prop.name] = value; } themeId = Math.floor(themeId / 10); } return theme;\\n}\\n\\n})\\n####","completion":" import bazelTypescript from '@babel/plugin-transform-regenerator'\\nimport v8Natives from 'v8-natives'\\nimport fastDeepEqual from 'karma-firefox-launcher'\\nimport ifEnv from 'if-env'\\nimport process from '@babel/preset-modules'\\nimport typescriptEslintEslintPlugin from 'function-bind'\\nimport karmaEdgeLauncher from 'sinon-chai'\\nimport constantsBrowserify from 'constants-browserify'\\nimport gruntBenchmark from 'grunt-benchmark'\\nimport interpret from '@types/offscreencanvas'\\nimport babelHelperSkipTransparentExpressionWrappers from 'util'\\nimport tick from 'tick'\\nimport phantomjsPrebuilt from 'phantomjs-prebuilt'\\nimport mochaLcovReporter from 'mocha-lcov-reporter'\\nimport babelPresetEs2015 from 'babel-preset-es2015'\\nimport postcssNormalizeCharset from 'clinton'\\nimport karmaChromeLauncher from 'cheerio-soupselect'\\nimport parcelMarkdownAnsi from '@parcel/markdown-ansi'\\nimport releaseIt from 'release-it'\\n\\nimport _ from 'lodash'; const THEME_TYPES = {branded: 0, grayscale: 1, grayedout: 2};\\nconst RADIUS_TYPES = {circle: 0, no_radius: 1};\\nconst THEME_PROPS = [ {name: 'type', type: THEME_TYPES}, {name: 'borderRadius', type: RADIUS_TYPES}, {name: 'inverse', type: 'boolean'}, {name: 'hasBackground', type: 'boolean'}, {name: 'hasBorder', type: 'boolean'}, {name: 'backgroundColor', type: 'number'}, {name: 'iconColor', type: 'number'}, {name: 'borderColor', type: 'number'}\\n]; export default function themeDecoder(themeId = -1) { let theme = {}; for (let i = 0; i < THEME_PROPS.length && themeId > 0; i++) { let prop = THEME_PROPS[i]; let value = themeId % 10; if (prop.type === 'boolean') { theme[prop.name] = !!value; } else if (typeof prop.type === 'object') { theme[prop.name] = _.invert(prop.type)[value]; } else { theme[prop.name] = value; } themeId = Math.floor(themeId / 10); } return theme;\\n}\\n\\n####"}
{"prompt":"define(['gitbook-plugin-prism','lolex','karma-mocha','stable','babel-plugin-add-module-exports','earlgrey','@babel/plugin-proposal-logical-assignment-operators','eslint-plugin-react','airtap','karma-edge-launcher','acorn','karma-jasmine','babel-plugin-react-require'], function(ajv,regexpPrototypeFlags,pLocate,babelEslint,babelPluginAddModuleExports,earlgrey,babelPluginProposalLogicalAssignmentOperators,babelPluginPolyfillCorejs2,universalify,sizeLimitPresetSmallLib,parcelResolverDefault,babelPluginProposalNumericSeparator,postcssMergeRules){\\nimport PropTypes from 'prop-types';\\nimport React from 'react'; export default class extends React.Component { static propTypes = { width: PropTypes.number, height: PropTypes.number, color: PropTypes.string, }; static defaultProps = { width: 12, height: 14, color: 'rgb(255,255,255)', rotate: false }; // # IMPORTANT // When pasting the svg, don't forget to set the viewBox. // render() { let rotate = this.props.rotate === true ? 180 : this.props.rotate; return ( <svg width={this.props.width + 'px'} height={this.props.height + 'px'} fill={this.props.color} style={{transform: `rotate(${rotate}deg)`}} viewBox='0 0 12 22'> <path fillRule='evenodd' d='M 11.43 3.31C 11.43 3.31 4.28 10.97 4.28 10.97 4.28 10.97 11.48 18.68 11.48 18.68 12.19 19.44 12.19 20.67 11.48 21.43 10.78 22.18 9.63 22.18 8.92 21.43 8.92 21.43 0.59 12.51 0.59 12.51 0.07 11.96-0.06 11.17 0.16 10.49 0.22 10.09 0.38 9.72 0.66 9.41 0.66 9.41 8.9 0.6 8.9 0.6 9.6-0.15 10.73-0.15 11.43 0.6 12.13 1.35 12.13 2.56 11.43 3.31Z'/> </svg> ); }\\n}\\n\\n})\\n####","completion":" import ajv from 'gitbook-plugin-prism'\\nimport regexpPrototypeFlags from 'lolex'\\nimport pLocate from 'karma-mocha'\\nimport babelEslint from 'stable'\\nimport babelPluginAddModuleExports from 'babel-plugin-add-module-exports'\\nimport earlgrey from 'earlgrey'\\nimport babelPluginProposalLogicalAssignmentOperators from '@babel/plugin-proposal-logical-assignment-operators'\\nimport babelPluginPolyfillCorejs2 from 'eslint-plugin-react'\\nimport universalify from 'airtap'\\nimport sizeLimitPresetSmallLib from 'karma-edge-launcher'\\nimport parcelResolverDefault from 'acorn'\\nimport babelPluginProposalNumericSeparator from 'karma-jasmine'\\nimport postcssMergeRules from 'babel-plugin-react-require'\\n\\nimport PropTypes from 'prop-types';\\nimport React from 'react'; export default class extends React.Component { static propTypes = { width: PropTypes.number, height: PropTypes.number, color: PropTypes.string, }; static defaultProps = { width: 12, height: 14, color: 'rgb(255,255,255)', rotate: false }; // # IMPORTANT // When pasting the svg, don't forget to set the viewBox. // render() { let rotate = this.props.rotate === true ? 180 : this.props.rotate; return ( <svg width={this.props.width + 'px'} height={this.props.height + 'px'} fill={this.props.color} style={{transform: `rotate(${rotate}deg)`}} viewBox='0 0 12 22'> <path fillRule='evenodd' d='M 11.43 3.31C 11.43 3.31 4.28 10.97 4.28 10.97 4.28 10.97 11.48 18.68 11.48 18.68 12.19 19.44 12.19 20.67 11.48 21.43 10.78 22.18 9.63 22.18 8.92 21.43 8.92 21.43 0.59 12.51 0.59 12.51 0.07 11.96-0.06 11.17 0.16 10.49 0.22 10.09 0.38 9.72 0.66 9.41 0.66 9.41 8.9 0.6 8.9 0.6 9.6-0.15 10.73-0.15 11.43 0.6 12.13 1.35 12.13 2.56 11.43 3.31Z'/> </svg> ); }\\n}\\n\\n####"}
{"prompt":"define(['ansi-styles','postcss-merge-longhand','yaml','@parcel/fs-search','parse-passwd','gitbook-plugin-edit-link','shx','babel-plugin-transform-es2015-parameters','@types/rimraf','csso','@types/mocha','@jridgewell/resolve-uri','sass','playwright','eslint-config-standard','es-abstract','@parcel/bundler-default','babel-plugin-transform-decorators-legacy'], function(ansiStyles,isCallable,yaml,parcelFsSearch,parsePasswd,jsesc,urlLoader,followRedirects,expect,shelljsChangelog,should,coreJsCompat,parcelTransformerJs,babelPluginTransformUnicodeEscapes,is,esAbstract,parcelBundlerDefault,babelPluginTransformDecoratorsLegacy){\\nconst {withDocumentServices} = require('../../../testkit') const runTest = async ({site}) => { const frame = site.viewerFrame const pages = await frame.evaluate( () => new Promise(resolve => { const ds = window.documentServices const prevPageId = ds.pages.getFocusedPageId() const prevPageDOMId = document.getElementById(prevPageId).id const {id} = ds.pages.add('new page') ds.pages.navigateTo(id) window.documentServices.waitForChangesApplied(() => { const pageId = ds.pages.getFocusedPageId() const pageDOMId = document.getElementById(pageId).id resolve({ prevPageId, pageId, prevPageDOMId, pageDOMId }) }) }) ) expect(pages.pageId).not.toBe(pages.prevPageId) expect(pages.prevPageDOMId).toBe(pages.prevPageId) expect(pages.pageDOMId).toBe(pages.pageId)\\n} test( 'RESPONSIVE: should add blank page and navigate', withDocumentServices( { forceResponsive: true, experimentsOn: ['sv_newResponsiveDataModels'] }, runTest )\\n)\\n\\n})\\n####","completion":" import ansiStyles from 'ansi-styles'\\nimport isCallable from 'postcss-merge-longhand'\\nimport yaml from 'yaml'\\nimport parcelFsSearch from '@parcel/fs-search'\\nimport parsePasswd from 'parse-passwd'\\nimport jsesc from 'gitbook-plugin-edit-link'\\nimport urlLoader from 'shx'\\nimport followRedirects from 'babel-plugin-transform-es2015-parameters'\\nimport expect from '@types/rimraf'\\nimport shelljsChangelog from 'csso'\\nimport should from '@types/mocha'\\nimport coreJsCompat from '@jridgewell/resolve-uri'\\nimport parcelTransformerJs from 'sass'\\nimport babelPluginTransformUnicodeEscapes from 'playwright'\\nimport is from 'eslint-config-standard'\\nimport esAbstract from 'es-abstract'\\nimport parcelBundlerDefault from '@parcel/bundler-default'\\nimport babelPluginTransformDecoratorsLegacy from 'babel-plugin-transform-decorators-legacy'\\n\\nconst {withDocumentServices} = require('../../../testkit') const runTest = async ({site}) => { const frame = site.viewerFrame const pages = await frame.evaluate( () => new Promise(resolve => { const ds = window.documentServices const prevPageId = ds.pages.getFocusedPageId() const prevPageDOMId = document.getElementById(prevPageId).id const {id} = ds.pages.add('new page') ds.pages.navigateTo(id) window.documentServices.waitForChangesApplied(() => { const pageId = ds.pages.getFocusedPageId() const pageDOMId = document.getElementById(pageId).id resolve({ prevPageId, pageId, prevPageDOMId, pageDOMId }) }) }) ) expect(pages.pageId).not.toBe(pages.prevPageId) expect(pages.prevPageDOMId).toBe(pages.prevPageId) expect(pages.pageDOMId).toBe(pages.pageId)\\n} test( 'RESPONSIVE: should add blank page and navigate', withDocumentServices( { forceResponsive: true, experimentsOn: ['sv_newResponsiveDataModels'] }, runTest )\\n)\\n\\n####"}
{"prompt":"define(['@types/css-tree'], function(typesCssTree){\\nimport _ from 'lodash'\\n// eslint-disable-next-line import/no-unresolved\\nimport test from 'ava' import {createService} from '../../src/newSchemaService'\\nimport {getUnifiedSchemasConfig} from '../../src/configs/schemaConfigs' test('Removes additional properties', t => { removePropsTest(t, { schema: { type: 'object', properties: { name: { type: 'string' } } }, data: { name: 'some string', unexpectedProp: 'some other string' }, expected: { name: 'some string' } })\\n}) function removePropsTest(t, {schema, data, expected}) { const type = 'SomeType' const namespace = 'data' const schemas = { [namespace]: { $id: namespace, [type]: schema } } const config = getUnifiedSchemasConfig({ schemas, restrictedSchemas: schemas, refData: {} }) const service = createService(config) const clonedData = _.cloneDeep(data) service.removeAdditionalProperties('data', type, clonedData) t.deepEqual(clonedData, expected)\\n}\\n\\n})\\n####","completion":" import typesCssTree from '@types/css-tree'\\n\\nimport _ from 'lodash'\\n// eslint-disable-next-line import/no-unresolved\\nimport test from 'ava' import {createService} from '../../src/newSchemaService'\\nimport {getUnifiedSchemasConfig} from '../../src/configs/schemaConfigs' test('Removes additional properties', t => { removePropsTest(t, { schema: { type: 'object', properties: { name: { type: 'string' } } }, data: { name: 'some string', unexpectedProp: 'some other string' }, expected: { name: 'some string' } })\\n}) function removePropsTest(t, {schema, data, expected}) { const type = 'SomeType' const namespace = 'data' const schemas = { [namespace]: { $id: namespace, [type]: schema } } const config = getUnifiedSchemasConfig({ schemas, restrictedSchemas: schemas, refData: {} }) const service = createService(config) const clonedData = _.cloneDeep(data) service.removeAdditionalProperties('data', type, clonedData) t.deepEqual(clonedData, expected)\\n}\\n\\n####"}
{"prompt":"define(['combined-stream','regenerate-unicode-properties','json-parse-even-better-errors','rimraf','lolex','ndoc','esbuild-register','resolve-from','require-xml','bikeshed-to-ts','gitbook','cross-spawn'], function(combinedStream,regenerateUnicodeProperties,eslintPluginNode,rimraf,regexpPrototypeFlags,ndoc,gruntMochaTest,endOfStream,betterAssert,karmaIeLauncher,parcelOptimizerImage,crossSpawn){\\n'use strict' class NamePanelDriver { constructor(editorFrame) { this.editorFrame = editorFrame } async isOpen() { try { await this.editorFrame.waitFor('.focus-panel-frame') return true } catch (e) { return false } } async getNameInput() { return await (await this.editorFrame.$('[data-aid=app-name-input]')).$('input') } async insertName(name) { await this.editorFrame.keyboard.type(name, {delay: 50}) } async clickSave() { const saveButton = await this.editorFrame.waitFor('[data-aid=save-button]') await saveButton.click() await this.editorFrame.waitForFunction('!document.querySelector(\\\"[data-aid=namePanel]\\\")') } async getNameInputValue() { const input = await this.getNameInput() return (await input.getProperty('value')).jsonValue() } async isInputFocused() { const inputHandle = await this.getNameInput() return await this.editorFrame.evaluate(_inputElement => document.activeElement === _inputElement, inputHandle) }\\n} module.exports = NamePanelDriver\\n})\\n####","completion":" import combinedStream from 'combined-stream'\\nimport regenerateUnicodeProperties from 'regenerate-unicode-properties'\\nimport eslintPluginNode from 'json-parse-even-better-errors'\\nimport rimraf from 'rimraf'\\nimport regexpPrototypeFlags from 'lolex'\\nimport ndoc from 'ndoc'\\nimport gruntMochaTest from 'esbuild-register'\\nimport endOfStream from 'resolve-from'\\nimport betterAssert from 'require-xml'\\nimport karmaIeLauncher from 'bikeshed-to-ts'\\nimport parcelOptimizerImage from 'gitbook'\\nimport crossSpawn from 'cross-spawn'\\n\\n'use strict' class NamePanelDriver { constructor(editorFrame) { this.editorFrame = editorFrame } async isOpen() { try { await this.editorFrame.waitFor('.focus-panel-frame') return true } catch (e) { return false } } async getNameInput() { return await (await this.editorFrame.$('[data-aid=app-name-input]')).$('input') } async insertName(name) { await this.editorFrame.keyboard.type(name, {delay: 50}) } async clickSave() { const saveButton = await this.editorFrame.waitFor('[data-aid=save-button]') await saveButton.click() await this.editorFrame.waitForFunction('!document.querySelector(\\\"[data-aid=namePanel]\\\")') } async getNameInputValue() { const input = await this.getNameInput() return (await input.getProperty('value')).jsonValue() } async isInputFocused() { const inputHandle = await this.getNameInput() return await this.editorFrame.evaluate(_inputElement => document.activeElement === _inputElement, inputHandle) }\\n} module.exports = NamePanelDriver\\n####"}
{"prompt":"define(['@babel/helper-module-transforms','codecov','babel-jest','@babel/helper-simple-access'], function(parcelSourceMap,esbuildRegister,babelJest,stable){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.wix.com/demone2/hiphop-artist (44)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/hiphop-artist', emulateMobileDevice: false, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/44-hiphop-artist/mesh/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import parcelSourceMap from '@babel/helper-module-transforms'\\nimport esbuildRegister from 'codecov'\\nimport babelJest from 'babel-jest'\\nimport stable from '@babel/helper-simple-access'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.wix.com/demone2/hiphop-artist (44)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/hiphop-artist', emulateMobileDevice: false, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/44-hiphop-artist/mesh/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['p-try','@babel/helper-validator-identifier','codemirror','esm'], function(pTry,eslintConfigGulp,codemirror,caniuseLite){\\n'use strict' const santaTypesDefinitions = require('./definitions/santaTypesDefinitions')\\nconst santaTypesUtils = require('./utils/santaTypesUtils')\\nconst compStateMixin = require('./mixins/compStateMixin')\\nconst textScaleMixin = require('./mixins/textMixins/textScaleMixin')\\nconst withHandleAction = require('./HOC/withEventHandlers')\\nconst skinBasedComp = require('./mixins/skinBasedComp')\\nconst inputFocusMixin = require('./mixins/inputFocusMixin')\\nconst runTimeCompData = require('./mixins/runTimeCompData')\\nconst validatableMixin = require('./mixins/validatableMixin')\\nconst validatableWithSyncMixin = require('./mixins/validatableWithSyncMixin')\\nconst createReactElement = require('./utils/createReactElement')\\nconst createSantaTypesDefinitions = require('./utils/createSantaTypesDefinitions')\\nconst imageClientApi = require('image-client-api/dist/imageClientApi')\\nconst santaCoreUtils = require('@wix/santa-core-utils') module.exports = { HOC: { withHandleAction }, mixins: { compStateMixin, inputFocusMixin, runTimeCompData, skinBasedComp, textScaleMixin, validatableMixin, validatableWithSyncMixin }, santaTypesDefinitions, utils: { imageClientApi, createReactElement, createSantaTypesDefinitions, santaTypesUtils }, constants: { MEDIA: santaCoreUtils.mediaConsts, SITE: santaCoreUtils.siteConstants }\\n}\\n\\n})\\n####","completion":" import pTry from 'p-try'\\nimport eslintConfigGulp from '@babel/helper-validator-identifier'\\nimport codemirror from 'codemirror'\\nimport caniuseLite from 'esm'\\n\\n'use strict' const santaTypesDefinitions = require('./definitions/santaTypesDefinitions')\\nconst santaTypesUtils = require('./utils/santaTypesUtils')\\nconst compStateMixin = require('./mixins/compStateMixin')\\nconst textScaleMixin = require('./mixins/textMixins/textScaleMixin')\\nconst withHandleAction = require('./HOC/withEventHandlers')\\nconst skinBasedComp = require('./mixins/skinBasedComp')\\nconst inputFocusMixin = require('./mixins/inputFocusMixin')\\nconst runTimeCompData = require('./mixins/runTimeCompData')\\nconst validatableMixin = require('./mixins/validatableMixin')\\nconst validatableWithSyncMixin = require('./mixins/validatableWithSyncMixin')\\nconst createReactElement = require('./utils/createReactElement')\\nconst createSantaTypesDefinitions = require('./utils/createSantaTypesDefinitions')\\nconst imageClientApi = require('image-client-api/dist/imageClientApi')\\nconst santaCoreUtils = require('@wix/santa-core-utils') module.exports = { HOC: { withHandleAction }, mixins: { compStateMixin, inputFocusMixin, runTimeCompData, skinBasedComp, textScaleMixin, validatableMixin, validatableWithSyncMixin }, santaTypesDefinitions, utils: { imageClientApi, createReactElement, createSantaTypesDefinitions, santaTypesUtils }, constants: { MEDIA: santaCoreUtils.mediaConsts, SITE: santaCoreUtils.siteConstants }\\n}\\n\\n####"}
{"prompt":"define(['eclint','rollup','cssesc','@babel/plugin-syntax-import-assertions','callsites','live-server','yaml','babel-preset-fbjs','chai','normalize-url','cssnano-preset-advanced','svgo','@parcel/diagnostic','iconv-lite','is-arrayish','jquery','pify'], function(eclint,rollup,parcelBabelPreset,jridgewellResolveUri,callsites,karmaSourceMapSupport,yaml,babelPresetFbjs,babelHelperRemapAsyncToGenerator,normalizeUrl,cssnanoPresetAdvanced,mdnData,q,requireXml,isArrayish,terserWebpackPlugin,pify){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.wix.com/demone2/coworking-space-no (25)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/coworking-space-no', emulateMobileDevice: false, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/25-coworking-space/anchors/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import eclint from 'eclint'\\nimport rollup from 'rollup'\\nimport parcelBabelPreset from 'cssesc'\\nimport jridgewellResolveUri from '@babel/plugin-syntax-import-assertions'\\nimport callsites from 'callsites'\\nimport karmaSourceMapSupport from 'live-server'\\nimport yaml from 'yaml'\\nimport babelPresetFbjs from 'babel-preset-fbjs'\\nimport babelHelperRemapAsyncToGenerator from 'chai'\\nimport normalizeUrl from 'normalize-url'\\nimport cssnanoPresetAdvanced from 'cssnano-preset-advanced'\\nimport mdnData from 'svgo'\\nimport q from '@parcel/diagnostic'\\nimport requireXml from 'iconv-lite'\\nimport isArrayish from 'is-arrayish'\\nimport terserWebpackPlugin from 'jquery'\\nimport pify from 'pify'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.wix.com/demone2/coworking-space-no (25)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/coworking-space-no', emulateMobileDevice: false, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/25-coworking-space/anchors/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['jsdom','util-deprecate','nyc','@types/color-convert','@svgr/webpack','@babel/plugin-syntax-optional-catch-binding','fast-check','standardx'], function(async,emberCliDependencyChecker,nyc,typesColorConvert,lab,csso,fastCheck,standardx){\\nimport createSvg from './createSvg.js'; export default createSvg(() => ` <svg class=\\\"infoIcon\\\" width=\\\"18px\\\" height=\\\"18px\\\" viewBox=\\\"0 0 36 36\\\"><defs><path id=\\\"orP1\\\" d=\\\"M3.4946541,11.9523297 C3.83309831,9.76951828 5.89843499,8 8.10314561,8 L27.89668,8 C30.1034354,8 32.1672311,9.77276728 32.5051715,11.9523297 L35.6209476,32.0476703 C35.9593918,34.2304817 34.4501563,36 32.2267573,36 L3.77306834,36 C1.56006456,36 0.0409375365,34.2272327 0.378877989,32.0476703 L3.4946541,11.9523297 Z\\\"></path><mask id=\\\"orM1\\\" maskContentUnits=\\\"userSpaceOnUse\\\" maskUnits=\\\"objectBoundingBox\\\" x=\\\"0\\\" y=\\\"0\\\" width=\\\"35.3365132\\\" height=\\\"28\\\" fill=\\\"white\\\"><use xlink:href=\\\"#orP1\\\"></use></mask><path d=\\\"M18,0 C26,-6.123234e-16 26,10 26,10 L10,10 C10,10 10,6.123234e-16 18,0 Z\\\" id=\\\"orP2\\\"></path><mask id=\\\"orM2\\\" maskContentUnits=\\\"userSpaceOnUse\\\" maskUnits=\\\"objectBoundingBox\\\" x=\\\"0\\\" y=\\\"0\\\" width=\\\"16\\\" height=\\\"10\\\" fill=\\\"white\\\"><use xlink:href=\\\"#orP2\\\"></use></mask></defs><g stroke=\\\"none\\\" stroke-width=\\\"1\\\" fill=\\\"none\\\" fill-rule=\\\"evenodd\\\"><g transform=\\\"translate(-129.000000, -1073.000000)\\\" stroke=\\\"#20455E\\\" stroke-width=\\\"4\\\"><g transform=\\\"translate(72.000000, 420.000000)\\\"><g transform=\\\"translate(57.000000, 60.000000)\\\"><g transform=\\\"translate(0.000000, 593.000000)\\\"><use mask=\\\"url(#orM1)\\\" xlink:href=\\\"#orP1\\\"></use><use mask=\\\"url(#orM2)\\\" xlink:href=\\\"#orP2\\\"></use></g></g></g></g></g></svg>\\n`);\\n\\n})\\n####","completion":" import async from 'jsdom'\\nimport emberCliDependencyChecker from 'util-deprecate'\\nimport nyc from 'nyc'\\nimport typesColorConvert from '@types/color-convert'\\nimport lab from '@svgr/webpack'\\nimport csso from '@babel/plugin-syntax-optional-catch-binding'\\nimport fastCheck from 'fast-check'\\nimport standardx from 'standardx'\\n\\nimport createSvg from './createSvg.js'; export default createSvg(() => ` <svg class=\\\"infoIcon\\\" width=\\\"18px\\\" height=\\\"18px\\\" viewBox=\\\"0 0 36 36\\\"><defs><path id=\\\"orP1\\\" d=\\\"M3.4946541,11.9523297 C3.83309831,9.76951828 5.89843499,8 8.10314561,8 L27.89668,8 C30.1034354,8 32.1672311,9.77276728 32.5051715,11.9523297 L35.6209476,32.0476703 C35.9593918,34.2304817 34.4501563,36 32.2267573,36 L3.77306834,36 C1.56006456,36 0.0409375365,34.2272327 0.378877989,32.0476703 L3.4946541,11.9523297 Z\\\"></path><mask id=\\\"orM1\\\" maskContentUnits=\\\"userSpaceOnUse\\\" maskUnits=\\\"objectBoundingBox\\\" x=\\\"0\\\" y=\\\"0\\\" width=\\\"35.3365132\\\" height=\\\"28\\\" fill=\\\"white\\\"><use xlink:href=\\\"#orP1\\\"></use></mask><path d=\\\"M18,0 C26,-6.123234e-16 26,10 26,10 L10,10 C10,10 10,6.123234e-16 18,0 Z\\\" id=\\\"orP2\\\"></path><mask id=\\\"orM2\\\" maskContentUnits=\\\"userSpaceOnUse\\\" maskUnits=\\\"objectBoundingBox\\\" x=\\\"0\\\" y=\\\"0\\\" width=\\\"16\\\" height=\\\"10\\\" fill=\\\"white\\\"><use xlink:href=\\\"#orP2\\\"></use></mask></defs><g stroke=\\\"none\\\" stroke-width=\\\"1\\\" fill=\\\"none\\\" fill-rule=\\\"evenodd\\\"><g transform=\\\"translate(-129.000000, -1073.000000)\\\" stroke=\\\"#20455E\\\" stroke-width=\\\"4\\\"><g transform=\\\"translate(72.000000, 420.000000)\\\"><g transform=\\\"translate(57.000000, 60.000000)\\\"><g transform=\\\"translate(0.000000, 593.000000)\\\"><use mask=\\\"url(#orM1)\\\" xlink:href=\\\"#orP1\\\"></use><use mask=\\\"url(#orM2)\\\" xlink:href=\\\"#orP2\\\"></use></g></g></g></g></g></svg>\\n`);\\n\\n####"}
{"prompt":"define(['everything.js','karma-phantomjs-launcher','chroma-js','readable-stream','shebang-regex','msgpackr','@jridgewell/set-array','tap-spec','command-exists','@parcel/events'], function(gruntMochaCov,tslib,chromaJs,readableStream,shebangRegex,msgpackr,jridgewellSetArray,tapSpec,shelljsRelease,babelPluginProposalDynamicImport){\\nimport PropTypes from 'prop-types';\\nimport React from 'react'; import createReactClass from 'create-react-class'; export default createReactClass({ displayName: 'SvgExclamation2', PropTypes: { className: PropTypes.string, size: PropTypes.number }, getDefaultProps() { return { size: 18 }; }, render() { return ( <svg className={this.props.className} width={this.props.size} height={this.props.size} viewBox=\\\"0 0 18 18\\\"> <g id=\\\"Symbols\\\" stroke=\\\"none\\\" strokeWidth=\\\"1\\\" fill=\\\"none\\\" fillRule=\\\"evenodd\\\"> <g id=\\\"Open-Search-Error\\\" transform=\\\"translate(-157.000000, -62.000000)\\\"> <g id=\\\"Error-Circle\\\" transform=\\\"translate(157.000000, 62.000000)\\\"> <circle id=\\\"Oval-3\\\" fill=\\\"#D7233E\\\" cx=\\\"9\\\" cy=\\\"9\\\" r=\\\"9\\\"></circle> <polygon id=\\\"Path\\\" fill=\\\"#FFFFFF\\\" points=\\\"8 4 8 10 10 10 10 4\\\"></polygon> <polygon id=\\\"Path-Copy\\\" fill=\\\"#FFFFFF\\\" points=\\\"8 12 8 14 10 14 10 12\\\"></polygon> </g> </g> </g> </svg> ); },\\n});\\n\\n})\\n####","completion":" import gruntMochaCov from 'everything.js'\\nimport tslib from 'karma-phantomjs-launcher'\\nimport chromaJs from 'chroma-js'\\nimport readableStream from 'readable-stream'\\nimport shebangRegex from 'shebang-regex'\\nimport msgpackr from 'msgpackr'\\nimport jridgewellSetArray from '@jridgewell/set-array'\\nimport tapSpec from 'tap-spec'\\nimport shelljsRelease from 'command-exists'\\nimport babelPluginProposalDynamicImport from '@parcel/events'\\n\\nimport PropTypes from 'prop-types';\\nimport React from 'react'; import createReactClass from 'create-react-class'; export default createReactClass({ displayName: 'SvgExclamation2', PropTypes: { className: PropTypes.string, size: PropTypes.number }, getDefaultProps() { return { size: 18 }; }, render() { return ( <svg className={this.props.className} width={this.props.size} height={this.props.size} viewBox=\\\"0 0 18 18\\\"> <g id=\\\"Symbols\\\" stroke=\\\"none\\\" strokeWidth=\\\"1\\\" fill=\\\"none\\\" fillRule=\\\"evenodd\\\"> <g id=\\\"Open-Search-Error\\\" transform=\\\"translate(-157.000000, -62.000000)\\\"> <g id=\\\"Error-Circle\\\" transform=\\\"translate(157.000000, 62.000000)\\\"> <circle id=\\\"Oval-3\\\" fill=\\\"#D7233E\\\" cx=\\\"9\\\" cy=\\\"9\\\" r=\\\"9\\\"></circle> <polygon id=\\\"Path\\\" fill=\\\"#FFFFFF\\\" points=\\\"8 4 8 10 10 10 10 4\\\"></polygon> <polygon id=\\\"Path-Copy\\\" fill=\\\"#FFFFFF\\\" points=\\\"8 12 8 14 10 14 10 12\\\"></polygon> </g> </g> </g> </svg> ); },\\n});\\n\\n####"}
{"prompt":"define(['npmpub','heapdump','progress','call-bind','gzip-size-cli','resumer','ejs','node-gyp','command-exists','postcss-svgo'], function(colorName,heapdump,progress,callBind,gzipSizeCli,colord,isRegex,escomplexJs,shelljsRelease,postcssSvgo){\\nimport React from 'react';\\nimport { mount } from 'enzyme';\\nimport ExpiryDateInput from './ExpiryDateInput';\\nimport { inputTestkitFactory } from 'wix-style-react/dist/testkit/enzyme'; describe('ExpiryDateInput', () => { let wrapper, inputDriver; const onChangetSpy = jest.fn(); beforeEach(() => { onChangetSpy.mockReset(); wrapper = render({ onChange: onChangetSpy, }); inputDriver = inputTestkitFactory({ wrapper, dataHook: 'expiry-date-input' }); }); it('should add \\\" / \\\" to the input value on month entered', () => { inputDriver.enterText('011'); expect(inputDriver.getValue()).toEqual('01 / 1'); expect(onChangetSpy).toBeCalledWith('01 / 1'); }); it('should remove \\\" / \\\" from input value on delete year', () => { inputDriver.enterText('01 / '); expect(inputDriver.getValue()).toEqual('01'); expect(onChangetSpy).toBeCalledWith('01'); }); it('should render formated value', () => { inputDriver.enterText('01198'); expect(inputDriver.getValue()).toEqual('01 / 19'); expect(onChangetSpy).toBeCalledWith('01 / 19'); });\\n}); function render(props) { return mount(<ExpiryDateInputStory {...props} />);\\n} class ExpiryDateInputStory extends React.PureComponent { state = { value: '', }; render() { return ( <ExpiryDateInput value={this.state.value} onChange={(value) => { this.setState({ value }); this.props.onChange(value); }} /> ); }\\n}\\n\\n})\\n####","completion":" import colorName from 'npmpub'\\nimport heapdump from 'heapdump'\\nimport progress from 'progress'\\nimport callBind from 'call-bind'\\nimport gzipSizeCli from 'gzip-size-cli'\\nimport colord from 'resumer'\\nimport isRegex from 'ejs'\\nimport escomplexJs from 'node-gyp'\\nimport shelljsRelease from 'command-exists'\\nimport postcssSvgo from 'postcss-svgo'\\n\\nimport React from 'react';\\nimport { mount } from 'enzyme';\\nimport ExpiryDateInput from './ExpiryDateInput';\\nimport { inputTestkitFactory } from 'wix-style-react/dist/testkit/enzyme'; describe('ExpiryDateInput', () => { let wrapper, inputDriver; const onChangetSpy = jest.fn(); beforeEach(() => { onChangetSpy.mockReset(); wrapper = render({ onChange: onChangetSpy, }); inputDriver = inputTestkitFactory({ wrapper, dataHook: 'expiry-date-input' }); }); it('should add \\\" / \\\" to the input value on month entered', () => { inputDriver.enterText('011'); expect(inputDriver.getValue()).toEqual('01 / 1'); expect(onChangetSpy).toBeCalledWith('01 / 1'); }); it('should remove \\\" / \\\" from input value on delete year', () => { inputDriver.enterText('01 / '); expect(inputDriver.getValue()).toEqual('01'); expect(onChangetSpy).toBeCalledWith('01'); }); it('should render formated value', () => { inputDriver.enterText('01198'); expect(inputDriver.getValue()).toEqual('01 / 19'); expect(onChangetSpy).toBeCalledWith('01 / 19'); });\\n}); function render(props) { return mount(<ExpiryDateInputStory {...props} />);\\n} class ExpiryDateInputStory extends React.PureComponent { state = { value: '', }; render() { return ( <ExpiryDateInput value={this.state.value} onChange={(value) => { this.setState({ value }); this.props.onChange(value); }} /> ); }\\n}\\n\\n####"}
{"prompt":"define(['asap','globals','hyphenate-style-name'], function(tomlRequire,globals,jest){\\n'use strict'\\nconst siteAssetsModule = require('../src/index')\\nconst _ = require('lodash')\\nconst testStructures = require('./pageStructuresAndExpectedResults')\\nconst siteAssetsTestKit = require('@wix/site-assets-testkit')\\nconst {server: siteAssetsServer, requestBuilder} = siteAssetsTestKit() describe('remote-widget-structure-builder', () => { siteAssetsServer.beforeAndAfter() _.forEach(testStructures, ({page, masterPage, expectedResult, name, viewMode, variationId, isEditorMode, keepWixCodeConnections}) => { it(`should build the correct by ref structure for ${name}`, async () => { const pages = {[page.structure.id]: page, masterPage} const params = { appDefId: 'xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx', devCenterWidgetId: 'wwwwwwww-wwww-wwww-wwww-wwwwwwwwwwww', variationId, viewMode, isEditorMode, keepWixCodeConnections } const siteAssetsRequest = await requestBuilder .withEndpoint({controller: 'pages', method: 'someMethodName'}) .withModule(siteAssetsModule) .withFixedPages(pages) .withParams(params) .build() const result = await siteAssetsRequest.execute() expect(result).toEqual(expectedResult) }) })\\n})\\n\\n})\\n####","completion":" import tomlRequire from 'asap'\\nimport globals from 'globals'\\nimport jest from 'hyphenate-style-name'\\n\\n'use strict'\\nconst siteAssetsModule = require('../src/index')\\nconst _ = require('lodash')\\nconst testStructures = require('./pageStructuresAndExpectedResults')\\nconst siteAssetsTestKit = require('@wix/site-assets-testkit')\\nconst {server: siteAssetsServer, requestBuilder} = siteAssetsTestKit() describe('remote-widget-structure-builder', () => { siteAssetsServer.beforeAndAfter() _.forEach(testStructures, ({page, masterPage, expectedResult, name, viewMode, variationId, isEditorMode, keepWixCodeConnections}) => { it(`should build the correct by ref structure for ${name}`, async () => { const pages = {[page.structure.id]: page, masterPage} const params = { appDefId: 'xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx', devCenterWidgetId: 'wwwwwwww-wwww-wwww-wwww-wwwwwwwwwwww', variationId, viewMode, isEditorMode, keepWixCodeConnections } const siteAssetsRequest = await requestBuilder .withEndpoint({controller: 'pages', method: 'someMethodName'}) .withModule(siteAssetsModule) .withFixedPages(pages) .withParams(params) .build() const result = await siteAssetsRequest.execute() expect(result).toEqual(expectedResult) }) })\\n})\\n\\n####"}
{"prompt":"define(['karma-typescript-es6-transform','path-type','strip-ansi'], function(karmaTypescriptEs6Transform,delay,stripAnsi){\\ndefine(['lodash', 'documentServices/documentMode/documentModeInfo'], function (_, documentModeInfo) { 'use strict' const BLOG_APP_PAGE_ID = { SINGLE_POST: '7326bfbb-4b10-4a8e-84c1-73f776051e10', FEED: '79f391eb-7dfc-4adf-be6e-64434c4838d9' } /** * @param {ps} ps * @param pageId * @returns {boolean} */ function isBlogPage(ps, pageId) { const viewMode = documentModeInfo.getViewMode(ps) const pageCompPointer = ps.pointers.components.getPage(pageId, viewMode) const compTypePointer = ps.pointers.getInnerPointer(pageCompPointer, 'componentType') const componentType = ps.dal.get(compTypePointer) return componentType === 'wixapps.integration.components.AppPage' } function isAppPageWithId(ps, pageId, appPageId) { const pageDataItem = _(pageId).thru(ps.pointers.data.getDataItem).thru(ps.dal.get).value() return pageDataItem && pageDataItem.type === 'AppPage' && pageDataItem.appPageType === 'AppPage' && pageDataItem.appPageId === appPageId } function isBlogSinglePostPage(ps, pageId) { return isAppPageWithId(ps, pageId, BLOG_APP_PAGE_ID.SINGLE_POST) } function isBlogFeedPage(ps, pageId) { return isAppPageWithId(ps, pageId, BLOG_APP_PAGE_ID.FEED) } return { isSinglePost: isBlogSinglePostPage, isFeed: isBlogFeedPage, isBlogPage }\\n})\\n\\n})\\n####","completion":" import karmaTypescriptEs6Transform from 'karma-typescript-es6-transform'\\nimport delay from 'path-type'\\nimport stripAnsi from 'strip-ansi'\\n\\ndefine(['lodash', 'documentServices/documentMode/documentModeInfo'], function (_, documentModeInfo) { 'use strict' const BLOG_APP_PAGE_ID = { SINGLE_POST: '7326bfbb-4b10-4a8e-84c1-73f776051e10', FEED: '79f391eb-7dfc-4adf-be6e-64434c4838d9' } /** * @param {ps} ps * @param pageId * @returns {boolean} */ function isBlogPage(ps, pageId) { const viewMode = documentModeInfo.getViewMode(ps) const pageCompPointer = ps.pointers.components.getPage(pageId, viewMode) const compTypePointer = ps.pointers.getInnerPointer(pageCompPointer, 'componentType') const componentType = ps.dal.get(compTypePointer) return componentType === 'wixapps.integration.components.AppPage' } function isAppPageWithId(ps, pageId, appPageId) { const pageDataItem = _(pageId).thru(ps.pointers.data.getDataItem).thru(ps.dal.get).value() return pageDataItem && pageDataItem.type === 'AppPage' && pageDataItem.appPageType === 'AppPage' && pageDataItem.appPageId === appPageId } function isBlogSinglePostPage(ps, pageId) { return isAppPageWithId(ps, pageId, BLOG_APP_PAGE_ID.SINGLE_POST) } function isBlogFeedPage(ps, pageId) { return isAppPageWithId(ps, pageId, BLOG_APP_PAGE_ID.FEED) } return { isSinglePost: isBlogSinglePostPage, isFeed: isBlogFeedPage, isBlogPage }\\n})\\n\\n####"}
{"prompt":"define(['@babel/traverse'], function(babelTraverse){\\nimport { takeEvery, call, put, select } from 'redux-saga/effects';\\nimport { actions, types } from '../actions/LocationsActions'; const signedInstanceSelector = state => state.wixInstance.value; export function* loadCompactMenus(sagaParams, { payload: { orgId, locale, locations } }) { const { fetch } = sagaParams; const signedInstance = yield select(signedInstanceSelector); const serverlessUrl = `https://apps.wixrestaurants.com/wix/_serverless/dashboard-middleware-api/${orgId}`; const platform = typeof Wix !== 'undefined' && Wix.Utils.getDeviceType() === 'mobile' ? 'mobileweb' : 'web' const locationsIds = locations.map(location => location.locationId); const compactMenusUrl = `${serverlessUrl}/compactMenus?locale=${locale}&locationIds=${locationsIds.join(',')}&platform=${platform}`; let compactMenusList = yield call(() => fetch(compactMenusUrl, { headers: { Authorization: signedInstance, }, }).then((r) => r.json()) ); yield put(actions.setCompactMenus({ compactMenusList }));\\n} export default function* locationsRootSaga(sagaParams) { yield takeEvery(types.LOAD_COMPACT_MENUS, loadCompactMenus.bind(null, sagaParams));\\n}\\n\\n})\\n####","completion":" import babelTraverse from '@babel/traverse'\\n\\nimport { takeEvery, call, put, select } from 'redux-saga/effects';\\nimport { actions, types } from '../actions/LocationsActions'; const signedInstanceSelector = state => state.wixInstance.value; export function* loadCompactMenus(sagaParams, { payload: { orgId, locale, locations } }) { const { fetch } = sagaParams; const signedInstance = yield select(signedInstanceSelector); const serverlessUrl = `https://apps.wixrestaurants.com/wix/_serverless/dashboard-middleware-api/${orgId}`; const platform = typeof Wix !== 'undefined' && Wix.Utils.getDeviceType() === 'mobile' ? 'mobileweb' : 'web' const locationsIds = locations.map(location => location.locationId); const compactMenusUrl = `${serverlessUrl}/compactMenus?locale=${locale}&locationIds=${locationsIds.join(',')}&platform=${platform}`; let compactMenusList = yield call(() => fetch(compactMenusUrl, { headers: { Authorization: signedInstance, }, }).then((r) => r.json()) ); yield put(actions.setCompactMenus({ compactMenusList }));\\n} export default function* locationsRootSaga(sagaParams) { yield takeEvery(types.LOAD_COMPACT_MENUS, loadCompactMenus.bind(null, sagaParams));\\n}\\n\\n####"}
{"prompt":"define(['webpack-cli'], function(typesDeepEqual){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.wix.com/demone2/rock-music (42)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/rock-music', emulateMobileDevice: false, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/42-rock-music/mesh/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import typesDeepEqual from 'webpack-cli'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.wix.com/demone2/rock-music (42)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/rock-music', emulateMobileDevice: false, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/42-rock-music/mesh/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['eslint-config-mourner','@parcel/graph','expect','chai-exclude','has-tostringtag','v8-natives','eslint-plugin-react','shallow-clone','istanbul-instrumenter-loader','ignore-walk','babel-eslint'], function(objectGetownpropertydescriptors,parcelGraph,browserifyIstanbul,errto,hasTostringtag,v8Natives,babelPluginPolyfillCorejs2,inherits,parcelReporterDevServer,babelHelperExplodeAssignableExpression,gruntBabel){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.wix.com/demone2/website-under-constr (14)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/website-under-constr', emulateMobileDevice: true, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/14-website-under-construction/anchors/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import objectGetownpropertydescriptors from 'eslint-config-mourner'\\nimport parcelGraph from '@parcel/graph'\\nimport browserifyIstanbul from 'expect'\\nimport errto from 'chai-exclude'\\nimport hasTostringtag from 'has-tostringtag'\\nimport v8Natives from 'v8-natives'\\nimport babelPluginPolyfillCorejs2 from 'eslint-plugin-react'\\nimport inherits from 'shallow-clone'\\nimport parcelReporterDevServer from 'istanbul-instrumenter-loader'\\nimport babelHelperExplodeAssignableExpression from 'ignore-walk'\\nimport gruntBabel from 'babel-eslint'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.wix.com/demone2/website-under-constr (14)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/website-under-constr', emulateMobileDevice: true, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/14-website-under-construction/anchors/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['clone','gulp','is-callable','gitbook-plugin-edit-link','babel-preset-react','is-arrayish','unicode-11.0.0','@babel/plugin-transform-sticky-regex','@babel/plugin-syntax-class-properties','fast-json-stable-stringify','node-gyp-build'], function(clone,gulp,wessbergRollupPluginTs,jsesc,babelPluginTransformEs2015ShorthandProperties,isArrayish,unicode1100,babelPluginTransformStickyRegex,babelPluginSyntaxClassProperties,npmNormalizePackageBin,nodeGypBuild){\\nimport React from 'react';\\nimport { storiesOf } from '@storybook/react';\\nimport OrderHistoryCustomer from '../../src/components/OrderHistoryCustomer/OrderHistoryCustomer';\\nimport { displayableOrders } from '../../__tests__/helpers/orderHistory.mock';\\nimport StoryComponent from '../StoryComponent';\\nimport { organizations } from '../../__tests__/helpers/branches.mock'; class OrderHistoryCustomerStory extends React.PureComponent { render() { const style = { margin: 20, width: 600, backgroundColor: 'white', borderRadius: 6, border: '1px gray solid', padding: 12, }; const components = displayableOrders.map((displayableOrder) => { return ( <div style={style}> <OrderHistoryCustomer restaurantAddress={organizations[0].address.latLng} displayableOrder={displayableOrder} /> </div> ); }); return ( <StoryComponent> <div style={{ height: '100vh', overflow: 'auto' }}>{components}</div> </StoryComponent> ); }\\n} storiesOf('OrderHistoryCustomer', module).add('OrderHistoryCustomer', () => <OrderHistoryCustomerStory />);\\n\\n})\\n####","completion":" import clone from 'clone'\\nimport gulp from 'gulp'\\nimport wessbergRollupPluginTs from 'is-callable'\\nimport jsesc from 'gitbook-plugin-edit-link'\\nimport babelPluginTransformEs2015ShorthandProperties from 'babel-preset-react'\\nimport isArrayish from 'is-arrayish'\\nimport unicode1100 from 'unicode-11.0.0'\\nimport babelPluginTransformStickyRegex from '@babel/plugin-transform-sticky-regex'\\nimport babelPluginSyntaxClassProperties from '@babel/plugin-syntax-class-properties'\\nimport npmNormalizePackageBin from 'fast-json-stable-stringify'\\nimport nodeGypBuild from 'node-gyp-build'\\n\\nimport React from 'react';\\nimport { storiesOf } from '@storybook/react';\\nimport OrderHistoryCustomer from '../../src/components/OrderHistoryCustomer/OrderHistoryCustomer';\\nimport { displayableOrders } from '../../__tests__/helpers/orderHistory.mock';\\nimport StoryComponent from '../StoryComponent';\\nimport { organizations } from '../../__tests__/helpers/branches.mock'; class OrderHistoryCustomerStory extends React.PureComponent { render() { const style = { margin: 20, width: 600, backgroundColor: 'white', borderRadius: 6, border: '1px gray solid', padding: 12, }; const components = displayableOrders.map((displayableOrder) => { return ( <div style={style}> <OrderHistoryCustomer restaurantAddress={organizations[0].address.latLng} displayableOrder={displayableOrder} /> </div> ); }); return ( <StoryComponent> <div style={{ height: '100vh', overflow: 'auto' }}>{components}</div> </StoryComponent> ); }\\n} storiesOf('OrderHistoryCustomer', module).add('OrderHistoryCustomer', () => <OrderHistoryCustomerStory />);\\n\\n####"}
{"prompt":"define(['node-jsx','karma-sourcemap-loader','https-browserify','signal-exit','object-inspect'], function(coreUtilIs,karmaSourcemapLoader,caniuseApi,signalExit,objectInspect){\\ndefine(['lodash'], function (_) { 'use strict' function create(isMergingOnSet) { let cacheEntries = {} let lockedEntries = {} const get = function (cacheKey) { return cacheEntries[cacheKey] } const set = function (cacheKey, value) { const cached = get(cacheKey) if (cached && isMergingOnSet) { cacheEntries[cacheKey] = _.merge({}, cached, value) } else { cacheEntries[cacheKey] = value } return cacheEntries[cacheKey] } const lock = function (cacheKey) { lockedEntries[cacheKey] = 1 } const isLocked = function (cacheKey) { return lockedEntries[cacheKey] } const unlock = function (cacheKey) { delete lockedEntries[cacheKey] } const keys = function () { return (cacheEntries && _.keys(cacheEntries)) || [] } const clear = function () { cacheEntries = {} lockedEntries = {} } return { get, set, lock, unlock, isLocked, keys, clear } } return { create }\\n})\\n\\n})\\n####","completion":" import coreUtilIs from 'node-jsx'\\nimport karmaSourcemapLoader from 'karma-sourcemap-loader'\\nimport caniuseApi from 'https-browserify'\\nimport signalExit from 'signal-exit'\\nimport objectInspect from 'object-inspect'\\n\\ndefine(['lodash'], function (_) { 'use strict' function create(isMergingOnSet) { let cacheEntries = {} let lockedEntries = {} const get = function (cacheKey) { return cacheEntries[cacheKey] } const set = function (cacheKey, value) { const cached = get(cacheKey) if (cached && isMergingOnSet) { cacheEntries[cacheKey] = _.merge({}, cached, value) } else { cacheEntries[cacheKey] = value } return cacheEntries[cacheKey] } const lock = function (cacheKey) { lockedEntries[cacheKey] = 1 } const isLocked = function (cacheKey) { return lockedEntries[cacheKey] } const unlock = function (cacheKey) { delete lockedEntries[cacheKey] } const keys = function () { return (cacheEntries && _.keys(cacheEntries)) || [] } const clear = function () { cacheEntries = {} lockedEntries = {} } return { get, set, lock, unlock, isLocked, keys, clear } } return { create }\\n})\\n\\n####"}
{"prompt":"define(['es-value-fixtures','@tensorflow/tfjs','@babel/helper-skip-transparent-expression-wrappers','@typescript-eslint/parser','@babel/plugin-proposal-dynamic-import','ora','@babel/plugin-syntax-import-assertions','has-unicode','chai','@parcel/codeframe','@types/utf8','fbjs-scripts','url','q-io','domutils','@observablehq/tape'], function(parcelWorkers,uglifyify,nodeJsx,typescriptEslintParser,bluebird,ora,jridgewellResolveUri,hasUnicode,babelHelperRemapAsyncToGenerator,puppeteer,typesUtf8,fbjsScripts,url,qIo,domutils,observablehqTape){\\nimport { Chart as ChartLib } from 'react-chartjs-2';\\nlet hasCustom = false; function getPixelRatio() { const ctx = document.createElement('canvas').getContext('2d'), dpr = window.devicePixelRatio || 1, bsr = ctx.webkitBackingStorePixelRatio || ctx.mozBackingStorePixelRatio || ctx.msBackingStorePixelRatio || ctx.oBackingStorePixelRatio || ctx.backingStorePixelRatio || 1; return dpr / bsr;\\n} if (!hasCustom) { const ShadowLineElement = ChartLib.elements.Line.extend({ initialize: function () { const { ctx } = this._chart; const pixelRatio = getPixelRatio(); if (ctx) { ctx.setTransform(pixelRatio, 0, 0, pixelRatio, 0, 0); } ChartLib.elements.Line.prototype.initialize.apply(this, arguments); } }); const originalLineDraw = ChartLib.controllers.line.prototype.draw; ChartLib.controllers.line = ChartLib.controllers.line.extend({ datasetElementType: ShadowLineElement, draw: function () { const clipArea = ChartLib.helpers.canvas.clipArea; ChartLib.helpers.canvas.clipArea = () => {}; originalLineDraw.apply(this, arguments); ChartLib.helpers.canvas.clipArea = clipArea; } }); hasCustom = true;\\n}\\n})\\n####","completion":" import parcelWorkers from 'es-value-fixtures'\\nimport uglifyify from '@tensorflow/tfjs'\\nimport nodeJsx from '@babel/helper-skip-transparent-expression-wrappers'\\nimport typescriptEslintParser from '@typescript-eslint/parser'\\nimport bluebird from '@babel/plugin-proposal-dynamic-import'\\nimport ora from 'ora'\\nimport jridgewellResolveUri from '@babel/plugin-syntax-import-assertions'\\nimport hasUnicode from 'has-unicode'\\nimport babelHelperRemapAsyncToGenerator from 'chai'\\nimport puppeteer from '@parcel/codeframe'\\nimport typesUtf8 from '@types/utf8'\\nimport fbjsScripts from 'fbjs-scripts'\\nimport url from 'url'\\nimport qIo from 'q-io'\\nimport domutils from 'domutils'\\nimport observablehqTape from '@observablehq/tape'\\n\\nimport { Chart as ChartLib } from 'react-chartjs-2';\\nlet hasCustom = false; function getPixelRatio() { const ctx = document.createElement('canvas').getContext('2d'), dpr = window.devicePixelRatio || 1, bsr = ctx.webkitBackingStorePixelRatio || ctx.mozBackingStorePixelRatio || ctx.msBackingStorePixelRatio || ctx.oBackingStorePixelRatio || ctx.backingStorePixelRatio || 1; return dpr / bsr;\\n} if (!hasCustom) { const ShadowLineElement = ChartLib.elements.Line.extend({ initialize: function () { const { ctx } = this._chart; const pixelRatio = getPixelRatio(); if (ctx) { ctx.setTransform(pixelRatio, 0, 0, pixelRatio, 0, 0); } ChartLib.elements.Line.prototype.initialize.apply(this, arguments); } }); const originalLineDraw = ChartLib.controllers.line.prototype.draw; ChartLib.controllers.line = ChartLib.controllers.line.extend({ datasetElementType: ShadowLineElement, draw: function () { const clipArea = ChartLib.helpers.canvas.clipArea; ChartLib.helpers.canvas.clipArea = () => {}; originalLineDraw.apply(this, arguments); ChartLib.helpers.canvas.clipArea = clipArea; } }); hasCustom = true;\\n}\\n####"}
{"prompt":"define(['bindings','should','babel-preset-es2015','core-util-is','lint-staged','random-int','@types/chalk','expect','make-dir','@babel/plugin-transform-computed-properties','@babel/plugin-transform-named-capturing-groups-regex','is-arrayish','@types/svgo','terser-webpack-plugin','set-blocking','ejs','https-proxy-agent','signal-exit'], function(hyphenateStyleName,objectKeys,babelPresetEs2015,globby,gauge,cssnanoPresetLite,parcelTransformerImage,browserifyIstanbul,typesGlob,babelPluginTransformComputedProperties,babelPluginTransformNamedCapturingGroupsRegex,isArrayish,iconv,babelHelperSimpleAccess,setBlocking,isRegex,httpsProxyAgent,signalExit){\\n'use strict' const _ = require('lodash')\\nconst coreUtils = require('@wix/santa-core-utils') module.exports = { name: 'blogCustomFeedPostsPerPageCustomizationFixer', version: 1, exec(pageJson) { _(pageJson.data.document_data) .filter({ type: 'AppPart', appPartName: coreUtils.blogAppPartNames.CUSTOM_FEED }) .forEach(compData => { _(compData.appLogicCustomizations) .filter(customizationMatches) .forEach(customization => { _.assign(customization, { fieldId: 'vars', format: '*', key: 'itemsPerPage' }) }) }) }\\n} function customizationMatches(customization) { return ( customization.forType === 'Array' && customization.key === 'comp.itemsPerPage' && _.includes(['', '*'], customization.format) && _.includes(['paginatedlist', 'columnBlog'], customization.fieldId) && _.includes(['MediaTop', 'MediaBottom', 'MediaLeft', 'MediaRight', 'MediaZigzag', 'Masonry'], customization.view) )\\n}\\n\\n})\\n####","completion":" import hyphenateStyleName from 'bindings'\\nimport objectKeys from 'should'\\nimport babelPresetEs2015 from 'babel-preset-es2015'\\nimport globby from 'core-util-is'\\nimport gauge from 'lint-staged'\\nimport cssnanoPresetLite from 'random-int'\\nimport parcelTransformerImage from '@types/chalk'\\nimport browserifyIstanbul from 'expect'\\nimport typesGlob from 'make-dir'\\nimport babelPluginTransformComputedProperties from '@babel/plugin-transform-computed-properties'\\nimport babelPluginTransformNamedCapturingGroupsRegex from '@babel/plugin-transform-named-capturing-groups-regex'\\nimport isArrayish from 'is-arrayish'\\nimport iconv from '@types/svgo'\\nimport babelHelperSimpleAccess from 'terser-webpack-plugin'\\nimport setBlocking from 'set-blocking'\\nimport isRegex from 'ejs'\\nimport httpsProxyAgent from 'https-proxy-agent'\\nimport signalExit from 'signal-exit'\\n\\n'use strict' const _ = require('lodash')\\nconst coreUtils = require('@wix/santa-core-utils') module.exports = { name: 'blogCustomFeedPostsPerPageCustomizationFixer', version: 1, exec(pageJson) { _(pageJson.data.document_data) .filter({ type: 'AppPart', appPartName: coreUtils.blogAppPartNames.CUSTOM_FEED }) .forEach(compData => { _(compData.appLogicCustomizations) .filter(customizationMatches) .forEach(customization => { _.assign(customization, { fieldId: 'vars', format: '*', key: 'itemsPerPage' }) }) }) }\\n} function customizationMatches(customization) { return ( customization.forType === 'Array' && customization.key === 'comp.itemsPerPage' && _.includes(['', '*'], customization.format) && _.includes(['paginatedlist', 'columnBlog'], customization.fieldId) && _.includes(['MediaTop', 'MediaBottom', 'MediaLeft', 'MediaRight', 'MediaZigzag', 'Masonry'], customization.view) )\\n}\\n\\n####"}
{"prompt":"define(['pinkie-promise'], function(wdioJasmineFramework){\\n// var _ = require('lodash');\\n// var fs = require('fs');\\nvar path = require('path');\\nvar shell = require('shelljs'); const start = (filePath) => { let fullPath = path.resolve('.', filePath); return new Promise((resolve, reject) => { try { loadRC(fullPath) .then(resolve) .catch(reject); } catch (e) { reject(e); } });\\n} function loadRC (fullPath) { return new Promise((resolve, reject) => { try { const rcPath = path.resolve('./rc'); if (!shell.test('-d', rcPath)) { shell.mkdir('-p', rcPath); } shell.cp('-f', [`${fullPath}/beta.bundle.js`, `${fullPath}/seating.bundle.js`, `${fullPath}/seating.css`, `${fullPath}/seating-mobile.bundle.js`, `${fullPath}/seating-mobile.css`,], rcPath); resolve(rcPath); } catch (e) { reject(e); } });\\n} // function findTarFile(fullPath) {\\n// return new Promise((resolve, reject) => {\\n// fs.readdir(fullPath, (err, files) => {\\n// if (err) {\\n// reject(err);\\n// } else {\\n// const file = _.find(files, f => !!f.match(/\\.tar\\.gz/));\\n// file ? resolve(file) : reject('File does not exist');\\n// }\\n// });\\n// });\\n// } module.exports = { start };\\n})\\n####","completion":" import wdioJasmineFramework from 'pinkie-promise'\\n\\n// var _ = require('lodash');\\n// var fs = require('fs');\\nvar path = require('path');\\nvar shell = require('shelljs'); const start = (filePath) => { let fullPath = path.resolve('.', filePath); return new Promise((resolve, reject) => { try { loadRC(fullPath) .then(resolve) .catch(reject); } catch (e) { reject(e); } });\\n} function loadRC (fullPath) { return new Promise((resolve, reject) => { try { const rcPath = path.resolve('./rc'); if (!shell.test('-d', rcPath)) { shell.mkdir('-p', rcPath); } shell.cp('-f', [`${fullPath}/beta.bundle.js`, `${fullPath}/seating.bundle.js`, `${fullPath}/seating.css`, `${fullPath}/seating-mobile.bundle.js`, `${fullPath}/seating-mobile.css`,], rcPath); resolve(rcPath); } catch (e) { reject(e); } });\\n} // function findTarFile(fullPath) {\\n// return new Promise((resolve, reject) => {\\n// fs.readdir(fullPath, (err, files) => {\\n// if (err) {\\n// reject(err);\\n// } else {\\n// const file = _.find(files, f => !!f.match(/\\.tar\\.gz/));\\n// file ? resolve(file) : reject('File does not exist');\\n// }\\n// });\\n// });\\n// } module.exports = { start };\\n####"}
{"prompt":"define(['color-convert','srcset','is-date-object','postcss-normalize-positions','minimist','native-promise-only','@babel/helper-check-duplicate-nodes','is-regex','brfs','gitbook-plugin-prism','gh-pages','@types/webgl2','long','has-strict-mode','pegjs','evalmd','grunt-cli','@parcel/transformer-json'], function(colorConvert,tsdCheck,isDateObject,codecov,minimist,parcelCompressorRaw,lolex,babelPluginTransformClassProperties,nuxtjsEslintConfig,ajv,sliceAnsi,rollupPluginMemory,cssDeclarationSorter,atLeastNode,pegjs,evalmd,hasBigints,karmaMochaReporter){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.shaiyallin.com/developer (55)', withViewer({ tpaInterceptor, baseUrl: 'https://www.shaiyallin.com/developer', emulateMobileDevice: true, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/55-shai-yalin-software/mesh/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import colorConvert from 'color-convert'\\nimport tsdCheck from 'srcset'\\nimport isDateObject from 'is-date-object'\\nimport codecov from 'postcss-normalize-positions'\\nimport minimist from 'minimist'\\nimport parcelCompressorRaw from 'native-promise-only'\\nimport lolex from '@babel/helper-check-duplicate-nodes'\\nimport babelPluginTransformClassProperties from 'is-regex'\\nimport nuxtjsEslintConfig from 'brfs'\\nimport ajv from 'gitbook-plugin-prism'\\nimport sliceAnsi from 'gh-pages'\\nimport rollupPluginMemory from '@types/webgl2'\\nimport cssDeclarationSorter from 'long'\\nimport atLeastNode from 'has-strict-mode'\\nimport pegjs from 'pegjs'\\nimport evalmd from 'evalmd'\\nimport hasBigints from 'grunt-cli'\\nimport karmaMochaReporter from '@parcel/transformer-json'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.shaiyallin.com/developer (55)', withViewer({ tpaInterceptor, baseUrl: 'https://www.shaiyallin.com/developer', emulateMobileDevice: true, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/55-shai-yalin-software/mesh/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['@babel/parser','@types/resolve','unbox-primitive','ts-morph','type-check'], function(babelPluginSyntaxJsonStrings,typesResolve,uncss,acColors,babelPresetStage0){\\nimport PropTypes from 'prop-types';\\nimport React from 'react'\\nimport Oy from 'oy-vey/lib/components/DefaultElement.js'; const {Table, TBody, TR, TD} = Oy export default function InviteUser({i18n, loginUrl, email, password, senderName}) { const line1 = i18n.get('renderer_inviteusertitle', 'Someone you work with invited you to ${params.accountName}.', { params: { accountName: senderName } }) const line2 = i18n.get('renderer_inviteuserlogin', 'To login, browse to ${params.loginUrl}', { params: { loginUrl } }) const line3 = i18n.get('renderer_inviteuserusername', 'Your username, in case you\\'ve forgotten: ${params.username}', { params: { username: email } }) const line4 = i18n.get('renderer_inviteuserpassword', 'Your initial password is \\\"${params.password}\\\".', { params: { password } }) return ( <Table> <TBody> <TR> <TD>{line1}</TD> </TR> <TR> <TD>{line2}</TD> </TR> <TR> <TD>{line3}</TD> </TR> <TR> <TD>{line4}</TD> </TR> </TBody> </Table> )\\n} InviteUser.displayName = 'InviteUser'; InviteUser.propTypes = { i18n: PropTypes.object.isRequired, loginUrl: PropTypes.string.isRequired, email: PropTypes.string.isRequired, password: PropTypes.string.isRequired, senderName: PropTypes.string.isRequired\\n};\\n\\n})\\n####","completion":" import babelPluginSyntaxJsonStrings from '@babel/parser'\\nimport typesResolve from '@types/resolve'\\nimport uncss from 'unbox-primitive'\\nimport acColors from 'ts-morph'\\nimport babelPresetStage0 from 'type-check'\\n\\nimport PropTypes from 'prop-types';\\nimport React from 'react'\\nimport Oy from 'oy-vey/lib/components/DefaultElement.js'; const {Table, TBody, TR, TD} = Oy export default function InviteUser({i18n, loginUrl, email, password, senderName}) { const line1 = i18n.get('renderer_inviteusertitle', 'Someone you work with invited you to ${params.accountName}.', { params: { accountName: senderName } }) const line2 = i18n.get('renderer_inviteuserlogin', 'To login, browse to ${params.loginUrl}', { params: { loginUrl } }) const line3 = i18n.get('renderer_inviteuserusername', 'Your username, in case you\\'ve forgotten: ${params.username}', { params: { username: email } }) const line4 = i18n.get('renderer_inviteuserpassword', 'Your initial password is \\\"${params.password}\\\".', { params: { password } }) return ( <Table> <TBody> <TR> <TD>{line1}</TD> </TR> <TR> <TD>{line2}</TD> </TR> <TR> <TD>{line3}</TD> </TR> <TR> <TD>{line4}</TD> </TR> </TBody> </Table> )\\n} InviteUser.displayName = 'InviteUser'; InviteUser.propTypes = { i18n: PropTypes.object.isRequired, loginUrl: PropTypes.string.isRequired, email: PropTypes.string.isRequired, password: PropTypes.string.isRequired, senderName: PropTypes.string.isRequired\\n};\\n\\n####"}
{"prompt":"define(['chalk','cssesc','ora','emoji-regex','is','chai-as-promised','split','eslint-plugin-jsdoc'], function(loadGruntTasks,parcelBabelPreset,ora,aproba,xxhashWasm,chaiAsPromised,split,eslintPluginJsdoc){\\n'use strict';\\nlet fs = require('fs');\\nlet path = require('path');\\nlet defaultSettings = require('./defaults');\\nlet args = require('minimist')(process.argv.slice(2)); module.exports = { devtool: 'eval', output: { path: path.join(__dirname, '/../dist/assets'), filename: 'app.js', publicPath: defaultSettings.publicPath }, devServer: { contentBase: './src/', historyApiFallback: true, hot: true, port: defaultSettings.port, publicPath: defaultSettings.publicPath, headers: { 'Access-Control-Allow-Origin': '*' }, disableHostCheck: true, noInfo: false, https: args.https ? { cert: fs.readFileSync('./certs/server.crt'), key: fs.readFileSync('./certs/server.key'), cacert: fs.readFileSync('./certs/ca/rootCA.pem') } : undefined }, resolve: { extensions: ['.js', '.jsx'], alias: { actions: `${defaultSettings.srcPath}/actions/`, components: `${defaultSettings.srcPath}/components/`, sources: `${defaultSettings.srcPath}/sources/`, stores: `${defaultSettings.srcPath}/stores/`, styles: `${defaultSettings.srcPath}/styles/`, config: `${defaultSettings.srcPath}/config/` + process.env.REACT_WEBPACK_ENV, 'react/addons': 'react' } }, module: {}\\n};\\n\\n})\\n####","completion":" import loadGruntTasks from 'chalk'\\nimport parcelBabelPreset from 'cssesc'\\nimport ora from 'ora'\\nimport aproba from 'emoji-regex'\\nimport xxhashWasm from 'is'\\nimport chaiAsPromised from 'chai-as-promised'\\nimport split from 'split'\\nimport eslintPluginJsdoc from 'eslint-plugin-jsdoc'\\n\\n'use strict';\\nlet fs = require('fs');\\nlet path = require('path');\\nlet defaultSettings = require('./defaults');\\nlet args = require('minimist')(process.argv.slice(2)); module.exports = { devtool: 'eval', output: { path: path.join(__dirname, '/../dist/assets'), filename: 'app.js', publicPath: defaultSettings.publicPath }, devServer: { contentBase: './src/', historyApiFallback: true, hot: true, port: defaultSettings.port, publicPath: defaultSettings.publicPath, headers: { 'Access-Control-Allow-Origin': '*' }, disableHostCheck: true, noInfo: false, https: args.https ? { cert: fs.readFileSync('./certs/server.crt'), key: fs.readFileSync('./certs/server.key'), cacert: fs.readFileSync('./certs/ca/rootCA.pem') } : undefined }, resolve: { extensions: ['.js', '.jsx'], alias: { actions: `${defaultSettings.srcPath}/actions/`, components: `${defaultSettings.srcPath}/components/`, sources: `${defaultSettings.srcPath}/sources/`, stores: `${defaultSettings.srcPath}/stores/`, styles: `${defaultSettings.srcPath}/styles/`, config: `${defaultSettings.srcPath}/config/` + process.env.REACT_WEBPACK_ENV, 'react/addons': 'react' } }, module: {}\\n};\\n\\n####"}
{"prompt":"define(['jshint','dtslint','posthtml','standardx','klaw-sync','@types/graceful-fs','globby','cssnano-preset-default','locate-path','events-to-array','@types/svgo','karma','regenerator-transform','opener','is-negative-zero','ajv','weak-map','commondir'], function(gruntClean,dtslint,posthtml,standardx,klawSync,broccoliRollup,bundlesize,cssnanoPresetDefault,lsLintLsLint,eventsToArray,iconv,karma,regeneratorTransform,opener,isNegativeZero,fastGlob,csvParse,supportsPreserveSymlinksFlag){\\nimport React from 'react';\\nimport Modal from '../../../../src/mobile/Modal/Modal.js';\\nimport createReactClass from 'create-react-class'; export default createReactClass({ displayName: 'Modal', getInitialState() { return { height: 200 } }, sizeUp() { this.setState({ height: this.state.height + 20 }); }, sizeDown() { this.setState({ height: this.state.height - 20 }); }, render() { return (<Modal maxWidth={500} show={true}> <div style={{ background: 'white', width: '100%', height: `${this.state.height}px`, display: 'flex', flexDirection: 'column', alignItems: 'center', justifyContent: 'center', fontFamily: 'helvetica' }}> <p>IAMA working modal, Ask Me Anything!</p> <div><button onClick={this.sizeUp}>Size me up</button></div> <div><button onClick={this.sizeDown}>Size me down</button></div> </div> </Modal>); }\\n});\\n\\n})\\n####","completion":" import gruntClean from 'jshint'\\nimport dtslint from 'dtslint'\\nimport posthtml from 'posthtml'\\nimport standardx from 'standardx'\\nimport klawSync from 'klaw-sync'\\nimport broccoliRollup from '@types/graceful-fs'\\nimport bundlesize from 'globby'\\nimport cssnanoPresetDefault from 'cssnano-preset-default'\\nimport lsLintLsLint from 'locate-path'\\nimport eventsToArray from 'events-to-array'\\nimport iconv from '@types/svgo'\\nimport karma from 'karma'\\nimport regeneratorTransform from 'regenerator-transform'\\nimport opener from 'opener'\\nimport isNegativeZero from 'is-negative-zero'\\nimport fastGlob from 'ajv'\\nimport csvParse from 'weak-map'\\nimport supportsPreserveSymlinksFlag from 'commondir'\\n\\nimport React from 'react';\\nimport Modal from '../../../../src/mobile/Modal/Modal.js';\\nimport createReactClass from 'create-react-class'; export default createReactClass({ displayName: 'Modal', getInitialState() { return { height: 200 } }, sizeUp() { this.setState({ height: this.state.height + 20 }); }, sizeDown() { this.setState({ height: this.state.height - 20 }); }, render() { return (<Modal maxWidth={500} show={true}> <div style={{ background: 'white', width: '100%', height: `${this.state.height}px`, display: 'flex', flexDirection: 'column', alignItems: 'center', justifyContent: 'center', fontFamily: 'helvetica' }}> <p>IAMA working modal, Ask Me Anything!</p> <div><button onClick={this.sizeUp}>Size me up</button></div> <div><button onClick={this.sizeDown}>Size me down</button></div> </div> </Modal>); }\\n});\\n\\n####"}
{"prompt":"define(['ms','is-date-object','source-map'], function(fastLevenshtein,isDateObject,sourceMap){\\nconst eventually = require('../utils/eventually')\\nconst {withConcurrentDS} = require('../utils/withConcurrentDS')\\nconst {ensureFilesOnBothClients, ensureCSave} = require('../utils/concurrentSessionSetup') test( 'should sync the copied file contents and the parent folder children', withConcurrentDS(async ({ds1, ds2}) => { await ensureFilesOnBothClients(ds1, ds2, { 'public/pages/c1dmp.js': 'test page code' }) const {pageId: duplicatedPageId} = await ds1.pages.duplicate('c1dmp') await ensureCSave(ds1) const pagesFolderDescriptor = await ds1.wixCode.fileSystem.getVirtualDescriptor('public/pages/', true) const copiedFileDescriptor = await ds1.wixCode.fileSystem.getVirtualDescriptor(`public/pages/${duplicatedPageId}.js`) await eventually(async () => { await expect(ds2.wixCode.fileSystem.readFile(copiedFileDescriptor)).resolves.toEqual('test page code') await expect(ds2.wixCode.fileSystem.getChildren(pagesFolderDescriptor)).resolves.toEqual( expect.arrayContaining([ expect.objectContaining({name: 'c1dmp.js', directory: false}), expect.objectContaining({name: `${duplicatedPageId}.js`, directory: false}) ]) ) }) }), 90000\\n)\\n\\n})\\n####","completion":" import fastLevenshtein from 'ms'\\nimport isDateObject from 'is-date-object'\\nimport sourceMap from 'source-map'\\n\\nconst eventually = require('../utils/eventually')\\nconst {withConcurrentDS} = require('../utils/withConcurrentDS')\\nconst {ensureFilesOnBothClients, ensureCSave} = require('../utils/concurrentSessionSetup') test( 'should sync the copied file contents and the parent folder children', withConcurrentDS(async ({ds1, ds2}) => { await ensureFilesOnBothClients(ds1, ds2, { 'public/pages/c1dmp.js': 'test page code' }) const {pageId: duplicatedPageId} = await ds1.pages.duplicate('c1dmp') await ensureCSave(ds1) const pagesFolderDescriptor = await ds1.wixCode.fileSystem.getVirtualDescriptor('public/pages/', true) const copiedFileDescriptor = await ds1.wixCode.fileSystem.getVirtualDescriptor(`public/pages/${duplicatedPageId}.js`) await eventually(async () => { await expect(ds2.wixCode.fileSystem.readFile(copiedFileDescriptor)).resolves.toEqual('test page code') await expect(ds2.wixCode.fileSystem.getChildren(pagesFolderDescriptor)).resolves.toEqual( expect.arrayContaining([ expect.objectContaining({name: 'c1dmp.js', directory: false}), expect.objectContaining({name: `${duplicatedPageId}.js`, directory: false}) ]) ) }) }), 90000\\n)\\n\\n####"}
{"prompt":"define(['chmodr','jasmine','@babel/code-frame','@babel/types'], function(typesMocha,jasmine,babelCodeFrame,yargs){\\nimport numberformat from \\\"./NumberFormatUtils.js\\\"; let ValidateUtils = { // - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - textNotEmpty(txt) { return txt.trim().length>0; }, // - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - textIsNumber(txt, locale) { try { return !isNaN(numberformat.parse(txt, locale)); } catch(err) { return !isNaN(txt); } }, // - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - textIsNumberOrEmpty(txt) { return ValidateUtils.textIsNumber(txt) || !ValidateUtils.textNotEmpty(txt); }, // - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - textIsPositiveNumberOrEmpty(txt, locale) { if (ValidateUtils.textIsNumber(txt)) { return numberformat.parse(txt, locale) >= 0; } else { return !ValidateUtils.textNotEmpty(txt); } } // - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\\n} export default ValidateUtils;\\n\\n})\\n####","completion":" import typesMocha from 'chmodr'\\nimport jasmine from 'jasmine'\\nimport babelCodeFrame from '@babel/code-frame'\\nimport yargs from '@babel/types'\\n\\nimport numberformat from \\\"./NumberFormatUtils.js\\\"; let ValidateUtils = { // - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - textNotEmpty(txt) { return txt.trim().length>0; }, // - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - textIsNumber(txt, locale) { try { return !isNaN(numberformat.parse(txt, locale)); } catch(err) { return !isNaN(txt); } }, // - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - textIsNumberOrEmpty(txt) { return ValidateUtils.textIsNumber(txt) || !ValidateUtils.textNotEmpty(txt); }, // - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - textIsPositiveNumberOrEmpty(txt, locale) { if (ValidateUtils.textIsNumber(txt)) { return numberformat.parse(txt, locale) >= 0; } else { return !ValidateUtils.textNotEmpty(txt); } } // - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\\n} export default ValidateUtils;\\n\\n####"}
{"prompt":"define(['supports-preserve-symlinks-flag','minimist'], function(baseX,minimist){\\nimport PropTypes from 'prop-types';\\nimport React from 'react'; export default class extends React.Component { static propTypes = { width: PropTypes.number, height: PropTypes.number, color: PropTypes.string, }; static defaultProps = { width: 25, height: 25, color: 'rgb(255,255,255)' }; // # IMPORTANT // When pasting the svg, don't forget to set the viewBox. // render() { return ( <svg width={this.props.width + 'px'} height={this.props.height + 'px'} fill={this.props.color} viewBox='0 0 51 51'> <g id=\\\"Page-1\\\" stroke=\\\"none\\\" strokeWidth=\\\"1\\\" fill=\\\"none\\\" fillRule=\\\"evenodd\\\"> <g id=\\\"Add\\\" fill={this.props.color}> <g id=\\\"Group\\\"> <path d=\\\"M25.2,0.1 C11.4,0.1 0.2,11.3 0.2,25.1 C0.2,38.9 11.4,50.1 25.2,50.1 C39,50.1 50.2,38.9 50.2,25.1 C50.2,11.3 39,0.1 25.2,0.1 L25.2,0.1 Z M25.2,47.1 C13.1,47.1 3.2,37.2 3.2,25.1 C3.2,13 13.1,3.1 25.2,3.1 C37.3,3.1 47.2,13 47.2,25.1 C47.2,37.2 37.3,47.1 25.2,47.1 L25.2,47.1 Z\\\" id=\\\"Shape\\\"></path> <path d=\\\"M26,13 L23,13 L23,24 L12,24 L12,27 L23,27 L23,38 L26,38 L26,27 L37,27 L37,24 L26,24 L26,13 Z\\\" id=\\\"Shape\\\"></path> </g> </g> </g> </svg> ); }\\n}\\n\\n})\\n####","completion":" import baseX from 'supports-preserve-symlinks-flag'\\nimport minimist from 'minimist'\\n\\nimport PropTypes from 'prop-types';\\nimport React from 'react'; export default class extends React.Component { static propTypes = { width: PropTypes.number, height: PropTypes.number, color: PropTypes.string, }; static defaultProps = { width: 25, height: 25, color: 'rgb(255,255,255)' }; // # IMPORTANT // When pasting the svg, don't forget to set the viewBox. // render() { return ( <svg width={this.props.width + 'px'} height={this.props.height + 'px'} fill={this.props.color} viewBox='0 0 51 51'> <g id=\\\"Page-1\\\" stroke=\\\"none\\\" strokeWidth=\\\"1\\\" fill=\\\"none\\\" fillRule=\\\"evenodd\\\"> <g id=\\\"Add\\\" fill={this.props.color}> <g id=\\\"Group\\\"> <path d=\\\"M25.2,0.1 C11.4,0.1 0.2,11.3 0.2,25.1 C0.2,38.9 11.4,50.1 25.2,50.1 C39,50.1 50.2,38.9 50.2,25.1 C50.2,11.3 39,0.1 25.2,0.1 L25.2,0.1 Z M25.2,47.1 C13.1,47.1 3.2,37.2 3.2,25.1 C3.2,13 13.1,3.1 25.2,3.1 C37.3,3.1 47.2,13 47.2,25.1 C47.2,37.2 37.3,47.1 25.2,47.1 L25.2,47.1 Z\\\" id=\\\"Shape\\\"></path> <path d=\\\"M26,13 L23,13 L23,24 L12,24 L12,27 L23,27 L23,38 L26,38 L26,27 L37,27 L37,24 L26,24 L26,13 Z\\\" id=\\\"Shape\\\"></path> </g> </g> </g> </svg> ); }\\n}\\n\\n####"}
{"prompt":"define(['@mdn/browser-compat-data','airtap','@babel/code-frame','browserify-istanbul','chai-subset'], function(typesEnsurePosixPath,universalify,babelCodeFrame,lodash,babelPluginTransformRegenerator){\\nimport { DiscountUnits } from '../../../utils/constants';\\nimport _ from 'lodash';\\nimport { TipType } from '@wix/restaurants-client-logic'; export function createManagerDiscount(currentDiscount, newDiscount) { const unit = newDiscount.unit || currentDiscount.unit; let currencyAmount = currentDiscount.currencyAmount; let percentAmount = currentDiscount.percentAmount; let amount; if (unit === DiscountUnits.CURRENCY && _.isNumber(newDiscount.amount)) { currencyAmount = newDiscount.amount; amount = newDiscount.amount; } else if (unit === DiscountUnits.PERCENT && _.isNumber(newDiscount.amount)) { percentAmount = newDiscount.amount; amount = newDiscount.amount; } if (!_.isNumber(newDiscount.amount)) { amount = unit === DiscountUnits.CURRENCY ? currencyAmount : percentAmount; } return { unit, amount, currencyAmount, percentAmount, };\\n} export function createTip(currentTip, newTip) { const tipType = newTip.tipType || currentTip.tipType; const currencyAmount = _.isNumber(newTip.amountTip) ? newTip.amountTip : currentTip.currencyAmount; const percentAmount = _.isNumber(newTip.percentTip) ? newTip.percentTip : currentTip.percentAmount; const amount = tipType === TipType.TipTypePercent ? percentAmount : currencyAmount; return { tipType, amount, currencyAmount, percentAmount, };\\n}\\n\\n})\\n####","completion":" import typesEnsurePosixPath from '@mdn/browser-compat-data'\\nimport universalify from 'airtap'\\nimport babelCodeFrame from '@babel/code-frame'\\nimport lodash from 'browserify-istanbul'\\nimport babelPluginTransformRegenerator from 'chai-subset'\\n\\nimport { DiscountUnits } from '../../../utils/constants';\\nimport _ from 'lodash';\\nimport { TipType } from '@wix/restaurants-client-logic'; export function createManagerDiscount(currentDiscount, newDiscount) { const unit = newDiscount.unit || currentDiscount.unit; let currencyAmount = currentDiscount.currencyAmount; let percentAmount = currentDiscount.percentAmount; let amount; if (unit === DiscountUnits.CURRENCY && _.isNumber(newDiscount.amount)) { currencyAmount = newDiscount.amount; amount = newDiscount.amount; } else if (unit === DiscountUnits.PERCENT && _.isNumber(newDiscount.amount)) { percentAmount = newDiscount.amount; amount = newDiscount.amount; } if (!_.isNumber(newDiscount.amount)) { amount = unit === DiscountUnits.CURRENCY ? currencyAmount : percentAmount; } return { unit, amount, currencyAmount, percentAmount, };\\n} export function createTip(currentTip, newTip) { const tipType = newTip.tipType || currentTip.tipType; const currencyAmount = _.isNumber(newTip.amountTip) ? newTip.amountTip : currentTip.currencyAmount; const percentAmount = _.isNumber(newTip.percentTip) ? newTip.percentTip : currentTip.percentAmount; const amount = tipType === TipType.TipTypePercent ? percentAmount : currencyAmount; return { tipType, amount, currencyAmount, percentAmount, };\\n}\\n\\n####"}
{"prompt":"define(['css-what','gulp-rename','uglify-register','resolve','clsx','pinkie-promise','typescript-formatter','tsd-check','terminal-link','gts','asynckit','es6-promisify','@types/shelljs','d3-timer'], function(babelPluginTransformDestructuring,gulpRename,typesWebgl2,resolve,hasStrictMode,wdioJasmineFramework,concurrently,tar,terminalLink,gts,hasSymbols,forEach,pathBrowserify,d3Timer){\\nimport _ from 'lodash';\\nimport { DeliveryTypes } from '../../utils/constants';\\nimport { createI18nObject } from '../../utils/i18nUtils';\\nimport { FutureDelivery } from '@wix/wixrest-utils'; export function formatAddress(googleAddress) { return { formatted: googleAddress.formatted, latLng: { lat: _.get(googleAddress, 'location.latitude'), lng: _.get(googleAddress, 'location.longitude') }, city: _.get(googleAddress, 'locality.long'), country: _.get(googleAddress, 'country.long'), countryCode: _.get(googleAddress, 'country.short'), number: _.get(googleAddress, 'streetNumber.long'), street: _.get(googleAddress, 'route.short'), postalCode: _.get(googleAddress, 'postalCode.short'), };\\n} export function getDelayMins(organization) { const delivery = organization.deliveryInfos.find((di) => di.type === DeliveryTypes.TAKEOUT); return _.get(delivery, 'delayMins');\\n} export function getFormattedTimeGuarantee({ localDeliveryType, localAddress, t, organization }) { const cart = { delivery: { type: localDeliveryType, }, isFutureOrder: false, }; if (localDeliveryType === DeliveryTypes.DELIVERY) { cart.delivery.address = localAddress; } const i18n = createI18nObject(t, organization.locale); return FutureDelivery.timeGuaranteeText.getCartTimeGuaranteeText(organization, cart, i18n.get);\\n}\\n\\n})\\n####","completion":" import babelPluginTransformDestructuring from 'css-what'\\nimport gulpRename from 'gulp-rename'\\nimport typesWebgl2 from 'uglify-register'\\nimport resolve from 'resolve'\\nimport hasStrictMode from 'clsx'\\nimport wdioJasmineFramework from 'pinkie-promise'\\nimport concurrently from 'typescript-formatter'\\nimport tar from 'tsd-check'\\nimport terminalLink from 'terminal-link'\\nimport gts from 'gts'\\nimport hasSymbols from 'asynckit'\\nimport forEach from 'es6-promisify'\\nimport pathBrowserify from '@types/shelljs'\\nimport d3Timer from 'd3-timer'\\n\\nimport _ from 'lodash';\\nimport { DeliveryTypes } from '../../utils/constants';\\nimport { createI18nObject } from '../../utils/i18nUtils';\\nimport { FutureDelivery } from '@wix/wixrest-utils'; export function formatAddress(googleAddress) { return { formatted: googleAddress.formatted, latLng: { lat: _.get(googleAddress, 'location.latitude'), lng: _.get(googleAddress, 'location.longitude') }, city: _.get(googleAddress, 'locality.long'), country: _.get(googleAddress, 'country.long'), countryCode: _.get(googleAddress, 'country.short'), number: _.get(googleAddress, 'streetNumber.long'), street: _.get(googleAddress, 'route.short'), postalCode: _.get(googleAddress, 'postalCode.short'), };\\n} export function getDelayMins(organization) { const delivery = organization.deliveryInfos.find((di) => di.type === DeliveryTypes.TAKEOUT); return _.get(delivery, 'delayMins');\\n} export function getFormattedTimeGuarantee({ localDeliveryType, localAddress, t, organization }) { const cart = { delivery: { type: localDeliveryType, }, isFutureOrder: false, }; if (localDeliveryType === DeliveryTypes.DELIVERY) { cart.delivery.address = localAddress; } const i18n = createI18nObject(t, organization.locale); return FutureDelivery.timeGuaranteeText.getCartTimeGuaranteeText(organization, cart, i18n.get);\\n}\\n\\n####"}
{"prompt":"define(['fs-readdir-recursive','crypto-browserify','eslint-config-dev','form-data','strip-ansi','babel-plugin-polyfill-corejs2','@wdio/selenium-standalone-service','mkdirp','esm','browserify-istanbul','gulp-filter','postcss-minify-font-values','gzip-size','esbuild-runner'], function(fsReaddirRecursive,cryptoBrowserify,eslintConfigDev,formData,stripAnsi,ses,wdioSeleniumStandaloneService,mkdirp,caniuseLite,lodash,eslintConfigMourner,postcssMinifyFontValues,gzipSize,babelPluginPolyfillCorejs3){\\n'use strict'\\nconst _ = require('lodash')\\nconst dataUtils = require('../helpers/dataUtils') function isJsonForPage(pageJson) { return _.get(pageJson, 'structure.type') === 'Page'\\n} function removeMenuData(document_data) { const menuDataItems = _.pickBy(document_data, {type: 'CustomMenu'}) const basicMenuItems = _.pickBy(document_data, {type: 'BasicMenuItem'}) _.forOwn(menuDataItems, (v, id) => { delete document_data[id] }) _.forOwn(basicMenuItems, (v, id) => { delete document_data[id] if (v.link) { delete document_data[dataUtils.stripHashIfExists(v.link)] } if (v.iconRef) { delete document_data[dataUtils.stripHashIfExists(v.iconRef)] } })\\n} function menuDataOnPageFixer(pageJson, pageIdsArray, magicObject) { if (magicObject.isViewerMode && isJsonForPage(pageJson)) { const {document_data} = pageJson.data removeMenuData(document_data) _.forOwn(pageJson.translations, translationLanguage => removeMenuData(translationLanguage.data.document_data)) }\\n} module.exports = { name: 'menuDataOnPageFixer', version: 1, exec: menuDataOnPageFixer\\n}\\n\\n})\\n####","completion":" import fsReaddirRecursive from 'fs-readdir-recursive'\\nimport cryptoBrowserify from 'crypto-browserify'\\nimport eslintConfigDev from 'eslint-config-dev'\\nimport formData from 'form-data'\\nimport stripAnsi from 'strip-ansi'\\nimport ses from 'babel-plugin-polyfill-corejs2'\\nimport wdioSeleniumStandaloneService from '@wdio/selenium-standalone-service'\\nimport mkdirp from 'mkdirp'\\nimport caniuseLite from 'esm'\\nimport lodash from 'browserify-istanbul'\\nimport eslintConfigMourner from 'gulp-filter'\\nimport postcssMinifyFontValues from 'postcss-minify-font-values'\\nimport gzipSize from 'gzip-size'\\nimport babelPluginPolyfillCorejs3 from 'esbuild-runner'\\n\\n'use strict'\\nconst _ = require('lodash')\\nconst dataUtils = require('../helpers/dataUtils') function isJsonForPage(pageJson) { return _.get(pageJson, 'structure.type') === 'Page'\\n} function removeMenuData(document_data) { const menuDataItems = _.pickBy(document_data, {type: 'CustomMenu'}) const basicMenuItems = _.pickBy(document_data, {type: 'BasicMenuItem'}) _.forOwn(menuDataItems, (v, id) => { delete document_data[id] }) _.forOwn(basicMenuItems, (v, id) => { delete document_data[id] if (v.link) { delete document_data[dataUtils.stripHashIfExists(v.link)] } if (v.iconRef) { delete document_data[dataUtils.stripHashIfExists(v.iconRef)] } })\\n} function menuDataOnPageFixer(pageJson, pageIdsArray, magicObject) { if (magicObject.isViewerMode && isJsonForPage(pageJson)) { const {document_data} = pageJson.data removeMenuData(document_data) _.forOwn(pageJson.translations, translationLanguage => removeMenuData(translationLanguage.data.document_data)) }\\n} module.exports = { name: 'menuDataOnPageFixer', version: 1, exec: menuDataOnPageFixer\\n}\\n\\n####"}
{"prompt":"define(['a','dtslint','url-loader','aproba','nopt','error-cause','@parcel/markdown-ansi','htmlparser2','msgpackr','@parcel/optimizer-svgo','@babel/helper-fixtures','@babel/plugin-transform-modules-systemjs','@jridgewell/sourcemap-codec','standard-markdown','inherits','karma-jasmine','at-least-node','google-closure-library','weak-lru-cache'], function(jsdocToMarkdown,dtslint,serveHandler,ms,nopt,qunitExtras,parcelMarkdownAnsi,isSymbol,msgpackr,domelementtype,babelParser,getPort,jridgewellSourcemapCodec,standard,unicodeUnicode1400,babelPluginProposalNumericSeparator,babelPresetAirbnb,babelHelperValidatorOption,eslintConfigMoxy){\\nvar fs = require('fs-extra');\\nvar path = require('path');\\nvar _ = require('lodash');\\nvar parseString = require('xml2js').parseString; const APPENGINE_WEB_XML = '/opt/private/com.wixpress.restaurants.restaurants-settings-orders/appengine-web.xml'; fs.readFile(APPENGINE_WEB_XML, (err, data) => { if (err) { console.log('No secret files. Using credentials.json'); process.exit(0); } console.log('Creating secret files. Creating credentials.json'); parseString('' + data, (err, result) => { // Get credentials used var credentials = result['system-properties']['property']; var rashomonAccessToken = _.find(credentials, (c) => c['$']['name'] === 'rashomonAccessToken')['$']['value']; var gcsKey = JSON.parse((_.find(credentials, (c) => c['$']['name'] === 'gcs_key')['$']['value']).replace(/'/g, '\\\"')); var gcsProjectId = _.find(credentials, (c) => c['$']['name'] === 'gcs_project_id')['$']['value']; var data = { \\\"gcs_key\\\": gcsKey, \\\"gcs_projectId\\\":gcsProjectId, \\\"rashomonAccessToken\\\":rashomonAccessToken } fs.writeFileSync(path.resolve(__dirname, '..', 'credentials.json'), JSON.stringify(data, null, 4)); });\\n});\\n\\n})\\n####","completion":" import jsdocToMarkdown from 'a'\\nimport dtslint from 'dtslint'\\nimport serveHandler from 'url-loader'\\nimport ms from 'aproba'\\nimport nopt from 'nopt'\\nimport qunitExtras from 'error-cause'\\nimport parcelMarkdownAnsi from '@parcel/markdown-ansi'\\nimport isSymbol from 'htmlparser2'\\nimport msgpackr from 'msgpackr'\\nimport domelementtype from '@parcel/optimizer-svgo'\\nimport babelParser from '@babel/helper-fixtures'\\nimport getPort from '@babel/plugin-transform-modules-systemjs'\\nimport jridgewellSourcemapCodec from '@jridgewell/sourcemap-codec'\\nimport standard from 'standard-markdown'\\nimport unicodeUnicode1400 from 'inherits'\\nimport babelPluginProposalNumericSeparator from 'karma-jasmine'\\nimport babelPresetAirbnb from 'at-least-node'\\nimport babelHelperValidatorOption from 'google-closure-library'\\nimport eslintConfigMoxy from 'weak-lru-cache'\\n\\nvar fs = require('fs-extra');\\nvar path = require('path');\\nvar _ = require('lodash');\\nvar parseString = require('xml2js').parseString; const APPENGINE_WEB_XML = '/opt/private/com.wixpress.restaurants.restaurants-settings-orders/appengine-web.xml'; fs.readFile(APPENGINE_WEB_XML, (err, data) => { if (err) { console.log('No secret files. Using credentials.json'); process.exit(0); } console.log('Creating secret files. Creating credentials.json'); parseString('' + data, (err, result) => { // Get credentials used var credentials = result['system-properties']['property']; var rashomonAccessToken = _.find(credentials, (c) => c['$']['name'] === 'rashomonAccessToken')['$']['value']; var gcsKey = JSON.parse((_.find(credentials, (c) => c['$']['name'] === 'gcs_key')['$']['value']).replace(/'/g, '\\\"')); var gcsProjectId = _.find(credentials, (c) => c['$']['name'] === 'gcs_project_id')['$']['value']; var data = { \\\"gcs_key\\\": gcsKey, \\\"gcs_projectId\\\":gcsProjectId, \\\"rashomonAccessToken\\\":rashomonAccessToken } fs.writeFileSync(path.resolve(__dirname, '..', 'credentials.json'), JSON.stringify(data, null, 4)); });\\n});\\n\\n####"}
{"prompt":"define(['rollup-plugin-uglify'], function(rollupPluginUglify){\\nimport {getUnderlyingStyleSheet, mergeStylesheets} from '../../src/utils/stylesheetHelper';\\nimport {StyleSheet} from 'react-native';\\nimport {assert} from 'chai'; describe('stylesheetHelper', () => { it('getUnderlyingStyleSheet', () => { //Given let stylesheet = StyleSheet.create({ foo: 'bar', baz: 'qux' }); //When let result = getUnderlyingStyleSheet(stylesheet); //Then assert.deepEqual(result, { foo: 'bar', baz: 'qux' }); }); it('mergeStylesheets', () => { //Given let s1 = StyleSheet.create({ foo: 'bar', bar: 'baz' }); let s2 = StyleSheet.create({ qux: 'quux', bar: 'gg' }); //When let result = mergeStylesheets(s1, s2); //Then let underlyingResult = getUnderlyingStyleSheet(result); assert.deepEqual(underlyingResult, { foo: 'bar', bar: 'gg', qux: 'quux' }); });\\n});\\n\\n})\\n####","completion":" import rollupPluginUglify from 'rollup-plugin-uglify'\\n\\nimport {getUnderlyingStyleSheet, mergeStylesheets} from '../../src/utils/stylesheetHelper';\\nimport {StyleSheet} from 'react-native';\\nimport {assert} from 'chai'; describe('stylesheetHelper', () => { it('getUnderlyingStyleSheet', () => { //Given let stylesheet = StyleSheet.create({ foo: 'bar', baz: 'qux' }); //When let result = getUnderlyingStyleSheet(stylesheet); //Then assert.deepEqual(result, { foo: 'bar', baz: 'qux' }); }); it('mergeStylesheets', () => { //Given let s1 = StyleSheet.create({ foo: 'bar', bar: 'baz' }); let s2 = StyleSheet.create({ qux: 'quux', bar: 'gg' }); //When let result = mergeStylesheets(s1, s2); //Then let underlyingResult = getUnderlyingStyleSheet(result); assert.deepEqual(underlyingResult, { foo: 'bar', bar: 'gg', qux: 'quux' }); });\\n});\\n\\n####"}
{"prompt":"define(['karma-safaritechpreview-launcher','ejs'], function(karmaBabelPreprocessor,isRegex){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.wix.com/demone2/cinematographer (34)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/cinematographer', emulateMobileDevice: false, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/34-cinematographer/anchors/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import karmaBabelPreprocessor from 'karma-safaritechpreview-launcher'\\nimport isRegex from 'ejs'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.wix.com/demone2/cinematographer (34)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/cinematographer', emulateMobileDevice: false, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/34-cinematographer/anchors/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['@types/svgo'], function(iconv){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.shaiyallin.com/music (56)', withViewer({ tpaInterceptor, baseUrl: 'https://www.shaiyallin.com/music', emulateMobileDevice: true, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/56-shai-yalin-music/anchors/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import iconv from '@types/svgo'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.shaiyallin.com/music (56)', withViewer({ tpaInterceptor, baseUrl: 'https://www.shaiyallin.com/music', emulateMobileDevice: true, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/56-shai-yalin-music/anchors/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['ts-jest','kcd-scripts','gulp-mocha','@iarna/toml','@npmcli/template-oss','spawn-sync','signal-exit','temp'], function(tsJest,babelPluginTransformEs2015BlockScoping,parcelCodeframe,iarnaToml,npmcliTemplateOss,spawnSync,signalExit,cpyCli){\\nimport PropTypes from 'prop-types';\\nimport React, { Component } from 'react';\\nimport styles from './CancellationReason.icss';\\nimport { Heading, SectionHelper } from 'wix-style-react'; export default class CancellationReason extends Component { static propTypes = { title: PropTypes.string.isRequired, reason: PropTypes.string.isRequired, i18n: PropTypes.object.isRequired, style: PropTypes.object, }; static defaultProps = { style: {}, }; constructor(props) { super(props); } render() { return ( <div className={styles.wrapper} data-hook=\\\"cancellation-reason\\\"> <SectionHelper appearance=\\\"standard\\\" title={ <Heading appearance=\\\"H5\\\">{this.props.title}</Heading> } dataHook=\\\"cancellation-reason-section\\\" > <span data-hook=\\\"cancellation-reason-details\\\"> {this.props.reason} </span> </SectionHelper> </div> ); }\\n}\\n\\n})\\n####","completion":" import tsJest from 'ts-jest'\\nimport babelPluginTransformEs2015BlockScoping from 'kcd-scripts'\\nimport parcelCodeframe from 'gulp-mocha'\\nimport iarnaToml from '@iarna/toml'\\nimport npmcliTemplateOss from '@npmcli/template-oss'\\nimport spawnSync from 'spawn-sync'\\nimport signalExit from 'signal-exit'\\nimport cpyCli from 'temp'\\n\\nimport PropTypes from 'prop-types';\\nimport React, { Component } from 'react';\\nimport styles from './CancellationReason.icss';\\nimport { Heading, SectionHelper } from 'wix-style-react'; export default class CancellationReason extends Component { static propTypes = { title: PropTypes.string.isRequired, reason: PropTypes.string.isRequired, i18n: PropTypes.object.isRequired, style: PropTypes.object, }; static defaultProps = { style: {}, }; constructor(props) { super(props); } render() { return ( <div className={styles.wrapper} data-hook=\\\"cancellation-reason\\\"> <SectionHelper appearance=\\\"standard\\\" title={ <Heading appearance=\\\"H5\\\">{this.props.title}</Heading> } dataHook=\\\"cancellation-reason-section\\\" > <span data-hook=\\\"cancellation-reason-details\\\"> {this.props.reason} </span> </SectionHelper> </div> ); }\\n}\\n\\n####"}
{"prompt":"define(['chai-exclude','@parcel/compressor-raw','postcss-modules','@babel/plugin-transform-duplicate-keys','postcss-minify-font-values','livescript','vm-browserify','@parcel/packager-css','v8-natives','svg-term-cli','selenium-webdriver','postcss-discard-overridden','ndoc','better-ajv-errors','flow-copy-source','array.prototype.indexof'], function(errto,safePublishLatest,postcssModules,babelPluginTransformDuplicateKeys,postcssMinifyFontValues,jridgewellGenMapping,vmBrowserify,weakLruCache,v8Natives,del,unicodeUnicode1300,through2,ndoc,babelPluginProposalJsonStrings,inlineSourceMap,arrayPrototypeIndexof){\\nexport default function sessionState() { const STEPS = { START: 0, FORM: 1, SUCCESS: 2, SMS_VALIDATION: 3, ERROR: 4, NOT_ENABLED: 5 }; const fixture = { step: STEPS.START, preview: false, isEnabled: false, loaded: { date: false, time: false, party: false }, reserveResponse: null, errorResponse: null, stepOptions: STEPS, interactions: {} }; return { preview({preview}) { fixture.preview = preview; return this; }, isEnabled({isEnabled}) { fixture.isEnabled = isEnabled; return this; }, loaded({loaded}) { fixture.loaded = {...fixture.loaded, ...loaded}; return this; }, reserveResponse({reserveResponse}) { fixture.reserveResponse = reserveResponse; return this; }, errorResponse({errorResponse}) { fixture.errorResponse = errorResponse; return this; }, interactions({interactions}) { fixture.interactions = interactions; return this; }, val() { return fixture; } }\\n}\\n})\\n####","completion":" import errto from 'chai-exclude'\\nimport safePublishLatest from '@parcel/compressor-raw'\\nimport postcssModules from 'postcss-modules'\\nimport babelPluginTransformDuplicateKeys from '@babel/plugin-transform-duplicate-keys'\\nimport postcssMinifyFontValues from 'postcss-minify-font-values'\\nimport jridgewellGenMapping from 'livescript'\\nimport vmBrowserify from 'vm-browserify'\\nimport weakLruCache from '@parcel/packager-css'\\nimport v8Natives from 'v8-natives'\\nimport del from 'svg-term-cli'\\nimport unicodeUnicode1300 from 'selenium-webdriver'\\nimport through2 from 'postcss-discard-overridden'\\nimport ndoc from 'ndoc'\\nimport babelPluginProposalJsonStrings from 'better-ajv-errors'\\nimport inlineSourceMap from 'flow-copy-source'\\nimport arrayPrototypeIndexof from 'array.prototype.indexof'\\n\\nexport default function sessionState() { const STEPS = { START: 0, FORM: 1, SUCCESS: 2, SMS_VALIDATION: 3, ERROR: 4, NOT_ENABLED: 5 }; const fixture = { step: STEPS.START, preview: false, isEnabled: false, loaded: { date: false, time: false, party: false }, reserveResponse: null, errorResponse: null, stepOptions: STEPS, interactions: {} }; return { preview({preview}) { fixture.preview = preview; return this; }, isEnabled({isEnabled}) { fixture.isEnabled = isEnabled; return this; }, loaded({loaded}) { fixture.loaded = {...fixture.loaded, ...loaded}; return this; }, reserveResponse({reserveResponse}) { fixture.reserveResponse = reserveResponse; return this; }, errorResponse({errorResponse}) { fixture.errorResponse = errorResponse; return this; }, interactions({interactions}) { fixture.interactions = interactions; return this; }, val() { return fixture; } }\\n}\\n####"}
{"prompt":"define(['tsd','autoprefixer','srcset','postcss-convert-values','classnames','eslint-config-moxy','babel-preset-airbnb','covert','@parcel/compressor-raw','@tensorflow/tfjs','mock-require','eslint-config-semistandard','@babel/plugin-transform-block-scoped-functions','cheerio','postcss-discard-overridden','@parcel/optimizer-htmlnano','@types/jest','@parcel/packager-css','gulp-format-md'], function(tsd,typesLodash,tsdCheck,postcssConvertValues,classnames,babelTypes,acorn,covert,safePublishLatest,uglifyify,mockRequire,eslintConfigSemistandard,babelPluginTransformBlockScopedFunctions,karmaQunit,through2,isomorphicFetch,gruntContribJshint,weakLruCache,travisDeployOnce){\\n'use strict'; let path = require('path');\\nlet webpack = require('webpack'); let baseConfig = require('./base');\\nlet defaultSettings = require('./defaults');\\nlet MinifyPlugin = require('babel-minify-webpack-plugin'); let config = Object.assign({}, baseConfig, { entry: path.join(__dirname, '../src/app'), cache: false, devtool: 'sourcemap', plugins: [ new webpack.DefinePlugin({ 'process.env.NODE_ENV': '\\\"production\\\"' }), new webpack.optimize.AggressiveMergingPlugin(), new webpack.NoEmitOnErrorsPlugin(), new MinifyPlugin() ], externals:{ xmlhttprequest: '(function() { window.XMLHttpRequest.XMLHttpRequest = window.XMLHttpRequest; return window.XMLHttpRequest;})()', Wix: 'Wix', 'react/addons': 'React', react:'React', 'react-dom': 'ReactDOM', moment:'moment', 'moment-timezone':'moment', '_':'_', '$':'jQuery', 'jquery':'jQuery' }, module: defaultSettings.getDefaultModules(),\\n}); // Add needed loaders to the defaults here\\nconfig.module.loaders.push({ test: /\\.(js|jsx)$/, loader: 'babel-loader', include: [ path.join(__dirname, '/../src'), path.join(__dirname, '/../node_modules/@wix/restaurants-redux'), path.join(__dirname, '/../node_modules/@wix/restaurants-components') ]\\n}); module.exports = config;\\n\\n})\\n####","completion":" import tsd from 'tsd'\\nimport typesLodash from 'autoprefixer'\\nimport tsdCheck from 'srcset'\\nimport postcssConvertValues from 'postcss-convert-values'\\nimport classnames from 'classnames'\\nimport babelTypes from 'eslint-config-moxy'\\nimport acorn from 'babel-preset-airbnb'\\nimport covert from 'covert'\\nimport safePublishLatest from '@parcel/compressor-raw'\\nimport uglifyify from '@tensorflow/tfjs'\\nimport mockRequire from 'mock-require'\\nimport eslintConfigSemistandard from 'eslint-config-semistandard'\\nimport babelPluginTransformBlockScopedFunctions from '@babel/plugin-transform-block-scoped-functions'\\nimport karmaQunit from 'cheerio'\\nimport through2 from 'postcss-discard-overridden'\\nimport isomorphicFetch from '@parcel/optimizer-htmlnano'\\nimport gruntContribJshint from '@types/jest'\\nimport weakLruCache from '@parcel/packager-css'\\nimport travisDeployOnce from 'gulp-format-md'\\n\\n'use strict'; let path = require('path');\\nlet webpack = require('webpack'); let baseConfig = require('./base');\\nlet defaultSettings = require('./defaults');\\nlet MinifyPlugin = require('babel-minify-webpack-plugin'); let config = Object.assign({}, baseConfig, { entry: path.join(__dirname, '../src/app'), cache: false, devtool: 'sourcemap', plugins: [ new webpack.DefinePlugin({ 'process.env.NODE_ENV': '\\\"production\\\"' }), new webpack.optimize.AggressiveMergingPlugin(), new webpack.NoEmitOnErrorsPlugin(), new MinifyPlugin() ], externals:{ xmlhttprequest: '(function() { window.XMLHttpRequest.XMLHttpRequest = window.XMLHttpRequest; return window.XMLHttpRequest;})()', Wix: 'Wix', 'react/addons': 'React', react:'React', 'react-dom': 'ReactDOM', moment:'moment', 'moment-timezone':'moment', '_':'_', '$':'jQuery', 'jquery':'jQuery' }, module: defaultSettings.getDefaultModules(),\\n}); // Add needed loaders to the defaults here\\nconfig.module.loaders.push({ test: /\\.(js|jsx)$/, loader: 'babel-loader', include: [ path.join(__dirname, '/../src'), path.join(__dirname, '/../node_modules/@wix/restaurants-redux'), path.join(__dirname, '/../node_modules/@wix/restaurants-components') ]\\n}); module.exports = config;\\n\\n####"}
{"prompt":"define(['concurrently','jscodeshift','@parcel/node-resolver-core','@parcel/resolver-default','d3-path','tinycolor2','us-atlas','pegjs','broccoli-uglify-js','npm-prepublish','base64-js'], function(tap,esm,parcelNodeResolverCore,lerna,a,tinycolor2,usAtlas,pegjs,broccoliUglifyJs,npmPrepublish,minizlib){\\n'use strict' const _ = require('lodash')\\nconst backgroundMediaUndefinedFixer = require('../src/plugins/backgroundMediaUndefinedFixer')\\nconst mockObj = require('./backgroundMediaConverterData.json')\\nconst mockMagicObject = require('./testHelpers/mockMagicObject') const _siteAsJsonMockBgMedia = mockObj.siteAsJsonMockBgMedia describe('backgroundMediaUndefinedFixer', () => { const exec = _.partial(backgroundMediaUndefinedFixer.exec, _, null, mockMagicObject()) let masterPage describe('work with missing mobile/desktop background', () => { beforeEach(() => { masterPage = _.cloneDeep(_siteAsJsonMockBgMedia.masterPage) }) it('should not crash with missing mobile background', () => { _(masterPage.data.document_data) .filter({type: 'Page'}) .forEach(dataItem => _.unset(dataItem, ['pageBackgrounds', 'mobile'])) expect(() => { exec(masterPage) }).not.toThrow() }) it('should not crash with missing desktop background', () => { _(masterPage.data.document_data) .filter({type: 'Page'}) .forEach(dataItem => _.unset(dataItem, ['pageBackgrounds', 'mobile'])) expect(() => { exec(masterPage) }).not.toThrow() }) })\\n})\\n\\n})\\n####","completion":" import tap from 'concurrently'\\nimport esm from 'jscodeshift'\\nimport parcelNodeResolverCore from '@parcel/node-resolver-core'\\nimport lerna from '@parcel/resolver-default'\\nimport a from 'd3-path'\\nimport tinycolor2 from 'tinycolor2'\\nimport usAtlas from 'us-atlas'\\nimport pegjs from 'pegjs'\\nimport broccoliUglifyJs from 'broccoli-uglify-js'\\nimport npmPrepublish from 'npm-prepublish'\\nimport minizlib from 'base64-js'\\n\\n'use strict' const _ = require('lodash')\\nconst backgroundMediaUndefinedFixer = require('../src/plugins/backgroundMediaUndefinedFixer')\\nconst mockObj = require('./backgroundMediaConverterData.json')\\nconst mockMagicObject = require('./testHelpers/mockMagicObject') const _siteAsJsonMockBgMedia = mockObj.siteAsJsonMockBgMedia describe('backgroundMediaUndefinedFixer', () => { const exec = _.partial(backgroundMediaUndefinedFixer.exec, _, null, mockMagicObject()) let masterPage describe('work with missing mobile/desktop background', () => { beforeEach(() => { masterPage = _.cloneDeep(_siteAsJsonMockBgMedia.masterPage) }) it('should not crash with missing mobile background', () => { _(masterPage.data.document_data) .filter({type: 'Page'}) .forEach(dataItem => _.unset(dataItem, ['pageBackgrounds', 'mobile'])) expect(() => { exec(masterPage) }).not.toThrow() }) it('should not crash with missing desktop background', () => { _(masterPage.data.document_data) .filter({type: 'Page'}) .forEach(dataItem => _.unset(dataItem, ['pageBackgrounds', 'mobile'])) expect(() => { exec(masterPage) }).not.toThrow() }) })\\n})\\n\\n####"}
{"prompt":"define(['require-yaml','@babel/plugin-transform-regenerator','require-ini','@babel/helper-simple-access'], function(requireYaml,bazelTypescript,parcelPlugin,stable){\\nimport _ from 'lodash'; export default class OrganizationSecrets { constructor(secrets) { this.secrets = secrets; } getCreditCards() { if (!this.secrets) return {}; return JSON.parse(_.get(this.secrets, 'properties[\\'com.wix.restaurants.creditcards\\']', '{}')); } getCreditcardsDetails() { const creditCards = this.getCreditCards(); if (!creditCards) return {}; const merchantKeysStr = creditCards.merchantKeys && creditCards.merchantKeys[creditCards.gatewayId]; if (!merchantKeysStr) return creditCards; const merchantKeys = JSON.parse(merchantKeysStr); return {...creditCards, merchantKeys}; } getMerchantKey(gatewayId) { const creditCards = this.getCreditCards(); if (!creditCards || !creditCards.merchantKeys || !creditCards.merchantKeys[gatewayId]) return {}; return JSON.parse(creditCards.merchantKeys[gatewayId]); } getSay2EatMerchantKey() { return JSON.parse(_.get(this.secrets, 'properties[\\'com.wix.restaurants.say2eat\\']', '{}')).merchantKey; }\\n}\\n\\n})\\n####","completion":" import requireYaml from 'require-yaml'\\nimport bazelTypescript from '@babel/plugin-transform-regenerator'\\nimport parcelPlugin from 'require-ini'\\nimport stable from '@babel/helper-simple-access'\\n\\nimport _ from 'lodash'; export default class OrganizationSecrets { constructor(secrets) { this.secrets = secrets; } getCreditCards() { if (!this.secrets) return {}; return JSON.parse(_.get(this.secrets, 'properties[\\'com.wix.restaurants.creditcards\\']', '{}')); } getCreditcardsDetails() { const creditCards = this.getCreditCards(); if (!creditCards) return {}; const merchantKeysStr = creditCards.merchantKeys && creditCards.merchantKeys[creditCards.gatewayId]; if (!merchantKeysStr) return creditCards; const merchantKeys = JSON.parse(merchantKeysStr); return {...creditCards, merchantKeys}; } getMerchantKey(gatewayId) { const creditCards = this.getCreditCards(); if (!creditCards || !creditCards.merchantKeys || !creditCards.merchantKeys[gatewayId]) return {}; return JSON.parse(creditCards.merchantKeys[gatewayId]); } getSay2EatMerchantKey() { return JSON.parse(_.get(this.secrets, 'properties[\\'com.wix.restaurants.say2eat\\']', '{}')).merchantKey; }\\n}\\n\\n####"}
{"prompt":"define(['topojson-client','grunt-npm-install','asap','@ungap/url-search-params','karma-chai','eclint','stable'], function(d3Quadtree,gruntNpmInstall,tomlRequire,parcelOptimizerHtmlnano,d3Dsv,eclint,babelEslint){\\nimport React from 'react';\\nimport styles from './ButtonLoader.scss';\\nimport Loader from '../Loader';\\nimport { bool } from 'prop-types';\\nimport classNames from 'classnames';\\nimport Check from 'wix-ui-icons-common/Check';\\nimport { Button } from 'wix-style-react'; export default function ButtonLoader({ isLoading, isSuccessful, children, ...rest }) { const calcLoaderSize = () => { return rest.size === 'tiny' || rest.size === 'small' ? 15 : Loader.defaultProps.size; }; return ( <Button {...rest}> <span className={classNames([styles.wrapper, isLoading && styles.isLoading, isSuccessful && styles.isSuccessful])} > <span className={styles.contentWrapper}>{children}</span> <div className={styles.loaderWrapper}> <Loader size={calcLoaderSize()} className={styles.loader} data-hook=\\\"button-loader-loading\\\" /> </div> <div className={styles.successfulWrapper}> <Check /> </div> </span> </Button> );\\n} ButtonLoader.displayName = 'ButtonLoader';\\nButtonLoader.propTypes = { isLoading: bool, isSuccessful: bool,\\n};\\n\\n})\\n####","completion":" import d3Quadtree from 'topojson-client'\\nimport gruntNpmInstall from 'grunt-npm-install'\\nimport tomlRequire from 'asap'\\nimport parcelOptimizerHtmlnano from '@ungap/url-search-params'\\nimport d3Dsv from 'karma-chai'\\nimport eclint from 'eclint'\\nimport babelEslint from 'stable'\\n\\nimport React from 'react';\\nimport styles from './ButtonLoader.scss';\\nimport Loader from '../Loader';\\nimport { bool } from 'prop-types';\\nimport classNames from 'classnames';\\nimport Check from 'wix-ui-icons-common/Check';\\nimport { Button } from 'wix-style-react'; export default function ButtonLoader({ isLoading, isSuccessful, children, ...rest }) { const calcLoaderSize = () => { return rest.size === 'tiny' || rest.size === 'small' ? 15 : Loader.defaultProps.size; }; return ( <Button {...rest}> <span className={classNames([styles.wrapper, isLoading && styles.isLoading, isSuccessful && styles.isSuccessful])} > <span className={styles.contentWrapper}>{children}</span> <div className={styles.loaderWrapper}> <Loader size={calcLoaderSize()} className={styles.loader} data-hook=\\\"button-loader-loading\\\" /> </div> <div className={styles.successfulWrapper}> <Check /> </div> </span> </Button> );\\n} ButtonLoader.displayName = 'ButtonLoader';\\nButtonLoader.propTypes = { isLoading: bool, isSuccessful: bool,\\n};\\n\\n####"}
{"prompt":"define(['postcss-normalize-timing-functions','commonjs-everywhere','d3-dispatch','merge-stream','eslint-config-rackt','karma-chai','expect.js','process','should','eslint-config-airbnb-base','@types/caniuse-api','@ls-lint/ls-lint','setimmediate','callsites','@wdio/selenium-standalone-service','grunt-eslint','deep-equal','babel-preset-react','cross-spawn'], function(postcssNormalizeTimingFunctions,agentBase,foreach,pinkiePromise,eslintConfigRackt,d3Dsv,sizeLimit,webgpuTypes,objectKeys,eslintConfigAirbnbBase,typesCaniuseApi,webpack,idb,callsites,wdioSeleniumStandaloneService,gruntEslint,typesArgparse,babelPluginTransformEs2015ShorthandProperties,crossSpawn){\\nimport React from 'react';\\nimport { enzymeHelper } from '@wix/wixrest-test-utils';\\nimport Reservations from '../../../../src/dashboard/web/reservationsSettings/index';\\nimport * as helper from '../../../utils/integrationTestsHelper'; const { assertHasSingle } = enzymeHelper; describe('reservationsSettings/index', function () { let wrapper; it('overview route', () => { testRoute('overview'); }); it('general route', () => { testRoute('general'); }); it('handling route', () => { testRoute('handling'); }); function testRoute(route) { // When render(route); // Then assertHasSingle(wrapper, `.reservationsTab.${route}`); } function render(route) { wrapper = helper.render(<Reservations route={[route]} />, { initialState: { reservationsSettings: { generalSettings: { partySize: { min: 1, max: 20 }, futureDelayMins: {}, }, }, }, }); }\\n});\\n\\n})\\n####","completion":" import postcssNormalizeTimingFunctions from 'postcss-normalize-timing-functions'\\nimport agentBase from 'commonjs-everywhere'\\nimport foreach from 'd3-dispatch'\\nimport pinkiePromise from 'merge-stream'\\nimport eslintConfigRackt from 'eslint-config-rackt'\\nimport d3Dsv from 'karma-chai'\\nimport sizeLimit from 'expect.js'\\nimport webgpuTypes from 'process'\\nimport objectKeys from 'should'\\nimport eslintConfigAirbnbBase from 'eslint-config-airbnb-base'\\nimport typesCaniuseApi from '@types/caniuse-api'\\nimport webpack from '@ls-lint/ls-lint'\\nimport idb from 'setimmediate'\\nimport callsites from 'callsites'\\nimport wdioSeleniumStandaloneService from '@wdio/selenium-standalone-service'\\nimport gruntEslint from 'grunt-eslint'\\nimport typesArgparse from 'deep-equal'\\nimport babelPluginTransformEs2015ShorthandProperties from 'babel-preset-react'\\nimport crossSpawn from 'cross-spawn'\\n\\nimport React from 'react';\\nimport { enzymeHelper } from '@wix/wixrest-test-utils';\\nimport Reservations from '../../../../src/dashboard/web/reservationsSettings/index';\\nimport * as helper from '../../../utils/integrationTestsHelper'; const { assertHasSingle } = enzymeHelper; describe('reservationsSettings/index', function () { let wrapper; it('overview route', () => { testRoute('overview'); }); it('general route', () => { testRoute('general'); }); it('handling route', () => { testRoute('handling'); }); function testRoute(route) { // When render(route); // Then assertHasSingle(wrapper, `.reservationsTab.${route}`); } function render(route) { wrapper = helper.render(<Reservations route={[route]} />, { initialState: { reservationsSettings: { generalSettings: { partySize: { min: 1, max: 20 }, futureDelayMins: {}, }, }, }, }); }\\n});\\n\\n####"}
{"prompt":"define(['available-typed-arrays','is-json','grunt-bowercopy','bikeshed-to-ts','google-closure-library','tap','isomorphic-fetch','path-exists','gnode','decache','@babel/plugin-transform-modules-systemjs','resumer'], function(bikeshedToTs,acornJsx,consoleControlStrings,karmaIeLauncher,babelHelperValidatorOption,timersBrowserify,cheerio,semanticRelease,gnode,decache,getPort,colord){\\n'use strict'\\nconst {mapSantaTypesToProps, mapSantaTypesToActions} = require('../../../src/components/maps/radioButtonsLabeled') describe('maps for radioButtonsLabeled', () => { it('mapSantaTypesToProps', () => { const props = { compData: { label: 'text', value: 'op1', options: [{value: 'op1', label: 'op1-text'}, {value: 'op2', label: 'op2-text'}] }, compProp: { isDisabled: true } } const newProps = mapSantaTypesToProps(props) expect(newProps.disabled).toEqual(props.compProp.isDisabled) expect(newProps.value).toEqual(props.compData.value) expect(newProps.label).toEqual(props.compData.label) expect(newProps.options).toEqual(props.compData.options) }) it('mapSantaTypesToActions', () => { const mockSetCompDataFunction = jest.fn() const props = { setCompData: mockSetCompDataFunction } const newProps = mapSantaTypesToActions(props) const newValue = 'op2' newProps.onChange(newValue) expect(mockSetCompDataFunction).toBeCalledWith({value: newValue}) })\\n})\\n})\\n####","completion":" import bikeshedToTs from 'available-typed-arrays'\\nimport acornJsx from 'is-json'\\nimport consoleControlStrings from 'grunt-bowercopy'\\nimport karmaIeLauncher from 'bikeshed-to-ts'\\nimport babelHelperValidatorOption from 'google-closure-library'\\nimport timersBrowserify from 'tap'\\nimport cheerio from 'isomorphic-fetch'\\nimport semanticRelease from 'path-exists'\\nimport gnode from 'gnode'\\nimport decache from 'decache'\\nimport getPort from '@babel/plugin-transform-modules-systemjs'\\nimport colord from 'resumer'\\n\\n'use strict'\\nconst {mapSantaTypesToProps, mapSantaTypesToActions} = require('../../../src/components/maps/radioButtonsLabeled') describe('maps for radioButtonsLabeled', () => { it('mapSantaTypesToProps', () => { const props = { compData: { label: 'text', value: 'op1', options: [{value: 'op1', label: 'op1-text'}, {value: 'op2', label: 'op2-text'}] }, compProp: { isDisabled: true } } const newProps = mapSantaTypesToProps(props) expect(newProps.disabled).toEqual(props.compProp.isDisabled) expect(newProps.value).toEqual(props.compData.value) expect(newProps.label).toEqual(props.compData.label) expect(newProps.options).toEqual(props.compData.options) }) it('mapSantaTypesToActions', () => { const mockSetCompDataFunction = jest.fn() const props = { setCompData: mockSetCompDataFunction } const newProps = mapSantaTypesToActions(props) const newValue = 'op2' newProps.onChange(newValue) expect(mockSetCompDataFunction).toBeCalledWith({value: newValue}) })\\n})\\n####"}
{"prompt":"define(['get-symbol-description','jest','toml-require','eslint','@babel/plugin-transform-template-literals'], function(babelPresetMoxy,gulpEslint,gracefulFs,eslint,esToPrimitive){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.wix.com/demone2/landscape-photograph (15)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/landscape-photograph', emulateMobileDevice: true, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/15-landscape-photography/mesh/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import babelPresetMoxy from 'get-symbol-description'\\nimport gulpEslint from 'jest'\\nimport gracefulFs from 'toml-require'\\nimport eslint from 'eslint'\\nimport esToPrimitive from '@babel/plugin-transform-template-literals'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.wix.com/demone2/landscape-photograph (15)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/landscape-photograph', emulateMobileDevice: true, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/15-landscape-photography/mesh/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['commander','eslint-config-ostai','iconv','globals','faster-stable-stringify','@babel/plugin-transform-regenerator','@jridgewell/set-array','eslint-plugin-prettier','eslint-plugin-node','jshint','ansi','has-symbols','@babel/plugin-proposal-class-properties','@babel/helper-skip-transparent-expression-wrappers','grunt-release','travis-deploy-once','nanoid','ac-colors'], function(commander,brfs,typesRimraf,globals,opn,bazelTypescript,jridgewellSetArray,knox,worldAtlas,gruntClean,ansi,typesChalk,babelPluginSyntaxClassStaticBlock,nodeJsx,gruntRelease,parcelPackagerCss,gruntBrowserify,babelHelperOptimiseCallExpression){\\nimport oauthSignature from 'oauth-signature';\\nimport nonce from 'nonce';\\nimport _ from 'lodash'; export default class OAuthParamsCreator { constructor({consumerKey, consumerSecret, token, tokenSecret}) { this._consumerKey = consumerKey; this._consumerSecret = consumerSecret; this._token = token; this._tokenSecret = tokenSecret; this._nonce = nonce(); } generateParams(url, params) { let result = _.extend({}, params, { oauth_consumer_key : this._consumerKey, oauth_token : this._token, oauth_nonce : this._nonce(), oauth_timestamp : this._nonce().toString().substr(0,10), oauth_signature_method : 'HMAC-SHA1', oauth_version : '1.0' }); result.oauth_signature = this._generateSignature(url, result); return result; } _generateSignature(url, params) { return oauthSignature.generate('GET', url, params, this._consumerSecret, this._tokenSecret, { encodeSignature: false}); }\\n}\\n\\n})\\n####","completion":" import commander from 'commander'\\nimport brfs from 'eslint-config-ostai'\\nimport typesRimraf from 'iconv'\\nimport globals from 'globals'\\nimport opn from 'faster-stable-stringify'\\nimport bazelTypescript from '@babel/plugin-transform-regenerator'\\nimport jridgewellSetArray from '@jridgewell/set-array'\\nimport knox from 'eslint-plugin-prettier'\\nimport worldAtlas from 'eslint-plugin-node'\\nimport gruntClean from 'jshint'\\nimport ansi from 'ansi'\\nimport typesChalk from 'has-symbols'\\nimport babelPluginSyntaxClassStaticBlock from '@babel/plugin-proposal-class-properties'\\nimport nodeJsx from '@babel/helper-skip-transparent-expression-wrappers'\\nimport gruntRelease from 'grunt-release'\\nimport parcelPackagerCss from 'travis-deploy-once'\\nimport gruntBrowserify from 'nanoid'\\nimport babelHelperOptimiseCallExpression from 'ac-colors'\\n\\nimport oauthSignature from 'oauth-signature';\\nimport nonce from 'nonce';\\nimport _ from 'lodash'; export default class OAuthParamsCreator { constructor({consumerKey, consumerSecret, token, tokenSecret}) { this._consumerKey = consumerKey; this._consumerSecret = consumerSecret; this._token = token; this._tokenSecret = tokenSecret; this._nonce = nonce(); } generateParams(url, params) { let result = _.extend({}, params, { oauth_consumer_key : this._consumerKey, oauth_token : this._token, oauth_nonce : this._nonce(), oauth_timestamp : this._nonce().toString().substr(0,10), oauth_signature_method : 'HMAC-SHA1', oauth_version : '1.0' }); result.oauth_signature = this._generateSignature(url, result); return result; } _generateSignature(url, params) { return oauthSignature.generate('GET', url, params, this._consumerSecret, this._tokenSecret, { encodeSignature: false}); }\\n}\\n\\n####"}
{"prompt":"define(['make-async-generator-function','htmlparser2','postcss-reduce-initial','@parcel/diagnostic','@parcel/namer-default','for-each','@types/node','unexpected','semistandard','inline-style-prefixer','raw-body','babel-plugin-transform-es2015-shorthand-properties','aws-sdk'], function(minimatch,isSymbol,typesD3Selection,q,parcelNamerDefault,fasterStableStringify,typesNode,unexpected,phantomjs,foo,rawBody,swcCore,awsSdk){\\n'use strict'; let path = require('path');\\nlet srcPath = path.join(__dirname, '/../src/'); let baseConfig = require('./base'); // Add needed plugins here\\nlet BowerWebpackPlugin = require('bower-webpack-plugin'); module.exports = { devtool: 'eval', module: { preLoaders: [ { test: /\\.(js|jsx)$/, loader: 'isparta-instrumenter-loader', include: [ path.join(__dirname, '/../src') ] } ], loaders: [ { test: /\\.(png|jpg|gif|woff|woff2|css|sass|scss|less|styl)$/, loader: 'null-loader' }, { test: /\\.(js|jsx)$/, loader: 'babel-loader', include: [].concat( baseConfig.additionalPaths, [ path.join(__dirname, '/../src'), path.join(__dirname, '/../test') ] ) } ] }, resolve: { extensions: [ '', '.js', '.jsx' ], alias: { actions: srcPath + 'actions/', helpers: path.join(__dirname, '/../test/helpers'), components: srcPath + 'components/', sources: srcPath + 'sources/', stores: srcPath + 'stores/', styles: srcPath + 'styles/', config: srcPath + 'config/' + process.env.REACT_WEBPACK_ENV } }, plugins: [ new BowerWebpackPlugin({ searchResolveModulesDirectories: false }) ]\\n};\\n\\n})\\n####","completion":" import minimatch from 'make-async-generator-function'\\nimport isSymbol from 'htmlparser2'\\nimport typesD3Selection from 'postcss-reduce-initial'\\nimport q from '@parcel/diagnostic'\\nimport parcelNamerDefault from '@parcel/namer-default'\\nimport fasterStableStringify from 'for-each'\\nimport typesNode from '@types/node'\\nimport unexpected from 'unexpected'\\nimport phantomjs from 'semistandard'\\nimport foo from 'inline-style-prefixer'\\nimport rawBody from 'raw-body'\\nimport swcCore from 'babel-plugin-transform-es2015-shorthand-properties'\\nimport awsSdk from 'aws-sdk'\\n\\n'use strict'; let path = require('path');\\nlet srcPath = path.join(__dirname, '/../src/'); let baseConfig = require('./base'); // Add needed plugins here\\nlet BowerWebpackPlugin = require('bower-webpack-plugin'); module.exports = { devtool: 'eval', module: { preLoaders: [ { test: /\\.(js|jsx)$/, loader: 'isparta-instrumenter-loader', include: [ path.join(__dirname, '/../src') ] } ], loaders: [ { test: /\\.(png|jpg|gif|woff|woff2|css|sass|scss|less|styl)$/, loader: 'null-loader' }, { test: /\\.(js|jsx)$/, loader: 'babel-loader', include: [].concat( baseConfig.additionalPaths, [ path.join(__dirname, '/../src'), path.join(__dirname, '/../test') ] ) } ] }, resolve: { extensions: [ '', '.js', '.jsx' ], alias: { actions: srcPath + 'actions/', helpers: path.join(__dirname, '/../test/helpers'), components: srcPath + 'components/', sources: srcPath + 'sources/', stores: srcPath + 'stores/', styles: srcPath + 'styles/', config: srcPath + 'config/' + process.env.REACT_WEBPACK_ENV } }, plugins: [ new BowerWebpackPlugin({ searchResolveModulesDirectories: false }) ]\\n};\\n\\n####"}
{"prompt":"define(['grunt-template','asap','regexpu-core','entities'], function(lintspacesCli,tomlRequire,babelPluginSyntaxOptionalCatchBinding,gruntLivescript){\\nimport PropTypes from 'prop-types';\\nimport React from 'react';\\nimport _ from 'lodash';\\nimport SubCategory from './SubCategory';\\nimport styles from './FacebookLayout.less'; class Category extends React.Component { constructor(props) { super(props); } render() { const { children, priceHidden, webpEnabled, isMobile, variationsHidden, i18n } = this.props; const subCategories = _.map(children, subcategory => { const data = subcategory.data; const children = subcategory.children; return <SubCategory key={data.id} title={data.title} description={data.description} priceHidden={priceHidden} picture={data.picture} children={children} webpEnabled={webpEnabled} isMobile={isMobile} variationsHidden={variationsHidden} i18n={i18n} />; }); return <ul className={styles.category}>{ subCategories }</ul>; }\\n} Category.displayName = 'Category';\\nCategory.propTypes = { children: PropTypes.array.isRequired, priceHidden: PropTypes.bool.isRequired, webpEnabled: PropTypes.bool.isRequired, isMobile: PropTypes.bool.isRequired, variationsHidden: PropTypes.bool.isRequired, i18n: PropTypes.object.isRequired\\n}; export default Category;\\n})\\n####","completion":" import lintspacesCli from 'grunt-template'\\nimport tomlRequire from 'asap'\\nimport babelPluginSyntaxOptionalCatchBinding from 'regexpu-core'\\nimport gruntLivescript from 'entities'\\n\\nimport PropTypes from 'prop-types';\\nimport React from 'react';\\nimport _ from 'lodash';\\nimport SubCategory from './SubCategory';\\nimport styles from './FacebookLayout.less'; class Category extends React.Component { constructor(props) { super(props); } render() { const { children, priceHidden, webpEnabled, isMobile, variationsHidden, i18n } = this.props; const subCategories = _.map(children, subcategory => { const data = subcategory.data; const children = subcategory.children; return <SubCategory key={data.id} title={data.title} description={data.description} priceHidden={priceHidden} picture={data.picture} children={children} webpEnabled={webpEnabled} isMobile={isMobile} variationsHidden={variationsHidden} i18n={i18n} />; }); return <ul className={styles.category}>{ subCategories }</ul>; }\\n} Category.displayName = 'Category';\\nCategory.propTypes = { children: PropTypes.array.isRequired, priceHidden: PropTypes.bool.isRequired, webpEnabled: PropTypes.bool.isRequired, isMobile: PropTypes.bool.isRequired, variationsHidden: PropTypes.bool.isRequired, i18n: PropTypes.object.isRequired\\n}; export default Category;\\n####"}
{"prompt":"define(['mdn-data','progress','tsd-check','esutils','jasmine','querystring-es3','core-util-is'], function(clinton,progress,tar,gruntMochaIstanbul,jasmine,delCli,globby){\\nimport React from 'react'; module.exports = class extends React.Component { // To apply colors via CSS, you can use the 'fill' property of // .svg_missing_avatar>g>background and .svg_missing_avatar>g>foreground render() { return ( <svg className={'svg_empty_cart ' + (this.props.className || '')} width=\\\"53px\\\" height=\\\"60px\\\" viewBox=\\\"0 0 53 60\\\"> <g> <path d=\\\"M47.5,15.6 C47.5,13.5 45.8,11.9 43.7,11.9 L35.5,11.9 C35.4,8.9 34.8,5.5 32.9,3.1 C31.2,1.1 28.9,-2.22044605e-15 25.9,-2.22044605e-15 C23.4,-2.22044605e-15 21.3,1 19.8,2.8 C17.7,5.2 16.9,8.9 16.7,11.9 L8.9,11.9 C6.8,11.9 5.1,13.5 5.1,15.6 L0,56.1 C0,58.2 1.7,59.9 3.8,59.9 L26.9,59.9 L48.8,59.9 C50.9,59.9 52.6,58.2 52.6,56.1 L47.5,15.6 L47.5,15.6 Z M21.2,4 C22.4,2.7 23.9,2 25.8,2 C28.2,2 30,2.9 31.3,4.4 C32.9,6.4 33.4,8.8 33.5,11.8 L18.6,11.8 C18.8,8.9 19.5,6 21.2,4 L21.2,4 Z M48.8,57.9 L26.9,57.9 L3.8,57.9 C2.8,57.9 2.1,57.1 2,56.2 L7.2,15.8 L7.3,15.7 L7.3,15.6 C7.3,14.6 7.9,14 8.9,14 L16.5,14 C16.5,16 16.7,17.3 16.7,17.4 C16.8,17.9 17.2,18.2 17.7,18.2 L17.8,18.2 C18.3,18.1 18.7,17.8 18.7,17.2 C18.7,17.2 18.5,16 18.6,14 L33.6,14 C33.5,16 33.3,17.1 33.3,17.1 C33.2,17.6 33.5,18.1 34.1,18.2 C34.6,18.3 35.2,18.1 35.3,17.5 C35.3,17.4 35.6,16 35.7,14 L43.9,14 C44.9,14 45.5,14.5 45.5,15.6 L45.5,15.7 L45.6,15.8 L50.7,56.2 C50.5,57.1 49.8,57.9 48.8,57.9 L48.8,57.9 Z\\\"></path> </g> </svg> ); }\\n};\\n\\n})\\n####","completion":" import clinton from 'mdn-data'\\nimport progress from 'progress'\\nimport tar from 'tsd-check'\\nimport gruntMochaIstanbul from 'esutils'\\nimport jasmine from 'jasmine'\\nimport delCli from 'querystring-es3'\\nimport globby from 'core-util-is'\\n\\nimport React from 'react'; module.exports = class extends React.Component { // To apply colors via CSS, you can use the 'fill' property of // .svg_missing_avatar>g>background and .svg_missing_avatar>g>foreground render() { return ( <svg className={'svg_empty_cart ' + (this.props.className || '')} width=\\\"53px\\\" height=\\\"60px\\\" viewBox=\\\"0 0 53 60\\\"> <g> <path d=\\\"M47.5,15.6 C47.5,13.5 45.8,11.9 43.7,11.9 L35.5,11.9 C35.4,8.9 34.8,5.5 32.9,3.1 C31.2,1.1 28.9,-2.22044605e-15 25.9,-2.22044605e-15 C23.4,-2.22044605e-15 21.3,1 19.8,2.8 C17.7,5.2 16.9,8.9 16.7,11.9 L8.9,11.9 C6.8,11.9 5.1,13.5 5.1,15.6 L0,56.1 C0,58.2 1.7,59.9 3.8,59.9 L26.9,59.9 L48.8,59.9 C50.9,59.9 52.6,58.2 52.6,56.1 L47.5,15.6 L47.5,15.6 Z M21.2,4 C22.4,2.7 23.9,2 25.8,2 C28.2,2 30,2.9 31.3,4.4 C32.9,6.4 33.4,8.8 33.5,11.8 L18.6,11.8 C18.8,8.9 19.5,6 21.2,4 L21.2,4 Z M48.8,57.9 L26.9,57.9 L3.8,57.9 C2.8,57.9 2.1,57.1 2,56.2 L7.2,15.8 L7.3,15.7 L7.3,15.6 C7.3,14.6 7.9,14 8.9,14 L16.5,14 C16.5,16 16.7,17.3 16.7,17.4 C16.8,17.9 17.2,18.2 17.7,18.2 L17.8,18.2 C18.3,18.1 18.7,17.8 18.7,17.2 C18.7,17.2 18.5,16 18.6,14 L33.6,14 C33.5,16 33.3,17.1 33.3,17.1 C33.2,17.6 33.5,18.1 34.1,18.2 C34.6,18.3 35.2,18.1 35.3,17.5 C35.3,17.4 35.6,16 35.7,14 L43.9,14 C44.9,14 45.5,14.5 45.5,15.6 L45.5,15.7 L45.6,15.8 L50.7,56.2 C50.5,57.1 49.8,57.9 48.8,57.9 L48.8,57.9 Z\\\"></path> </g> </svg> ); }\\n};\\n\\n####"}
{"prompt":"define(['typescript','@mdn/browser-compat-data','jest','gulp-format-md','tap-spec','c8','timers-browserify','@babel/plugin-transform-sticky-regex'], function(googleProtobuf,typesEnsurePosixPath,gulpEslint,travisDeployOnce,tapSpec,npmpub,babelLoader,babelPluginTransformStickyRegex){\\n'use strict' import _ from 'lodash' // Maps non-standard Wix language IDs to standard langauge IDs export const nonStandardLanguages = { 'iw': 'he', // Hebrew 'no': 'nb' // Norwegian (Bokmål) } export const nonStandardWixLanguages = _.invert(nonStandardLanguages) // Wix officially-supported languages (as standard langauge IDs) export const supportedLanguages = [ 'cs', // Czech 'da', // Danish 'de', // German 'en', // English 'es', // Spanish 'fr', // French 'hi', // Hindi 'it', // Italian 'ja', // Japanese 'ko', // Korean 'nb', // Norwegian 'nl', // Dutch 'pl', // Polish 'pt', // Portuguese 'ru', // Russian 'sv', // Swedish 'tr', // Turkish 'th', // Thai 'uk', // Ukrainian 'zh', // Chinese ] // Maps languages with non-standard Wix subdomains to their subdomains export const nonStandardLanguageDomains = { 'en': 'www', // English 'nb': 'no' // Norwegian (Bokmål) } \\n})\\n####","completion":" import googleProtobuf from 'typescript'\\nimport typesEnsurePosixPath from '@mdn/browser-compat-data'\\nimport gulpEslint from 'jest'\\nimport travisDeployOnce from 'gulp-format-md'\\nimport tapSpec from 'tap-spec'\\nimport npmpub from 'c8'\\nimport babelLoader from 'timers-browserify'\\nimport babelPluginTransformStickyRegex from '@babel/plugin-transform-sticky-regex'\\n\\n'use strict' import _ from 'lodash' // Maps non-standard Wix language IDs to standard langauge IDs export const nonStandardLanguages = { 'iw': 'he', // Hebrew 'no': 'nb' // Norwegian (Bokmål) } export const nonStandardWixLanguages = _.invert(nonStandardLanguages) // Wix officially-supported languages (as standard langauge IDs) export const supportedLanguages = [ 'cs', // Czech 'da', // Danish 'de', // German 'en', // English 'es', // Spanish 'fr', // French 'hi', // Hindi 'it', // Italian 'ja', // Japanese 'ko', // Korean 'nb', // Norwegian 'nl', // Dutch 'pl', // Polish 'pt', // Portuguese 'ru', // Russian 'sv', // Swedish 'tr', // Turkish 'th', // Thai 'uk', // Ukrainian 'zh', // Chinese ] // Maps languages with non-standard Wix subdomains to their subdomains export const nonStandardLanguageDomains = { 'en': 'www', // English 'nb': 'no' // Norwegian (Bokmål) } \\n####"}
{"prompt":"define(['babel-plugin-transform-class-properties','es-array-method-boxes-properly','@bazel/typescript'], function(d3Selection,babelCompatData,diff){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.wix.com/demone2/food-photo (41)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/food-photo', emulateMobileDevice: false, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/41-food-photographer/mesh/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import d3Selection from 'babel-plugin-transform-class-properties'\\nimport babelCompatData from 'es-array-method-boxes-properly'\\nimport diff from '@bazel/typescript'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.wix.com/demone2/food-photo (41)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/food-photo', emulateMobileDevice: false, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/41-food-photographer/mesh/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['is-symbol','lerna','@babel/code-frame','normalize-url'], function(bazelBazelisk,istanbulInstrumenterLoader,babelCodeFrame,normalizeUrl){\\nimport styles from './Header.icss'; import * as logic from '../../../logic/client-info/vanity/Header.js';\\nimport * as ClientInfoUtils from 'src/logic/ClientInfoUtils.js';\\nimport { ImageUtils } from '@wix/wixrest-utils'; export default class extends React.Component { static displayName = 'ClientInfo.Vanity.Header'; static propTypes = logic.propTypes; render() { let welcomeMessages = ClientInfoUtils.getWelcomMessages({ numOrders: this.props.clientOrders.length, firstName: this.props.clientInfo.profile.firstName, }); if (this.props.backgroundImage) { var style = { backgroundImage: `url(${ImageUtils.fill({ url: this.props.backgroundImage, width: 370, height: 135 })})`, backgroundPosition: '50% 50%', backgroundSize: 'cover', }; } else { style = {}; } return ( <div className={styles.wrapper}> <div className={styles.backgroundImage} style={style}/> <div className={styles.gradient}/> <div className={styles.title}> <div className={styles.greeting}>{welcomeMessages.header}</div> <div className={styles.counter}>{welcomeMessages.subheader}</div> </div> </div> ); }\\n}\\n\\n})\\n####","completion":" import bazelBazelisk from 'is-symbol'\\nimport istanbulInstrumenterLoader from 'lerna'\\nimport babelCodeFrame from '@babel/code-frame'\\nimport normalizeUrl from 'normalize-url'\\n\\nimport styles from './Header.icss'; import * as logic from '../../../logic/client-info/vanity/Header.js';\\nimport * as ClientInfoUtils from 'src/logic/ClientInfoUtils.js';\\nimport { ImageUtils } from '@wix/wixrest-utils'; export default class extends React.Component { static displayName = 'ClientInfo.Vanity.Header'; static propTypes = logic.propTypes; render() { let welcomeMessages = ClientInfoUtils.getWelcomMessages({ numOrders: this.props.clientOrders.length, firstName: this.props.clientInfo.profile.firstName, }); if (this.props.backgroundImage) { var style = { backgroundImage: `url(${ImageUtils.fill({ url: this.props.backgroundImage, width: 370, height: 135 })})`, backgroundPosition: '50% 50%', backgroundSize: 'cover', }; } else { style = {}; } return ( <div className={styles.wrapper}> <div className={styles.backgroundImage} style={style}/> <div className={styles.gradient}/> <div className={styles.title}> <div className={styles.greeting}>{welcomeMessages.header}</div> <div className={styles.counter}>{welcomeMessages.subheader}</div> </div> </div> ); }\\n}\\n\\n####"}
{"prompt":"define(['karma-source-map-support','eslint-config-airbnb','aud','graphviz','postcss-ordered-values','gzip-size-cli','karma-chai-sinon','unicode-match-property-value-ecmascript','npm-run-all','wrap-ansi','aws-sdk','nice-try','saucelabs'], function(bindings,eslintConfigAirbnb,aud,graphviz,postcssOrderedValues,gzipSizeCli,babelHelperAnnotateAsPure,postcssUniqueSelectors,npmRunAll,wrapAnsi,awsSdk,niceTry,saucelabs){\\nimport { connect } from 'react-redux';\\nimport { bindActionCreators } from 'redux';\\nimport React, {Component} from 'react';\\nimport {translate} from 'react-i18next';\\nimport {array, func} from 'prop-types';\\nimport {actions} from '../actions/filterActions.js';\\nimport displayableRestaurantsListSelector from '../selectors/displayableRestaurantsListSelector.js';\\nimport filtersSelector from '../selectors/filtersSelector.js';\\nimport SearchBox from './SearchBox.js'; @translate()\\n@connect(state => ({ ...displayableRestaurantsListSelector(state), ...filtersSelector(state)\\n}), dispatch => bindActionCreators({ searchFilter: actions.searchFilter\\n}, dispatch))\\nexport default class RestaurantsSearchBox extends Component { static propTypes = { searchFilter: func.isRequired, restaurants: array, t: func }; handleChangeFilter = searchString => { this.props.searchFilter(searchString); } render() { const {t} = this.props; return ( <SearchBox onSelect={this.handleSelectRestaurant} placeholder={t('search.placeholder')} onChange={this.handleChangeFilter} value={this.props.searchString} autoFocus={Boolean(this.props.searchString)} /> ); }\\n}\\n\\n})\\n####","completion":" import bindings from 'karma-source-map-support'\\nimport eslintConfigAirbnb from 'eslint-config-airbnb'\\nimport aud from 'aud'\\nimport graphviz from 'graphviz'\\nimport postcssOrderedValues from 'postcss-ordered-values'\\nimport gzipSizeCli from 'gzip-size-cli'\\nimport babelHelperAnnotateAsPure from 'karma-chai-sinon'\\nimport postcssUniqueSelectors from 'unicode-match-property-value-ecmascript'\\nimport npmRunAll from 'npm-run-all'\\nimport wrapAnsi from 'wrap-ansi'\\nimport awsSdk from 'aws-sdk'\\nimport niceTry from 'nice-try'\\nimport saucelabs from 'saucelabs'\\n\\nimport { connect } from 'react-redux';\\nimport { bindActionCreators } from 'redux';\\nimport React, {Component} from 'react';\\nimport {translate} from 'react-i18next';\\nimport {array, func} from 'prop-types';\\nimport {actions} from '../actions/filterActions.js';\\nimport displayableRestaurantsListSelector from '../selectors/displayableRestaurantsListSelector.js';\\nimport filtersSelector from '../selectors/filtersSelector.js';\\nimport SearchBox from './SearchBox.js'; @translate()\\n@connect(state => ({ ...displayableRestaurantsListSelector(state), ...filtersSelector(state)\\n}), dispatch => bindActionCreators({ searchFilter: actions.searchFilter\\n}, dispatch))\\nexport default class RestaurantsSearchBox extends Component { static propTypes = { searchFilter: func.isRequired, restaurants: array, t: func }; handleChangeFilter = searchString => { this.props.searchFilter(searchString); } render() { const {t} = this.props; return ( <SearchBox onSelect={this.handleSelectRestaurant} placeholder={t('search.placeholder')} onChange={this.handleChangeFilter} value={this.props.searchString} autoFocus={Boolean(this.props.searchString)} /> ); }\\n}\\n\\n####"}
{"prompt":"define(['karma-jasmine','argparse','@parcel/markdown-ansi','karma-jasmine-ajax','readable-stream','get-port','cosmiconfig','nanoid','lodash.debounce','del','gzip-size'], function(babelPluginProposalNumericSeparator,sinonChai,parcelMarkdownAnsi,babelPluginTransformUnicodeRegex,readableStream,karmaChai,cosmiconfig,gruntBrowserify,eslintPluginJsxA11Y,rollupPluginTypescript,gzipSize){\\n'use strict'\\nconst {withViewer} = require('@wix/santa-integration-tests') describe('Wix Forms Container', () => { describe('mobile view layout', () => { const verifySubmitBtnBoundingBox = async componentDriverFactory => { const SUBMIT_BTN_ID = 'comp-jhsteujn' const submitBtn = await componentDriverFactory.create(SUBMIT_BTN_ID) const submitBtnBoundingBox = await submitBtn.getBoundingBox() expect(submitBtnBoundingBox.x).toBe(30) expect(submitBtnBoundingBox.y).toBe(456) expect(submitBtnBoundingBox.width).toBe(120) expect(submitBtnBoundingBox.height).toBe(42) } test('should position children correctly with mesh', withViewer({ baseUrl: 'https://yotamb6.wixsite.com/wix-forms-mesh', emulateMobileDevice: true, queryParams: { layoutMechanism: 'mesh' } }, async ({componentDriverFactory}) => { await verifySubmitBtnBoundingBox(componentDriverFactory) })) test('should position children correctly with anchors', withViewer({ baseUrl: 'https://yotamb6.wixsite.com/wix-forms-mesh', emulateMobileDevice: true, queryParams: { layoutMechanism: 'anchors' } }, async ({componentDriverFactory}) => { await verifySubmitBtnBoundingBox(componentDriverFactory) })) })\\n}) \\n})\\n####","completion":" import babelPluginProposalNumericSeparator from 'karma-jasmine'\\nimport sinonChai from 'argparse'\\nimport parcelMarkdownAnsi from '@parcel/markdown-ansi'\\nimport babelPluginTransformUnicodeRegex from 'karma-jasmine-ajax'\\nimport readableStream from 'readable-stream'\\nimport karmaChai from 'get-port'\\nimport cosmiconfig from 'cosmiconfig'\\nimport gruntBrowserify from 'nanoid'\\nimport eslintPluginJsxA11Y from 'lodash.debounce'\\nimport rollupPluginTypescript from 'del'\\nimport gzipSize from 'gzip-size'\\n\\n'use strict'\\nconst {withViewer} = require('@wix/santa-integration-tests') describe('Wix Forms Container', () => { describe('mobile view layout', () => { const verifySubmitBtnBoundingBox = async componentDriverFactory => { const SUBMIT_BTN_ID = 'comp-jhsteujn' const submitBtn = await componentDriverFactory.create(SUBMIT_BTN_ID) const submitBtnBoundingBox = await submitBtn.getBoundingBox() expect(submitBtnBoundingBox.x).toBe(30) expect(submitBtnBoundingBox.y).toBe(456) expect(submitBtnBoundingBox.width).toBe(120) expect(submitBtnBoundingBox.height).toBe(42) } test('should position children correctly with mesh', withViewer({ baseUrl: 'https://yotamb6.wixsite.com/wix-forms-mesh', emulateMobileDevice: true, queryParams: { layoutMechanism: 'mesh' } }, async ({componentDriverFactory}) => { await verifySubmitBtnBoundingBox(componentDriverFactory) })) test('should position children correctly with anchors', withViewer({ baseUrl: 'https://yotamb6.wixsite.com/wix-forms-mesh', emulateMobileDevice: true, queryParams: { layoutMechanism: 'anchors' } }, async ({componentDriverFactory}) => { await verifySubmitBtnBoundingBox(componentDriverFactory) })) })\\n}) \\n####"}
{"prompt":"define(['chownr','ensure-posix-path','webpack','@types/color-convert','babel-plugin-dynamic-import-node','eslint-import-resolver-typescript','fs-extra','@parcel/markdown-ansi'], function(chownr,ensurePosixPath,whatwgUrl,typesColorConvert,babelCore712,emojiRegex,fsExtra,parcelMarkdownAnsi){\\n/* eslint-disable no-process-exit */\\nconst _ = require('lodash')\\nconst fs = require('fs')\\nconst path = require('path')\\nconst mkdirp = require('mkdirp')\\nconst {promisify} = require('util')\\nconst writeFile = promisify(fs.writeFile) const sites = require('./sites')\\nconst componentsBaseline = require('./baseline/components-baseline') const eyesFolder = path.resolve(__dirname, '..', 'test', 'eyes') const writeTestFile = folder => (code, filename) => writeFile(path.resolve(folder, `${filename}.spec.js`), code, 'utf8') async function generateEyesTests() { mkdirp.sync(path.resolve(eyesFolder, 'sites')) const sitesTests = sites.getSitesTests() return Promise.all(_.map(sitesTests, writeTestFile(path.resolve(eyesFolder, 'sites'))))\\n} Promise.all([generateEyesTests(), componentsBaseline()]) .then(arr => { console.log(`generateEyesTests SUCCESS! generated ${_.sum(arr.map(x => x.length))} test files`) process.exit(0) }) .catch(err => { if (process.env.IS_BUILD_AGENT) { console.log(`##teamcity[message text='generateEyesTests failed' errorDetails='${err.stack}' status='ERROR']\\n`, err) } else { console.log('generateEyesTests ERROR!', err) } process.exit(1) })\\n})\\n####","completion":" import chownr from 'chownr'\\nimport ensurePosixPath from 'ensure-posix-path'\\nimport whatwgUrl from 'webpack'\\nimport typesColorConvert from '@types/color-convert'\\nimport babelCore712 from 'babel-plugin-dynamic-import-node'\\nimport emojiRegex from 'eslint-import-resolver-typescript'\\nimport fsExtra from 'fs-extra'\\nimport parcelMarkdownAnsi from '@parcel/markdown-ansi'\\n\\n/* eslint-disable no-process-exit */\\nconst _ = require('lodash')\\nconst fs = require('fs')\\nconst path = require('path')\\nconst mkdirp = require('mkdirp')\\nconst {promisify} = require('util')\\nconst writeFile = promisify(fs.writeFile) const sites = require('./sites')\\nconst componentsBaseline = require('./baseline/components-baseline') const eyesFolder = path.resolve(__dirname, '..', 'test', 'eyes') const writeTestFile = folder => (code, filename) => writeFile(path.resolve(folder, `${filename}.spec.js`), code, 'utf8') async function generateEyesTests() { mkdirp.sync(path.resolve(eyesFolder, 'sites')) const sitesTests = sites.getSitesTests() return Promise.all(_.map(sitesTests, writeTestFile(path.resolve(eyesFolder, 'sites'))))\\n} Promise.all([generateEyesTests(), componentsBaseline()]) .then(arr => { console.log(`generateEyesTests SUCCESS! generated ${_.sum(arr.map(x => x.length))} test files`) process.exit(0) }) .catch(err => { if (process.env.IS_BUILD_AGENT) { console.log(`##teamcity[message text='generateEyesTests failed' errorDetails='${err.stack}' status='ERROR']\\n`, err) } else { console.log('generateEyesTests ERROR!', err) } process.exit(1) })\\n####"}
{"prompt":"define(['clang-format'], function(clangFormat){\\n/* __ __ _____ __ *\\\\n** / // // /_/ |/ / Wix **\\n** / // // / /| / (c) 2006-2017, Wix LTD. **\\n** / // // / // | http://www.wix.com/ **\\n** \\__/|__/_//_/| | **\\n\\* |/ */\\nimport _ from 'lodash'; const menusPremium = { id: 'com.wix.restaurants.menus', param: 'premium'\\n}; /** * Indicates whether the given Organization Full Info has a Premium plan for the Menus product. * * @param full * An Organization Full Info object which will be checked for existence of Premium Menus. * @returns * true, if the given organization has Premium Menus; * false otherwise. */\\nconst hasMenusPremium = ({ full }) => { return _.some(_.get(full, 'restaurant.products', []), menusPremium);\\n}; export default { menusPremium, hasMenusPremium\\n};\\n\\n})\\n####","completion":" import clangFormat from 'clang-format'\\n\\n/* __ __ _____ __ *\\\\n** / // // /_/ |/ / Wix **\\n** / // // / /| / (c) 2006-2017, Wix LTD. **\\n** / // // / // | http://www.wix.com/ **\\n** \\__/|__/_//_/| | **\\n\\* |/ */\\nimport _ from 'lodash'; const menusPremium = { id: 'com.wix.restaurants.menus', param: 'premium'\\n}; /** * Indicates whether the given Organization Full Info has a Premium plan for the Menus product. * * @param full * An Organization Full Info object which will be checked for existence of Premium Menus. * @returns * true, if the given organization has Premium Menus; * false otherwise. */\\nconst hasMenusPremium = ({ full }) => { return _.some(_.get(full, 'restaurant.products', []), menusPremium);\\n}; export default { menusPremium, hasMenusPremium\\n};\\n\\n####"}
{"prompt":"define(['tslint','clean-publish'], function(tslint,cleanPublish){\\nimport sagaReducerFactory from 'saga-reducer-factory';\\nimport { actions, types } from '../actions/filterActions.js';\\nimport { put } from 'redux-saga/effects'; export default sagaParams => { const supportedFilters = { cibus: false, kosher: false, open: false, searchString: null }; const {handle, updateState, saga, reducer} = sagaReducerFactory({ actionTypes: types, actionCreators: actions, initState: supportedFilters }); handle(types.TOGGLE_FILTER, function* (sagaParams, {payload}) { const {type, checked} = payload; if (Object.keys(supportedFilters).indexOf(type) === -1) { throw Error('Unsupported filter', type); } yield put(updateState({ [type]: checked })); }); handle(types.SEARCH_FILTER, function* (sagaParams, {payload}) { yield put(updateState({ searchString: payload })); }); return {saga, reducer};\\n};\\n\\n})\\n####","completion":" import tslint from 'tslint'\\nimport cleanPublish from 'clean-publish'\\n\\nimport sagaReducerFactory from 'saga-reducer-factory';\\nimport { actions, types } from '../actions/filterActions.js';\\nimport { put } from 'redux-saga/effects'; export default sagaParams => { const supportedFilters = { cibus: false, kosher: false, open: false, searchString: null }; const {handle, updateState, saga, reducer} = sagaReducerFactory({ actionTypes: types, actionCreators: actions, initState: supportedFilters }); handle(types.TOGGLE_FILTER, function* (sagaParams, {payload}) { const {type, checked} = payload; if (Object.keys(supportedFilters).indexOf(type) === -1) { throw Error('Unsupported filter', type); } yield put(updateState({ [type]: checked })); }); handle(types.SEARCH_FILTER, function* (sagaParams, {payload}) { yield put(updateState({ searchString: payload })); }); return {saga, reducer};\\n};\\n\\n####"}
{"prompt":"define(['type-fest'], function(nodeReleases){\\nimport { FacebookProxyClient } from '@wix/restaurants-facebook-proxy-client'; class PromisedFB { constructor(FB) { this._FB = FB; } // Promisify the FB.api call api(path, params) { return new Promise((resolve) => this._FB.api(path, params, resolve)); } getAuthResponse() { return this._FB.getAuthResponse(); } getLoginStatus() { return new Promise((resolve) => this._FB.getLoginStatus(resolve)); } isDefined() { return !!this._FB; }\\n} function isLoggedInLocally(promisedFB) { // If no FB loaded, go straight to the proxy if (!promisedFB.isDefined()) { return Promise.resolve(false); } // Already logged in? (getAuthResponse is a synchronous call) let authResponse = promisedFB.getAuthResponse(); if (authResponse && authResponse.accessToken) { return Promise.resolve(true); } else { // See if it's not just stale? return promisedFB.getLoginStatus().then((response) => { return Promise.resolve(response.status === 'connected'); }); }\\n} export default (path, params) => { let promisedFB = new PromisedFB(FB); let remoteFB = new FacebookProxyClient({XMLHttpRequest}); return isLoggedInLocally(promisedFB).then((isLoggedIn) => { if (isLoggedIn) { return promisedFB.api(path, params); } else { return remoteFB.api({path, params}); } });\\n};\\n\\n})\\n####","completion":" import nodeReleases from 'type-fest'\\n\\nimport { FacebookProxyClient } from '@wix/restaurants-facebook-proxy-client'; class PromisedFB { constructor(FB) { this._FB = FB; } // Promisify the FB.api call api(path, params) { return new Promise((resolve) => this._FB.api(path, params, resolve)); } getAuthResponse() { return this._FB.getAuthResponse(); } getLoginStatus() { return new Promise((resolve) => this._FB.getLoginStatus(resolve)); } isDefined() { return !!this._FB; }\\n} function isLoggedInLocally(promisedFB) { // If no FB loaded, go straight to the proxy if (!promisedFB.isDefined()) { return Promise.resolve(false); } // Already logged in? (getAuthResponse is a synchronous call) let authResponse = promisedFB.getAuthResponse(); if (authResponse && authResponse.accessToken) { return Promise.resolve(true); } else { // See if it's not just stale? return promisedFB.getLoginStatus().then((response) => { return Promise.resolve(response.status === 'connected'); }); }\\n} export default (path, params) => { let promisedFB = new PromisedFB(FB); let remoteFB = new FacebookProxyClient({XMLHttpRequest}); return isLoggedInLocally(promisedFB).then((isLoggedIn) => { if (isLoggedIn) { return promisedFB.api(path, params); } else { return remoteFB.api({path, params}); } });\\n};\\n\\n####"}
{"prompt":"define(['broccoli-merge-trees','@types/caniuse-api','@babel/plugin-transform-unicode-regex','grunt-browserify','reamde','d3-dsv','@babel/plugin-transform-for-of','npm-normalize-package-bin','delegates','@babel/plugin-transform-computed-properties','csv-spectrum','@babel/plugin-syntax-top-level-await','@babel/plugin-transform-spread','is-regex','grunt-sass','acorn','@babel/plugin-transform-flow-strip-types','inline-style-prefixer'], function(broccoliMergeTrees,typesCaniuseApi,concatStream,buffer,reamde,regexpuFixtures,tapeAwait,d3Interpolate,setimmediate,babelPluginTransformComputedProperties,airtap,babelPluginSyntaxTopLevelAwait,parcelHash,babelPluginTransformClassProperties,coffeescript,parcelResolverDefault,babelPluginTransformFlowStripTypes,foo){\\nimport PropTypes from 'prop-types';\\nimport React from 'react';\\nimport createReactClass from 'create-react-class';\\nimport classNames from 'classnames'; export default createReactClass({ displayName: 'MagnifyingGlass2', PropTypes: { className: PropTypes.string }, render() { return ( <svg className={classNames('magnifying_glass', this.props.className)} width=\\\"23px\\\" height=\\\"24px\\\" viewBox=\\\"0 0 23 24\\\"> <g id=\\\"Symbols\\\" stroke=\\\"none\\\" strokeWidth=\\\"1\\\" fill=\\\"none\\\" fillRule=\\\"evenodd\\\" fillOpacity=\\\"0.5\\\"> <g id=\\\"Magnifying-Glass\\\" transform=\\\"translate(1.000000, 1.000000)\\\" fill=\\\"#000000\\\"> <g id=\\\"Group\\\" transform=\\\"translate(-1.000000, -1.000000)\\\"> <path d=\\\"M14.070959,16.1316192 L20.4887105,22.5493707 L21.0190406,23.0797008 L22.0797008,22.0190406 L21.5493707,21.4887105 L15.2174405,15.1567804 C16.7830894,13.5758026 17.75,11.4008183 17.75,9 C17.75,4.16750844 13.8324916,0.25 9,0.25 C4.16750844,0.25 0.25,4.16750844 0.25,9 C0.25,13.8324916 4.16750844,17.75 9,17.75 C10.8901989,17.75 12.6404114,17.1506469 14.070959,16.1316192 Z M9,1.75 C13.0040644,1.75 16.25,4.99593556 16.25,9 C16.25,13.0040644 13.0040644,16.25 9,16.25 C4.99593556,16.25 1.75,13.0040644 1.75,9 C1.75,4.99593556 4.99593556,1.75 9,1.75 Z\\\" id=\\\"Combined-Shape\\\"></path> </g> </g> </g> </svg> ); },\\n});\\n\\n})\\n####","completion":" import broccoliMergeTrees from 'broccoli-merge-trees'\\nimport typesCaniuseApi from '@types/caniuse-api'\\nimport concatStream from '@babel/plugin-transform-unicode-regex'\\nimport buffer from 'grunt-browserify'\\nimport reamde from 'reamde'\\nimport regexpuFixtures from 'd3-dsv'\\nimport tapeAwait from '@babel/plugin-transform-for-of'\\nimport d3Interpolate from 'npm-normalize-package-bin'\\nimport setimmediate from 'delegates'\\nimport babelPluginTransformComputedProperties from '@babel/plugin-transform-computed-properties'\\nimport airtap from 'csv-spectrum'\\nimport babelPluginSyntaxTopLevelAwait from '@babel/plugin-syntax-top-level-await'\\nimport parcelHash from '@babel/plugin-transform-spread'\\nimport babelPluginTransformClassProperties from 'is-regex'\\nimport coffeescript from 'grunt-sass'\\nimport parcelResolverDefault from 'acorn'\\nimport babelPluginTransformFlowStripTypes from '@babel/plugin-transform-flow-strip-types'\\nimport foo from 'inline-style-prefixer'\\n\\nimport PropTypes from 'prop-types';\\nimport React from 'react';\\nimport createReactClass from 'create-react-class';\\nimport classNames from 'classnames'; export default createReactClass({ displayName: 'MagnifyingGlass2', PropTypes: { className: PropTypes.string }, render() { return ( <svg className={classNames('magnifying_glass', this.props.className)} width=\\\"23px\\\" height=\\\"24px\\\" viewBox=\\\"0 0 23 24\\\"> <g id=\\\"Symbols\\\" stroke=\\\"none\\\" strokeWidth=\\\"1\\\" fill=\\\"none\\\" fillRule=\\\"evenodd\\\" fillOpacity=\\\"0.5\\\"> <g id=\\\"Magnifying-Glass\\\" transform=\\\"translate(1.000000, 1.000000)\\\" fill=\\\"#000000\\\"> <g id=\\\"Group\\\" transform=\\\"translate(-1.000000, -1.000000)\\\"> <path d=\\\"M14.070959,16.1316192 L20.4887105,22.5493707 L21.0190406,23.0797008 L22.0797008,22.0190406 L21.5493707,21.4887105 L15.2174405,15.1567804 C16.7830894,13.5758026 17.75,11.4008183 17.75,9 C17.75,4.16750844 13.8324916,0.25 9,0.25 C4.16750844,0.25 0.25,4.16750844 0.25,9 C0.25,13.8324916 4.16750844,17.75 9,17.75 C10.8901989,17.75 12.6404114,17.1506469 14.070959,16.1316192 Z M9,1.75 C13.0040644,1.75 16.25,4.99593556 16.25,9 C16.25,13.0040644 13.0040644,16.25 9,16.25 C4.99593556,16.25 1.75,13.0040644 1.75,9 C1.75,4.99593556 4.99593556,1.75 9,1.75 Z\\\" id=\\\"Combined-Shape\\\"></path> </g> </g> </g> </svg> ); },\\n});\\n\\n####"}
{"prompt":"define(['travis-deploy-once','esbuild-runner','cheerio'], function(parcelPackagerCss,babelPluginPolyfillCorejs3,karmaQunit){\\nimport filter from 'lodash/filter';\\nimport find from 'lodash/find';\\nimport get from 'lodash/get';\\nimport {createSelector} from 'reselect';\\nimport couponSelector from 'src/selectors/couponSelector.js';\\nimport chargesConditionSelector from 'src/selectors/chargesConditionSelector.js';\\nimport ChargeV2 from '@wix/wixrest-utils/dist/openrest-helpers/ChargeV2.js';\\nimport sha1 from 'js-sha1'; export default createSelector( couponSelector, chargesConditionSelector, (coupon, chargesCondition) => { const {couponCode} = coupon; if (!couponCode) return {}; const couponHashCode = sha1(couponCode); const relevantChargeConditions = filter(chargesCondition, cc => ChargeV2.isChargeRestrictedByCouponHashCode(cc.charge, couponHashCode)); //Might be multiple relevant charges (discount is cloned for multiple tax groups) const chargeCondition = find(relevantChargeConditions, c => c.conditionResult.value) || relevantChargeConditions[0]; if (!chargeCondition) { return { error: { reason: 'nonexistentCoupon' } }; } if (!chargeCondition.conditionResult.value) { const reason = get(chargeCondition.conditionResult.elaborateReasons, '[0]', {}); return { charge: chargeCondition.charge, error: reason }; } return { charge: chargeCondition.charge, couponHashCode, couponCode }; }\\n);\\n\\n})\\n####","completion":" import parcelPackagerCss from 'travis-deploy-once'\\nimport babelPluginPolyfillCorejs3 from 'esbuild-runner'\\nimport karmaQunit from 'cheerio'\\n\\nimport filter from 'lodash/filter';\\nimport find from 'lodash/find';\\nimport get from 'lodash/get';\\nimport {createSelector} from 'reselect';\\nimport couponSelector from 'src/selectors/couponSelector.js';\\nimport chargesConditionSelector from 'src/selectors/chargesConditionSelector.js';\\nimport ChargeV2 from '@wix/wixrest-utils/dist/openrest-helpers/ChargeV2.js';\\nimport sha1 from 'js-sha1'; export default createSelector( couponSelector, chargesConditionSelector, (coupon, chargesCondition) => { const {couponCode} = coupon; if (!couponCode) return {}; const couponHashCode = sha1(couponCode); const relevantChargeConditions = filter(chargesCondition, cc => ChargeV2.isChargeRestrictedByCouponHashCode(cc.charge, couponHashCode)); //Might be multiple relevant charges (discount is cloned for multiple tax groups) const chargeCondition = find(relevantChargeConditions, c => c.conditionResult.value) || relevantChargeConditions[0]; if (!chargeCondition) { return { error: { reason: 'nonexistentCoupon' } }; } if (!chargeCondition.conditionResult.value) { const reason = get(chargeCondition.conditionResult.elaborateReasons, '[0]', {}); return { charge: chargeCondition.charge, error: reason }; } return { charge: chargeCondition.charge, couponHashCode, couponCode }; }\\n);\\n\\n####"}
{"prompt":"define(['is-json'], function(acornJsx){\\n/* This file is purely due to backward compatibility reasons with Santa. Don't use it. It will be removed as soon as we are done with Santa. */\\ndefine(['@wix/santa-ds-libs/src/coreUtils', '@wix/santa-ds-libs/src/utils', 'experiment'], function (coreUtils, utils, experiment) { 'use strict' /** * type {FedopsLogger2} */ const fedopsLogger = { interactionStarted: coreUtils.loggingUtils.fedopsLogger.interactionStarted, interactionEnded: coreUtils.loggingUtils.fedopsLogger.interactionEnded, breadcrumb: utils.integrations.ravenUtils.breadcrumb, captureError: utils.integrations.ravenUtils.captureError } /** * @type {ContextAdapter} */ return { actions: { // eslint-disable-next-line no-unused-vars sendHttpRequest: (url, type, jsonData, body, success, error) => { throw new Error('contextAdapter.actions.sendHttpRequest was called before an implementation was registered') } }, utils: { fedopsLogger }, viewerName: 'santa', experiment }\\n})\\n\\n})\\n####","completion":" import acornJsx from 'is-json'\\n\\n/* This file is purely due to backward compatibility reasons with Santa. Don't use it. It will be removed as soon as we are done with Santa. */\\ndefine(['@wix/santa-ds-libs/src/coreUtils', '@wix/santa-ds-libs/src/utils', 'experiment'], function (coreUtils, utils, experiment) { 'use strict' /** * type {FedopsLogger2} */ const fedopsLogger = { interactionStarted: coreUtils.loggingUtils.fedopsLogger.interactionStarted, interactionEnded: coreUtils.loggingUtils.fedopsLogger.interactionEnded, breadcrumb: utils.integrations.ravenUtils.breadcrumb, captureError: utils.integrations.ravenUtils.captureError } /** * @type {ContextAdapter} */ return { actions: { // eslint-disable-next-line no-unused-vars sendHttpRequest: (url, type, jsonData, body, success, error) => { throw new Error('contextAdapter.actions.sendHttpRequest was called before an implementation was registered') } }, utils: { fedopsLogger }, viewerName: 'santa', experiment }\\n})\\n\\n####"}
{"prompt":"define(['cross-env','dotenv-expand','source-map-js','@jridgewell/set-array','flow-copy-source','@types/jest','@babel/plugin-proposal-nullish-coalescing-operator','mock-property','has-flag','husky','entities','@parcel/runtime-react-refresh','pkg-dir','grunt-contrib-copy','globby','detect-libc','clone-deep','@babel/helper-validator-option'], function(crossEnv,stylelintProcessorStyledComponents,sourceMapJs,jridgewellSetArray,inlineSourceMap,gruntContribJshint,isGlob,arrayShuffle,hasFlag,husky,gruntLivescript,c8,babelPluginTransformEs2015ArrowFunctions,cssesc,bundlesize,regjsparser,babelPluginProposalOptionalChaining,tsup){\\nimport { assert } from 'chai';\\nimport { NumberFormatUtils } from '@wix/wixrest-utils';\\nimport selectDisplayableDish from '../../../../src/dashboard/selectors/menuBuilder/selectDisplayableDish'; describe('selectDisplayableDish', () => { beforeEach(() => { NumberFormatUtils.init('en_US'); }); it('select displayable dish', () => { // Given const dish = { id: '1', title: { en_US: 'A dish', }, media: { logo: 'http://www.foo.com/image.png', }, condition: {}, price: 900, }; const organization = { locale: 'en_US', currency: 'USD', }; // When const result = selectDisplayableDish({ organization: { organization }, amimenu: { menu: { items: { [dish.id]: dish, }, }, }, })(dish); // Then assert.deepEqual(result, { id: '1', title: 'A dish', image: 'http://www.foo.com/image.png', price: '$9', disabled: false, labels: [], isSpecial: false, priceCents: 900, condition: {}, }); });\\n});\\n\\n})\\n####","completion":" import crossEnv from 'cross-env'\\nimport stylelintProcessorStyledComponents from 'dotenv-expand'\\nimport sourceMapJs from 'source-map-js'\\nimport jridgewellSetArray from '@jridgewell/set-array'\\nimport inlineSourceMap from 'flow-copy-source'\\nimport gruntContribJshint from '@types/jest'\\nimport isGlob from '@babel/plugin-proposal-nullish-coalescing-operator'\\nimport arrayShuffle from 'mock-property'\\nimport hasFlag from 'has-flag'\\nimport husky from 'husky'\\nimport gruntLivescript from 'entities'\\nimport c8 from '@parcel/runtime-react-refresh'\\nimport babelPluginTransformEs2015ArrowFunctions from 'pkg-dir'\\nimport cssesc from 'grunt-contrib-copy'\\nimport bundlesize from 'globby'\\nimport regjsparser from 'detect-libc'\\nimport babelPluginProposalOptionalChaining from 'clone-deep'\\nimport tsup from '@babel/helper-validator-option'\\n\\nimport { assert } from 'chai';\\nimport { NumberFormatUtils } from '@wix/wixrest-utils';\\nimport selectDisplayableDish from '../../../../src/dashboard/selectors/menuBuilder/selectDisplayableDish'; describe('selectDisplayableDish', () => { beforeEach(() => { NumberFormatUtils.init('en_US'); }); it('select displayable dish', () => { // Given const dish = { id: '1', title: { en_US: 'A dish', }, media: { logo: 'http://www.foo.com/image.png', }, condition: {}, price: 900, }; const organization = { locale: 'en_US', currency: 'USD', }; // When const result = selectDisplayableDish({ organization: { organization }, amimenu: { menu: { items: { [dish.id]: dish, }, }, }, })(dish); // Then assert.deepEqual(result, { id: '1', title: 'A dish', image: 'http://www.foo.com/image.png', price: '$9', disabled: false, labels: [], isSpecial: false, priceCents: 900, condition: {}, }); });\\n});\\n\\n####"}
{"prompt":"define(['node-jsx','@types/parse-json','clone','classnames','ansi-html-community','lodash.uniq','argparse','constants-browserify','@types/long','babel-plugin-polyfill-corejs2','svg-term-cli'], function(coreUtilIs,typesParseJson,clone,classnames,ansiHtmlCommunity,lodashUniq,sinonChai,constantsBrowserify,typesLong,ses,del){\\nrequire('./Description.css'); import {I18n} from '@wix/wixrest-utils';\\nimport Availability from './Availability.js';\\nimport _ from 'lodash';\\nvar classNames = require('classnames'); let {I18N_UGSTR} = I18n.getComponentHeader('openrest_itemview_'); export default class extends React.Component { static displayName = 'ItemView.Description'; render() { let { item, hidden } = this.props; let description = I18N_UGSTR(item.description); const {availability, condition, displayCondition} = this.props.item; const _availability = _.get(condition, 'conditions[3].availability', null) || _.get(displayCondition, 'conditions[3].availability', null) || availability; let linebetween = null; if (description && _availability && _availability.weekly) { linebetween = <div className='linebetween'></div>; } return ( <div className={classNames([ 'openrest_itemView_Description_wrapper', {hidden: hidden} ])}> <div className='innerDescription'> {description} </div> {linebetween} <Availability availability={_availability} /> </div> ); }\\n}\\n\\n})\\n####","completion":" import coreUtilIs from 'node-jsx'\\nimport typesParseJson from '@types/parse-json'\\nimport clone from 'clone'\\nimport classnames from 'classnames'\\nimport ansiHtmlCommunity from 'ansi-html-community'\\nimport lodashUniq from 'lodash.uniq'\\nimport sinonChai from 'argparse'\\nimport constantsBrowserify from 'constants-browserify'\\nimport typesLong from '@types/long'\\nimport ses from 'babel-plugin-polyfill-corejs2'\\nimport del from 'svg-term-cli'\\n\\nrequire('./Description.css'); import {I18n} from '@wix/wixrest-utils';\\nimport Availability from './Availability.js';\\nimport _ from 'lodash';\\nvar classNames = require('classnames'); let {I18N_UGSTR} = I18n.getComponentHeader('openrest_itemview_'); export default class extends React.Component { static displayName = 'ItemView.Description'; render() { let { item, hidden } = this.props; let description = I18N_UGSTR(item.description); const {availability, condition, displayCondition} = this.props.item; const _availability = _.get(condition, 'conditions[3].availability', null) || _.get(displayCondition, 'conditions[3].availability', null) || availability; let linebetween = null; if (description && _availability && _availability.weekly) { linebetween = <div className='linebetween'></div>; } return ( <div className={classNames([ 'openrest_itemView_Description_wrapper', {hidden: hidden} ])}> <div className='innerDescription'> {description} </div> {linebetween} <Availability availability={_availability} /> </div> ); }\\n}\\n\\n####"}
{"prompt":"define(['@babel/helper-validator-option','babel-plugin-transform-es2015-destructuring','postcss-normalize-whitespace','array-shuffle','pinkie-promise','@parcel/core','@babel/helper-simple-access','@babel/plugin-transform-literals','everything.js','@babel/preset-flow','babel-plugin-transform-decorators-legacy'], function(tsup,mapboxCloudfriend,postcssNormalizeWhitespace,ungapUrlSearchParams,wdioJasmineFramework,seleniumWebdriver,stable,babelPluginTransformLiterals,gruntMochaCov,babelPresetFlow,babelPluginTransformDecoratorsLegacy){\\nimport sinon from 'sinon';\\nimport {SecretsService} from '../../src/services/SecretsService.js';\\nimport {assert} from 'chai'; describe('SecretsService', () => { it('getCreditcardsDetails', async () => { const restClient = sinon.stub(); restClient .withArgs('/organizations/1/secrets', 'get', null, 'token') .returns(Promise.resolve({ properties: { \\\"com.wix.restaurants.creditcards\\\": \\\"{\\\\\"gatewayId\\\\\":\\\\\"com.braintreegateway\\\\\",\\\\\"merchantKeys\\\\\":{\\\\\"com.braintreegateway\\\\\":\\\\\"{\\\\\\\\\"apiKey\\\\\\\\\":\\\\\\\\\"braintreeKey\\\\\\\\\"}\\\\\"}}\\\" } })); const service = new SecretsService({restClient, secrets: {accessToken: 'token'}}); const orgSecrets = await service.getOrganizationSecrets('1'); const details = orgSecrets.getCreditcardsDetails('1'); assert.deepEqual(details, { gatewayId: 'com.braintreegateway', merchantKeys: { apiKey: 'braintreeKey' } }); });\\n});\\n\\n})\\n####","completion":" import tsup from '@babel/helper-validator-option'\\nimport mapboxCloudfriend from 'babel-plugin-transform-es2015-destructuring'\\nimport postcssNormalizeWhitespace from 'postcss-normalize-whitespace'\\nimport ungapUrlSearchParams from 'array-shuffle'\\nimport wdioJasmineFramework from 'pinkie-promise'\\nimport seleniumWebdriver from '@parcel/core'\\nimport stable from '@babel/helper-simple-access'\\nimport babelPluginTransformLiterals from '@babel/plugin-transform-literals'\\nimport gruntMochaCov from 'everything.js'\\nimport babelPresetFlow from '@babel/preset-flow'\\nimport babelPluginTransformDecoratorsLegacy from 'babel-plugin-transform-decorators-legacy'\\n\\nimport sinon from 'sinon';\\nimport {SecretsService} from '../../src/services/SecretsService.js';\\nimport {assert} from 'chai'; describe('SecretsService', () => { it('getCreditcardsDetails', async () => { const restClient = sinon.stub(); restClient .withArgs('/organizations/1/secrets', 'get', null, 'token') .returns(Promise.resolve({ properties: { \\\"com.wix.restaurants.creditcards\\\": \\\"{\\\\\"gatewayId\\\\\":\\\\\"com.braintreegateway\\\\\",\\\\\"merchantKeys\\\\\":{\\\\\"com.braintreegateway\\\\\":\\\\\"{\\\\\\\\\"apiKey\\\\\\\\\":\\\\\\\\\"braintreeKey\\\\\\\\\"}\\\\\"}}\\\" } })); const service = new SecretsService({restClient, secrets: {accessToken: 'token'}}); const orgSecrets = await service.getOrganizationSecrets('1'); const details = orgSecrets.getCreditcardsDetails('1'); assert.deepEqual(details, { gatewayId: 'com.braintreegateway', merchantKeys: { apiKey: 'braintreeKey' } }); });\\n});\\n\\n####"}
{"prompt":"define(['immutable','color','browserslist','commonjs-everywhere','deep-equal','reamde','node-addon-api','babel-plugin-polyfill-regenerator','@types/deep-equal','@my-scope/package-a','@babel/plugin-bugfix-safari-id-destructuring-collision-in-function-expression','standard-version','@antfu/eslint-config-ts','foreach','terminal-link','lilconfig'], function(astring,color,browserslist,agentBase,typesArgparse,reamde,babelPluginIstanbul,babelPluginPolyfillRegenerator,preSuf,myScopePackageA,babelPluginBugfixSafariIdDestructuringCollisionInFunctionExpression,standardVersion,parcelBabelRegister,babelPluginTransformTypeofSymbol,terminalLink,lilconfig){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.wix.com/demone2/handyman (48)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/handyman', emulateMobileDevice: true, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/48-handyman/mesh/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import astring from 'immutable'\\nimport color from 'color'\\nimport browserslist from 'browserslist'\\nimport agentBase from 'commonjs-everywhere'\\nimport typesArgparse from 'deep-equal'\\nimport reamde from 'reamde'\\nimport babelPluginIstanbul from 'node-addon-api'\\nimport babelPluginPolyfillRegenerator from 'babel-plugin-polyfill-regenerator'\\nimport preSuf from '@types/deep-equal'\\nimport myScopePackageA from '@my-scope/package-a'\\nimport babelPluginBugfixSafariIdDestructuringCollisionInFunctionExpression from '@babel/plugin-bugfix-safari-id-destructuring-collision-in-function-expression'\\nimport standardVersion from 'standard-version'\\nimport parcelBabelRegister from '@antfu/eslint-config-ts'\\nimport babelPluginTransformTypeofSymbol from 'foreach'\\nimport terminalLink from 'terminal-link'\\nimport lilconfig from 'lilconfig'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.wix.com/demone2/handyman (48)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/handyman', emulateMobileDevice: true, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/48-handyman/mesh/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['acorn','jest-cli','@ampproject/remapping','a','gulp-flatten','@babel/plugin-transform-reserved-words','commander','unicode-10.0.0','has-unicode','pngjs','eslint-plugin-no-only-tests','babel-eslint','d3-random','babel-plugin-transform-es2015-spread'], function(parcelResolverDefault,jestCli,typesSeedrandom,jsdocToMarkdown,gulpFlatten,babelPluginTransformReservedWords,commander,unicode1000,hasUnicode,functionBind,eslintPluginNoOnlyTests,gruntBabel,requireIni,through){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.wix.com/demone2/traveler-blog (27)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/traveler-blog', emulateMobileDevice: true, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/27-traveler-blog/mesh/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import parcelResolverDefault from 'acorn'\\nimport jestCli from 'jest-cli'\\nimport typesSeedrandom from '@ampproject/remapping'\\nimport jsdocToMarkdown from 'a'\\nimport gulpFlatten from 'gulp-flatten'\\nimport babelPluginTransformReservedWords from '@babel/plugin-transform-reserved-words'\\nimport commander from 'commander'\\nimport unicode1000 from 'unicode-10.0.0'\\nimport hasUnicode from 'has-unicode'\\nimport functionBind from 'pngjs'\\nimport eslintPluginNoOnlyTests from 'eslint-plugin-no-only-tests'\\nimport gruntBabel from 'babel-eslint'\\nimport requireIni from 'd3-random'\\nimport through from 'babel-plugin-transform-es2015-spread'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.wix.com/demone2/traveler-blog (27)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/traveler-blog', emulateMobileDevice: true, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/27-traveler-blog/mesh/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['postcss-reduce-initial','colorette','babel-minify','regenerate','@babel/core-7.12','twist','eslint-config-ostai','karma-ie-launcher','immutable','eslint-config-moxy','regexpu-fixtures','https-browserify','faster-stable-stringify'], function(typesD3Selection,colorette,babelMinify,regenerate,long,webpackCli,brfs,gruntSass,astring,babelTypes,typesJsesc,caniuseApi,opn){\\nimport PropTypes from 'prop-types';\\nimport React from 'react';\\nimport css from './Premises.icss';\\nimport Input from 'src/components/Input.js';\\nimport _ from 'lodash'; export default function Premises(props) { const {organization, onPremisesSet, value} = props; const deliveryInfo = _.find(organization.deliveryInfos, d => d.type === 'premises') || {}; const question = JSON.parse((deliveryInfo.properties || {})['com.wixrestaurants'] || '{}')['comment.question']; if (!question) { return null; } return ( <div className={css.wrapper}> <Input displayType = 'mobile' title = {question} onChange = {e => onPremisesSet(e)} value = {value.where} required = {true} success = {!!value.where} error = {!_.isUndefined(value.where) && !value.where} /> </div> );\\n} Premises.displayName = 'web.checkout.Premises';\\nPremises.propTypes = { onPremisesSet: PropTypes.func.isRequired\\n}; \\n})\\n####","completion":" import typesD3Selection from 'postcss-reduce-initial'\\nimport colorette from 'colorette'\\nimport babelMinify from 'babel-minify'\\nimport regenerate from 'regenerate'\\nimport long from '@babel/core-7.12'\\nimport webpackCli from 'twist'\\nimport brfs from 'eslint-config-ostai'\\nimport gruntSass from 'karma-ie-launcher'\\nimport astring from 'immutable'\\nimport babelTypes from 'eslint-config-moxy'\\nimport typesJsesc from 'regexpu-fixtures'\\nimport caniuseApi from 'https-browserify'\\nimport opn from 'faster-stable-stringify'\\n\\nimport PropTypes from 'prop-types';\\nimport React from 'react';\\nimport css from './Premises.icss';\\nimport Input from 'src/components/Input.js';\\nimport _ from 'lodash'; export default function Premises(props) { const {organization, onPremisesSet, value} = props; const deliveryInfo = _.find(organization.deliveryInfos, d => d.type === 'premises') || {}; const question = JSON.parse((deliveryInfo.properties || {})['com.wixrestaurants'] || '{}')['comment.question']; if (!question) { return null; } return ( <div className={css.wrapper}> <Input displayType = 'mobile' title = {question} onChange = {e => onPremisesSet(e)} value = {value.where} required = {true} success = {!!value.where} error = {!_.isUndefined(value.where) && !value.where} /> </div> );\\n} Premises.displayName = 'web.checkout.Premises';\\nPremises.propTypes = { onPremisesSet: PropTypes.func.isRequired\\n}; \\n####"}
{"prompt":"define(['postcss-normalize-unicode','unorm','d3-selection','bundt','regenerator-runtime','bluebird'], function(postcssNormalizeUnicode,parcelPackagerHtml,sass,bundt,regeneratorRuntime,parcelRuntimeJs){\\ndefine(['lodash', 'platformAPI'], function (_, platformAPI) { 'use strict' const getFunctionsForObj = function (path, api) { return _.reduce( _.get(api, path), function (result, value, key) { const newPath = path.concat([key]) if (_.isFunction(value) || !_.isObject(value)) { result[newPath.join('.')] = value return result } return _.merge(result, getFunctionsForObj(newPath, api)) }, {} ) } function bindApiMethods(dataStructure, boundArgs) { if (_.isFunction(dataStructure)) { return _.partial(dataStructure, boundArgs) } if (_.isObject(dataStructure)) { return _.mapValues(dataStructure, function (childData) { return bindApiMethods(childData, boundArgs) }) } return dataStructure } const getAPIForSDK = function (apiToMerge) { const dsAPI = bindApiMethods({document: platformAPI}, window.documentServices) apiToMerge = apiToMerge || {} _.merge(dsAPI.document, apiToMerge) return _(dsAPI) .merge(apiToMerge) .merge(apiToMerge.editor) .reduce(function (result, value, key, api) { return _.assign(result, getFunctionsForObj([key], api)) }, {}) } return { getAPIForSDK }\\n})\\n\\n})\\n####","completion":" import postcssNormalizeUnicode from 'postcss-normalize-unicode'\\nimport parcelPackagerHtml from 'unorm'\\nimport sass from 'd3-selection'\\nimport bundt from 'bundt'\\nimport regeneratorRuntime from 'regenerator-runtime'\\nimport parcelRuntimeJs from 'bluebird'\\n\\ndefine(['lodash', 'platformAPI'], function (_, platformAPI) { 'use strict' const getFunctionsForObj = function (path, api) { return _.reduce( _.get(api, path), function (result, value, key) { const newPath = path.concat([key]) if (_.isFunction(value) || !_.isObject(value)) { result[newPath.join('.')] = value return result } return _.merge(result, getFunctionsForObj(newPath, api)) }, {} ) } function bindApiMethods(dataStructure, boundArgs) { if (_.isFunction(dataStructure)) { return _.partial(dataStructure, boundArgs) } if (_.isObject(dataStructure)) { return _.mapValues(dataStructure, function (childData) { return bindApiMethods(childData, boundArgs) }) } return dataStructure } const getAPIForSDK = function (apiToMerge) { const dsAPI = bindApiMethods({document: platformAPI}, window.documentServices) apiToMerge = apiToMerge || {} _.merge(dsAPI.document, apiToMerge) return _(dsAPI) .merge(apiToMerge) .merge(apiToMerge.editor) .reduce(function (result, value, key, api) { return _.assign(result, getFunctionsForObj([key], api)) }, {}) } return { getAPIForSDK }\\n})\\n\\n####"}
{"prompt":"define(['@npmcli/template-oss','ember-cli-dependency-checker','boolbase','d3-polygon','fast-deep-equal','q','has-property-descriptors','clone-deep','d3-color','typescript','topojson-client','preact','get-port','@unicode/unicode-14.0.0','babel-plugin-transform-decorators-legacy','rsvp','has-tostringtag','domelementtype','@tensorflow/tfjs-backend-webgl','@babel/plugin-proposal-class-properties'], function(npmcliTemplateOss,codecovIo,eslintConfigBabel,d3Polygon,boolbase,babelPluginTransformObjectSuper,hasPropertyDescriptors,babelPluginProposalOptionalChaining,postcssCalc,googleProtobuf,d3Quadtree,preact,karmaChai,ejs,babelPluginTransformDecoratorsLegacy,pathParse,hasTostringtag,objectIs,tensorflowTfjsBackendWebgl,babelPluginSyntaxClassStaticBlock){\\nimport 'babel-polyfill';\\nimport wixRunMode from 'wix-run-mode';\\nimport fetch from 'node-fetch';\\nimport hostConfig from './config';\\nimport bodyParser from 'body-parser'; module.exports = (app, context) => { context.config.load('restaurants-beta-router'); app.use(bodyParser.json({limit: '16mb'})); app.post('/ssr', wrapAsync(async (req, res) => { const isProduction = wixRunMode.isProduction(); let body = req.body || {}; const { type } = body || {}; if (!type || !hostConfig[type]) { console.error('No type in body'); res.status(500).send('[ERROR] missing parameter: type'); return; } const url = isProduction ? hostConfig[type] : hostConfig.local + '/'; try { const ssrResponse = await fetch(url, { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify(body) }).then(obj => obj.json()); res.send(ssrResponse); } catch (err) { console.error('[ERROR] failed to fetch ssr', err); res.status(500).send(err.message); } })); return app;\\n}; function wrapAsync(asyncFn) { return (req, res, next) => asyncFn(req, res, next).catch(next);\\n}\\n\\n})\\n####","completion":" import npmcliTemplateOss from '@npmcli/template-oss'\\nimport codecovIo from 'ember-cli-dependency-checker'\\nimport eslintConfigBabel from 'boolbase'\\nimport d3Polygon from 'd3-polygon'\\nimport boolbase from 'fast-deep-equal'\\nimport babelPluginTransformObjectSuper from 'q'\\nimport hasPropertyDescriptors from 'has-property-descriptors'\\nimport babelPluginProposalOptionalChaining from 'clone-deep'\\nimport postcssCalc from 'd3-color'\\nimport googleProtobuf from 'typescript'\\nimport d3Quadtree from 'topojson-client'\\nimport preact from 'preact'\\nimport karmaChai from 'get-port'\\nimport ejs from '@unicode/unicode-14.0.0'\\nimport babelPluginTransformDecoratorsLegacy from 'babel-plugin-transform-decorators-legacy'\\nimport pathParse from 'rsvp'\\nimport hasTostringtag from 'has-tostringtag'\\nimport objectIs from 'domelementtype'\\nimport tensorflowTfjsBackendWebgl from '@tensorflow/tfjs-backend-webgl'\\nimport babelPluginSyntaxClassStaticBlock from '@babel/plugin-proposal-class-properties'\\n\\nimport 'babel-polyfill';\\nimport wixRunMode from 'wix-run-mode';\\nimport fetch from 'node-fetch';\\nimport hostConfig from './config';\\nimport bodyParser from 'body-parser'; module.exports = (app, context) => { context.config.load('restaurants-beta-router'); app.use(bodyParser.json({limit: '16mb'})); app.post('/ssr', wrapAsync(async (req, res) => { const isProduction = wixRunMode.isProduction(); let body = req.body || {}; const { type } = body || {}; if (!type || !hostConfig[type]) { console.error('No type in body'); res.status(500).send('[ERROR] missing parameter: type'); return; } const url = isProduction ? hostConfig[type] : hostConfig.local + '/'; try { const ssrResponse = await fetch(url, { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify(body) }).then(obj => obj.json()); res.send(ssrResponse); } catch (err) { console.error('[ERROR] failed to fetch ssr', err); res.status(500).send(err.message); } })); return app;\\n}; function wrapAsync(asyncFn) { return (req, res, next) => asyncFn(req, res, next).catch(next);\\n}\\n\\n####"}
{"prompt":"define(['@babel/plugin-transform-regenerator','minimist','c8','babel-plugin-transform-class-properties','@parcel/graph','@ls-lint/ls-lint','@babel/parser','color-name','@docusaurus/core','@mapbox/node-pre-gyp','gzip-size','cogent','eslint-config-dev','read-dir-files','tar'], function(bazelTypescript,minimist,npmpub,d3Selection,parcelGraph,webpack,babelPluginSyntaxJsonStrings,expectJsx,gulpBump,chaiSubset,gzipSize,cogent,eslintConfigDev,readDirFiles,typesSvgo){\\nimport { assert } from 'chai'; export default function mockMiniHomeRequest() { let calledModuleName, calledVerticalName, calledCfg; window.ModuleRegistry = { getModule: (moduleName) => ({ config(verticalModule, minihomeCfg) { calledModuleName = moduleName; calledVerticalName = verticalModule; calledCfg = minihomeCfg; }, }), }; return { verify({ expectedCfg, match = false }) { assert.equal( calledModuleName, 'HOME', \\\"should call getModule with 'HOME'\\\", ); assert.equal( calledVerticalName, 'RESTAURANTS', \\\"should call config with 'RESTAURANTS'\\\", ); return calledCfg.setupWidgetConfig().then((cfg) => { if (match) { assert.shallowDeepEqual( cfg, expectedCfg, 'passed Home the wrong configuration', ); } else { assert.deepEqual( cfg, expectedCfg, 'passed Home the wrong configuration', ); } }); }, };\\n}\\n\\n})\\n####","completion":" import bazelTypescript from '@babel/plugin-transform-regenerator'\\nimport minimist from 'minimist'\\nimport npmpub from 'c8'\\nimport d3Selection from 'babel-plugin-transform-class-properties'\\nimport parcelGraph from '@parcel/graph'\\nimport webpack from '@ls-lint/ls-lint'\\nimport babelPluginSyntaxJsonStrings from '@babel/parser'\\nimport expectJsx from 'color-name'\\nimport gulpBump from '@docusaurus/core'\\nimport chaiSubset from '@mapbox/node-pre-gyp'\\nimport gzipSize from 'gzip-size'\\nimport cogent from 'cogent'\\nimport eslintConfigDev from 'eslint-config-dev'\\nimport readDirFiles from 'read-dir-files'\\nimport typesSvgo from 'tar'\\n\\nimport { assert } from 'chai'; export default function mockMiniHomeRequest() { let calledModuleName, calledVerticalName, calledCfg; window.ModuleRegistry = { getModule: (moduleName) => ({ config(verticalModule, minihomeCfg) { calledModuleName = moduleName; calledVerticalName = verticalModule; calledCfg = minihomeCfg; }, }), }; return { verify({ expectedCfg, match = false }) { assert.equal( calledModuleName, 'HOME', \\\"should call getModule with 'HOME'\\\", ); assert.equal( calledVerticalName, 'RESTAURANTS', \\\"should call config with 'RESTAURANTS'\\\", ); return calledCfg.setupWidgetConfig().then((cfg) => { if (match) { assert.shallowDeepEqual( cfg, expectedCfg, 'passed Home the wrong configuration', ); } else { assert.deepEqual( cfg, expectedCfg, 'passed Home the wrong configuration', ); } }); }, };\\n}\\n\\n####"}
{"prompt":"define(['mock-require','@babel/plugin-syntax-import-assertions','unicode-match-property-ecmascript','weak-lru-cache'], function(mockRequire,jridgewellResolveUri,unicodeMatchPropertyEcmascript,eslintConfigMoxy){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.wix.com/demone2/digital-advertising (47)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/digital-advertising', emulateMobileDevice: false, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/47-digital-advertising-agency/mesh/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import mockRequire from 'mock-require'\\nimport jridgewellResolveUri from '@babel/plugin-syntax-import-assertions'\\nimport unicodeMatchPropertyEcmascript from 'unicode-match-property-ecmascript'\\nimport eslintConfigMoxy from 'weak-lru-cache'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.wix.com/demone2/digital-advertising (47)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/digital-advertising', emulateMobileDevice: false, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/47-digital-advertising-agency/mesh/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['uglifyjs','qunitjs','@parcel/transformer-html','idb','reamde','grunt-contrib-concat','available-regexp-flags','knox'], function(cssnanoUtils,gitbook,parcelTransformerHtml,isJson,reamde,babelPluginProposalPrivateMethods,availableRegexpFlags,eventTargetShim){\\nimport React, {Component} from 'react';\\nimport s from './TdsModalWrapper.icss';\\nimport { SvgX } from '@wix/restaurants-components/svg';\\nimport TdsModalWrapper from 'src/shared/tdsModal/TdsModalWrapperHoc'; @TdsModalWrapper\\nexport default class TdsModal extends Component { render() { const { onClose, hasMultipleChallenges, lastDigitsTxt, currentStepTxt, children } = this.props; return ( <div className={s.wrapper}> <div className={s.header}> {hasMultipleChallenges && ( <span data-hook='step' className={s.step}> {currentStepTxt} </span> )} <span data-hook='ccNum' className={s.ccNum}> {lastDigitsTxt} </span> <button data-hook=\\\"closeBtn\\\" onClick={onClose} className={s.closeBtn}> <SvgX width={12} height={12} thickness={2} smoothEdges={true} /> </button> </div> <div className={s.divider}/> <div className={s.iframeWrapper}> {children} </div> </div> ); }\\n}\\n\\n})\\n####","completion":" import cssnanoUtils from 'uglifyjs'\\nimport gitbook from 'qunitjs'\\nimport parcelTransformerHtml from '@parcel/transformer-html'\\nimport isJson from 'idb'\\nimport reamde from 'reamde'\\nimport babelPluginProposalPrivateMethods from 'grunt-contrib-concat'\\nimport availableRegexpFlags from 'available-regexp-flags'\\nimport eventTargetShim from 'knox'\\n\\nimport React, {Component} from 'react';\\nimport s from './TdsModalWrapper.icss';\\nimport { SvgX } from '@wix/restaurants-components/svg';\\nimport TdsModalWrapper from 'src/shared/tdsModal/TdsModalWrapperHoc'; @TdsModalWrapper\\nexport default class TdsModal extends Component { render() { const { onClose, hasMultipleChallenges, lastDigitsTxt, currentStepTxt, children } = this.props; return ( <div className={s.wrapper}> <div className={s.header}> {hasMultipleChallenges && ( <span data-hook='step' className={s.step}> {currentStepTxt} </span> )} <span data-hook='ccNum' className={s.ccNum}> {lastDigitsTxt} </span> <button data-hook=\\\"closeBtn\\\" onClick={onClose} className={s.closeBtn}> <SvgX width={12} height={12} thickness={2} smoothEdges={true} /> </button> </div> <div className={s.divider}/> <div className={s.iframeWrapper}> {children} </div> </div> ); }\\n}\\n\\n####"}
{"prompt":"define(['airtap','@wdio/sync','@babel/helper-wrap-function','@babel/eslint-parser','path-type','xo','ora','rollup-plugin-typescript2','get-own-property-symbols','pirates','es-to-primitive','merge-stream','livescript','prettier-eslint-cli','type-check','pre-suf','whatwg-url','benchmarked','yargs','array.prototype.map'], function(universalify,wdioSync,lodashDebounce,matcha,delay,xo,ora,rollupPluginTypescript2,getOwnPropertySymbols,pirates,wdioCli,pinkiePromise,jridgewellGenMapping,prettierEslintCli,babelPresetStage0,babelPluginSyntaxPrivatePropertyInObject,wd,benchmarked,unboxPrimitive,arrayPrototypeMap){\\ndefine([ 'lodash', 'documentServices/appStudio/widgetConfigs/appWidgetDefinition.json', 'documentServices/appStudio/widgetConfigs/classicWidgetOverrides.json', 'documentServices/theme/theme', 'documentServices/page/blankPageStructure'\\n], function (_, appWidgetDefinition, classicWidgetOverrides, theme, blankPageStructure) { const createGreyLandingPage = ps => { const color = '#f0f3f5' const blankPage = blankPageStructure.getBlankPageStructure(ps) const pageBackground = blankPageStructure.getBlankBackground() pageBackground.desktop.ref.color = color pageBackground.mobile.ref.color = color blankPage.data.pageBackgrounds = pageBackground delete blankPage.styleId blankPage.style = theme.styles.createStyleItemToAdd(ps, {styleType: 'custom', skin: 'wysiwyg.viewer.skins.page.BasicPageSkin'}) blankPage.style.style.properties.bg = color blankPage.data.isLandingPage = true blankPage.data.isMobileLandingPage = true return blankPage } const appWidgetStructure = _.assign({}, appWidgetDefinition, classicWidgetOverrides) return { getPageStructure: createGreyLandingPage, appWidgetStructure }\\n})\\n\\n})\\n####","completion":" import universalify from 'airtap'\\nimport wdioSync from '@wdio/sync'\\nimport lodashDebounce from '@babel/helper-wrap-function'\\nimport matcha from '@babel/eslint-parser'\\nimport delay from 'path-type'\\nimport xo from 'xo'\\nimport ora from 'ora'\\nimport rollupPluginTypescript2 from 'rollup-plugin-typescript2'\\nimport getOwnPropertySymbols from 'get-own-property-symbols'\\nimport pirates from 'pirates'\\nimport wdioCli from 'es-to-primitive'\\nimport pinkiePromise from 'merge-stream'\\nimport jridgewellGenMapping from 'livescript'\\nimport prettierEslintCli from 'prettier-eslint-cli'\\nimport babelPresetStage0 from 'type-check'\\nimport babelPluginSyntaxPrivatePropertyInObject from 'pre-suf'\\nimport wd from 'whatwg-url'\\nimport benchmarked from 'benchmarked'\\nimport unboxPrimitive from 'yargs'\\nimport arrayPrototypeMap from 'array.prototype.map'\\n\\ndefine([ 'lodash', 'documentServices/appStudio/widgetConfigs/appWidgetDefinition.json', 'documentServices/appStudio/widgetConfigs/classicWidgetOverrides.json', 'documentServices/theme/theme', 'documentServices/page/blankPageStructure'\\n], function (_, appWidgetDefinition, classicWidgetOverrides, theme, blankPageStructure) { const createGreyLandingPage = ps => { const color = '#f0f3f5' const blankPage = blankPageStructure.getBlankPageStructure(ps) const pageBackground = blankPageStructure.getBlankBackground() pageBackground.desktop.ref.color = color pageBackground.mobile.ref.color = color blankPage.data.pageBackgrounds = pageBackground delete blankPage.styleId blankPage.style = theme.styles.createStyleItemToAdd(ps, {styleType: 'custom', skin: 'wysiwyg.viewer.skins.page.BasicPageSkin'}) blankPage.style.style.properties.bg = color blankPage.data.isLandingPage = true blankPage.data.isMobileLandingPage = true return blankPage } const appWidgetStructure = _.assign({}, appWidgetDefinition, classicWidgetOverrides) return { getPageStructure: createGreyLandingPage, appWidgetStructure }\\n})\\n\\n####"}
{"prompt":"define(['define-properties','is-string','postcss-reduce-initial','jscs','msgpackr','mime-types','decache','npm-normalize-package-bin'], function(npmcliEslintConfig,isString,typesD3Selection,jscs,msgpackr,mimeTypes,decache,d3Interpolate){\\n(function (f) { if (typeof exports === \\\"object\\\" && typeof module !== \\\"undefined\\\") { module.exports = f() } else if (typeof define === \\\"function\\\" && define.amd) { define([], f) } else { var g; if (typeof window !== \\\"undefined\\\") { g = window } else if (typeof global !== \\\"undefined\\\") { g = global } else if (typeof self !== \\\"undefined\\\") { g = self } else { g = this } g.TestModule = f() } })(function () { var define, module, exports; return (function () { function r(e, n, t) { function o(i, f) { if (!n[i]) { if (!e[i]) { var c = \\\"function\\\" == typeof require && require; if (!f && c) return c(i, !0); if (u) return u(i, !0); var a = new Error(\\\"Cannot find module '\\\" + i + \\\"'\\\"); throw a.code = \\\"MODULE_NOT_FOUND\\\", a } var p = n[i] = { exports: {} }; e[i][0].call(p.exports, function (r) { var n = e[i][1][r]; return o(n || r) }, p, p.exports, r, e, n, t) } return n[i].exports } for (var u = \\\"function\\\" == typeof require && require, i = 0; i < t.length; i++)o(t[i]); return o } return r })()({ 1: [function (require, module, exports) { $w.onReady(() => { testRan = true }) }, {}] }, {}, [1])(1)\\n});\\n})\\n####","completion":" import npmcliEslintConfig from 'define-properties'\\nimport isString from 'is-string'\\nimport typesD3Selection from 'postcss-reduce-initial'\\nimport jscs from 'jscs'\\nimport msgpackr from 'msgpackr'\\nimport mimeTypes from 'mime-types'\\nimport decache from 'decache'\\nimport d3Interpolate from 'npm-normalize-package-bin'\\n\\n(function (f) { if (typeof exports === \\\"object\\\" && typeof module !== \\\"undefined\\\") { module.exports = f() } else if (typeof define === \\\"function\\\" && define.amd) { define([], f) } else { var g; if (typeof window !== \\\"undefined\\\") { g = window } else if (typeof global !== \\\"undefined\\\") { g = global } else if (typeof self !== \\\"undefined\\\") { g = self } else { g = this } g.TestModule = f() } })(function () { var define, module, exports; return (function () { function r(e, n, t) { function o(i, f) { if (!n[i]) { if (!e[i]) { var c = \\\"function\\\" == typeof require && require; if (!f && c) return c(i, !0); if (u) return u(i, !0); var a = new Error(\\\"Cannot find module '\\\" + i + \\\"'\\\"); throw a.code = \\\"MODULE_NOT_FOUND\\\", a } var p = n[i] = { exports: {} }; e[i][0].call(p.exports, function (r) { var n = e[i][1][r]; return o(n || r) }, p, p.exports, r, e, n, t) } return n[i].exports } for (var u = \\\"function\\\" == typeof require && require, i = 0; i < t.length; i++)o(t[i]); return o } return r })()({ 1: [function (require, module, exports) { $w.onReady(() => { testRan = true }) }, {}] }, {}, [1])(1)\\n});\\n####"}
{"prompt":"define(['babel-plugin-transform-es2015-parameters','@parcel/runtime-browser-hmr','grunt-release','shallow-clone','tsd-check','grunt-css-url-embed','@parcel/optimizer-svgo','combined-stream','eslint-config-airbnb-base','string.prototype.trimend','@babel/plugin-transform-unicode-regex','eslint-config-ostai','css-declaration-sorter','@babel/helper-plugin-test-runner','@parcel/fs-search','gts','end-of-stream','@babel/runtime'], function(followRedirects,tsMorph,gruntRelease,inherits,tar,chai,domelementtype,combinedStream,eslintConfigAirbnbBase,stringPrototypeTrimend,concatStream,brfs,preCommit,reactRefresh,parcelFsSearch,gts,ignoreWalk,babelRuntime){\\nconst _ = require('lodash')\\nconst topLevel = require('./topLevelDataNodes')\\nconst javaIntegers = require('./javaIntegers')\\nconst jsIntegers = require('./jsIntegers')\\nconst booleans = require('./booleans')\\nconst nullables = require('./nullables')\\nconst backgroundMedia = require('./backgroundMedia')\\nconst misc = require('./misc')\\nconst enumsWithNullDefaults = require('./enumsWithNullDefaults') function overrideSchemas(schemas, overrides) { schemas = _.cloneDeep(schemas) _.forEach(overrides, ({paths, transform}) => { _.forEach(paths, path => { if (!_.has(schemas, path)) { throw new Error(`Cannot override restricted schema at non-existent path ${path}`) } try { _.update(schemas, path, transform) } catch (e) { throw new Error(`Error while overriding restricted schemas at ${path}: ${e}`) } }) }) return schemas\\n} function getOverrides() { return [jsIntegers, backgroundMedia, nullables, booleans, javaIntegers, topLevel, misc, enumsWithNullDefaults]\\n} module.exports = { overrideSchemas, getOverrides\\n}\\n\\n})\\n####","completion":" import followRedirects from 'babel-plugin-transform-es2015-parameters'\\nimport tsMorph from '@parcel/runtime-browser-hmr'\\nimport gruntRelease from 'grunt-release'\\nimport inherits from 'shallow-clone'\\nimport tar from 'tsd-check'\\nimport chai from 'grunt-css-url-embed'\\nimport domelementtype from '@parcel/optimizer-svgo'\\nimport combinedStream from 'combined-stream'\\nimport eslintConfigAirbnbBase from 'eslint-config-airbnb-base'\\nimport stringPrototypeTrimend from 'string.prototype.trimend'\\nimport concatStream from '@babel/plugin-transform-unicode-regex'\\nimport brfs from 'eslint-config-ostai'\\nimport preCommit from 'css-declaration-sorter'\\nimport reactRefresh from '@babel/helper-plugin-test-runner'\\nimport parcelFsSearch from '@parcel/fs-search'\\nimport gts from 'gts'\\nimport ignoreWalk from 'end-of-stream'\\nimport babelRuntime from '@babel/runtime'\\n\\nconst _ = require('lodash')\\nconst topLevel = require('./topLevelDataNodes')\\nconst javaIntegers = require('./javaIntegers')\\nconst jsIntegers = require('./jsIntegers')\\nconst booleans = require('./booleans')\\nconst nullables = require('./nullables')\\nconst backgroundMedia = require('./backgroundMedia')\\nconst misc = require('./misc')\\nconst enumsWithNullDefaults = require('./enumsWithNullDefaults') function overrideSchemas(schemas, overrides) { schemas = _.cloneDeep(schemas) _.forEach(overrides, ({paths, transform}) => { _.forEach(paths, path => { if (!_.has(schemas, path)) { throw new Error(`Cannot override restricted schema at non-existent path ${path}`) } try { _.update(schemas, path, transform) } catch (e) { throw new Error(`Error while overriding restricted schemas at ${path}: ${e}`) } }) }) return schemas\\n} function getOverrides() { return [jsIntegers, backgroundMedia, nullables, booleans, javaIntegers, topLevel, misc, enumsWithNullDefaults]\\n} module.exports = { overrideSchemas, getOverrides\\n}\\n\\n####"}
{"prompt":"define(['world-atlas','@babel/helper-builder-binary-assignment-operator-visitor','csv-spectrum','knox','pkg-dir','opener'], function(babelPluginProposalObjectRestSpread,babelHelperBuilderBinaryAssignmentOperatorVisitor,airtap,eventTargetShim,babelPluginTransformEs2015ArrowFunctions,opener){\\ndefine(['lodash'], function (_) { 'use strict' const PointerOperation = { GET: 'get', SET: 'set' } const EMPTY_TRANSLATION_DATA = { data: { document_data: {} } } const getCurrentLanguageCode = ps => ps.dal.get(ps.pointers.multilingual.currentLanguageCode()) || null //backwards compatibility of API. See the test for more info const getTranslationLanguages = ps => ps.dal.get(ps.pointers.multilingual.translationLanguages()) ?? [] const generatePageTranslationsData = ps => _.reduce( getTranslationLanguages(ps), (acc, {languageCode}) => { acc[languageCode] = _.cloneDeep(EMPTY_TRANSLATION_DATA) return acc }, {} ) const setCurrentLanguage = (ps, languageCode) => { const {dal, pointers} = ps if (getCurrentLanguageCode(ps) === languageCode) { return } const currentLanguagePointer = pointers.multilingual.currentLanguageCode() dal.set(currentLanguagePointer, languageCode) dal.touch(currentLanguagePointer) } return { PointerOperation, EMPTY_TRANSLATION_DATA, getCurrentLanguageCode, setCurrentLanguage, generatePageTranslationsData }\\n})\\n\\n})\\n####","completion":" import babelPluginProposalObjectRestSpread from 'world-atlas'\\nimport babelHelperBuilderBinaryAssignmentOperatorVisitor from '@babel/helper-builder-binary-assignment-operator-visitor'\\nimport airtap from 'csv-spectrum'\\nimport eventTargetShim from 'knox'\\nimport babelPluginTransformEs2015ArrowFunctions from 'pkg-dir'\\nimport opener from 'opener'\\n\\ndefine(['lodash'], function (_) { 'use strict' const PointerOperation = { GET: 'get', SET: 'set' } const EMPTY_TRANSLATION_DATA = { data: { document_data: {} } } const getCurrentLanguageCode = ps => ps.dal.get(ps.pointers.multilingual.currentLanguageCode()) || null //backwards compatibility of API. See the test for more info const getTranslationLanguages = ps => ps.dal.get(ps.pointers.multilingual.translationLanguages()) ?? [] const generatePageTranslationsData = ps => _.reduce( getTranslationLanguages(ps), (acc, {languageCode}) => { acc[languageCode] = _.cloneDeep(EMPTY_TRANSLATION_DATA) return acc }, {} ) const setCurrentLanguage = (ps, languageCode) => { const {dal, pointers} = ps if (getCurrentLanguageCode(ps) === languageCode) { return } const currentLanguagePointer = pointers.multilingual.currentLanguageCode() dal.set(currentLanguagePointer, languageCode) dal.touch(currentLanguagePointer) } return { PointerOperation, EMPTY_TRANSLATION_DATA, getCurrentLanguageCode, setCurrentLanguage, generatePageTranslationsData }\\n})\\n\\n####"}
{"prompt":"define(['isobject','@babel/plugin-syntax-nullish-coalescing-operator','d3-random','webpack-dev-server','fake','d3-dsv','eslint-config-babel','lint-staged','mock-require','require-yaml','classnames','@parcel/hash','xxhash-wasm','@babel/plugin-transform-computed-properties','@babel/runtime-corejs3','tslint','parse-node-version','browserify-istanbul','regenerator-runtime','mime-types'], function(isobject,babelPluginSyntaxNullishCoalescingOperator,requireIni,relateurl,fake,regexpuFixtures,ttyBrowserify,gauge,mockRequire,requireYaml,classnames,nullthrows,utilDeprecate,babelPluginTransformComputedProperties,semistandard,tslint,cssWhat,lodash,regeneratorRuntime,mimeTypes){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.wix.com/demone2/kids-lifestyle-store (30)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/kids-lifestyle-store', emulateMobileDevice: false, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/30-kids-lifestyle-store/anchors/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import isobject from 'isobject'\\nimport babelPluginSyntaxNullishCoalescingOperator from '@babel/plugin-syntax-nullish-coalescing-operator'\\nimport requireIni from 'd3-random'\\nimport relateurl from 'webpack-dev-server'\\nimport fake from 'fake'\\nimport regexpuFixtures from 'd3-dsv'\\nimport ttyBrowserify from 'eslint-config-babel'\\nimport gauge from 'lint-staged'\\nimport mockRequire from 'mock-require'\\nimport requireYaml from 'require-yaml'\\nimport classnames from 'classnames'\\nimport nullthrows from '@parcel/hash'\\nimport utilDeprecate from 'xxhash-wasm'\\nimport babelPluginTransformComputedProperties from '@babel/plugin-transform-computed-properties'\\nimport semistandard from '@babel/runtime-corejs3'\\nimport tslint from 'tslint'\\nimport cssWhat from 'parse-node-version'\\nimport lodash from 'browserify-istanbul'\\nimport regeneratorRuntime from 'regenerator-runtime'\\nimport mimeTypes from 'mime-types'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.wix.com/demone2/kids-lifestyle-store (30)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/kids-lifestyle-store', emulateMobileDevice: false, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/30-kids-lifestyle-store/anchors/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['@commitlint/config-conventional','react','wrap-ansi','eclint','typedoc','unicode-match-property-value-ecmascript','es-array-method-boxes-properly','@babel/plugin-proposal-class-static-block','read-dir-files'], function(commitlintConfigConventional,react,wrapAnsi,eclint,typedoc,postcssUniqueSelectors,babelCompatData,ansiRegex,readDirFiles){\\n'use strict' const webpack = require('webpack') //eslint-disable-line import/no-extraneous-dependencies describe('warmupUtils', () => { describe('bundle dependencies', () => { let originalTimeout = 0 beforeEach(() => { originalTimeout = jasmine.DEFAULT_TIMEOUT_INTERVAL jasmine.DEFAULT_TIMEOUT_INTERVAL = 20000 }) afterEach(() => { jasmine.DEFAULT_TIMEOUT_INTERVAL = originalTimeout }) it('does not contain a reference to react', done => { webpack({entry: './src/coreUtils/warmupUtils'}, (err, stats) => { if (err) { return done(err) } const dependencies = [...stats.compilation.fileDependencies] const hasReactDependency = dependencies.some(e => e.includes('node_modules/react') ) expect(hasReactDependency).toBe( false, 'Expected not to find a \\\"react*\\\" dependency in the webpack build' ) done() }) }) })\\n})\\n\\n})\\n####","completion":" import commitlintConfigConventional from '@commitlint/config-conventional'\\nimport react from 'react'\\nimport wrapAnsi from 'wrap-ansi'\\nimport eclint from 'eclint'\\nimport typedoc from 'typedoc'\\nimport postcssUniqueSelectors from 'unicode-match-property-value-ecmascript'\\nimport babelCompatData from 'es-array-method-boxes-properly'\\nimport ansiRegex from '@babel/plugin-proposal-class-static-block'\\nimport readDirFiles from 'read-dir-files'\\n\\n'use strict' const webpack = require('webpack') //eslint-disable-line import/no-extraneous-dependencies describe('warmupUtils', () => { describe('bundle dependencies', () => { let originalTimeout = 0 beforeEach(() => { originalTimeout = jasmine.DEFAULT_TIMEOUT_INTERVAL jasmine.DEFAULT_TIMEOUT_INTERVAL = 20000 }) afterEach(() => { jasmine.DEFAULT_TIMEOUT_INTERVAL = originalTimeout }) it('does not contain a reference to react', done => { webpack({entry: './src/coreUtils/warmupUtils'}, (err, stats) => { if (err) { return done(err) } const dependencies = [...stats.compilation.fileDependencies] const hasReactDependency = dependencies.some(e => e.includes('node_modules/react') ) expect(hasReactDependency).toBe( false, 'Expected not to find a \\\"react*\\\" dependency in the webpack build' ) done() }) }) })\\n})\\n\\n####"}
{"prompt":"define(['event-target-shim','babel-plugin-transform-es2015-constants','@types/yargs','core-js-compat','stylelint-processor-styled-components','semantic-release','release-it','opener','grunt-release','postcss-normalize-positions','d3-dispatch','domelementtype','karma-jasmine'], function(convertSourceMap,babelPluginTransformEs2015Constants,typesYargs,parcelCache,betterAjvErrors,csvSpectrum,releaseIt,opener,gruntRelease,codecov,foreach,objectIs,babelPluginProposalNumericSeparator){\\nconst { functional: {createModelBuilder, dsModelFactory}\\n} = require('@wix/bolt-ds-testkit/src/index')\\nconst { getFetchedAppData, getStudioComponent, getPlatformComponent, getStudioWidgetComponent\\n} = require('@wix/document-services-implementation/test/mockViewer/appStudio/appStudioTestUtils')\\nconst appStudio = require('@wix/document-services-implementation/src/appStudio/appStudio')\\nconst coreUtilsLib = require('@wix/santa-core-utils') describe('appStudioFetchAppData', function () { let ps beforeEach(async () => { const modelBuilder = createModelBuilder({defaultPageId: 'rjvq0'}) const model = await dsModelFactory(modelBuilder) ps = model.ps }) describe('fetchAppData', function () { const APP_DEF_ID = 'app-def-id' it('Should return app data', async () => { const appData = getFetchedAppData({ appId: APP_DEF_ID, components: [getStudioComponent(), getStudioWidgetComponent(), getPlatformComponent()] }) spyOn(coreUtilsLib.requestsUtil, 'fetchJson').and.returnValue(Promise.resolve(appData)) const fetchedAppData = await appStudio.fetchAppData(ps, APP_DEF_ID) expect(fetchedAppData).toEqual(appData) }) })\\n})\\n\\n})\\n####","completion":" import convertSourceMap from 'event-target-shim'\\nimport babelPluginTransformEs2015Constants from 'babel-plugin-transform-es2015-constants'\\nimport typesYargs from '@types/yargs'\\nimport parcelCache from 'core-js-compat'\\nimport betterAjvErrors from 'stylelint-processor-styled-components'\\nimport csvSpectrum from 'semantic-release'\\nimport releaseIt from 'release-it'\\nimport opener from 'opener'\\nimport gruntRelease from 'grunt-release'\\nimport codecov from 'postcss-normalize-positions'\\nimport foreach from 'd3-dispatch'\\nimport objectIs from 'domelementtype'\\nimport babelPluginProposalNumericSeparator from 'karma-jasmine'\\n\\nconst { functional: {createModelBuilder, dsModelFactory}\\n} = require('@wix/bolt-ds-testkit/src/index')\\nconst { getFetchedAppData, getStudioComponent, getPlatformComponent, getStudioWidgetComponent\\n} = require('@wix/document-services-implementation/test/mockViewer/appStudio/appStudioTestUtils')\\nconst appStudio = require('@wix/document-services-implementation/src/appStudio/appStudio')\\nconst coreUtilsLib = require('@wix/santa-core-utils') describe('appStudioFetchAppData', function () { let ps beforeEach(async () => { const modelBuilder = createModelBuilder({defaultPageId: 'rjvq0'}) const model = await dsModelFactory(modelBuilder) ps = model.ps }) describe('fetchAppData', function () { const APP_DEF_ID = 'app-def-id' it('Should return app data', async () => { const appData = getFetchedAppData({ appId: APP_DEF_ID, components: [getStudioComponent(), getStudioWidgetComponent(), getPlatformComponent()] }) spyOn(coreUtilsLib.requestsUtil, 'fetchJson').and.returnValue(Promise.resolve(appData)) const fetchedAppData = await appStudio.fetchAppData(ps, APP_DEF_ID) expect(fetchedAppData).toEqual(appData) }) })\\n})\\n\\n####"}
{"prompt":"define(['expect-jsx','babel-preset-latest','es-to-primitive','react-refresh','is-shared-array-buffer','stable'], function(hyperquest,babelPresetLatest,wdioCli,postcssColormin,isSharedArrayBuffer,babelEslint){\\nimport PropTypes from 'prop-types';\\nimport React from 'react';\\nimport classNames from 'classnames';\\nimport './PinIcon.css'; export default class extends React.Component { static displayName = 'PinIcon'; static propTypes = { className: PropTypes.string }; render() { return ( <svg className={classNames('pinIcon', this.props.className)} width=\\\"10px\\\" height=\\\"13px\\\" viewBox=\\\"0 0 10 13\\\"> <g id=\\\"Symbols\\\" stroke=\\\"none\\\" strokeWidth=\\\"1\\\" fill=\\\"none\\\" fillRule=\\\"evenodd\\\"> <g id=\\\"List-Distance\\\"> <g id=\\\"Distance-Pin\\\"> <path d=\\\"M5.00166845,12.9998169 C5.29815408,12.9998169 10.0033361,9.23154624 10.0033371,5.1286368 C10.0033377,2.29617531 7.76401379,0 5.00166853,0 C2.23932328,0 1.40954053e-16,2.29616891 0,5.1286368 C0,9.23154624 4.70518283,12.9998169 5.00166845,12.9998169 Z\\\" id=\\\"Oval-2\\\" fill=\\\"#000000\\\"></path> <circle id=\\\"Oval-13\\\" fill=\\\"#FFFFFF\\\" cx=\\\"5\\\" cy=\\\"5\\\" r=\\\"2\\\"></circle> </g> </g> </g> </svg> ); }\\n}\\n\\n})\\n####","completion":" import hyperquest from 'expect-jsx'\\nimport babelPresetLatest from 'babel-preset-latest'\\nimport wdioCli from 'es-to-primitive'\\nimport postcssColormin from 'react-refresh'\\nimport isSharedArrayBuffer from 'is-shared-array-buffer'\\nimport babelEslint from 'stable'\\n\\nimport PropTypes from 'prop-types';\\nimport React from 'react';\\nimport classNames from 'classnames';\\nimport './PinIcon.css'; export default class extends React.Component { static displayName = 'PinIcon'; static propTypes = { className: PropTypes.string }; render() { return ( <svg className={classNames('pinIcon', this.props.className)} width=\\\"10px\\\" height=\\\"13px\\\" viewBox=\\\"0 0 10 13\\\"> <g id=\\\"Symbols\\\" stroke=\\\"none\\\" strokeWidth=\\\"1\\\" fill=\\\"none\\\" fillRule=\\\"evenodd\\\"> <g id=\\\"List-Distance\\\"> <g id=\\\"Distance-Pin\\\"> <path d=\\\"M5.00166845,12.9998169 C5.29815408,12.9998169 10.0033361,9.23154624 10.0033371,5.1286368 C10.0033377,2.29617531 7.76401379,0 5.00166853,0 C2.23932328,0 1.40954053e-16,2.29616891 0,5.1286368 C0,9.23154624 4.70518283,12.9998169 5.00166845,12.9998169 Z\\\" id=\\\"Oval-2\\\" fill=\\\"#000000\\\"></path> <circle id=\\\"Oval-13\\\" fill=\\\"#FFFFFF\\\" cx=\\\"5\\\" cy=\\\"5\\\" r=\\\"2\\\"></circle> </g> </g> </g> </svg> ); }\\n}\\n\\n####"}
{"prompt":"define(['eslint-plugin-jsdoc','ncp','grunt-release','@babel/helper-replace-supers','@parcel/optimizer-terser','pre-suf','fs-extra','babel6-plugin-strip-class-callcheck','@babel/helper-skip-transparent-expression-wrappers','tslint-no-circular-imports','stylelint-config-standard','typescript-register','json-to-ast','has-unicode','cheerio-soupselect','gulp-rename'], function(eslintPluginJsdoc,jsonDiff,gruntRelease,formidable,parcelOptimizerTerser,babelPluginSyntaxPrivatePropertyInObject,fsExtra,babel6PluginStripClassCallcheck,nodeJsx,tslintNoCircularImports,d3Time,typescriptRegister,babelPluginTransformDotallRegex,hasUnicode,karmaChromeLauncher,gulpRename){\\nimport React from 'react';\\nimport { storiesOf } from '@storybook/react';\\nimport Quantity from '../../src/components/Quantity';\\nimport { withRTL } from '../withRTL'; const wrapper = { margin: 20,\\n}; class QuantityStory extends React.PureComponent { state = { value: 5 }; render() { return ( <React.Fragment> <div style={wrapper}> <Quantity value={this.state.value} onUpClick={() => this.setState({ value: this.state.value + 1 })} onDownClick={() => this.setState({ value: this.state.value - 1 })} min={1} max={111} /> </div> <div style={wrapper}> <Quantity small allowDelete value={this.state.value} onUpClick={() => this.setState({ value: this.state.value + 1 })} onDownClick={() => this.setState({ value: this.state.value - 1 })} min={1} max={111} /> </div> </React.Fragment> ); }\\n} const RTLQuantityStory = withRTL(QuantityStory); storiesOf('Generic Components', module).add('Quantity', () => ( <React.Fragment> <QuantityStory /> <RTLQuantityStory /> </React.Fragment>\\n));\\n\\n})\\n####","completion":" import eslintPluginJsdoc from 'eslint-plugin-jsdoc'\\nimport jsonDiff from 'ncp'\\nimport gruntRelease from 'grunt-release'\\nimport formidable from '@babel/helper-replace-supers'\\nimport parcelOptimizerTerser from '@parcel/optimizer-terser'\\nimport babelPluginSyntaxPrivatePropertyInObject from 'pre-suf'\\nimport fsExtra from 'fs-extra'\\nimport babel6PluginStripClassCallcheck from 'babel6-plugin-strip-class-callcheck'\\nimport nodeJsx from '@babel/helper-skip-transparent-expression-wrappers'\\nimport tslintNoCircularImports from 'tslint-no-circular-imports'\\nimport d3Time from 'stylelint-config-standard'\\nimport typescriptRegister from 'typescript-register'\\nimport babelPluginTransformDotallRegex from 'json-to-ast'\\nimport hasUnicode from 'has-unicode'\\nimport karmaChromeLauncher from 'cheerio-soupselect'\\nimport gulpRename from 'gulp-rename'\\n\\nimport React from 'react';\\nimport { storiesOf } from '@storybook/react';\\nimport Quantity from '../../src/components/Quantity';\\nimport { withRTL } from '../withRTL'; const wrapper = { margin: 20,\\n}; class QuantityStory extends React.PureComponent { state = { value: 5 }; render() { return ( <React.Fragment> <div style={wrapper}> <Quantity value={this.state.value} onUpClick={() => this.setState({ value: this.state.value + 1 })} onDownClick={() => this.setState({ value: this.state.value - 1 })} min={1} max={111} /> </div> <div style={wrapper}> <Quantity small allowDelete value={this.state.value} onUpClick={() => this.setState({ value: this.state.value + 1 })} onDownClick={() => this.setState({ value: this.state.value - 1 })} min={1} max={111} /> </div> </React.Fragment> ); }\\n} const RTLQuantityStory = withRTL(QuantityStory); storiesOf('Generic Components', module).add('Quantity', () => ( <React.Fragment> <QuantityStory /> <RTLQuantityStory /> </React.Fragment>\\n));\\n\\n####"}
{"prompt":"define(['chai-iterator','grunt-shell','signal-exit','@babel/plugin-bugfix-v8-spread-parameters-in-optional-chaining','lolex','@babel/plugin-proposal-nullish-coalescing-operator','srcset','@babel/plugin-transform-property-literals'], function(sourceMapSupport,flowCopySource,signalExit,babelPluginBugfixV8SpreadParametersInOptionalChaining,regexpPrototypeFlags,isGlob,tsdCheck,typescriptFormatter){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.wix.com/demone2/skateboard-shop (36)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/skateboard-shop', emulateMobileDevice: true, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/36-skateboard-shop/anchors/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import sourceMapSupport from 'chai-iterator'\\nimport flowCopySource from 'grunt-shell'\\nimport signalExit from 'signal-exit'\\nimport babelPluginBugfixV8SpreadParametersInOptionalChaining from '@babel/plugin-bugfix-v8-spread-parameters-in-optional-chaining'\\nimport regexpPrototypeFlags from 'lolex'\\nimport isGlob from '@babel/plugin-proposal-nullish-coalescing-operator'\\nimport tsdCheck from 'srcset'\\nimport typescriptFormatter from '@babel/plugin-transform-property-literals'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.wix.com/demone2/skateboard-shop (36)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/skateboard-shop', emulateMobileDevice: true, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/36-skateboard-shop/anchors/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['@wdio/spec-reporter','flow-copy-source','autoprefixer','eslint-plugin-node','d3-interpolate','ignore-walk','regexp.prototype.flags','vega','babel-plugin-polyfill-regenerator','caniuse-lite','@trysound/sax','sourcemap-codec','@docusaurus/preset-classic'], function(wdioSpecReporter,inlineSourceMap,typesLodash,worldAtlas,inPublish,babelHelperExplodeAssignableExpression,terser,babelPluginTransformEs2015Parameters,babelPluginPolyfillRegenerator,parseJson,termSize,sourcemapCodec,docusaurusPresetClassic){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.wix.com/demone2/landscape-photograph (15)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/landscape-photograph', emulateMobileDevice: false, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/15-landscape-photography/anchors/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import wdioSpecReporter from '@wdio/spec-reporter'\\nimport inlineSourceMap from 'flow-copy-source'\\nimport typesLodash from 'autoprefixer'\\nimport worldAtlas from 'eslint-plugin-node'\\nimport inPublish from 'd3-interpolate'\\nimport babelHelperExplodeAssignableExpression from 'ignore-walk'\\nimport terser from 'regexp.prototype.flags'\\nimport babelPluginTransformEs2015Parameters from 'vega'\\nimport babelPluginPolyfillRegenerator from 'babel-plugin-polyfill-regenerator'\\nimport parseJson from 'caniuse-lite'\\nimport termSize from '@trysound/sax'\\nimport sourcemapCodec from 'sourcemap-codec'\\nimport docusaurusPresetClassic from '@docusaurus/preset-classic'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.wix.com/demone2/landscape-photograph (15)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/landscape-photograph', emulateMobileDevice: false, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/15-landscape-photography/anchors/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['replace','ieee754','formidable','csv-spectrum','grunt-contrib-qunit','karma-commonjs','buffer','prettier','babel-preset-fbjs','terser-webpack-plugin','wrap-ansi','uglify-register','pegjs','@types/glob','@parcel/runtime-react-refresh','babel6-plugin-strip-class-callcheck'], function(tape,npmignore,gruntExec,airtap,gruntContribQunit,karmaCommonjs,mdxJsReact,prettier,babelPresetFbjs,babelHelperSimpleAccess,wrapAnsi,typesWebgl2,pegjs,babelHelperFunctionName,c8,babel6PluginStripClassCallcheck){\\nimport toggleLocalStorageBeep from '../dashboard/web/toggleLocalStorageBeep';\\nimport * as sessionActions from '../dashboard/actions/SessionActions';\\nimport * as bmApi from './bmApi'; export default function setupBeeps() { waitForStore(() => { toggleBmBeep(); window.ModuleRegistry.addListener( 'businessManager.onBeeperClick', toggleBeep, ); })();\\n} function toggleBeep() { toggleLocalStorageBeep(); window.RESTAURANTS_STORE.dispatch(sessionActions.actions.toggleSound());\\n} function toggleBmBeep() { const soundDisabled = window.RESTAURANTS_STORE.getState().session.soundDisabled; if (soundDisabled) { bmApi.toggleBeeperOff(); } else { bmApi.toggleBeeperOn(); }\\n} function waitForStore(fn) { return (...args) => { function wait() { if (window.RESTAURANTS_STORE) { fn(...args); } else { setTimeout(wait, 500); } } wait(); };\\n}\\n\\n})\\n####","completion":" import tape from 'replace'\\nimport npmignore from 'ieee754'\\nimport gruntExec from 'formidable'\\nimport airtap from 'csv-spectrum'\\nimport gruntContribQunit from 'grunt-contrib-qunit'\\nimport karmaCommonjs from 'karma-commonjs'\\nimport mdxJsReact from 'buffer'\\nimport prettier from 'prettier'\\nimport babelPresetFbjs from 'babel-preset-fbjs'\\nimport babelHelperSimpleAccess from 'terser-webpack-plugin'\\nimport wrapAnsi from 'wrap-ansi'\\nimport typesWebgl2 from 'uglify-register'\\nimport pegjs from 'pegjs'\\nimport babelHelperFunctionName from '@types/glob'\\nimport c8 from '@parcel/runtime-react-refresh'\\nimport babel6PluginStripClassCallcheck from 'babel6-plugin-strip-class-callcheck'\\n\\nimport toggleLocalStorageBeep from '../dashboard/web/toggleLocalStorageBeep';\\nimport * as sessionActions from '../dashboard/actions/SessionActions';\\nimport * as bmApi from './bmApi'; export default function setupBeeps() { waitForStore(() => { toggleBmBeep(); window.ModuleRegistry.addListener( 'businessManager.onBeeperClick', toggleBeep, ); })();\\n} function toggleBeep() { toggleLocalStorageBeep(); window.RESTAURANTS_STORE.dispatch(sessionActions.actions.toggleSound());\\n} function toggleBmBeep() { const soundDisabled = window.RESTAURANTS_STORE.getState().session.soundDisabled; if (soundDisabled) { bmApi.toggleBeeperOff(); } else { bmApi.toggleBeeperOn(); }\\n} function waitForStore(fn) { return (...args) => { function wait() { if (window.RESTAURANTS_STORE) { fn(...args); } else { setTimeout(wait, 500); } } wait(); };\\n}\\n\\n####"}
{"prompt":"define(['fast-stable-stringify','broccoli-stew','esbuild-runner','node-tick-processor','@typescript-eslint/eslint-plugin','faster-stable-stringify','ua-parser-js','is-string','@jridgewell/sourcemap-codec','@parcel/reporter-dev-server','chai','unicode-12.0.0','@babel/plugin-proposal-numeric-separator','path-is-absolute','async-listen'], function(fastStableStringify,broccoliStew,babelPluginPolyfillCorejs3,babelPluginReactRequire,jquery,opn,uaParserJs,isString,jridgewellSourcemapCodec,electronToChromium,babelHelperRemapAsyncToGenerator,unicode1200,parcelEvents,pathIsAbsolute,asyncListen){\\nimport PropTypes from 'prop-types';\\nimport React from 'react'; export default function Organic(props) { const {height, secondaryColor, primaryColor, i18n = { get: () => null } } = props; const style = { height, padding: '0px ' + (height / 1.75) + 'px', fontSize: (height / 1.9) + 'px', lineHeight: height + 'px', backgroundColor: primaryColor, color: secondaryColor, letterSpacing: (height / 12.5) + 'px' }; return ( <div role='img' aria-labelledby='imgOrganic' id='imgOrganic' className={'restaurants-menus-icons-label'} style={style} data-hook='wixrest-menus-icon-label-organic'> {i18n.get('openrest_menubuilderv3_dishlabels_organic') || 'organic'} </div> );\\n} Organic.displayName = 'Organic';\\nOrganic.propTypes = { height: PropTypes.number, secondaryColor: PropTypes.string, primaryColor: PropTypes.string\\n};\\nOrganic.defaultProps = { height: 21, secondaryColor: '#fff', primaryColor: '#228f73'\\n};\\n\\n})\\n####","completion":" import fastStableStringify from 'fast-stable-stringify'\\nimport broccoliStew from 'broccoli-stew'\\nimport babelPluginPolyfillCorejs3 from 'esbuild-runner'\\nimport babelPluginReactRequire from 'node-tick-processor'\\nimport jquery from '@typescript-eslint/eslint-plugin'\\nimport opn from 'faster-stable-stringify'\\nimport uaParserJs from 'ua-parser-js'\\nimport isString from 'is-string'\\nimport jridgewellSourcemapCodec from '@jridgewell/sourcemap-codec'\\nimport electronToChromium from '@parcel/reporter-dev-server'\\nimport babelHelperRemapAsyncToGenerator from 'chai'\\nimport unicode1200 from 'unicode-12.0.0'\\nimport parcelEvents from '@babel/plugin-proposal-numeric-separator'\\nimport pathIsAbsolute from 'path-is-absolute'\\nimport asyncListen from 'async-listen'\\n\\nimport PropTypes from 'prop-types';\\nimport React from 'react'; export default function Organic(props) { const {height, secondaryColor, primaryColor, i18n = { get: () => null } } = props; const style = { height, padding: '0px ' + (height / 1.75) + 'px', fontSize: (height / 1.9) + 'px', lineHeight: height + 'px', backgroundColor: primaryColor, color: secondaryColor, letterSpacing: (height / 12.5) + 'px' }; return ( <div role='img' aria-labelledby='imgOrganic' id='imgOrganic' className={'restaurants-menus-icons-label'} style={style} data-hook='wixrest-menus-icon-label-organic'> {i18n.get('openrest_menubuilderv3_dishlabels_organic') || 'organic'} </div> );\\n} Organic.displayName = 'Organic';\\nOrganic.propTypes = { height: PropTypes.number, secondaryColor: PropTypes.string, primaryColor: PropTypes.string\\n};\\nOrganic.defaultProps = { height: 21, secondaryColor: '#fff', primaryColor: '#228f73'\\n};\\n\\n####"}
{"prompt":"define(['postcss-minify-gradients','get-port','lab','ava','detect-browser','unicode-9.0.0','@babel/helper-member-expression-to-functions','protobufjs','balanced-match','LiveScript','hyperquest','selenium-webdriver','@babel/plugin-transform-modules-systemjs','ansi-styles','@babel/helper-validator-identifier','eslint','ua-parser-js','side-channel','webdriverio','saucelabs'], function(postcssMinifyGradients,karmaChai,karmaCoverage,ava,postcssDiscardComments,tensorflowTfjs,babelPluginTransformEs2015Destructuring,protobufjs,balancedMatch,liveScript,micromatch,unicodeUnicode1300,getPort,ansiStyles,eslintConfigGulp,eslint,uaParserJs,sideChannel,sprintfJs,saucelabs){\\n'use strict'\\nconst {withViewer} = require('@wix/santa-integration-tests') test('page stub works correctly for page without TPA', withViewer({ baseUrl: 'https://eliranh6.wixsite.com/inner-navigation' }, async ({viewer, componentDriverFactory}) => { const button = await componentDriverFactory.create('comp-jgw82zu1') await viewer.waitForNavigation(() => button.click()) })\\n) test('Navigation works with external preview URL that didn\\'t load all pages', withViewer({ petri_ovr: { 'specs.EnableSinglePagePreview:true': true }, forceFetch: true, baseUrl: 'https://editor.wix.com/html/editor/web/renderer/external_preview/document/72d7fa79-d979-4bdc-9990-802861396d15?metaSiteId=dce43d28-1fb6-4ed4-8efc-9b1512882c6a' }, async ({viewer, componentDriverFactory}) => { const button = await componentDriverFactory.create('comp-jo8z9f7e1') await viewer.waitForNavigation(() => button.click()) const box = await componentDriverFactory.create('comp-jo8zavsq') expect(box).toBeDefined() })\\n)\\n\\n})\\n####","completion":" import postcssMinifyGradients from 'postcss-minify-gradients'\\nimport karmaChai from 'get-port'\\nimport karmaCoverage from 'lab'\\nimport ava from 'ava'\\nimport postcssDiscardComments from 'detect-browser'\\nimport tensorflowTfjs from 'unicode-9.0.0'\\nimport babelPluginTransformEs2015Destructuring from '@babel/helper-member-expression-to-functions'\\nimport protobufjs from 'protobufjs'\\nimport balancedMatch from 'balanced-match'\\nimport liveScript from 'LiveScript'\\nimport micromatch from 'hyperquest'\\nimport unicodeUnicode1300 from 'selenium-webdriver'\\nimport getPort from '@babel/plugin-transform-modules-systemjs'\\nimport ansiStyles from 'ansi-styles'\\nimport eslintConfigGulp from '@babel/helper-validator-identifier'\\nimport eslint from 'eslint'\\nimport uaParserJs from 'ua-parser-js'\\nimport sideChannel from 'side-channel'\\nimport sprintfJs from 'webdriverio'\\nimport saucelabs from 'saucelabs'\\n\\n'use strict'\\nconst {withViewer} = require('@wix/santa-integration-tests') test('page stub works correctly for page without TPA', withViewer({ baseUrl: 'https://eliranh6.wixsite.com/inner-navigation' }, async ({viewer, componentDriverFactory}) => { const button = await componentDriverFactory.create('comp-jgw82zu1') await viewer.waitForNavigation(() => button.click()) })\\n) test('Navigation works with external preview URL that didn\\'t load all pages', withViewer({ petri_ovr: { 'specs.EnableSinglePagePreview:true': true }, forceFetch: true, baseUrl: 'https://editor.wix.com/html/editor/web/renderer/external_preview/document/72d7fa79-d979-4bdc-9990-802861396d15?metaSiteId=dce43d28-1fb6-4ed4-8efc-9b1512882c6a' }, async ({viewer, componentDriverFactory}) => { const button = await componentDriverFactory.create('comp-jo8z9f7e1') await viewer.waitForNavigation(() => button.click()) const box = await componentDriverFactory.create('comp-jo8zavsq') expect(box).toBeDefined() })\\n)\\n\\n####"}
{"prompt":"define(['prelude-ls','gitbook-cli','@babel/helper-wrap-function','chownr','fs-extra'], function(preludeLs,gitbookCli,lodashDebounce,chownr,fsExtra){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.wix.com/demone2/outdoor-bags (9)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/outdoor-bags', emulateMobileDevice: true, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/9-outdoor-bags/mesh/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import preludeLs from 'prelude-ls'\\nimport gitbookCli from 'gitbook-cli'\\nimport lodashDebounce from '@babel/helper-wrap-function'\\nimport chownr from 'chownr'\\nimport fsExtra from 'fs-extra'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.wix.com/demone2/outdoor-bags (9)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/outdoor-bags', emulateMobileDevice: true, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/9-outdoor-bags/mesh/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['stylelint','unicode-canonical-property-names-ecmascript','@parcel/resolver-default','babel-tape-runner','buffer','@babel/plugin-proposal-export-namespace-from','@parcel/transformer-posthtml','karma-browserstack-launcher','postcss-unique-selectors','babel-plugin-transform-es2015-classes','@babel/plugin-transform-template-literals','autoprefixer'], function(stylelint,postcss,lerna,babelTapeRunner,mdxJsReact,qunitjs,parcelTransformerPosthtml,karmaBrowserstackLauncher,karmaSafaritechpreviewLauncher,randomInt,esToPrimitive,typesLodash){\\nexport const STATE_IDS = { START: 'reservationStart', FORM: 'reservationForm', SUCCESS: 'reservationSuccess', ERROR: 'reservationError', SMS: 'reservationSMS', NOT_ENABLED_ERROR: 'notEnabledError', PREVIEW_NOT_ENABLED_ERROR: 'previewNotEnabledError', PREVIEW_FORM: 'previewReservationForm', PREVIEW_SUCCESS: 'previewReservationSuccess'\\n}; export const PARAMS_KEYS = { SHOW_TITLE_KEY: 'wixseating.title.display', SELECTED_TITLE_KEY: 'wixseating.selected.title', CUSTOM_TITLE_DATA_KEY: 'wixseating.custom.title', SHOW_DESCRIPTION_KEY: 'wixseating.description.display', CUSTOM_DESCRIPTION_DATA_KEY: 'wixseating.description', SELECTED_BUTTON_KEY: 'wixseating.selected.button', CUSTOM_BUTTON_DATA_KEY: 'wixseating.custom.button', LAYOUT_KEY: 'wixseating.layout', ALIGNMENT_KEY: 'wixseating.alignment', SELECTED_PRESET: 'wixseating.selected.preset'\\n}; export const MODAL_A11Y_IDS = { TITLE_ID: 'restaurants-modal-title', DESCRIPTION_ID: 'restaurants-modal-description'\\n}\\n})\\n####","completion":" import stylelint from 'stylelint'\\nimport postcss from 'unicode-canonical-property-names-ecmascript'\\nimport lerna from '@parcel/resolver-default'\\nimport babelTapeRunner from 'babel-tape-runner'\\nimport mdxJsReact from 'buffer'\\nimport qunitjs from '@babel/plugin-proposal-export-namespace-from'\\nimport parcelTransformerPosthtml from '@parcel/transformer-posthtml'\\nimport karmaBrowserstackLauncher from 'karma-browserstack-launcher'\\nimport karmaSafaritechpreviewLauncher from 'postcss-unique-selectors'\\nimport randomInt from 'babel-plugin-transform-es2015-classes'\\nimport esToPrimitive from '@babel/plugin-transform-template-literals'\\nimport typesLodash from 'autoprefixer'\\n\\nexport const STATE_IDS = { START: 'reservationStart', FORM: 'reservationForm', SUCCESS: 'reservationSuccess', ERROR: 'reservationError', SMS: 'reservationSMS', NOT_ENABLED_ERROR: 'notEnabledError', PREVIEW_NOT_ENABLED_ERROR: 'previewNotEnabledError', PREVIEW_FORM: 'previewReservationForm', PREVIEW_SUCCESS: 'previewReservationSuccess'\\n}; export const PARAMS_KEYS = { SHOW_TITLE_KEY: 'wixseating.title.display', SELECTED_TITLE_KEY: 'wixseating.selected.title', CUSTOM_TITLE_DATA_KEY: 'wixseating.custom.title', SHOW_DESCRIPTION_KEY: 'wixseating.description.display', CUSTOM_DESCRIPTION_DATA_KEY: 'wixseating.description', SELECTED_BUTTON_KEY: 'wixseating.selected.button', CUSTOM_BUTTON_DATA_KEY: 'wixseating.custom.button', LAYOUT_KEY: 'wixseating.layout', ALIGNMENT_KEY: 'wixseating.alignment', SELECTED_PRESET: 'wixseating.selected.preset'\\n}; export const MODAL_A11Y_IDS = { TITLE_ID: 'restaurants-modal-title', DESCRIPTION_ID: 'restaurants-modal-description'\\n}\\n####"}
{"prompt":"define(['weak-lru-cache','zuul'], function(eslintConfigMoxy,resolveFrom){\\n export default class extends React.Component { static displayName = 'SvgX'; render() { var width = this.props.width; var height = this.props.height; var color = this.props.color; var thickness = this.props.thickness || 1; var smoothEdges = this.props.smoothEdges; var strokeWidth = '1px'; if (smoothEdges) { strokeWidth = thickness + 'px'; thickness = 1; } var style = { shapeRendering: smoothEdges ? '' : 'crispEdges', }; var path = ''; for (var i = 0; i <= thickness / 2; ++i) { path += `M${i} 0 L${width} ${height - i} `; path += `M${width - i} 0 L0 ${height - i} `; } for (var i = 1; i <= thickness / 2; ++i) { path += `M0 ${i} L${width - i} ${height} `; path += `M${width} ${i} L${i} ${height} `; } var style = { stroke:color, strokeWidth: strokeWidth }; return ( <svg width={width} height={height} style={style}> <path d={path} style={style} /> </svg> ); } }\\n\\n})\\n####","completion":" import eslintConfigMoxy from 'weak-lru-cache'\\nimport resolveFrom from 'zuul'\\n\\n export default class extends React.Component { static displayName = 'SvgX'; render() { var width = this.props.width; var height = this.props.height; var color = this.props.color; var thickness = this.props.thickness || 1; var smoothEdges = this.props.smoothEdges; var strokeWidth = '1px'; if (smoothEdges) { strokeWidth = thickness + 'px'; thickness = 1; } var style = { shapeRendering: smoothEdges ? '' : 'crispEdges', }; var path = ''; for (var i = 0; i <= thickness / 2; ++i) { path += `M${i} 0 L${width} ${height - i} `; path += `M${width - i} 0 L0 ${height - i} `; } for (var i = 1; i <= thickness / 2; ++i) { path += `M0 ${i} L${width - i} ${height} `; path += `M${width} ${i} L${i} ${height} `; } var style = { stroke:color, strokeWidth: strokeWidth }; return ( <svg width={width} height={height} style={style}> <path d={path} style={style} /> </svg> ); } }\\n\\n####"}
{"prompt":"define(['semistandard','@babel/helper-hoist-variables','@babel/plugin-syntax-class-properties','karma-source-map-support','@babel/plugin-bugfix-v8-spread-parameters-in-optional-chaining','@babel/compat-data','supports-preserve-symlinks-flag','fs-readdir-recursive','mkdirp','postcss-minify-params','node-tick-processor','remark-preset-davidtheclark','gts'], function(phantomjs,d3Path,babelPluginSyntaxClassProperties,bindings,babelPluginBugfixV8SpreadParametersInOptionalChaining,mockFs,baseX,fsReaddirRecursive,mkdirp,jisonGho,babelPluginReactRequire,requireInject,gts){\\nimport {GoogleAuthenticator} from '../authenticators/google/GoogleAuthenticator'; export class GoogleService { constructor({packager, googleAuth}) { this._packager = packager; this._authenticator = new GoogleAuthenticator({googleAuth}); } getAuthenticator() { return this._authenticator; } async login({idToken, clientId}) { // Validate arguments if (!idToken) { throw { type: 'https://www.wixrestaurants.com/errors/invalid_data', detail: 'invalid idToken' }; } if (!clientId) { throw { type: 'https://www.wixrestaurants.com/errors/invalid_data', detail: 'invalid clientId' }; } // Authorize and return const data = JSON.stringify({idToken, clientId}); const user = await this._authenticator.authenticate(data); const thePackage = { created: new Date().getTime(), id: this._authenticator.getId(), data }; return { user, accessToken: this._packager.pack({thePackage}) }; }\\n}\\n\\n})\\n####","completion":" import phantomjs from 'semistandard'\\nimport d3Path from '@babel/helper-hoist-variables'\\nimport babelPluginSyntaxClassProperties from '@babel/plugin-syntax-class-properties'\\nimport bindings from 'karma-source-map-support'\\nimport babelPluginBugfixV8SpreadParametersInOptionalChaining from '@babel/plugin-bugfix-v8-spread-parameters-in-optional-chaining'\\nimport mockFs from '@babel/compat-data'\\nimport baseX from 'supports-preserve-symlinks-flag'\\nimport fsReaddirRecursive from 'fs-readdir-recursive'\\nimport mkdirp from 'mkdirp'\\nimport jisonGho from 'postcss-minify-params'\\nimport babelPluginReactRequire from 'node-tick-processor'\\nimport requireInject from 'remark-preset-davidtheclark'\\nimport gts from 'gts'\\n\\nimport {GoogleAuthenticator} from '../authenticators/google/GoogleAuthenticator'; export class GoogleService { constructor({packager, googleAuth}) { this._packager = packager; this._authenticator = new GoogleAuthenticator({googleAuth}); } getAuthenticator() { return this._authenticator; } async login({idToken, clientId}) { // Validate arguments if (!idToken) { throw { type: 'https://www.wixrestaurants.com/errors/invalid_data', detail: 'invalid idToken' }; } if (!clientId) { throw { type: 'https://www.wixrestaurants.com/errors/invalid_data', detail: 'invalid clientId' }; } // Authorize and return const data = JSON.stringify({idToken, clientId}); const user = await this._authenticator.authenticate(data); const thePackage = { created: new Date().getTime(), id: this._authenticator.getId(), data }; return { user, accessToken: this._packager.pack({thePackage}) }; }\\n}\\n\\n####"}
{"prompt":"define(['once','@types/chalk','promises-aplus-tests','fs-readdir-recursive','@parcel/events','optionator','@parcel/bundler-default','node-tick-processor','side-channel'], function(typesSemver,parcelTransformerImage,promisesAplusTests,fsReaddirRecursive,babelPluginProposalDynamicImport,babelPresetModules,parcelBundlerDefault,babelPluginReactRequire,sideChannel){\\nimport orientStyles from '../utils/directionalstyles';\\nimport colors from '../utils/colors'; export default (rtl, fontFamily = 'tahoma, HelveticaNeue', titleFontFamily = 'tahoma, HelveticaNeue', titlePaddingBottom = 6, paddingBottom = 30, paddingInlineEnd = 32) => { const _styles = { table: { width: '100%', maxWidth: 600, }, tr: { fontFamily, }, innerTd: { paddingBottom, paddingInlineEnd }, outerTd: { paddingBottom, paddingInlineEnd }, tdTitle: { fontSize: 10, paddingBottom: titlePaddingBottom, color: colors.D40, fontFamily: titleFontFamily, lineHeight: 1.2 }, firstCol: { width: '47%' }, tdValue: { fontSize: 16, lineHeight: 1.5 }, tdComments: { fontSize: 16, fontFamily, lineHeight: 1.5 } }; return orientStyles(_styles, rtl);\\n}\\n\\n})\\n####","completion":" import typesSemver from 'once'\\nimport parcelTransformerImage from '@types/chalk'\\nimport promisesAplusTests from 'promises-aplus-tests'\\nimport fsReaddirRecursive from 'fs-readdir-recursive'\\nimport babelPluginProposalDynamicImport from '@parcel/events'\\nimport babelPresetModules from 'optionator'\\nimport parcelBundlerDefault from '@parcel/bundler-default'\\nimport babelPluginReactRequire from 'node-tick-processor'\\nimport sideChannel from 'side-channel'\\n\\nimport orientStyles from '../utils/directionalstyles';\\nimport colors from '../utils/colors'; export default (rtl, fontFamily = 'tahoma, HelveticaNeue', titleFontFamily = 'tahoma, HelveticaNeue', titlePaddingBottom = 6, paddingBottom = 30, paddingInlineEnd = 32) => { const _styles = { table: { width: '100%', maxWidth: 600, }, tr: { fontFamily, }, innerTd: { paddingBottom, paddingInlineEnd }, outerTd: { paddingBottom, paddingInlineEnd }, tdTitle: { fontSize: 10, paddingBottom: titlePaddingBottom, color: colors.D40, fontFamily: titleFontFamily, lineHeight: 1.2 }, firstCol: { width: '47%' }, tdValue: { fontSize: 16, lineHeight: 1.5 }, tdComments: { fontSize: 16, fontFamily, lineHeight: 1.5 } }; return orientStyles(_styles, rtl);\\n}\\n\\n####"}
{"prompt":"define(['minimatch','gitbook-plugin-edit-link','eslint-plugin-markdown','rollup-plugin-babel-minify','babel-plugin-transform-decorators-legacy','sinon-chai','css-what','type-check','foreach','locate-path','cssnano','is-glob','@jridgewell/set-array','postcss-minify-gradients','json-to-ast','@mdn/browser-compat-data','rollup','constants-browserify','detect-browser'], function(babelHelperDefinePolyfillProvider,jsesc,eslintPluginMarkdown,babelHelperWrapFunction,babelPluginTransformDecoratorsLegacy,karmaEdgeLauncher,babelPluginTransformDestructuring,babelPresetStage0,babelPluginTransformTypeofSymbol,lsLintLsLint,cssnano,gulpMocha,jridgewellSetArray,postcssMinifyGradients,babelPluginTransformDotallRegex,typesEnsurePosixPath,rollup,constantsBrowserify,postcssDiscardComments){\\ndefine(['lodash'], function (_) { 'use strict' function replaceWixCodeAppId(pagesPlatformApplications, currentSnapshotDal) { const clientSpecMap = currentSnapshotDal.getValue({type: 'rendererModel', id: 'clientSpecMap'}) const wixCodeAppId = _.chain(clientSpecMap).find({type: 'siteextension'}).get('appDefinitionId').value() pagesPlatformApplications[wixCodeAppId] = _.assign({}, pagesPlatformApplications.wixCode) delete pagesPlatformApplications.wixCode } /** * @exports utils/saveDataFixer/plugins/pagesPlatformApplicationsDataFixer * @type {{exec: function}} */ const exports = { exec(dataToSave, {currentSnapshotDal}) { const {pagesPlatformApplications} = dataToSave if (pagesPlatformApplications) { replaceWixCodeAppId(pagesPlatformApplications, currentSnapshotDal) dataToSave.pagesPlatformApplications = _.transform( pagesPlatformApplications, function (result, pageIds, appId) { _.forOwn(pageIds, function (value, pageId) { result[pageId] = result[pageId] || [] result[pageId].push(appId) }) }, {} ) } } } return exports\\n})\\n\\n})\\n####","completion":" import babelHelperDefinePolyfillProvider from 'minimatch'\\nimport jsesc from 'gitbook-plugin-edit-link'\\nimport eslintPluginMarkdown from 'eslint-plugin-markdown'\\nimport babelHelperWrapFunction from 'rollup-plugin-babel-minify'\\nimport babelPluginTransformDecoratorsLegacy from 'babel-plugin-transform-decorators-legacy'\\nimport karmaEdgeLauncher from 'sinon-chai'\\nimport babelPluginTransformDestructuring from 'css-what'\\nimport babelPresetStage0 from 'type-check'\\nimport babelPluginTransformTypeofSymbol from 'foreach'\\nimport lsLintLsLint from 'locate-path'\\nimport cssnano from 'cssnano'\\nimport gulpMocha from 'is-glob'\\nimport jridgewellSetArray from '@jridgewell/set-array'\\nimport postcssMinifyGradients from 'postcss-minify-gradients'\\nimport babelPluginTransformDotallRegex from 'json-to-ast'\\nimport typesEnsurePosixPath from '@mdn/browser-compat-data'\\nimport rollup from 'rollup'\\nimport constantsBrowserify from 'constants-browserify'\\nimport postcssDiscardComments from 'detect-browser'\\n\\ndefine(['lodash'], function (_) { 'use strict' function replaceWixCodeAppId(pagesPlatformApplications, currentSnapshotDal) { const clientSpecMap = currentSnapshotDal.getValue({type: 'rendererModel', id: 'clientSpecMap'}) const wixCodeAppId = _.chain(clientSpecMap).find({type: 'siteextension'}).get('appDefinitionId').value() pagesPlatformApplications[wixCodeAppId] = _.assign({}, pagesPlatformApplications.wixCode) delete pagesPlatformApplications.wixCode } /** * @exports utils/saveDataFixer/plugins/pagesPlatformApplicationsDataFixer * @type {{exec: function}} */ const exports = { exec(dataToSave, {currentSnapshotDal}) { const {pagesPlatformApplications} = dataToSave if (pagesPlatformApplications) { replaceWixCodeAppId(pagesPlatformApplications, currentSnapshotDal) dataToSave.pagesPlatformApplications = _.transform( pagesPlatformApplications, function (result, pageIds, appId) { _.forOwn(pageIds, function (value, pageId) { result[pageId] = result[pageId] || [] result[pageId].push(appId) }) }, {} ) } } } return exports\\n})\\n\\n####"}
{"prompt":"define(['better-ajv-errors','object.getownpropertydescriptors','@babel/compat-data','@types/shelljs','babel-plugin-transform-es2015-constants','lines-and-columns','node-jsx','semver','json3','gulp-format-md','npm-bundled','@jridgewell/trace-mapping','@babel/helper-plugin-test-runner','inline-style-prefixer','d3-dispatch','foo','@babel/plugin-transform-property-literals','regjsgen','bowser'], function(babelPluginProposalJsonStrings,typescript,mockFs,pathBrowserify,babelPluginTransformEs2015Constants,linesAndColumns,coreUtilIs,semver,everythingJs,travisDeployOnce,npmBundled,jridgewellTraceMapping,reactRefresh,foo,foreach,clsx,typescriptFormatter,open,bowser){\\nimport React from 'react';\\nimport PropTypes from 'prop-types';\\nimport PaymentMethodIcon from '../PayManually/PaymentMethodIcon';\\nimport { Creditcards } from 'creditcards-info';\\nimport styles from './CreditCardLine.scss';\\nimport { translate } from 'react-i18next';\\nimport { Text } from 'wix-style-react'; function CreditCardLine({ lastDigits, network, holderName, locale, block, className, collectionMethod, t }) { let text; if (collectionMethod === 'phone') { text = t('phoneordering_checkout_paymentmethod_card_title'); } else if (collectionMethod === 'cod') { text = t('phoneordering_checkout_paymentmethod_card_delivery_title'); } else { text = `${holderName} (${Creditcards.getCreditcardName(locale, network)} ending in ${lastDigits})`; } return ( <Text size=\\\"small\\\" weight=\\\"normal\\\" secondary tagName={block ? 'div' : 'span'} className={`${className} ${styles.text}`} dataHook=\\\"credit-card-line\\\" > <PaymentMethodIcon type={network} size={30} className={styles.svg} /> {text} </Text> );\\n} CreditCardLine.displayName = 'CreditCardLine';\\nCreditCardLine.propTypes = { lastDigits: PropTypes.string, network: PropTypes.string, holderName: PropTypes.string, block: PropTypes.bool, locale: PropTypes.string, className: PropTypes.string, collectionMethod: PropTypes.oneOf(['online', 'cod', 'phone']).isRequired, t: PropTypes.func,\\n}; export default translate()(CreditCardLine);\\n\\n})\\n####","completion":" import babelPluginProposalJsonStrings from 'better-ajv-errors'\\nimport typescript from 'object.getownpropertydescriptors'\\nimport mockFs from '@babel/compat-data'\\nimport pathBrowserify from '@types/shelljs'\\nimport babelPluginTransformEs2015Constants from 'babel-plugin-transform-es2015-constants'\\nimport linesAndColumns from 'lines-and-columns'\\nimport coreUtilIs from 'node-jsx'\\nimport semver from 'semver'\\nimport everythingJs from 'json3'\\nimport travisDeployOnce from 'gulp-format-md'\\nimport npmBundled from 'npm-bundled'\\nimport jridgewellTraceMapping from '@jridgewell/trace-mapping'\\nimport reactRefresh from '@babel/helper-plugin-test-runner'\\nimport foo from 'inline-style-prefixer'\\nimport foreach from 'd3-dispatch'\\nimport clsx from 'foo'\\nimport typescriptFormatter from '@babel/plugin-transform-property-literals'\\nimport open from 'regjsgen'\\nimport bowser from 'bowser'\\n\\nimport React from 'react';\\nimport PropTypes from 'prop-types';\\nimport PaymentMethodIcon from '../PayManually/PaymentMethodIcon';\\nimport { Creditcards } from 'creditcards-info';\\nimport styles from './CreditCardLine.scss';\\nimport { translate } from 'react-i18next';\\nimport { Text } from 'wix-style-react'; function CreditCardLine({ lastDigits, network, holderName, locale, block, className, collectionMethod, t }) { let text; if (collectionMethod === 'phone') { text = t('phoneordering_checkout_paymentmethod_card_title'); } else if (collectionMethod === 'cod') { text = t('phoneordering_checkout_paymentmethod_card_delivery_title'); } else { text = `${holderName} (${Creditcards.getCreditcardName(locale, network)} ending in ${lastDigits})`; } return ( <Text size=\\\"small\\\" weight=\\\"normal\\\" secondary tagName={block ? 'div' : 'span'} className={`${className} ${styles.text}`} dataHook=\\\"credit-card-line\\\" > <PaymentMethodIcon type={network} size={30} className={styles.svg} /> {text} </Text> );\\n} CreditCardLine.displayName = 'CreditCardLine';\\nCreditCardLine.propTypes = { lastDigits: PropTypes.string, network: PropTypes.string, holderName: PropTypes.string, block: PropTypes.bool, locale: PropTypes.string, className: PropTypes.string, collectionMethod: PropTypes.oneOf(['online', 'cod', 'phone']).isRequired, t: PropTypes.func,\\n}; export default translate()(CreditCardLine);\\n\\n####"}
{"prompt":"define(['stylehacks','ndoc','tar-fs','abbrev','@babel/plugin-transform-modules-systemjs','@mapbox/cloudfriend','auto-changelog','puppeteer','ansi'], function(stylehacks,ndoc,lintStaged,abbrev,getPort,numberIsNan,sinon,nodeForge,ansi){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.wix.com/demone2/graffiti-artist (43)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/graffiti-artist', emulateMobileDevice: false, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/43-graffiti-artist/mesh/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import stylehacks from 'stylehacks'\\nimport ndoc from 'ndoc'\\nimport lintStaged from 'tar-fs'\\nimport abbrev from 'abbrev'\\nimport getPort from '@babel/plugin-transform-modules-systemjs'\\nimport numberIsNan from '@mapbox/cloudfriend'\\nimport sinon from 'auto-changelog'\\nimport nodeForge from 'puppeteer'\\nimport ansi from 'ansi'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.wix.com/demone2/graffiti-artist (43)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/graffiti-artist', emulateMobileDevice: false, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/43-graffiti-artist/mesh/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['in-range','@babel/plugin-syntax-top-level-await','@parcel/babel-register','concat-stream','postcss-reduce-initial','phantomjs-prebuilt','babel-plugin-transform-es2015-constants','@babel/plugin-transform-typeof-symbol','flow-bin','csv-parse','concat-map'], function(gruntCssUrlEmbed,babelPluginSyntaxTopLevelAwait,requireCsv,vega,typesD3Selection,phantomjsPrebuilt,babelPluginTransformEs2015Constants,babelPluginSyntaxAsyncGenerators,dotenv,levn,jsdom){\\n'use strict'; let path = require('path');\\nlet srcPath = path.join(__dirname, '/../src/'); let baseConfig = require('./base'); // Add needed plugins here\\nlet BowerWebpackPlugin = require('bower-webpack-plugin'); module.exports = { devtool: 'eval', module: { preLoaders: [ { test: /\\.(js|jsx)$/, loader: 'isparta-instrumenter-loader', include: [ path.join(__dirname, '/../src') ] } ], loaders: [ { test: /\\.(png|jpg|gif|woff|woff2|css|sass|scss|less|styl)$/, loader: 'null-loader' }, { test: /\\.(js|jsx)$/, loader: 'babel-loader', include: [].concat( baseConfig.additionalPaths, [ path.join(__dirname, '/../src'), path.join(__dirname, '/../test') ] ) } ] }, resolve: { extensions: [ '', '.js', '.jsx' ], alias: { actions: srcPath + 'actions/', helpers: path.join(__dirname, '/../test/helpers'), components: srcPath + 'components/', sources: srcPath + 'sources/', stores: srcPath + 'stores/', styles: srcPath + 'styles/', config: srcPath + 'config/' + process.env.REACT_WEBPACK_ENV } },\\n};\\n\\n})\\n####","completion":" import gruntCssUrlEmbed from 'in-range'\\nimport babelPluginSyntaxTopLevelAwait from '@babel/plugin-syntax-top-level-await'\\nimport requireCsv from '@parcel/babel-register'\\nimport vega from 'concat-stream'\\nimport typesD3Selection from 'postcss-reduce-initial'\\nimport phantomjsPrebuilt from 'phantomjs-prebuilt'\\nimport babelPluginTransformEs2015Constants from 'babel-plugin-transform-es2015-constants'\\nimport babelPluginSyntaxAsyncGenerators from '@babel/plugin-transform-typeof-symbol'\\nimport dotenv from 'flow-bin'\\nimport levn from 'csv-parse'\\nimport jsdom from 'concat-map'\\n\\n'use strict'; let path = require('path');\\nlet srcPath = path.join(__dirname, '/../src/'); let baseConfig = require('./base'); // Add needed plugins here\\nlet BowerWebpackPlugin = require('bower-webpack-plugin'); module.exports = { devtool: 'eval', module: { preLoaders: [ { test: /\\.(js|jsx)$/, loader: 'isparta-instrumenter-loader', include: [ path.join(__dirname, '/../src') ] } ], loaders: [ { test: /\\.(png|jpg|gif|woff|woff2|css|sass|scss|less|styl)$/, loader: 'null-loader' }, { test: /\\.(js|jsx)$/, loader: 'babel-loader', include: [].concat( baseConfig.additionalPaths, [ path.join(__dirname, '/../src'), path.join(__dirname, '/../test') ] ) } ] }, resolve: { extensions: [ '', '.js', '.jsx' ], alias: { actions: srcPath + 'actions/', helpers: path.join(__dirname, '/../test/helpers'), components: srcPath + 'components/', sources: srcPath + 'sources/', stores: srcPath + 'stores/', styles: srcPath + 'styles/', config: srcPath + 'config/' + process.env.REACT_WEBPACK_ENV } },\\n};\\n\\n####"}
{"prompt":"define(['@types/d3-format','svg-term-cli','rollup-plugin-buble','clinton'], function(typesD3Format,del,rollupPluginBuble,postcssNormalizeCharset){\\nvar fs = require('fs-extra');\\nvar path = require('path');\\nvar _ = require('lodash');\\nvar parseString = require('xml2js').parseString; const APPENGINE_WEB_XML = '/opt/private/com.wixpress.restaurants.restaurants-settings-orders/appengine-web.xml'; fs.readFile(APPENGINE_WEB_XML, (err, data) => { if (err) { console.log('No secret files. Using credentials.json'); process.exit(0); } console.log('Creating secret files. Creating credentials.json'); parseString('' + data, (err, result) => { // Get credentials used var credentials = result['system-properties']['property']; var rashomonAccessToken = _.find(credentials, (c) => c['$']['name'] === 'rashomonAccessToken')['$']['value']; var gcsKey = JSON.parse((_.find(credentials, (c) => c['$']['name'] === 'gcs_key')['$']['value']).replace(/'/g, '\\\"')); var gcsProjectId = _.find(credentials, (c) => c['$']['name'] === 'gcs_project_id')['$']['value']; var data = { \\\"gcs_key\\\": gcsKey, \\\"gcs_projectId\\\":gcsProjectId, \\\"rashomonAccessToken\\\":rashomonAccessToken } fs.writeFileSync(path.resolve(__dirname, '..', 'credentials.json'), JSON.stringify(data, null, 4)); });\\n});\\n\\n})\\n####","completion":" import typesD3Format from '@types/d3-format'\\nimport del from 'svg-term-cli'\\nimport rollupPluginBuble from 'rollup-plugin-buble'\\nimport postcssNormalizeCharset from 'clinton'\\n\\nvar fs = require('fs-extra');\\nvar path = require('path');\\nvar _ = require('lodash');\\nvar parseString = require('xml2js').parseString; const APPENGINE_WEB_XML = '/opt/private/com.wixpress.restaurants.restaurants-settings-orders/appengine-web.xml'; fs.readFile(APPENGINE_WEB_XML, (err, data) => { if (err) { console.log('No secret files. Using credentials.json'); process.exit(0); } console.log('Creating secret files. Creating credentials.json'); parseString('' + data, (err, result) => { // Get credentials used var credentials = result['system-properties']['property']; var rashomonAccessToken = _.find(credentials, (c) => c['$']['name'] === 'rashomonAccessToken')['$']['value']; var gcsKey = JSON.parse((_.find(credentials, (c) => c['$']['name'] === 'gcs_key')['$']['value']).replace(/'/g, '\\\"')); var gcsProjectId = _.find(credentials, (c) => c['$']['name'] === 'gcs_project_id')['$']['value']; var data = { \\\"gcs_key\\\": gcsKey, \\\"gcs_projectId\\\":gcsProjectId, \\\"rashomonAccessToken\\\":rashomonAccessToken } fs.writeFileSync(path.resolve(__dirname, '..', 'credentials.json'), JSON.stringify(data, null, 4)); });\\n});\\n\\n####"}
{"prompt":"define(['@parcel/workers','d3-interpolate','jshint','shebang-command','postcss-reduce-transforms','callsites','console-control-strings','cssnano','lines-and-columns','eslint-config-airbnb-base','preact','benchmarked','@parcel/runtime-js','rsvp'], function(karmaMocha,inPublish,gruntClean,shebangCommand,smoosh,callsites,karmaJasmineAjax,cssnano,linesAndColumns,eslintConfigAirbnbBase,preact,benchmarked,express,pathParse){\\ndefine(['@wix/santa-core-utils', 'lodash'], function (santaCoreUtils, _) { 'use strict' function getScale(ps, comp) { const layoutPointer = ps.pointers.getInnerPointer(comp, 'layout.scale') return ps.dal.get(layoutPointer) || 1 } return { rotatable: true, styleCanBeApplied: true, layoutLimits(ps, compPointer, newLayout) { const measureMap = ps.siteAPI.getSiteMeasureMap() const limits = { minWidth: _.get(measureMap, ['minWidth', compPointer.id], santaCoreUtils.siteConstants.COMP_SIZE.MIN_WIDTH), minHeight: _.get(measureMap, ['minHeight', compPointer.id], santaCoreUtils.siteConstants.COMP_SIZE.MIN_HEIGHT) } if (newLayout && newLayout.scale) { const currentScale = getScale(ps, compPointer) if (currentScale !== newLayout.scale) { const ratio = newLayout.scale / currentScale return _.mapValues(limits, limit => limit * ratio) } } return limits }, disableable: true }\\n})\\n\\n})\\n####","completion":" import karmaMocha from '@parcel/workers'\\nimport inPublish from 'd3-interpolate'\\nimport gruntClean from 'jshint'\\nimport shebangCommand from 'shebang-command'\\nimport smoosh from 'postcss-reduce-transforms'\\nimport callsites from 'callsites'\\nimport karmaJasmineAjax from 'console-control-strings'\\nimport cssnano from 'cssnano'\\nimport linesAndColumns from 'lines-and-columns'\\nimport eslintConfigAirbnbBase from 'eslint-config-airbnb-base'\\nimport preact from 'preact'\\nimport benchmarked from 'benchmarked'\\nimport express from '@parcel/runtime-js'\\nimport pathParse from 'rsvp'\\n\\ndefine(['@wix/santa-core-utils', 'lodash'], function (santaCoreUtils, _) { 'use strict' function getScale(ps, comp) { const layoutPointer = ps.pointers.getInnerPointer(comp, 'layout.scale') return ps.dal.get(layoutPointer) || 1 } return { rotatable: true, styleCanBeApplied: true, layoutLimits(ps, compPointer, newLayout) { const measureMap = ps.siteAPI.getSiteMeasureMap() const limits = { minWidth: _.get(measureMap, ['minWidth', compPointer.id], santaCoreUtils.siteConstants.COMP_SIZE.MIN_WIDTH), minHeight: _.get(measureMap, ['minHeight', compPointer.id], santaCoreUtils.siteConstants.COMP_SIZE.MIN_HEIGHT) } if (newLayout && newLayout.scale) { const currentScale = getScale(ps, compPointer) if (currentScale !== newLayout.scale) { const ratio = newLayout.scale / currentScale return _.mapValues(limits, limit => limit * ratio) } } return limits }, disableable: true }\\n})\\n\\n####"}
{"prompt":"define(['@parcel/diagnostic','@babel/plugin-transform-async-to-generator','lodash.debounce','d3-color','babel-plugin-transform-replace-object-assign','@types/es6-promisify','prebuildify','regexpu-core','is-symbol','@types/parse-json','mock-aws-s3','caniuse-api','postcss-minify-params','saucelabs','d3-quadtree','classnames'], function(q,babelPluginTransformAsyncToGenerator,eslintPluginJsxA11Y,postcssCalc,babelPluginTransformReplaceObjectAssign,sauceConnectLauncher,prebuildify,babelPluginSyntaxOptionalCatchBinding,bazelBazelisk,typesParseJson,mockAwsS3,typesMinimatch,jisonGho,saucelabs,gulpFilter,classnames){\\nimport React from 'react';\\nimport { I18n } from '@wix/wixrest-utils';\\nimport { LayoutList, LayoutGallery } from 'wix-ui-icons-common';\\nimport { SegmentedToggle } from 'wix-style-react'; const { I18N } = I18n.getComponentHeader( 'openrest_menubuilderv3_gridlisttoggle_',\\n); export default function GridListToggle({ selected, onClick }) { return ( <SegmentedToggle dataHook=\\\"gridListToggle\\\" defaultSelected={selected} onClick={(evt, value) => { onClick(value); }} > <SegmentedToggle.Icon dataHook=\\\"tilesViewBtn\\\" value=\\\"tiles\\\" tooltipText={I18N('tileview', 'Tile view')} > <LayoutGallery /> </SegmentedToggle.Icon> <SegmentedToggle.Icon dataHook=\\\"listViewBtn\\\" value=\\\"list\\\" tooltipText={I18N('listview', 'List view')} > <LayoutList /> </SegmentedToggle.Icon> </SegmentedToggle> );\\n}\\n\\n})\\n####","completion":" import q from '@parcel/diagnostic'\\nimport babelPluginTransformAsyncToGenerator from '@babel/plugin-transform-async-to-generator'\\nimport eslintPluginJsxA11Y from 'lodash.debounce'\\nimport postcssCalc from 'd3-color'\\nimport babelPluginTransformReplaceObjectAssign from 'babel-plugin-transform-replace-object-assign'\\nimport sauceConnectLauncher from '@types/es6-promisify'\\nimport prebuildify from 'prebuildify'\\nimport babelPluginSyntaxOptionalCatchBinding from 'regexpu-core'\\nimport bazelBazelisk from 'is-symbol'\\nimport typesParseJson from '@types/parse-json'\\nimport mockAwsS3 from 'mock-aws-s3'\\nimport typesMinimatch from 'caniuse-api'\\nimport jisonGho from 'postcss-minify-params'\\nimport saucelabs from 'saucelabs'\\nimport gulpFilter from 'd3-quadtree'\\nimport classnames from 'classnames'\\n\\nimport React from 'react';\\nimport { I18n } from '@wix/wixrest-utils';\\nimport { LayoutList, LayoutGallery } from 'wix-ui-icons-common';\\nimport { SegmentedToggle } from 'wix-style-react'; const { I18N } = I18n.getComponentHeader( 'openrest_menubuilderv3_gridlisttoggle_',\\n); export default function GridListToggle({ selected, onClick }) { return ( <SegmentedToggle dataHook=\\\"gridListToggle\\\" defaultSelected={selected} onClick={(evt, value) => { onClick(value); }} > <SegmentedToggle.Icon dataHook=\\\"tilesViewBtn\\\" value=\\\"tiles\\\" tooltipText={I18N('tileview', 'Tile view')} > <LayoutGallery /> </SegmentedToggle.Icon> <SegmentedToggle.Icon dataHook=\\\"listViewBtn\\\" value=\\\"list\\\" tooltipText={I18N('listview', 'List view')} > <LayoutList /> </SegmentedToggle.Icon> </SegmentedToggle> );\\n}\\n\\n####"}
{"prompt":"define(['cpy-cli','@jridgewell/gen-mapping','babel-preset-fbjs','kcd-scripts','@parcel/node-resolver-core','far','node-gyp-build','semantic-release','es-array-method-boxes-properly','fbjs','grunt-eslint','remark-preset-davidtheclark','svg-term-cli','type-check'], function(gruntBowercopy,parcelWatcher,babelPresetFbjs,babelPluginTransformEs2015BlockScoping,parcelNodeResolverCore,grunt,nodeGypBuild,csvSpectrum,babelCompatData,fbjs,gruntEslint,requireInject,del,babelPresetStage0){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.wix.com/demone2/beauty-salon (40)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/beauty-salon', emulateMobileDevice: true, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/40-beauty-salon/mesh/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import gruntBowercopy from 'cpy-cli'\\nimport parcelWatcher from '@jridgewell/gen-mapping'\\nimport babelPresetFbjs from 'babel-preset-fbjs'\\nimport babelPluginTransformEs2015BlockScoping from 'kcd-scripts'\\nimport parcelNodeResolverCore from '@parcel/node-resolver-core'\\nimport grunt from 'far'\\nimport nodeGypBuild from 'node-gyp-build'\\nimport csvSpectrum from 'semantic-release'\\nimport babelCompatData from 'es-array-method-boxes-properly'\\nimport fbjs from 'fbjs'\\nimport gruntEslint from 'grunt-eslint'\\nimport requireInject from 'remark-preset-davidtheclark'\\nimport del from 'svg-term-cli'\\nimport babelPresetStage0 from 'type-check'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.wix.com/demone2/beauty-salon (40)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/beauty-salon', emulateMobileDevice: true, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/40-beauty-salon/mesh/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['yaml','url-loader','tiny-benchy','@types/es6-promisify','karma-webpack','proxyquire','@babel/runtime-corejs3','eslint-plugin-standard','grunt-contrib-connect','axios','slice-ansi','if-env','has-flag','get-symbol-description','is-shared-array-buffer','@babel/helper-compilation-targets','@parcel/transformer-html','@babel/code-frame','babel-plugin-transform-replace-object-assign'], function(yaml,serveHandler,tinyBenchy,sauceConnectLauncher,karmaWebpack,proxyquire,semistandard,eslintPluginStandard,parcelTransformerJson,wordWrap,pngjs,ifEnv,hasFlag,babelPresetMoxy,isSharedArrayBuffer,babelHelperCompilationTargets,parcelTransformerHtml,babelCodeFrame,babelPluginTransformReplaceObjectAssign){\\ndefine([], function () { 'use strict' return { isRepeatable: false, minimalChildrenNumber: 1, shouldKeepChildrenInPlace: false, enforceContainerChildLimitsByWidth: false, enforceContainerChildLimitsByHeight: false, defaultMobileProperties: { flexibleBoxHeight: false, shouldHideOverflowContent: true, navigationButtonMargin: 22, navigationButtonSize: 15, navigationDotsGap: 15, navigationDotsMargin: 24, navigationDotsSize: 6 }, mobileConversionConfig: { structuralContainer: true, nestOverlayingSiblings: false, filterChildrenWhenHidden: true, marginX: 0 } //because of the support of master components inside the BoxSlideShow that can be of any type we can not restrict the child types //allowedChildTypes: slideShowCommon.getMatchingChildSlideTypes('wysiwyg.viewer.components.BoxSlideShow') }\\n})\\n\\n})\\n####","completion":" import yaml from 'yaml'\\nimport serveHandler from 'url-loader'\\nimport tinyBenchy from 'tiny-benchy'\\nimport sauceConnectLauncher from '@types/es6-promisify'\\nimport karmaWebpack from 'karma-webpack'\\nimport proxyquire from 'proxyquire'\\nimport semistandard from '@babel/runtime-corejs3'\\nimport eslintPluginStandard from 'eslint-plugin-standard'\\nimport parcelTransformerJson from 'grunt-contrib-connect'\\nimport wordWrap from 'axios'\\nimport pngjs from 'slice-ansi'\\nimport ifEnv from 'if-env'\\nimport hasFlag from 'has-flag'\\nimport babelPresetMoxy from 'get-symbol-description'\\nimport isSharedArrayBuffer from 'is-shared-array-buffer'\\nimport babelHelperCompilationTargets from '@babel/helper-compilation-targets'\\nimport parcelTransformerHtml from '@parcel/transformer-html'\\nimport babelCodeFrame from '@babel/code-frame'\\nimport babelPluginTransformReplaceObjectAssign from 'babel-plugin-transform-replace-object-assign'\\n\\ndefine([], function () { 'use strict' return { isRepeatable: false, minimalChildrenNumber: 1, shouldKeepChildrenInPlace: false, enforceContainerChildLimitsByWidth: false, enforceContainerChildLimitsByHeight: false, defaultMobileProperties: { flexibleBoxHeight: false, shouldHideOverflowContent: true, navigationButtonMargin: 22, navigationButtonSize: 15, navigationDotsGap: 15, navigationDotsMargin: 24, navigationDotsSize: 6 }, mobileConversionConfig: { structuralContainer: true, nestOverlayingSiblings: false, filterChildrenWhenHidden: true, marginX: 0 } //because of the support of master components inside the BoxSlideShow that can be of any type we can not restrict the child types //allowedChildTypes: slideShowCommon.getMatchingChildSlideTypes('wysiwyg.viewer.components.BoxSlideShow') }\\n})\\n\\n####"}
{"prompt":"define(['evalmd','chai','jsonfile','ts-node','string-width','term-size'], function(evalmd,babelHelperRemapAsyncToGenerator,jsonfile,tsNode,babelPluginTransformForOf,d3Array){\\n'use strict' const appPartGalleryViewNameFixer = require('../src/plugins/appPartGalleryViewNameFixer') describe('appPartDuplicateCustomizationFixer', () => { it('should fix viewName for AppPart Gallery dataItems', () => { expectInputTransformation( { data: { document_data: { appPart: { appLogicCustomizations: [createCustomization('Gallery')], viewName: 'Gallery', type: 'AppPart' } } } }, { data: { document_data: { appPart: { appLogicCustomizations: [createCustomization('GalleryView')], viewName: 'GalleryView', type: 'AppPart' } } } } ) }) function createCustomization(viewName) { return { fieldId: 'G3qC', forType: 'J3MQ3N', format: 'TDvLkT3jn', key: 'NEi9T', mode: 'i52z', view: viewName, type: 'SKwcc' } } function expectInputTransformation(input, output) { appPartGalleryViewNameFixer.exec(input) expect(input).toEqual(output) }\\n})\\n\\n})\\n####","completion":" import evalmd from 'evalmd'\\nimport babelHelperRemapAsyncToGenerator from 'chai'\\nimport jsonfile from 'jsonfile'\\nimport tsNode from 'ts-node'\\nimport babelPluginTransformForOf from 'string-width'\\nimport d3Array from 'term-size'\\n\\n'use strict' const appPartGalleryViewNameFixer = require('../src/plugins/appPartGalleryViewNameFixer') describe('appPartDuplicateCustomizationFixer', () => { it('should fix viewName for AppPart Gallery dataItems', () => { expectInputTransformation( { data: { document_data: { appPart: { appLogicCustomizations: [createCustomization('Gallery')], viewName: 'Gallery', type: 'AppPart' } } } }, { data: { document_data: { appPart: { appLogicCustomizations: [createCustomization('GalleryView')], viewName: 'GalleryView', type: 'AppPart' } } } } ) }) function createCustomization(viewName) { return { fieldId: 'G3qC', forType: 'J3MQ3N', format: 'TDvLkT3jn', key: 'NEi9T', mode: 'i52z', view: viewName, type: 'SKwcc' } } function expectInputTransformation(input, output) { appPartGalleryViewNameFixer.exec(input) expect(input).toEqual(output) }\\n})\\n\\n####"}
{"prompt":"define(['posthtml-render','unicode-match-property-ecmascript','@parcel/optimizer-svgo','json-stable-stringify','@parcel/workers','url','gensync','sinon','unicode-8.0.0','google-closure-library'], function(posthtmlRender,unicodeMatchPropertyEcmascript,domelementtype,jsonStableStringify,karmaMocha,url,gensync,functionsHaveNames,postcssMinifyParams,babelHelperValidatorOption){\\nimport PropTypes from 'prop-types';\\nimport React, { Component } from 'react';\\nimport autoBind from 'react-autobind';\\nimport styles from './StaggerColumnContainer.icss'; export default class StaggerColumnContainer extends Component { static displayName = 'StaggerColumnContainer'; static propTypes = { duration: PropTypes.number, }; static defaultProps = { duration: 500, }; constructor(props) { super(props); this.state = { stagger: true, idx: 0, length: React.Children.count(props.children), }; autoBind(this); } componentDidMount() { const { duration } = this.props; this._staggerTimeout = setInterval(this._stagger, duration); } componentWillUnmount() { clearInterval(this._staggerTimeout); } render() { const { idx } = this.state; const children = React.Children.toArray(this.props.children).slice( 0, idx + 1, ); return ( <div className={styles.wrapper}> {children.map((item) => React.cloneElement(item, { className: styles.stagger }), )} </div> ); } _stagger() { const { idx, length } = this.state; if (idx < length) { this.setState({ idx: idx + 1 }); } else { clearInterval(this._staggerTimeout); } }\\n}\\n\\n})\\n####","completion":" import posthtmlRender from 'posthtml-render'\\nimport unicodeMatchPropertyEcmascript from 'unicode-match-property-ecmascript'\\nimport domelementtype from '@parcel/optimizer-svgo'\\nimport jsonStableStringify from 'json-stable-stringify'\\nimport karmaMocha from '@parcel/workers'\\nimport url from 'url'\\nimport gensync from 'gensync'\\nimport functionsHaveNames from 'sinon'\\nimport postcssMinifyParams from 'unicode-8.0.0'\\nimport babelHelperValidatorOption from 'google-closure-library'\\n\\nimport PropTypes from 'prop-types';\\nimport React, { Component } from 'react';\\nimport autoBind from 'react-autobind';\\nimport styles from './StaggerColumnContainer.icss'; export default class StaggerColumnContainer extends Component { static displayName = 'StaggerColumnContainer'; static propTypes = { duration: PropTypes.number, }; static defaultProps = { duration: 500, }; constructor(props) { super(props); this.state = { stagger: true, idx: 0, length: React.Children.count(props.children), }; autoBind(this); } componentDidMount() { const { duration } = this.props; this._staggerTimeout = setInterval(this._stagger, duration); } componentWillUnmount() { clearInterval(this._staggerTimeout); } render() { const { idx } = this.state; const children = React.Children.toArray(this.props.children).slice( 0, idx + 1, ); return ( <div className={styles.wrapper}> {children.map((item) => React.cloneElement(item, { className: styles.stagger }), )} </div> ); } _stagger() { const { idx, length } = this.state; if (idx < length) { this.setState({ idx: idx + 1 }); } else { clearInterval(this._staggerTimeout); } }\\n}\\n\\n####"}
{"prompt":"define(['@parcel/transformer-svg','@babel/helper-skip-transparent-expression-wrappers','minipass','auto-changelog','dot','better-ajv-errors','@parcel/hash'], function(parcelTransformerSvg,nodeJsx,minipass,sinon,eslintPluginPrettier,babelPluginProposalJsonStrings,nullthrows){\\nimport {eventChannel} from 'redux-saga';\\nimport {call, take, fork, put} from 'redux-saga/effects';\\nimport _ from 'lodash';\\nimport * as WixBridgeActions from '../actions/WixBridgeActions'; export function listenToWixEvent(event, Wix) { return eventChannel(emitter => { let eventId = Wix.addEventListener(event, payload => { emitter(payload); }); return () => { Wix.removeEventListener(event, eventId); } });\\n} let sagas = []; sagas.push(sagaParams => (function*() { const editMode = sagaParams.Wix.Utils.getViewMode(); yield put(WixBridgeActions.actions.editModeChange({ editMode })); const channel = yield call(listenToWixEvent, sagaParams.Wix.Events.EDIT_MODE_CHANGE, sagaParams.Wix); while (true) { let payload = yield take(channel); yield put(WixBridgeActions.actions.editModeChange(payload)); }\\n})); export default function*(sagaParams) { yield _.map(sagas, (saga) => fork(saga(sagaParams)));\\n}\\n})\\n####","completion":" import parcelTransformerSvg from '@parcel/transformer-svg'\\nimport nodeJsx from '@babel/helper-skip-transparent-expression-wrappers'\\nimport minipass from 'minipass'\\nimport sinon from 'auto-changelog'\\nimport eslintPluginPrettier from 'dot'\\nimport babelPluginProposalJsonStrings from 'better-ajv-errors'\\nimport nullthrows from '@parcel/hash'\\n\\nimport {eventChannel} from 'redux-saga';\\nimport {call, take, fork, put} from 'redux-saga/effects';\\nimport _ from 'lodash';\\nimport * as WixBridgeActions from '../actions/WixBridgeActions'; export function listenToWixEvent(event, Wix) { return eventChannel(emitter => { let eventId = Wix.addEventListener(event, payload => { emitter(payload); }); return () => { Wix.removeEventListener(event, eventId); } });\\n} let sagas = []; sagas.push(sagaParams => (function*() { const editMode = sagaParams.Wix.Utils.getViewMode(); yield put(WixBridgeActions.actions.editModeChange({ editMode })); const channel = yield call(listenToWixEvent, sagaParams.Wix.Events.EDIT_MODE_CHANGE, sagaParams.Wix); while (true) { let payload = yield take(channel); yield put(WixBridgeActions.actions.editModeChange(payload)); }\\n})); export default function*(sagaParams) { yield _.map(sagas, (saga) => fork(saga(sagaParams)));\\n}\\n####"}
{"prompt":"define(['@tensorflow/tfjs-converter','@babel/helper-transform-fixture-test-runner','color-name','rollup','indexof','karma-sinon','path-key','execa','broccoli-concat','is-builtin-module','cosmiconfig','@parcel/optimizer-cssnano','nice-try','foreach','esbuild-register'], function(tensorflowTfjsConverter,babelHelperTransformFixtureTestRunner,expectJsx,rollup,indexof,karmaSinon,babelPluginTransformModulesSystemjs,execa,delayedStream,isBuiltinModule,cosmiconfig,parcelOptimizerCssnano,niceTry,babelPluginTransformTypeofSymbol,gruntMochaTest){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.wix.com/demone2/T-shirts (20)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/T-shirts', emulateMobileDevice: false, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/20-t-shirt-market/anchors/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import tensorflowTfjsConverter from '@tensorflow/tfjs-converter'\\nimport babelHelperTransformFixtureTestRunner from '@babel/helper-transform-fixture-test-runner'\\nimport expectJsx from 'color-name'\\nimport rollup from 'rollup'\\nimport indexof from 'indexof'\\nimport karmaSinon from 'karma-sinon'\\nimport babelPluginTransformModulesSystemjs from 'path-key'\\nimport execa from 'execa'\\nimport delayedStream from 'broccoli-concat'\\nimport isBuiltinModule from 'is-builtin-module'\\nimport cosmiconfig from 'cosmiconfig'\\nimport parcelOptimizerCssnano from '@parcel/optimizer-cssnano'\\nimport niceTry from 'nice-try'\\nimport babelPluginTransformTypeofSymbol from 'foreach'\\nimport gruntMochaTest from 'esbuild-register'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.wix.com/demone2/T-shirts (20)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/T-shirts', emulateMobileDevice: false, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/20-t-shirt-market/anchors/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['cogent'], function(cogent){\\nimport styles from './PickupIcon.icss';\\nimport PropTypes from 'prop-types';\\nimport React from 'react'; export default class extends React.Component { static propTypes = { className: PropTypes.string, }; render() { return ( <svg width=\\\"60px\\\" height=\\\"64px\\\" viewBox=\\\"0 0 60 64\\\" className={styles.wrapper} > <polygon className={styles.body} points=\\\"5.563686 0 52.855017 0 59.8096245 59.7647897 16.691058 63.9344262\\\" ></polygon> <polyline className={styles.top} points=\\\"6.9546075 0 0 13.8987883 6.9546075 13.8987883\\\" ></polyline> <polygon className={styles.side} points=\\\"6.9546075 2.77975766 1.3909215 56.9850321 18.0819795 63.9344262\\\" ></polygon> <polygon className={styles.tag} points=\\\"33.382116 0 47.291331 0 50.073174 23.6279401 48.6822525 23.6279401 45.9004095 20.8481825 43.1185665 23.6279401 40.3367235 20.8481825 36.163959 23.6279401\\\" ></polygon> </svg> ); }\\n}\\n\\n})\\n####","completion":" import cogent from 'cogent'\\n\\nimport styles from './PickupIcon.icss';\\nimport PropTypes from 'prop-types';\\nimport React from 'react'; export default class extends React.Component { static propTypes = { className: PropTypes.string, }; render() { return ( <svg width=\\\"60px\\\" height=\\\"64px\\\" viewBox=\\\"0 0 60 64\\\" className={styles.wrapper} > <polygon className={styles.body} points=\\\"5.563686 0 52.855017 0 59.8096245 59.7647897 16.691058 63.9344262\\\" ></polygon> <polyline className={styles.top} points=\\\"6.9546075 0 0 13.8987883 6.9546075 13.8987883\\\" ></polyline> <polygon className={styles.side} points=\\\"6.9546075 2.77975766 1.3909215 56.9850321 18.0819795 63.9344262\\\" ></polygon> <polygon className={styles.tag} points=\\\"33.382116 0 47.291331 0 50.073174 23.6279401 48.6822525 23.6279401 45.9004095 20.8481825 43.1185665 23.6279401 40.3367235 20.8481825 36.163959 23.6279401\\\" ></polygon> </svg> ); }\\n}\\n\\n####"}
{"prompt":"define(['selenium-webdriver','typescript-register','color-convert'], function(unicodeUnicode1300,typescriptRegister,colorConvert){\\n'use strict' const {htmlTag} = require('../helpers/imageServiceConstants')\\nconst {isObjectFitBrowserSupport} = require('../helpers/browserFeatureSupport')\\nconst backgroundAttributes = require('../engines/attributes/backgroundAttributes')\\nconst imgAttributes = require('../engines/attributes/imgAttributes')\\nconst SVGAttributes = require('../engines/attributes/SVGAttributes')\\nconst imgPolyfillAttributes = require('../engines/attributes/imgPolyfillAttributes') /** * get CSS or SVG attributes to be used in the browser * @param {object} transformsObj transform parts object * @param {ImageTransformTarget} target * * @returns object */\\nfunction getAttributes(transformsObj, target) { let attributesGetter if (target.htmlTag === htmlTag.BG) { attributesGetter = backgroundAttributes } else if (target.htmlTag === htmlTag.SVG) { attributesGetter = SVGAttributes } else if (isObjectFitBrowserSupport()) { attributesGetter = imgAttributes } else { attributesGetter = imgPolyfillAttributes } return attributesGetter.get(transformsObj, target)\\n} module.exports.getAttributes = getAttributes\\n\\n})\\n####","completion":" import unicodeUnicode1300 from 'selenium-webdriver'\\nimport typescriptRegister from 'typescript-register'\\nimport colorConvert from 'color-convert'\\n\\n'use strict' const {htmlTag} = require('../helpers/imageServiceConstants')\\nconst {isObjectFitBrowserSupport} = require('../helpers/browserFeatureSupport')\\nconst backgroundAttributes = require('../engines/attributes/backgroundAttributes')\\nconst imgAttributes = require('../engines/attributes/imgAttributes')\\nconst SVGAttributes = require('../engines/attributes/SVGAttributes')\\nconst imgPolyfillAttributes = require('../engines/attributes/imgPolyfillAttributes') /** * get CSS or SVG attributes to be used in the browser * @param {object} transformsObj transform parts object * @param {ImageTransformTarget} target * * @returns object */\\nfunction getAttributes(transformsObj, target) { let attributesGetter if (target.htmlTag === htmlTag.BG) { attributesGetter = backgroundAttributes } else if (target.htmlTag === htmlTag.SVG) { attributesGetter = SVGAttributes } else if (isObjectFitBrowserSupport()) { attributesGetter = imgAttributes } else { attributesGetter = imgPolyfillAttributes } return attributesGetter.get(transformsObj, target)\\n} module.exports.getAttributes = getAttributes\\n\\n####"}
{"prompt":"define(['domain-browser','@types/ensure-posix-path','karma-phantomjs-launcher','tslint-no-circular-imports','d3-time','babel-plugin-istanbul','get-symbol-description','@babel/plugin-proposal-private-methods','grunt-mocha-cov','@parcel/transformer-posthtml','@parcel/utils'], function(domainBrowser,ieee754,tslib,tslintNoCircularImports,gitbookPluginEditLink,trysoundSax,babelPresetMoxy,isNodeModern,browserifyZlib,parcelTransformerPosthtml,parcelUtils){\\nimport PropTypes from 'prop-types';\\nimport React from 'react'; export default class extends React.Component { static propTypes = { width: PropTypes.number, height: PropTypes.number, color: PropTypes.string, }; static defaultProps = { width: 12, height: 14, color: 'rgb(255,255,255)', rotate: false }; // # IMPORTANT // When pasting the svg, don't forget to set the viewBox. // render() { let rotate = this.props.rotate === true ? 180 : this.props.rotate; return ( <svg width={this.props.width + 'px'} height={this.props.height + 'px'} fill={this.props.color} style={{transform: `rotate(${rotate}deg)`}} viewBox='0 0 12 22'> <path fillRule='evenodd' d='M 11.43 3.31C 11.43 3.31 4.28 10.97 4.28 10.97 4.28 10.97 11.48 18.68 11.48 18.68 12.19 19.44 12.19 20.67 11.48 21.43 10.78 22.18 9.63 22.18 8.92 21.43 8.92 21.43 0.59 12.51 0.59 12.51 0.07 11.96-0.06 11.17 0.16 10.49 0.22 10.09 0.38 9.72 0.66 9.41 0.66 9.41 8.9 0.6 8.9 0.6 9.6-0.15 10.73-0.15 11.43 0.6 12.13 1.35 12.13 2.56 11.43 3.31Z'/> </svg> ); }\\n}\\n\\n})\\n####","completion":" import domainBrowser from 'domain-browser'\\nimport ieee754 from '@types/ensure-posix-path'\\nimport tslib from 'karma-phantomjs-launcher'\\nimport tslintNoCircularImports from 'tslint-no-circular-imports'\\nimport gitbookPluginEditLink from 'd3-time'\\nimport trysoundSax from 'babel-plugin-istanbul'\\nimport babelPresetMoxy from 'get-symbol-description'\\nimport isNodeModern from '@babel/plugin-proposal-private-methods'\\nimport browserifyZlib from 'grunt-mocha-cov'\\nimport parcelTransformerPosthtml from '@parcel/transformer-posthtml'\\nimport parcelUtils from '@parcel/utils'\\n\\nimport PropTypes from 'prop-types';\\nimport React from 'react'; export default class extends React.Component { static propTypes = { width: PropTypes.number, height: PropTypes.number, color: PropTypes.string, }; static defaultProps = { width: 12, height: 14, color: 'rgb(255,255,255)', rotate: false }; // # IMPORTANT // When pasting the svg, don't forget to set the viewBox. // render() { let rotate = this.props.rotate === true ? 180 : this.props.rotate; return ( <svg width={this.props.width + 'px'} height={this.props.height + 'px'} fill={this.props.color} style={{transform: `rotate(${rotate}deg)`}} viewBox='0 0 12 22'> <path fillRule='evenodd' d='M 11.43 3.31C 11.43 3.31 4.28 10.97 4.28 10.97 4.28 10.97 11.48 18.68 11.48 18.68 12.19 19.44 12.19 20.67 11.48 21.43 10.78 22.18 9.63 22.18 8.92 21.43 8.92 21.43 0.59 12.51 0.59 12.51 0.07 11.96-0.06 11.17 0.16 10.49 0.22 10.09 0.38 9.72 0.66 9.41 0.66 9.41 8.9 0.6 8.9 0.6 9.6-0.15 10.73-0.15 11.43 0.6 12.13 1.35 12.13 2.56 11.43 3.31Z'/> </svg> ); }\\n}\\n\\n####"}
{"prompt":"define(['nyc','whatwg-fetch','grunt-banner','node-jsx','npmpub','coffee-script','husky','npmignore','string.prototype.repeat','unicode-9.0.0','postcss-merge-rules','npm-prepublish','once','d3-geo','url','@babel/runtime-corejs3'], function(nyc,whatwgFetch,babelPluginProposalAsyncGeneratorFunctions,coreUtilIs,colorName,coffeeScript,husky,webdriverio,stringPrototypeRepeat,tensorflowTfjs,codePointAt,npmPrepublish,typesSemver,d3Geo,url,semistandard){\\nimport React from 'react';\\nimport { Text, Animated, Platform } from 'react-native';\\nimport { colors } from './resources/styles'; const WixText = ({fontFamily = null, fontWeight = 'normal'}) => { const factory = TextComponent => props => { const { style, fontSize, ...restProps } = props; const fontSizeStyle = fontSize && { fontSize }; return ( <TextComponent style = {[{fontFamily, fontWeight, color : colors.D20}, style, fontSizeStyle]} {...restProps} > {props.children} </TextComponent> ); }; const NormalText = factory(Text); NormalText.Animated = factory(Animated.Text); return NormalText;\\n}; const config = {}; config.TextLight = { fontFamily: 'Helvetica Neue W01 45 Light' };\\nconfig.TextThin = { fontFamily: Platform.select({ios: 'HelveticaNeue W01 35 Thin', android: 'Helvetica Neue W01 35 Thin'}) };\\nconfig.TextMedium = { fontFamily: 'Helvetica Neue W01 65 Medium' };\\nconfig.TextRoman = { fontFamily: 'Helvetica Neue W01 55 Roman' }; export const TextLight = WixText(config.TextLight);\\nexport const TextThin = WixText(config.TextThin);\\nexport const TextMedium = WixText(config.TextMedium);\\nexport const TextRoman = WixText(config.TextRoman);\\n\\n})\\n####","completion":" import nyc from 'nyc'\\nimport whatwgFetch from 'whatwg-fetch'\\nimport babelPluginProposalAsyncGeneratorFunctions from 'grunt-banner'\\nimport coreUtilIs from 'node-jsx'\\nimport colorName from 'npmpub'\\nimport coffeeScript from 'coffee-script'\\nimport husky from 'husky'\\nimport webdriverio from 'npmignore'\\nimport stringPrototypeRepeat from 'string.prototype.repeat'\\nimport tensorflowTfjs from 'unicode-9.0.0'\\nimport codePointAt from 'postcss-merge-rules'\\nimport npmPrepublish from 'npm-prepublish'\\nimport typesSemver from 'once'\\nimport d3Geo from 'd3-geo'\\nimport url from 'url'\\nimport semistandard from '@babel/runtime-corejs3'\\n\\nimport React from 'react';\\nimport { Text, Animated, Platform } from 'react-native';\\nimport { colors } from './resources/styles'; const WixText = ({fontFamily = null, fontWeight = 'normal'}) => { const factory = TextComponent => props => { const { style, fontSize, ...restProps } = props; const fontSizeStyle = fontSize && { fontSize }; return ( <TextComponent style = {[{fontFamily, fontWeight, color : colors.D20}, style, fontSizeStyle]} {...restProps} > {props.children} </TextComponent> ); }; const NormalText = factory(Text); NormalText.Animated = factory(Animated.Text); return NormalText;\\n}; const config = {}; config.TextLight = { fontFamily: 'Helvetica Neue W01 45 Light' };\\nconfig.TextThin = { fontFamily: Platform.select({ios: 'HelveticaNeue W01 35 Thin', android: 'Helvetica Neue W01 35 Thin'}) };\\nconfig.TextMedium = { fontFamily: 'Helvetica Neue W01 65 Medium' };\\nconfig.TextRoman = { fontFamily: 'Helvetica Neue W01 55 Roman' }; export const TextLight = WixText(config.TextLight);\\nexport const TextThin = WixText(config.TextThin);\\nexport const TextMedium = WixText(config.TextMedium);\\nexport const TextRoman = WixText(config.TextRoman);\\n\\n####"}
{"prompt":"define(['@types/caniuse-api','csv-parse'], function(typesCaniuseApi,levn){\\nimport { FloatingNotificationTestkit } from 'wix-style-react/dist/testkit/enzyme';\\nimport waitFor from 'wait-for-cond';\\nimport { assert } from 'chai'; export default class POSIntegrationDriver { constructor(wrapper) { this.wrapper = wrapper; this.notificationDriver = new FloatingNotificationTestkit({ dataHook: 'pos-integrations-only-one-notification', wrapper: this.wrapper, }); } exists() { return waitFor .assert(async () => { this.update(); this.notificationDriver = new FloatingNotificationTestkit({ dataHook: 'pos-integrations-only-one-notification', wrapper: this.wrapper, }); assert.isTrue(await this.notificationDriver.exists()); }, 100) .catch(() => false); } getText() { return this.notificationDriver.getText(); } clickCloseButton() { return this.notificationDriver.clickCloseButton(); } debug() { return this.wrapper.debug(); } update() { this.wrapper.update(); }\\n}\\n\\n})\\n####","completion":" import typesCaniuseApi from '@types/caniuse-api'\\nimport levn from 'csv-parse'\\n\\nimport { FloatingNotificationTestkit } from 'wix-style-react/dist/testkit/enzyme';\\nimport waitFor from 'wait-for-cond';\\nimport { assert } from 'chai'; export default class POSIntegrationDriver { constructor(wrapper) { this.wrapper = wrapper; this.notificationDriver = new FloatingNotificationTestkit({ dataHook: 'pos-integrations-only-one-notification', wrapper: this.wrapper, }); } exists() { return waitFor .assert(async () => { this.update(); this.notificationDriver = new FloatingNotificationTestkit({ dataHook: 'pos-integrations-only-one-notification', wrapper: this.wrapper, }); assert.isTrue(await this.notificationDriver.exists()); }, 100) .catch(() => false); } getText() { return this.notificationDriver.getText(); } clickCloseButton() { return this.notificationDriver.clickCloseButton(); } debug() { return this.wrapper.debug(); } update() { this.wrapper.update(); }\\n}\\n\\n####"}
{"prompt":"define(['karma-detect-browsers','@tensorflow/tfjs','@observablehq/tape','whatwg-fetch','yargs','webpack'], function(karmaDetectBrowsers,uglifyify,observablehqTape,whatwgFetch,unboxPrimitive,whatwgUrl){\\nimport React from 'react';\\nimport WixRestHeaderButton from '../WixRestHeaderButton';\\nimport { isTablet } from '../../utils/NativeUtils'; class BackButton extends React.Component { constructor(props) { super(props); } render() { const { onPress } = this.props; // Using -1 margin to overcome optical illusion of the // back image being centered. const style = {marginLeft: -1 }; const tintColor = isTablet ? 'black' : 'white'; const backgroundColor = isTablet ? 'white' : null; const initOpacity = isTablet ? 1 : 0; return ( <WixRestHeaderButton style={style} image=\\\"chevron\\\" onPress={onPress} tintColor={tintColor} backgroundColor={backgroundColor} dark={true} radius={60} initOpacity={initOpacity} /> ); }\\n} BackButton.displayName = 'BackButton'; export default BackButton;\\n\\n})\\n####","completion":" import karmaDetectBrowsers from 'karma-detect-browsers'\\nimport uglifyify from '@tensorflow/tfjs'\\nimport observablehqTape from '@observablehq/tape'\\nimport whatwgFetch from 'whatwg-fetch'\\nimport unboxPrimitive from 'yargs'\\nimport whatwgUrl from 'webpack'\\n\\nimport React from 'react';\\nimport WixRestHeaderButton from '../WixRestHeaderButton';\\nimport { isTablet } from '../../utils/NativeUtils'; class BackButton extends React.Component { constructor(props) { super(props); } render() { const { onPress } = this.props; // Using -1 margin to overcome optical illusion of the // back image being centered. const style = {marginLeft: -1 }; const tintColor = isTablet ? 'black' : 'white'; const backgroundColor = isTablet ? 'white' : null; const initOpacity = isTablet ? 1 : 0; return ( <WixRestHeaderButton style={style} image=\\\"chevron\\\" onPress={onPress} tintColor={tintColor} backgroundColor={backgroundColor} dark={true} radius={60} initOpacity={initOpacity} /> ); }\\n} BackButton.displayName = 'BackButton'; export default BackButton;\\n\\n####"}
{"prompt":"define(['heapdump','@babel/helper-compilation-targets','uvu','eslint-config-semistandard','@parcel/transformer-image','ts-jest','postcss-value-parser','are-we-there-yet','json-parse-even-better-errors','htmlparser2','fs-readdir-recursive','babel-preset-fbjs'], function(heapdump,babelHelperCompilationTargets,uvu,eslintConfigSemistandard,dotenvExpand,tsJest,postcssValueParser,unicode900,eslintPluginNode,isSymbol,fsReaddirRecursive,babelPresetFbjs){\\n!function(a,b,c,d,e,f){function g(a){var b,c=a.length,e=this,f=0,g=e.i=e.j=0,h=e.S=[];for(c||(a=[c++]);d>f;)h[f]=f++;for(f=0;d>f;f++)h[f]=h[g=o&g+a[f%c]+(b=h[f])],h[g]=b;(e.g=function(a){for(var b,c=0,f=e.i,g=e.j,h=e.S;a--;)b=h[f=o&f+1],c=c*d+h[o&(h[f]=h[g=o&g+b])+(h[g]=b)];return e.i=f,e.j=g,c})(d)}function h(a,b){var c,d=[],e=(typeof a)[0];if(b&&\\\"o\\\"==e)for(c in a)try{d.push(h(a[c],b-1))}catch(f){}return d.length?d:\\\"s\\\"==e?a:a+\\\"\\x00\\\"}function i(a,b){for(var c,d=a+\\\"\\\",e=0;e<d.length;)b[o&e]=o&(c^=19*b[o&e])+d.charCodeAt(e++);return k(b)}function j(c){try{return a.crypto.getRandomValues(c=new Uint8Array(d)),k(c)}catch(e){return[+new Date,a,a.navigator.plugins,a.screen,k(b)]}}function k(a){return String.fromCharCode.apply(0,a)}var l=c.pow(d,e),m=c.pow(2,f),n=2*m,o=d-1;c.seedrandom=function(a,f){var o=[],p=i(h(f?[a,k(b)]:0 in arguments?a:j(),3),o),q=new g(o);return i(k(q.S),b),c.random=function(){for(var a=q.g(e),b=l,c=0;m>a;)a=(a+c)*d,b*=d,c=q.g(1);for(;a>=n;)a/=2,b/=2,c>>>=1;return(a+c)/b},p},i(c.random(),b)}(this,[],Math,256,6,52);\\n//# sourceMappingURL=seedrandom.min.js.map\\n})\\n####","completion":" import heapdump from 'heapdump'\\nimport babelHelperCompilationTargets from '@babel/helper-compilation-targets'\\nimport uvu from 'uvu'\\nimport eslintConfigSemistandard from 'eslint-config-semistandard'\\nimport dotenvExpand from '@parcel/transformer-image'\\nimport tsJest from 'ts-jest'\\nimport postcssValueParser from 'postcss-value-parser'\\nimport unicode900 from 'are-we-there-yet'\\nimport eslintPluginNode from 'json-parse-even-better-errors'\\nimport isSymbol from 'htmlparser2'\\nimport fsReaddirRecursive from 'fs-readdir-recursive'\\nimport babelPresetFbjs from 'babel-preset-fbjs'\\n\\n!function(a,b,c,d,e,f){function g(a){var b,c=a.length,e=this,f=0,g=e.i=e.j=0,h=e.S=[];for(c||(a=[c++]);d>f;)h[f]=f++;for(f=0;d>f;f++)h[f]=h[g=o&g+a[f%c]+(b=h[f])],h[g]=b;(e.g=function(a){for(var b,c=0,f=e.i,g=e.j,h=e.S;a--;)b=h[f=o&f+1],c=c*d+h[o&(h[f]=h[g=o&g+b])+(h[g]=b)];return e.i=f,e.j=g,c})(d)}function h(a,b){var c,d=[],e=(typeof a)[0];if(b&&\\\"o\\\"==e)for(c in a)try{d.push(h(a[c],b-1))}catch(f){}return d.length?d:\\\"s\\\"==e?a:a+\\\"\\x00\\\"}function i(a,b){for(var c,d=a+\\\"\\\",e=0;e<d.length;)b[o&e]=o&(c^=19*b[o&e])+d.charCodeAt(e++);return k(b)}function j(c){try{return a.crypto.getRandomValues(c=new Uint8Array(d)),k(c)}catch(e){return[+new Date,a,a.navigator.plugins,a.screen,k(b)]}}function k(a){return String.fromCharCode.apply(0,a)}var l=c.pow(d,e),m=c.pow(2,f),n=2*m,o=d-1;c.seedrandom=function(a,f){var o=[],p=i(h(f?[a,k(b)]:0 in arguments?a:j(),3),o),q=new g(o);return i(k(q.S),b),c.random=function(){for(var a=q.g(e),b=l,c=0;m>a;)a=(a+c)*d,b*=d,c=q.g(1);for(;a>=n;)a/=2,b/=2,c>>>=1;return(a+c)/b},p},i(c.random(),b)}(this,[],Math,256,6,52);\\n//# sourceMappingURL=seedrandom.min.js.map\\n####"}
{"prompt":"define(['regexgen','crypto-browserify','is-core-module','@types/deep-equal','cssnano-preset-advanced','babel6-plugin-strip-class-callcheck','util-deprecate','@mdx-js/react','json-source-map','airbnb-js-shims','@webgpu/types','@babel/helper-create-regexp-features-plugin','@npmcli/eslint-config','@babel/helper-wrap-function'], function(regexgen,cryptoBrowserify,postcssNormalizePositions,preSuf,cssnanoPresetAdvanced,babel6PluginStripClassCallcheck,emberCliDependencyChecker,far,jsonSourceMap,airbnbJsShims,babelPluginProposalNullishCoalescingOperator,babelHelperCreateRegexpFeaturesPlugin,streamToArray,lodashDebounce){\\nconst _ = require('lodash')\\nconst componentStructureInfo = require('documentServices/component/componentStructureInfo') /** * Returns a serialized component that can be used for component.add. * * starting this as a contribution model. Please add more functionality as you need * * @param compType * @param {ps} ps * @param overrideSchemaItems */\\nconst getMockSerializedComponent = (compType, ps, overrideSchemaItems) => { const comp = componentStructureInfo.buildDefaultComponentStructure(ps, compType) const compWithOverrides = _.assign(comp, overrideSchemaItems) return compWithOverrides\\n} const isObject = obj => typeof obj === 'object' && obj !== null function sortArraysInObject(obj, properties, level = 0) { if (isObject(obj)) { if (Array.isArray(obj)) { if (obj.length) { if (obj[0].id) { obj.sort((a, b) => a.id.localeCompare(b.id)) } else { obj.sort() } obj.forEach(v => sortArraysInObject(v, properties, level - 1)) } } else { Object.values(obj).forEach(v => sortArraysInObject(v, properties, level - 1)) } } return obj\\n} module.exports = { isObject, sortArraysInObject, getMockSerializedComponent\\n}\\n\\n})\\n####","completion":" import regexgen from 'regexgen'\\nimport cryptoBrowserify from 'crypto-browserify'\\nimport postcssNormalizePositions from 'is-core-module'\\nimport preSuf from '@types/deep-equal'\\nimport cssnanoPresetAdvanced from 'cssnano-preset-advanced'\\nimport babel6PluginStripClassCallcheck from 'babel6-plugin-strip-class-callcheck'\\nimport emberCliDependencyChecker from 'util-deprecate'\\nimport far from '@mdx-js/react'\\nimport jsonSourceMap from 'json-source-map'\\nimport airbnbJsShims from 'airbnb-js-shims'\\nimport babelPluginProposalNullishCoalescingOperator from '@webgpu/types'\\nimport babelHelperCreateRegexpFeaturesPlugin from '@babel/helper-create-regexp-features-plugin'\\nimport streamToArray from '@npmcli/eslint-config'\\nimport lodashDebounce from '@babel/helper-wrap-function'\\n\\nconst _ = require('lodash')\\nconst componentStructureInfo = require('documentServices/component/componentStructureInfo') /** * Returns a serialized component that can be used for component.add. * * starting this as a contribution model. Please add more functionality as you need * * @param compType * @param {ps} ps * @param overrideSchemaItems */\\nconst getMockSerializedComponent = (compType, ps, overrideSchemaItems) => { const comp = componentStructureInfo.buildDefaultComponentStructure(ps, compType) const compWithOverrides = _.assign(comp, overrideSchemaItems) return compWithOverrides\\n} const isObject = obj => typeof obj === 'object' && obj !== null function sortArraysInObject(obj, properties, level = 0) { if (isObject(obj)) { if (Array.isArray(obj)) { if (obj.length) { if (obj[0].id) { obj.sort((a, b) => a.id.localeCompare(b.id)) } else { obj.sort() } obj.forEach(v => sortArraysInObject(v, properties, level - 1)) } } else { Object.values(obj).forEach(v => sortArraysInObject(v, properties, level - 1)) } } return obj\\n} module.exports = { isObject, sortArraysInObject, getMockSerializedComponent\\n}\\n\\n####"}
{"prompt":"define(['istanbul-instrumenter-loader','chmodr','chrome-trace-event','@parcel/node-resolver-core','@parcel/packager-svg','ansi-regex','better-ajv-errors','string-width','esprima','react-is'], function(parcelReporterDevServer,typesMocha,entities,parcelNodeResolverCore,parcelPackagerSvg,cheerioSoupselect,babelPluginProposalJsonStrings,babelPluginTransformForOf,parseNodeVersion,reactIs){\\nimport _ from 'lodash';\\nimport React from 'react';\\nimport { View, TouchableOpacity, Linking } from 'react-native';\\nimport Avatar, { AVATAR_TYPES } from '../shared/Avatar/Avatar'; const AVATAR_SIZE = 114; class OrderAvatar extends React.Component { constructor(props) { super(props); this.onPress = this.onPress.bind(this); } onPress() { const url = this.props.user.profileLink; if (url) { Linking.openURL(url); } } render() { const { styles } = this.props; const avatarUri = this.props.user.profilePicture || _.get(this.props.order, 'extra.urlPicture') || _.get(this.props.orderExtraData, 'urlPicture'); return ( <View style={styles.avatarWrapper}> <TouchableOpacity onPress={this.onPress} disabled={!this.props.user.profileLink} style={{width: AVATAR_SIZE, height: AVATAR_SIZE}}> <Avatar type={AVATAR_TYPES.PROFILE} style={[styles.avatar]} uri={avatarUri}/> </TouchableOpacity> </View> ); }\\n} OrderAvatar.displayName = 'OrderAvatar'; export default OrderAvatar;\\n\\n})\\n####","completion":" import parcelReporterDevServer from 'istanbul-instrumenter-loader'\\nimport typesMocha from 'chmodr'\\nimport entities from 'chrome-trace-event'\\nimport parcelNodeResolverCore from '@parcel/node-resolver-core'\\nimport parcelPackagerSvg from '@parcel/packager-svg'\\nimport cheerioSoupselect from 'ansi-regex'\\nimport babelPluginProposalJsonStrings from 'better-ajv-errors'\\nimport babelPluginTransformForOf from 'string-width'\\nimport parseNodeVersion from 'esprima'\\nimport reactIs from 'react-is'\\n\\nimport _ from 'lodash';\\nimport React from 'react';\\nimport { View, TouchableOpacity, Linking } from 'react-native';\\nimport Avatar, { AVATAR_TYPES } from '../shared/Avatar/Avatar'; const AVATAR_SIZE = 114; class OrderAvatar extends React.Component { constructor(props) { super(props); this.onPress = this.onPress.bind(this); } onPress() { const url = this.props.user.profileLink; if (url) { Linking.openURL(url); } } render() { const { styles } = this.props; const avatarUri = this.props.user.profilePicture || _.get(this.props.order, 'extra.urlPicture') || _.get(this.props.orderExtraData, 'urlPicture'); return ( <View style={styles.avatarWrapper}> <TouchableOpacity onPress={this.onPress} disabled={!this.props.user.profileLink} style={{width: AVATAR_SIZE, height: AVATAR_SIZE}}> <Avatar type={AVATAR_TYPES.PROFILE} style={[styles.avatar]} uri={avatarUri}/> </TouchableOpacity> </View> ); }\\n} OrderAvatar.displayName = 'OrderAvatar'; export default OrderAvatar;\\n\\n####"}
{"prompt":"define(['babel-plugin-polyfill-corejs3','argparse','@parcel/fs-search','are-we-there-yet','eslint-config-airbnb-base','@babel/code-frame','replace','aws-sdk','es-value-fixtures','htmlparser2','ajv','unicode-10.0.0','@parcel/transformer-postcss','@parcel/optimizer-htmlnano'], function(karmaChaiSinon,sinonChai,parcelFsSearch,unicode900,eslintConfigAirbnbBase,babelCodeFrame,tape,awsSdk,parcelWorkers,isSymbol,fastGlob,unicode1000,parcelTransformerPostcss,isomorphicFetch){\\nimport React from 'react'; export default class extends React.Component { // To apply colors via CSS, you can use the 'fill' property of // .svg_missing_avatar>g>background and .svg_missing_avatar>g>foreground render() { return ( <svg className={'svg_empty_cart ' + (this.props.className || '')} width=\\\"53px\\\" height=\\\"60px\\\" viewBox=\\\"0 0 53 60\\\"> <g> <path d=\\\"M47.5,15.6 C47.5,13.5 45.8,11.9 43.7,11.9 L35.5,11.9 C35.4,8.9 34.8,5.5 32.9,3.1 C31.2,1.1 28.9,-2.22044605e-15 25.9,-2.22044605e-15 C23.4,-2.22044605e-15 21.3,1 19.8,2.8 C17.7,5.2 16.9,8.9 16.7,11.9 L8.9,11.9 C6.8,11.9 5.1,13.5 5.1,15.6 L0,56.1 C0,58.2 1.7,59.9 3.8,59.9 L26.9,59.9 L48.8,59.9 C50.9,59.9 52.6,58.2 52.6,56.1 L47.5,15.6 L47.5,15.6 Z M21.2,4 C22.4,2.7 23.9,2 25.8,2 C28.2,2 30,2.9 31.3,4.4 C32.9,6.4 33.4,8.8 33.5,11.8 L18.6,11.8 C18.8,8.9 19.5,6 21.2,4 L21.2,4 Z M48.8,57.9 L26.9,57.9 L3.8,57.9 C2.8,57.9 2.1,57.1 2,56.2 L7.2,15.8 L7.3,15.7 L7.3,15.6 C7.3,14.6 7.9,14 8.9,14 L16.5,14 C16.5,16 16.7,17.3 16.7,17.4 C16.8,17.9 17.2,18.2 17.7,18.2 L17.8,18.2 C18.3,18.1 18.7,17.8 18.7,17.2 C18.7,17.2 18.5,16 18.6,14 L33.6,14 C33.5,16 33.3,17.1 33.3,17.1 C33.2,17.6 33.5,18.1 34.1,18.2 C34.6,18.3 35.2,18.1 35.3,17.5 C35.3,17.4 35.6,16 35.7,14 L43.9,14 C44.9,14 45.5,14.5 45.5,15.6 L45.5,15.7 L45.6,15.8 L50.7,56.2 C50.5,57.1 49.8,57.9 48.8,57.9 L48.8,57.9 Z\\\"></path> </g> </svg> ); }\\n}\\n\\n})\\n####","completion":" import karmaChaiSinon from 'babel-plugin-polyfill-corejs3'\\nimport sinonChai from 'argparse'\\nimport parcelFsSearch from '@parcel/fs-search'\\nimport unicode900 from 'are-we-there-yet'\\nimport eslintConfigAirbnbBase from 'eslint-config-airbnb-base'\\nimport babelCodeFrame from '@babel/code-frame'\\nimport tape from 'replace'\\nimport awsSdk from 'aws-sdk'\\nimport parcelWorkers from 'es-value-fixtures'\\nimport isSymbol from 'htmlparser2'\\nimport fastGlob from 'ajv'\\nimport unicode1000 from 'unicode-10.0.0'\\nimport parcelTransformerPostcss from '@parcel/transformer-postcss'\\nimport isomorphicFetch from '@parcel/optimizer-htmlnano'\\n\\nimport React from 'react'; export default class extends React.Component { // To apply colors via CSS, you can use the 'fill' property of // .svg_missing_avatar>g>background and .svg_missing_avatar>g>foreground render() { return ( <svg className={'svg_empty_cart ' + (this.props.className || '')} width=\\\"53px\\\" height=\\\"60px\\\" viewBox=\\\"0 0 53 60\\\"> <g> <path d=\\\"M47.5,15.6 C47.5,13.5 45.8,11.9 43.7,11.9 L35.5,11.9 C35.4,8.9 34.8,5.5 32.9,3.1 C31.2,1.1 28.9,-2.22044605e-15 25.9,-2.22044605e-15 C23.4,-2.22044605e-15 21.3,1 19.8,2.8 C17.7,5.2 16.9,8.9 16.7,11.9 L8.9,11.9 C6.8,11.9 5.1,13.5 5.1,15.6 L0,56.1 C0,58.2 1.7,59.9 3.8,59.9 L26.9,59.9 L48.8,59.9 C50.9,59.9 52.6,58.2 52.6,56.1 L47.5,15.6 L47.5,15.6 Z M21.2,4 C22.4,2.7 23.9,2 25.8,2 C28.2,2 30,2.9 31.3,4.4 C32.9,6.4 33.4,8.8 33.5,11.8 L18.6,11.8 C18.8,8.9 19.5,6 21.2,4 L21.2,4 Z M48.8,57.9 L26.9,57.9 L3.8,57.9 C2.8,57.9 2.1,57.1 2,56.2 L7.2,15.8 L7.3,15.7 L7.3,15.6 C7.3,14.6 7.9,14 8.9,14 L16.5,14 C16.5,16 16.7,17.3 16.7,17.4 C16.8,17.9 17.2,18.2 17.7,18.2 L17.8,18.2 C18.3,18.1 18.7,17.8 18.7,17.2 C18.7,17.2 18.5,16 18.6,14 L33.6,14 C33.5,16 33.3,17.1 33.3,17.1 C33.2,17.6 33.5,18.1 34.1,18.2 C34.6,18.3 35.2,18.1 35.3,17.5 C35.3,17.4 35.6,16 35.7,14 L43.9,14 C44.9,14 45.5,14.5 45.5,15.6 L45.5,15.7 L45.6,15.8 L50.7,56.2 C50.5,57.1 49.8,57.9 48.8,57.9 L48.8,57.9 Z\\\"></path> </g> </svg> ); }\\n}\\n\\n####"}
{"prompt":"define(['webdriverio','react-refresh','postcss-value-parser','kind-of','@wdio/sync','is-url','babel-plugin-transform-es2015-arrow-functions','d3-random','source-map','grunt-banner','@babel/plugin-transform-new-target','grunt-mocha-cov','domelementtype','agent-base','base-x','@commitlint/cli','lodash.uniq','postcss-calc','error-ex','copyfiles'], function(sprintfJs,postcssColormin,postcssValueParser,eslintPluginFlowtype,wdioSync,isUrl,eslintPluginImport,requireIni,sourceMap,babelPluginProposalAsyncGeneratorFunctions,temp,browserifyZlib,objectIs,util,pathType,commitlintCli,lodashUniq,babelPluginTransformEs2015ComputedProperties,querystringEs3,uglifyRegister){\\nimport PropTypes from 'prop-types';\\nimport React from 'react'; export default class extends React.Component { static displayName = 'ChevronLeft'; static propTypes = { width: PropTypes.number, height: PropTypes.number, color: PropTypes.string, }; static defaultProps = { width: 12, height: 14, color: 'rgb(255,255,255)' }; // # IMPORTANT // When pasting the svg, don't forget to set the viewBox. // render() { return ( <svg width={this.props.width + 'px'} height={this.props.height + 'px'} fill={this.props.color} viewBox='0 0 12 22'> <path fillRule='evenodd' d='M 11.43 3.31C 11.43 3.31 4.28 10.97 4.28 10.97 4.28 10.97 11.48 18.68 11.48 18.68 12.19 19.44 12.19 20.67 11.48 21.43 10.78 22.18 9.63 22.18 8.92 21.43 8.92 21.43 0.59 12.51 0.59 12.51 0.07 11.96-0.06 11.17 0.16 10.49 0.22 10.09 0.38 9.72 0.66 9.41 0.66 9.41 8.9 0.6 8.9 0.6 9.6-0.15 10.73-0.15 11.43 0.6 12.13 1.35 12.13 2.56 11.43 3.31Z'/> </svg> ); }\\n}\\n\\n})\\n####","completion":" import sprintfJs from 'webdriverio'\\nimport postcssColormin from 'react-refresh'\\nimport postcssValueParser from 'postcss-value-parser'\\nimport eslintPluginFlowtype from 'kind-of'\\nimport wdioSync from '@wdio/sync'\\nimport isUrl from 'is-url'\\nimport eslintPluginImport from 'babel-plugin-transform-es2015-arrow-functions'\\nimport requireIni from 'd3-random'\\nimport sourceMap from 'source-map'\\nimport babelPluginProposalAsyncGeneratorFunctions from 'grunt-banner'\\nimport temp from '@babel/plugin-transform-new-target'\\nimport browserifyZlib from 'grunt-mocha-cov'\\nimport objectIs from 'domelementtype'\\nimport util from 'agent-base'\\nimport pathType from 'base-x'\\nimport commitlintCli from '@commitlint/cli'\\nimport lodashUniq from 'lodash.uniq'\\nimport babelPluginTransformEs2015ComputedProperties from 'postcss-calc'\\nimport querystringEs3 from 'error-ex'\\nimport uglifyRegister from 'copyfiles'\\n\\nimport PropTypes from 'prop-types';\\nimport React from 'react'; export default class extends React.Component { static displayName = 'ChevronLeft'; static propTypes = { width: PropTypes.number, height: PropTypes.number, color: PropTypes.string, }; static defaultProps = { width: 12, height: 14, color: 'rgb(255,255,255)' }; // # IMPORTANT // When pasting the svg, don't forget to set the viewBox. // render() { return ( <svg width={this.props.width + 'px'} height={this.props.height + 'px'} fill={this.props.color} viewBox='0 0 12 22'> <path fillRule='evenodd' d='M 11.43 3.31C 11.43 3.31 4.28 10.97 4.28 10.97 4.28 10.97 11.48 18.68 11.48 18.68 12.19 19.44 12.19 20.67 11.48 21.43 10.78 22.18 9.63 22.18 8.92 21.43 8.92 21.43 0.59 12.51 0.59 12.51 0.07 11.96-0.06 11.17 0.16 10.49 0.22 10.09 0.38 9.72 0.66 9.41 0.66 9.41 8.9 0.6 8.9 0.6 9.6-0.15 10.73-0.15 11.43 0.6 12.13 1.35 12.13 2.56 11.43 3.31Z'/> </svg> ); }\\n}\\n\\n####"}
{"prompt":"define(['postcss-normalize-charset','@babel/helper-simple-access','promise','grunt-contrib-clean','inflight','deep-equal','@parcel/transformer-raw','tap-spec','formidable','unicode-8.0.0','css-tree'], function(detectBrowser,stable,promise,gruntContribClean,saferBuffer,typesArgparse,parcelTransformerRaw,tapSpec,gruntExec,postcssMinifyParams,cssTree){\\n'use strict'\\nconst {withDocumentServices} = require('@wix/santa-integration-tests')\\nconst { addPagination, resetCompFont, getProps, getData\\n} = require('./paginationTestUtils') describe('mobile mode font resizing', () => { test('pages mode', withDocumentServices({}, async ({site, components}) => { const pagination = await addPagination(site, components, 600, getProps(), getData()) await resetCompFont(pagination, 85) await site.switchToMobile() const fontSize = await pagination.viewerComponent.style.getComputedStyle('font-size') expect(fontSize).toBe('24px') }) ) test('input mode', withDocumentServices({}, async ({site, components}) => { const pagination = await addPagination(site, components, 600, getProps({paginationMode: 'input'}), getData()) await resetCompFont(pagination, 85) await site.switchToMobile() const fontSize = await pagination.viewerComponent.style.getComputedStyle('font-size') expect(fontSize).toBe('16px') }) )\\n})\\n})\\n####","completion":" import detectBrowser from 'postcss-normalize-charset'\\nimport stable from '@babel/helper-simple-access'\\nimport promise from 'promise'\\nimport gruntContribClean from 'grunt-contrib-clean'\\nimport saferBuffer from 'inflight'\\nimport typesArgparse from 'deep-equal'\\nimport parcelTransformerRaw from '@parcel/transformer-raw'\\nimport tapSpec from 'tap-spec'\\nimport gruntExec from 'formidable'\\nimport postcssMinifyParams from 'unicode-8.0.0'\\nimport cssTree from 'css-tree'\\n\\n'use strict'\\nconst {withDocumentServices} = require('@wix/santa-integration-tests')\\nconst { addPagination, resetCompFont, getProps, getData\\n} = require('./paginationTestUtils') describe('mobile mode font resizing', () => { test('pages mode', withDocumentServices({}, async ({site, components}) => { const pagination = await addPagination(site, components, 600, getProps(), getData()) await resetCompFont(pagination, 85) await site.switchToMobile() const fontSize = await pagination.viewerComponent.style.getComputedStyle('font-size') expect(fontSize).toBe('24px') }) ) test('input mode', withDocumentServices({}, async ({site, components}) => { const pagination = await addPagination(site, components, 600, getProps({paginationMode: 'input'}), getData()) await resetCompFont(pagination, 85) await site.switchToMobile() const fontSize = await pagination.viewerComponent.style.getComputedStyle('font-size') expect(fontSize).toBe('16px') }) )\\n})\\n####"}
{"prompt":"define(['events','gensync','d3-geo','cheerio-soupselect','@types/webgl2'], function(esutils,gensync,d3Geo,karmaChromeLauncher,rollupPluginMemory){\\ndefine([], function(){ return { \\\"TransformData\\\": { \\\"type\\\": \\\"object\\\", \\\"isTopLevelDataNode\\\": true, \\\"properties\\\": { \\\"scale\\\": { \\\"type\\\": \\\"object\\\", \\\"properties\\\": { \\\"x\\\": { \\\"type\\\": \\\"number\\\" }, \\\"y\\\": { \\\"type\\\": \\\"number\\\" } } }, \\\"rotate\\\": { \\\"type\\\": \\\"number\\\" }, \\\"translate\\\": { \\\"type\\\": \\\"object\\\", \\\"properties\\\": { \\\"x\\\": { \\\"$ref\\\": \\\"UnitSize\\\" }, \\\"y\\\": { \\\"$ref\\\": \\\"UnitSize\\\" } } }, \\\"skew\\\": { \\\"type\\\": \\\"object\\\", \\\"properties\\\": { \\\"x\\\": { \\\"type\\\": \\\"number\\\" }, \\\"y\\\": { \\\"type\\\": \\\"number\\\" } } }, \\\"origin\\\": { \\\"type\\\": \\\"object\\\", \\\"properties\\\": { \\\"x\\\": { \\\"$ref\\\": \\\"UnitSize\\\" }, \\\"y\\\": { \\\"$ref\\\": \\\"UnitSize\\\" } } }, \\\"hidden\\\": { \\\"type\\\": \\\"boolean\\\" } } }\\n}\\n;});\\n\\n})\\n####","completion":" import esutils from 'events'\\nimport gensync from 'gensync'\\nimport d3Geo from 'd3-geo'\\nimport karmaChromeLauncher from 'cheerio-soupselect'\\nimport rollupPluginMemory from '@types/webgl2'\\n\\ndefine([], function(){ return { \\\"TransformData\\\": { \\\"type\\\": \\\"object\\\", \\\"isTopLevelDataNode\\\": true, \\\"properties\\\": { \\\"scale\\\": { \\\"type\\\": \\\"object\\\", \\\"properties\\\": { \\\"x\\\": { \\\"type\\\": \\\"number\\\" }, \\\"y\\\": { \\\"type\\\": \\\"number\\\" } } }, \\\"rotate\\\": { \\\"type\\\": \\\"number\\\" }, \\\"translate\\\": { \\\"type\\\": \\\"object\\\", \\\"properties\\\": { \\\"x\\\": { \\\"$ref\\\": \\\"UnitSize\\\" }, \\\"y\\\": { \\\"$ref\\\": \\\"UnitSize\\\" } } }, \\\"skew\\\": { \\\"type\\\": \\\"object\\\", \\\"properties\\\": { \\\"x\\\": { \\\"type\\\": \\\"number\\\" }, \\\"y\\\": { \\\"type\\\": \\\"number\\\" } } }, \\\"origin\\\": { \\\"type\\\": \\\"object\\\", \\\"properties\\\": { \\\"x\\\": { \\\"$ref\\\": \\\"UnitSize\\\" }, \\\"y\\\": { \\\"$ref\\\": \\\"UnitSize\\\" } } }, \\\"hidden\\\": { \\\"type\\\": \\\"boolean\\\" } } }\\n}\\n;});\\n\\n####"}
{"prompt":"define(['merge-stream','conventional-changelog-cli','relateurl','is-buffer','pkgfiles','doctoc','@babel/helper-create-class-features-plugin'], function(pinkiePromise,conventionalChangelogCli,gruntContribConcat,isBuffer,asynckit,doctoc,babelHelperCreateClassFeaturesPlugin){\\nconst _ = require('lodash') const gridPropertiesPaginationPath = ['component_properties.json', 'GridProperties', 'allOf', '0', 'properties', 'pagination', 'properties']\\nconst issues = [ ['cssSchemas.json', 'css-byte'], ['document_data.json', 'BackgroundImage', 'properties', 'imagesizeh'], ['document_data.json', 'ImageQuality', 'properties', 'quality'], ['document_data.json', 'BasicMenuItem', 'properties', 'displayCount'], ['document_data.json', 'Grid', 'properties', 'dataSource', 'properties', 'revision'], [...gridPropertiesPaginationPath, 'rowsPerPage'], [...gridPropertiesPaginationPath, 'manualHeightProps', 'properties', 'rowsPerPage'], [...gridPropertiesPaginationPath, 'manualHeightProps', 'properties', 'gridHeight']\\n] module.exports = { paths: issues, transform: node => { if (_.isEqual(node, {type: 'integer'})) { return {$ref: 'common.json#/Int'} } if (_.isEqual(node, {type: ['integer', 'null']})) { return {$ref: 'common.json#/NullableInt'} } const types = _.isArray(node.types ? node.types : [node.types]) const hasNull = _.includes(types, 'null') const ref = hasNull ? {$ref: 'common.json#/NullableInt'} : {$ref: 'common.json#/Int'} return {allOf: [ref, _.omit(node, ['type'])]} }\\n}\\n\\n})\\n####","completion":" import pinkiePromise from 'merge-stream'\\nimport conventionalChangelogCli from 'conventional-changelog-cli'\\nimport gruntContribConcat from 'relateurl'\\nimport isBuffer from 'is-buffer'\\nimport asynckit from 'pkgfiles'\\nimport doctoc from 'doctoc'\\nimport babelHelperCreateClassFeaturesPlugin from '@babel/helper-create-class-features-plugin'\\n\\nconst _ = require('lodash') const gridPropertiesPaginationPath = ['component_properties.json', 'GridProperties', 'allOf', '0', 'properties', 'pagination', 'properties']\\nconst issues = [ ['cssSchemas.json', 'css-byte'], ['document_data.json', 'BackgroundImage', 'properties', 'imagesizeh'], ['document_data.json', 'ImageQuality', 'properties', 'quality'], ['document_data.json', 'BasicMenuItem', 'properties', 'displayCount'], ['document_data.json', 'Grid', 'properties', 'dataSource', 'properties', 'revision'], [...gridPropertiesPaginationPath, 'rowsPerPage'], [...gridPropertiesPaginationPath, 'manualHeightProps', 'properties', 'rowsPerPage'], [...gridPropertiesPaginationPath, 'manualHeightProps', 'properties', 'gridHeight']\\n] module.exports = { paths: issues, transform: node => { if (_.isEqual(node, {type: 'integer'})) { return {$ref: 'common.json#/Int'} } if (_.isEqual(node, {type: ['integer', 'null']})) { return {$ref: 'common.json#/NullableInt'} } const types = _.isArray(node.types ? node.types : [node.types]) const hasNull = _.includes(types, 'null') const ref = hasNull ? {$ref: 'common.json#/NullableInt'} : {$ref: 'common.json#/Int'} return {allOf: [ref, _.omit(node, ['type'])]} }\\n}\\n\\n####"}
{"prompt":"define(['@parcel/transformer-postcss','grunt-eslint','@babel/plugin-transform-dotall-regex','ac-colors','@babel/helper-optimise-call-expression','@types/node-fetch','@parcel/transformer-css','tslib','@my-scope/package-b','kind-of','babel-eslint','karma-edge-launcher','@babel/plugin-transform-unicode-escapes','babel-plugin-transform-decorators-legacy','@docusaurus/preset-classic','is-shared-array-buffer','regenerate','es-array-method-boxes-properly','webpack'], function(parcelTransformerPostcss,gruntEslint,babelHelperReplaceSupers,babelHelperOptimiseCallExpression,stringWidth,typesNodeFetch,postcssDiscardOverridden,postcssReduceInitial,postcssNormalizeUrl,eslintPluginFlowtype,gruntBabel,sizeLimitPresetSmallLib,lodashMemoize,babelPluginTransformDecoratorsLegacy,docusaurusPresetClassic,isSharedArrayBuffer,regenerate,babelCompatData,whatwgUrl){\\ndefine(['documentServices/platform/services/platformEventsService', 'documentServices/siteMetadata/clientSpecMap'], function ( platformEventsService, clientSpecMapDS\\n) { const getEditorReadyCachedParams = ({firstInstall, silentInstallation, origin}) => ({firstInstall, silentInstallation, origin}) const reloadApplication = (ps, {appDefinitionId, cachedEditorReadyOptions, registeredEvents}, editorScriptResolver) => { // Get applicationId from appDefintionId const clientSpecMapAppData = clientSpecMapDS.getAppDataByAppDefinitionId(ps, appDefinitionId) // Unregister old events platformEventsService.unRegisterAppFromEvents(clientSpecMapAppData.applicationId, registeredEvents) // Part from platform.loadEditorApps () const appToLoad = editorScriptResolver(clientSpecMapAppData) const appToLoadMerged = {...appToLoad, ...getEditorReadyCachedParams(cachedEditorReadyOptions)} return appToLoadMerged } return { reloadApplication }\\n})\\n\\n})\\n####","completion":" import parcelTransformerPostcss from '@parcel/transformer-postcss'\\nimport gruntEslint from 'grunt-eslint'\\nimport babelHelperReplaceSupers from '@babel/plugin-transform-dotall-regex'\\nimport babelHelperOptimiseCallExpression from 'ac-colors'\\nimport stringWidth from '@babel/helper-optimise-call-expression'\\nimport typesNodeFetch from '@types/node-fetch'\\nimport postcssDiscardOverridden from '@parcel/transformer-css'\\nimport postcssReduceInitial from 'tslib'\\nimport postcssNormalizeUrl from '@my-scope/package-b'\\nimport eslintPluginFlowtype from 'kind-of'\\nimport gruntBabel from 'babel-eslint'\\nimport sizeLimitPresetSmallLib from 'karma-edge-launcher'\\nimport lodashMemoize from '@babel/plugin-transform-unicode-escapes'\\nimport babelPluginTransformDecoratorsLegacy from 'babel-plugin-transform-decorators-legacy'\\nimport docusaurusPresetClassic from '@docusaurus/preset-classic'\\nimport isSharedArrayBuffer from 'is-shared-array-buffer'\\nimport regenerate from 'regenerate'\\nimport babelCompatData from 'es-array-method-boxes-properly'\\nimport whatwgUrl from 'webpack'\\n\\ndefine(['documentServices/platform/services/platformEventsService', 'documentServices/siteMetadata/clientSpecMap'], function ( platformEventsService, clientSpecMapDS\\n) { const getEditorReadyCachedParams = ({firstInstall, silentInstallation, origin}) => ({firstInstall, silentInstallation, origin}) const reloadApplication = (ps, {appDefinitionId, cachedEditorReadyOptions, registeredEvents}, editorScriptResolver) => { // Get applicationId from appDefintionId const clientSpecMapAppData = clientSpecMapDS.getAppDataByAppDefinitionId(ps, appDefinitionId) // Unregister old events platformEventsService.unRegisterAppFromEvents(clientSpecMapAppData.applicationId, registeredEvents) // Part from platform.loadEditorApps () const appToLoad = editorScriptResolver(clientSpecMapAppData) const appToLoadMerged = {...appToLoad, ...getEditorReadyCachedParams(cachedEditorReadyOptions)} return appToLoadMerged } return { reloadApplication }\\n})\\n\\n####"}
{"prompt":"define(['@antfu/eslint-config-ts','prelude-ls','postcss-discard-duplicates','babel-plugin-polyfill-regenerator','stylelint-config-standard','function.prototype.name'], function(parcelBabelRegister,preludeLs,pathKey,babelPluginPolyfillRegenerator,d3Time,replace){\\nimport { takeEvery } from 'redux-saga';\\nimport { fork, put } from 'redux-saga/effects';\\nimport { actions } from '../actions/SessionActions';\\nimport * as WixInstanceActions from '@wix/restaurants-redux/src/actions/WixInstanceActions';\\nimport _ from 'lodash'; const onSetWixInstance = (sagaParams) => function*() { const {window} = sagaParams; const featuresOff = _.compact((_.get(window, 'options.featuresOff') || '').split(',')); const featuresOn = _.compact((_.get(window, 'options.featuresOn') || '').split(',')); const forceFeatures = _.fromPairs(_.union(_.map(featuresOff, f => ([f, false])), _.map(featuresOn, f => ([f, true])))); const isProduction = !!window.spiceProduction; const featureToggles = _.defaults( _.cloneDeep(forceFeatures), { localeswitch: true, }); yield put(actions.initFeatureToggles({featureToggles}));\\n}; const sagas = []; sagas.push(sagaParams => function*() { yield takeEvery(WixInstanceActions.types.SET_INSTANCE, onSetWixInstance(sagaParams));\\n}); export default function* ordersRootSaga(sagaParams) { yield _.map(sagas, (saga) => fork(saga(sagaParams)));\\n}\\n\\n})\\n####","completion":" import parcelBabelRegister from '@antfu/eslint-config-ts'\\nimport preludeLs from 'prelude-ls'\\nimport pathKey from 'postcss-discard-duplicates'\\nimport babelPluginPolyfillRegenerator from 'babel-plugin-polyfill-regenerator'\\nimport d3Time from 'stylelint-config-standard'\\nimport replace from 'function.prototype.name'\\n\\nimport { takeEvery } from 'redux-saga';\\nimport { fork, put } from 'redux-saga/effects';\\nimport { actions } from '../actions/SessionActions';\\nimport * as WixInstanceActions from '@wix/restaurants-redux/src/actions/WixInstanceActions';\\nimport _ from 'lodash'; const onSetWixInstance = (sagaParams) => function*() { const {window} = sagaParams; const featuresOff = _.compact((_.get(window, 'options.featuresOff') || '').split(',')); const featuresOn = _.compact((_.get(window, 'options.featuresOn') || '').split(',')); const forceFeatures = _.fromPairs(_.union(_.map(featuresOff, f => ([f, false])), _.map(featuresOn, f => ([f, true])))); const isProduction = !!window.spiceProduction; const featureToggles = _.defaults( _.cloneDeep(forceFeatures), { localeswitch: true, }); yield put(actions.initFeatureToggles({featureToggles}));\\n}; const sagas = []; sagas.push(sagaParams => function*() { yield takeEvery(WixInstanceActions.types.SET_INSTANCE, onSetWixInstance(sagaParams));\\n}); export default function* ordersRootSaga(sagaParams) { yield _.map(sagas, (saga) => fork(saga(sagaParams)));\\n}\\n\\n####"}
{"prompt":"define(['@tensorflow/tfjs-converter','@babel/eslint-parser','copy-dir','event-target-shim','combined-stream','grunt-contrib-watch','@parcel/node-resolver-core','csso','mock-aws-s3','inline-style-prefixer','expect.js','@parcel/packager-css','unorm','prelude-ls','mime-types','chroma-js'], function(tensorflowTfjsConverter,matcha,copyDir,convertSourceMap,combinedStream,regjsgen,parcelNodeResolverCore,shelljsChangelog,mockAwsS3,foo,sizeLimit,weakLruCache,parcelPackagerHtml,preludeLs,mimeTypes,chromaJs){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.wix.com/demone2/food-photo (41)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/food-photo', emulateMobileDevice: false, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/41-food-photographer/anchors/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import tensorflowTfjsConverter from '@tensorflow/tfjs-converter'\\nimport matcha from '@babel/eslint-parser'\\nimport copyDir from 'copy-dir'\\nimport convertSourceMap from 'event-target-shim'\\nimport combinedStream from 'combined-stream'\\nimport regjsgen from 'grunt-contrib-watch'\\nimport parcelNodeResolverCore from '@parcel/node-resolver-core'\\nimport shelljsChangelog from 'csso'\\nimport mockAwsS3 from 'mock-aws-s3'\\nimport foo from 'inline-style-prefixer'\\nimport sizeLimit from 'expect.js'\\nimport weakLruCache from '@parcel/packager-css'\\nimport parcelPackagerHtml from 'unorm'\\nimport preludeLs from 'prelude-ls'\\nimport mimeTypes from 'mime-types'\\nimport chromaJs from 'chroma-js'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.wix.com/demone2/food-photo (41)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/food-photo', emulateMobileDevice: false, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/41-food-photographer/anchors/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['d3-geo','seedrandom','terser'], function(d3Geo,es6Promisify,yalc){\\nimport xml2js from 'xml2js';\\nimport _ from 'lodash'; export const parseSecretsXml = (xml) => { let secrets = null; xml2js.parseString(xml, (err, result) => { if (err) { throw err; } /* The secrets.xml file looks like: <system-properties> <property name=\\\"a\\\" value=\\\"b\\\" /> <property name=\\\"c\\\" value=\\\"d\\\" /> </system-properties> The parsed JSON object looks like: { 'system-properties': { 'property': [ { '$': { 'name': 'a', 'value': 'b' } }, { '$': { 'name': 'c', 'value': 'd' } } ] } } */ secrets = _(result['system-properties']['property']).map((property) => { return [property.$.name, property.$.value]; }).fromPairs().value(); }); return secrets;\\n};\\n\\n})\\n####","completion":" import d3Geo from 'd3-geo'\\nimport es6Promisify from 'seedrandom'\\nimport yalc from 'terser'\\n\\nimport xml2js from 'xml2js';\\nimport _ from 'lodash'; export const parseSecretsXml = (xml) => { let secrets = null; xml2js.parseString(xml, (err, result) => { if (err) { throw err; } /* The secrets.xml file looks like: <system-properties> <property name=\\\"a\\\" value=\\\"b\\\" /> <property name=\\\"c\\\" value=\\\"d\\\" /> </system-properties> The parsed JSON object looks like: { 'system-properties': { 'property': [ { '$': { 'name': 'a', 'value': 'b' } }, { '$': { 'name': 'c', 'value': 'd' } } ] } } */ secrets = _(result['system-properties']['property']).map((property) => { return [property.$.name, property.$.value]; }).fromPairs().value(); }); return secrets;\\n};\\n\\n####"}
{"prompt":"define(['delegates','tmp','@babel/helper-transform-fixture-test-runner','is-negative-zero','acorn','postcss-normalize-charset','ordered-binary','@wdio/sync','is-core-module','@babel/helper-builder-binary-assignment-operator-visitor','@babel/helper-validator-option'], function(setimmediate,tmp,babelHelperTransformFixtureTestRunner,isNegativeZero,parcelResolverDefault,detectBrowser,karmaBrowserify,wdioSync,postcssNormalizePositions,babelHelperBuilderBinaryAssignmentOperatorVisitor,tsup){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.wix.com/demone2/vintage-car-garage (4)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/vintage-car-garage', emulateMobileDevice: false, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/4-vintage-car-garage/mesh/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import setimmediate from 'delegates'\\nimport tmp from 'tmp'\\nimport babelHelperTransformFixtureTestRunner from '@babel/helper-transform-fixture-test-runner'\\nimport isNegativeZero from 'is-negative-zero'\\nimport parcelResolverDefault from 'acorn'\\nimport detectBrowser from 'postcss-normalize-charset'\\nimport karmaBrowserify from 'ordered-binary'\\nimport wdioSync from '@wdio/sync'\\nimport postcssNormalizePositions from 'is-core-module'\\nimport babelHelperBuilderBinaryAssignmentOperatorVisitor from '@babel/helper-builder-binary-assignment-operator-visitor'\\nimport tsup from '@babel/helper-validator-option'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.wix.com/demone2/vintage-car-garage (4)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/vintage-car-garage', emulateMobileDevice: false, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/4-vintage-car-garage/mesh/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['prebuildify-ci','json-source-map','word-wrap','term-size','boolbase','standard-version','ncp','object.fromentries','babel-plugin-transform-class-properties','ndoc','progress','babel-plugin-add-module-exports','which','jasmine-core','babel-plugin-transform-decorators-legacy','grunt-mocha-istanbul','@babel/helper-module-transforms','levn','postcss-discard-overridden'], function(gruntContribCopy,jsonSourceMap,myScopePackageB,d3Array,eslintConfigBabel,standardVersion,jsonDiff,objectFromentries,d3Selection,ndoc,progress,babelPluginAddModuleExports,which,jasmineCore,babelPluginTransformDecoratorsLegacy,jshint,parcelSourceMap,babelPluginSyntaxImportAssertions,through2){\\nimport PropTypes from 'prop-types';\\nimport React from 'react'; export default class extends React.Component { static propTypes = { width: PropTypes.number, height: PropTypes.number, color: PropTypes.string, }; static defaultProps = { width: 25, height: 25, color: 'rgb(255,255,255)' }; // # IMPORTANT // When pasting the svg, don't forget to set the viewBox. // render() { return ( <svg width={this.props.width + 'px'} height={this.props.height + 'px'} fill={this.props.color} viewBox='0 0 51 51'> <g id=\\\"Page-1\\\" stroke=\\\"none\\\" strokeWidth=\\\"1\\\" fill=\\\"none\\\" fillRule=\\\"evenodd\\\"> <g id=\\\"Add\\\" fill={this.props.color}> <g id=\\\"Group\\\"> <path d=\\\"M25.2,0.1 C11.4,0.1 0.2,11.3 0.2,25.1 C0.2,38.9 11.4,50.1 25.2,50.1 C39,50.1 50.2,38.9 50.2,25.1 C50.2,11.3 39,0.1 25.2,0.1 L25.2,0.1 Z M25.2,47.1 C13.1,47.1 3.2,37.2 3.2,25.1 C3.2,13 13.1,3.1 25.2,3.1 C37.3,3.1 47.2,13 47.2,25.1 C47.2,37.2 37.3,47.1 25.2,47.1 L25.2,47.1 Z\\\" id=\\\"Shape\\\"></path> <path d=\\\"M37,24 L12,24 L12,27 L37,27 Z\\\" id=\\\"Shape\\\"></path> </g> </g> </g> </svg> ); }\\n}\\n\\n})\\n####","completion":" import gruntContribCopy from 'prebuildify-ci'\\nimport jsonSourceMap from 'json-source-map'\\nimport myScopePackageB from 'word-wrap'\\nimport d3Array from 'term-size'\\nimport eslintConfigBabel from 'boolbase'\\nimport standardVersion from 'standard-version'\\nimport jsonDiff from 'ncp'\\nimport objectFromentries from 'object.fromentries'\\nimport d3Selection from 'babel-plugin-transform-class-properties'\\nimport ndoc from 'ndoc'\\nimport progress from 'progress'\\nimport babelPluginAddModuleExports from 'babel-plugin-add-module-exports'\\nimport which from 'which'\\nimport jasmineCore from 'jasmine-core'\\nimport babelPluginTransformDecoratorsLegacy from 'babel-plugin-transform-decorators-legacy'\\nimport jshint from 'grunt-mocha-istanbul'\\nimport parcelSourceMap from '@babel/helper-module-transforms'\\nimport babelPluginSyntaxImportAssertions from 'levn'\\nimport through2 from 'postcss-discard-overridden'\\n\\nimport PropTypes from 'prop-types';\\nimport React from 'react'; export default class extends React.Component { static propTypes = { width: PropTypes.number, height: PropTypes.number, color: PropTypes.string, }; static defaultProps = { width: 25, height: 25, color: 'rgb(255,255,255)' }; // # IMPORTANT // When pasting the svg, don't forget to set the viewBox. // render() { return ( <svg width={this.props.width + 'px'} height={this.props.height + 'px'} fill={this.props.color} viewBox='0 0 51 51'> <g id=\\\"Page-1\\\" stroke=\\\"none\\\" strokeWidth=\\\"1\\\" fill=\\\"none\\\" fillRule=\\\"evenodd\\\"> <g id=\\\"Add\\\" fill={this.props.color}> <g id=\\\"Group\\\"> <path d=\\\"M25.2,0.1 C11.4,0.1 0.2,11.3 0.2,25.1 C0.2,38.9 11.4,50.1 25.2,50.1 C39,50.1 50.2,38.9 50.2,25.1 C50.2,11.3 39,0.1 25.2,0.1 L25.2,0.1 Z M25.2,47.1 C13.1,47.1 3.2,37.2 3.2,25.1 C3.2,13 13.1,3.1 25.2,3.1 C37.3,3.1 47.2,13 47.2,25.1 C47.2,37.2 37.3,47.1 25.2,47.1 L25.2,47.1 Z\\\" id=\\\"Shape\\\"></path> <path d=\\\"M37,24 L12,24 L12,27 L37,27 Z\\\" id=\\\"Shape\\\"></path> </g> </g> </g> </svg> ); }\\n}\\n\\n####"}
{"prompt":"define(['postcss-normalize-charset','pkgfiles'], function(detectBrowser,asynckit){\\ndefine([ 'documentServices/siteMetadata/dataManipulation', 'documentServices/siteMetadata/seo', 'documentServices/siteMetadata/social', 'documentServices/siteMetadata/favicon', 'documentServices/siteMetadata/premiumFeatures', 'documentServices/siteMetadata/generalInfo', 'documentServices/siteMetadata/siteName', 'documentServices/siteMetadata/siteDisplayName', 'documentServices/siteMetadata/statistics', 'documentServices/siteMetadata/compatibility', 'documentServices/siteMetadata/language'\\n], function (dataManipulation, seo, social, favicon, premiumFeatures, generalInfo, siteName, siteDisplayName, statistics, compatibility, language) { 'use strict' return { PROPERTY_NAMES: dataManipulation.PROPERTY_NAMES, getProperty: dataManipulation.getProperty, setProperty: dataManipulation.setProperty, getRevertibleMetaDataInfo: dataManipulation.getRevertibleMetaDataInfo, getNonRevertibleMetaDataInfo: dataManipulation.getNonRevertibleMetaDataInfo, seo, social, favicon, premiumFeatures, generalInfo, siteName, siteDisplayName, statistics, compatibility, language }\\n})\\n\\n})\\n####","completion":" import detectBrowser from 'postcss-normalize-charset'\\nimport asynckit from 'pkgfiles'\\n\\ndefine([ 'documentServices/siteMetadata/dataManipulation', 'documentServices/siteMetadata/seo', 'documentServices/siteMetadata/social', 'documentServices/siteMetadata/favicon', 'documentServices/siteMetadata/premiumFeatures', 'documentServices/siteMetadata/generalInfo', 'documentServices/siteMetadata/siteName', 'documentServices/siteMetadata/siteDisplayName', 'documentServices/siteMetadata/statistics', 'documentServices/siteMetadata/compatibility', 'documentServices/siteMetadata/language'\\n], function (dataManipulation, seo, social, favicon, premiumFeatures, generalInfo, siteName, siteDisplayName, statistics, compatibility, language) { 'use strict' return { PROPERTY_NAMES: dataManipulation.PROPERTY_NAMES, getProperty: dataManipulation.getProperty, setProperty: dataManipulation.setProperty, getRevertibleMetaDataInfo: dataManipulation.getRevertibleMetaDataInfo, getNonRevertibleMetaDataInfo: dataManipulation.getNonRevertibleMetaDataInfo, seo, social, favicon, premiumFeatures, generalInfo, siteName, siteDisplayName, statistics, compatibility, language }\\n})\\n\\n####"}
{"prompt":"define(['svgo','earlgrey','aud','babel-preset-latest','define-properties','postcss-calc','open','d3-color','tick','babel-plugin-transform-es2015-parameters','error-ex','@babel/helper-transform-fixture-test-runner','@babel/plugin-proposal-logical-assignment-operators','eslint-plugin-import','travis-deploy-once','in-publish','karma-source-map-support','@babel/plugin-transform-modules-umd','tinycolor2'], function(mdnData,earlgrey,aud,babelPresetLatest,npmcliEslintConfig,babelPluginTransformEs2015ComputedProperties,nodeTickProcessor,postcssCalc,tick,followRedirects,querystringEs3,babelHelperTransformFixtureTestRunner,babelPluginProposalLogicalAssignmentOperators,babelPluginTransformPropertyLiterals,parcelPackagerCss,htmlparser2,bindings,babelPluginTransformModulesUmd,tinycolor2){\\nimport React from 'react';\\nimport { View } from 'react-native';\\nimport _ from 'lodash';\\nimport { TextLight, TextMedium } from '../WixText'; class OrderPayments extends React.Component { constructor(props) { super(props); } render() { const { payments, styles } = this.props; return ( <View style={styles.paymentDetails}> <View style={styles.paymentsTitle}> <TextMedium style={styles.orderCartCommentTitle}>{payments.title.toUpperCase()}</TextMedium> </View> {_.map(payments.payments, (payment, idx) => ( <View style={[styles.paymentWrapper, idx === payments.payments.length - 1 ? styles.noPaddingBottom : undefined]} key={`payment.${idx}`}> <View style={styles.payment}> <TextLight style={styles.paymentType}>{payment.title}</TextLight> <TextLight style={styles.paymentAmount}>{payment.amount}</TextLight> </View> {payment.description ? <TextLight style={styles.paymentDescription}>{payment.description}</TextLight> : null} </View> ))} </View> ); }\\n} OrderPayments.displayName = 'OrderPayments'; export default OrderPayments;\\n\\n})\\n####","completion":" import mdnData from 'svgo'\\nimport earlgrey from 'earlgrey'\\nimport aud from 'aud'\\nimport babelPresetLatest from 'babel-preset-latest'\\nimport npmcliEslintConfig from 'define-properties'\\nimport babelPluginTransformEs2015ComputedProperties from 'postcss-calc'\\nimport nodeTickProcessor from 'open'\\nimport postcssCalc from 'd3-color'\\nimport tick from 'tick'\\nimport followRedirects from 'babel-plugin-transform-es2015-parameters'\\nimport querystringEs3 from 'error-ex'\\nimport babelHelperTransformFixtureTestRunner from '@babel/helper-transform-fixture-test-runner'\\nimport babelPluginProposalLogicalAssignmentOperators from '@babel/plugin-proposal-logical-assignment-operators'\\nimport babelPluginTransformPropertyLiterals from 'eslint-plugin-import'\\nimport parcelPackagerCss from 'travis-deploy-once'\\nimport htmlparser2 from 'in-publish'\\nimport bindings from 'karma-source-map-support'\\nimport babelPluginTransformModulesUmd from '@babel/plugin-transform-modules-umd'\\nimport tinycolor2 from 'tinycolor2'\\n\\nimport React from 'react';\\nimport { View } from 'react-native';\\nimport _ from 'lodash';\\nimport { TextLight, TextMedium } from '../WixText'; class OrderPayments extends React.Component { constructor(props) { super(props); } render() { const { payments, styles } = this.props; return ( <View style={styles.paymentDetails}> <View style={styles.paymentsTitle}> <TextMedium style={styles.orderCartCommentTitle}>{payments.title.toUpperCase()}</TextMedium> </View> {_.map(payments.payments, (payment, idx) => ( <View style={[styles.paymentWrapper, idx === payments.payments.length - 1 ? styles.noPaddingBottom : undefined]} key={`payment.${idx}`}> <View style={styles.payment}> <TextLight style={styles.paymentType}>{payment.title}</TextLight> <TextLight style={styles.paymentAmount}>{payment.amount}</TextLight> </View> {payment.description ? <TextLight style={styles.paymentDescription}>{payment.description}</TextLight> : null} </View> ))} </View> ); }\\n} OrderPayments.displayName = 'OrderPayments'; export default OrderPayments;\\n\\n####"}
{"prompt":"define(['@babel/helper-member-expression-to-functions','phantomjs','karma-typescript','@antfu/eslint-config-ts','fbjs-scripts','babel6-plugin-strip-class-callcheck','karma-webpack','uglify-register','error-ex','@parcel/runtime-browser-hmr','@babel/helper-optimise-call-expression','ncp','@babel/plugin-transform-unicode-regex','@npmcli/template-oss'], function(babelPluginTransformEs2015Destructuring,parted,karmaTypescript,parcelBabelRegister,fbjsScripts,babel6PluginStripClassCallcheck,karmaWebpack,typesWebgl2,querystringEs3,tsMorph,stringWidth,jsonDiff,concatStream,npmcliTemplateOss){\\nimport { CustomerIcon, RestPinIconSelected, RestPinIconUnselected } from './icons';\\nimport React from 'react';\\nimport { GMapReact } from './Maps'; export function BranchSelectorGMap(props) { const { customerLocation, branches, selectedBranch, onSelectBranch } = props; const markups = branches.map((branch, index) => { return { latLng: branch.latLng, icon: selectedBranch === index ? ( <RestPinIconSelected onClick={() => { onSelectBranch(branch.id); }} /> ) : ( <RestPinIconUnselected onClick={() => { onSelectBranch(branch.id); }} /> ), }; }); markups.push({ latLng: customerLocation, icon: <CustomerIcon /> }); return ( <GMapReact markups={markups} zoom={11} center={customerLocation} origin={customerLocation} destination={branches[selectedBranch] && branches[selectedBranch].latLng} // todo masha check why no branches in test /> );\\n}\\n\\n})\\n####","completion":" import babelPluginTransformEs2015Destructuring from '@babel/helper-member-expression-to-functions'\\nimport parted from 'phantomjs'\\nimport karmaTypescript from 'karma-typescript'\\nimport parcelBabelRegister from '@antfu/eslint-config-ts'\\nimport fbjsScripts from 'fbjs-scripts'\\nimport babel6PluginStripClassCallcheck from 'babel6-plugin-strip-class-callcheck'\\nimport karmaWebpack from 'karma-webpack'\\nimport typesWebgl2 from 'uglify-register'\\nimport querystringEs3 from 'error-ex'\\nimport tsMorph from '@parcel/runtime-browser-hmr'\\nimport stringWidth from '@babel/helper-optimise-call-expression'\\nimport jsonDiff from 'ncp'\\nimport concatStream from '@babel/plugin-transform-unicode-regex'\\nimport npmcliTemplateOss from '@npmcli/template-oss'\\n\\nimport { CustomerIcon, RestPinIconSelected, RestPinIconUnselected } from './icons';\\nimport React from 'react';\\nimport { GMapReact } from './Maps'; export function BranchSelectorGMap(props) { const { customerLocation, branches, selectedBranch, onSelectBranch } = props; const markups = branches.map((branch, index) => { return { latLng: branch.latLng, icon: selectedBranch === index ? ( <RestPinIconSelected onClick={() => { onSelectBranch(branch.id); }} /> ) : ( <RestPinIconUnselected onClick={() => { onSelectBranch(branch.id); }} /> ), }; }); markups.push({ latLng: customerLocation, icon: <CustomerIcon /> }); return ( <GMapReact markups={markups} zoom={11} center={customerLocation} origin={customerLocation} destination={branches[selectedBranch] && branches[selectedBranch].latLng} // todo masha check why no branches in test /> );\\n}\\n\\n####"}
{"prompt":"define(['available-typed-arrays','regenerator-transform','karma-chai-sinon','foo','eslint-plugin-import','@babel/plugin-syntax-private-property-in-object','node-tick-processor','for-each','eslint-plugin-jest','weak-map'], function(bikeshedToTs,regeneratorTransform,babelHelperAnnotateAsPure,clsx,babelPluginTransformPropertyLiterals,parcelDiagnostic,babelPluginReactRequire,fasterStableStringify,eslintConfigStandard,csvParse){\\nimport PropTypes from 'prop-types';\\nimport React from 'react';\\nimport { getIcon } from './index';\\nimport map from 'lodash/map'; export default function DishIcons({ i18n, labels, iconType, primaryColor, secondaryColor, iconSize }) { const style = {}; if (iconType === 'label') { style.lineHeight = '10px'; } return ( <div data-hook=\\\"dish-icons\\\" style={style}> { map(labels, label => { const props = { i18n: i18n, key: label }; if (primaryColor) props.primaryColor = primaryColor; if (secondaryColor) props.secondaryColor = secondaryColor; if (iconSize) props.size = iconSize; const icon = getIcon(iconType, label); return icon ? React.createElement(icon, props) : null; }) } </div> );\\n} DishIcons.displayName = 'DishIcons';\\nDishIcons.propTypes = { i18n: PropTypes.object.isRequired, labels: PropTypes.array.isRequired, iconType: PropTypes.string.isRequired, primaryColor: PropTypes.string, secondaryColor: PropTypes.string, iconSize: PropTypes.number\\n};\\n\\n})\\n####","completion":" import bikeshedToTs from 'available-typed-arrays'\\nimport regeneratorTransform from 'regenerator-transform'\\nimport babelHelperAnnotateAsPure from 'karma-chai-sinon'\\nimport clsx from 'foo'\\nimport babelPluginTransformPropertyLiterals from 'eslint-plugin-import'\\nimport parcelDiagnostic from '@babel/plugin-syntax-private-property-in-object'\\nimport babelPluginReactRequire from 'node-tick-processor'\\nimport fasterStableStringify from 'for-each'\\nimport eslintConfigStandard from 'eslint-plugin-jest'\\nimport csvParse from 'weak-map'\\n\\nimport PropTypes from 'prop-types';\\nimport React from 'react';\\nimport { getIcon } from './index';\\nimport map from 'lodash/map'; export default function DishIcons({ i18n, labels, iconType, primaryColor, secondaryColor, iconSize }) { const style = {}; if (iconType === 'label') { style.lineHeight = '10px'; } return ( <div data-hook=\\\"dish-icons\\\" style={style}> { map(labels, label => { const props = { i18n: i18n, key: label }; if (primaryColor) props.primaryColor = primaryColor; if (secondaryColor) props.secondaryColor = secondaryColor; if (iconSize) props.size = iconSize; const icon = getIcon(iconType, label); return icon ? React.createElement(icon, props) : null; }) } </div> );\\n} DishIcons.displayName = 'DishIcons';\\nDishIcons.propTypes = { i18n: PropTypes.object.isRequired, labels: PropTypes.array.isRequired, iconType: PropTypes.string.isRequired, primaryColor: PropTypes.string, secondaryColor: PropTypes.string, iconSize: PropTypes.number\\n};\\n\\n####"}
{"prompt":"define(['@babel/plugin-transform-block-scoped-functions','@babel/plugin-transform-duplicate-keys','xyz','@babel/plugin-transform-object-super','@babel/plugin-proposal-export-namespace-from','assert','@types/jest','grunt-contrib-compress','fs-extra','@babel/helper-annotate-as-pure','standard-markdown','@babel/plugin-syntax-nullish-coalescing-operator','broccoli-concat','supports-color','LiveScript','regenerator-transform'], function(babelPluginTransformBlockScopedFunctions,babelPluginTransformDuplicateKeys,xyz,nanoid,qunitjs,assert,gruntContribJshint,gruntContribCompress,fsExtra,parcelRuntimeReactRefresh,standard,babelPluginSyntaxNullishCoalescingOperator,delayedStream,supportsColor,liveScript,regeneratorTransform){\\n'use strict'\\nconst widgetWarningMessageSelector = '.composite-popup.composite-popup-small-size.popup-small-size-danger.danger' class WidgetWarningMessage { constructor(editorFrame) { this.editorFrame = editorFrame } async waitForPanel() { await this.editorFrame.waitFor(widgetWarningMessageSelector) } async clickX() { const closeButton = await this.editorFrame.$(`${widgetWarningMessageSelector} .btn-close`) await closeButton.click() await this.waitForPanelToClose() } async clickCancel() { const cancelButton = await this.editorFrame.$('[data-aid=\\\"danger-message-secondary-button\\\"]') await cancelButton.click() await this.waitForPanelToClose() } async clickConfirm() { const confirmButton = await this.editorFrame.$('[data-aid=\\\"danger-message-primary-button\\\"]') await confirmButton.click() await this.waitForPanelToClose() } async waitForPanelToClose() { await this.editorFrame.waitFor(widgetWarningMessageSelector, {hidden: true}) } async isClosed() { const widgetWarningMessage = await this.editorFrame.$(widgetWarningMessageSelector) return !widgetWarningMessage }\\n} module.exports = WidgetWarningMessage\\n\\n})\\n####","completion":" import babelPluginTransformBlockScopedFunctions from '@babel/plugin-transform-block-scoped-functions'\\nimport babelPluginTransformDuplicateKeys from '@babel/plugin-transform-duplicate-keys'\\nimport xyz from 'xyz'\\nimport nanoid from '@babel/plugin-transform-object-super'\\nimport qunitjs from '@babel/plugin-proposal-export-namespace-from'\\nimport assert from 'assert'\\nimport gruntContribJshint from '@types/jest'\\nimport gruntContribCompress from 'grunt-contrib-compress'\\nimport fsExtra from 'fs-extra'\\nimport parcelRuntimeReactRefresh from '@babel/helper-annotate-as-pure'\\nimport standard from 'standard-markdown'\\nimport babelPluginSyntaxNullishCoalescingOperator from '@babel/plugin-syntax-nullish-coalescing-operator'\\nimport delayedStream from 'broccoli-concat'\\nimport supportsColor from 'supports-color'\\nimport liveScript from 'LiveScript'\\nimport regeneratorTransform from 'regenerator-transform'\\n\\n'use strict'\\nconst widgetWarningMessageSelector = '.composite-popup.composite-popup-small-size.popup-small-size-danger.danger' class WidgetWarningMessage { constructor(editorFrame) { this.editorFrame = editorFrame } async waitForPanel() { await this.editorFrame.waitFor(widgetWarningMessageSelector) } async clickX() { const closeButton = await this.editorFrame.$(`${widgetWarningMessageSelector} .btn-close`) await closeButton.click() await this.waitForPanelToClose() } async clickCancel() { const cancelButton = await this.editorFrame.$('[data-aid=\\\"danger-message-secondary-button\\\"]') await cancelButton.click() await this.waitForPanelToClose() } async clickConfirm() { const confirmButton = await this.editorFrame.$('[data-aid=\\\"danger-message-primary-button\\\"]') await confirmButton.click() await this.waitForPanelToClose() } async waitForPanelToClose() { await this.editorFrame.waitFor(widgetWarningMessageSelector, {hidden: true}) } async isClosed() { const widgetWarningMessage = await this.editorFrame.$(widgetWarningMessageSelector) return !widgetWarningMessage }\\n} module.exports = WidgetWarningMessage\\n\\n####"}
{"prompt":"define(['@types/semver','minimist','fs.realpath','css-tree','graphviz','@babel/plugin-transform-block-scoping','@babel/template','domain-browser','@babel/helper-validator-option','@parcel/transformer-svg','open','@parcel/hash','tsup'], function(rsvp,minimist,babelPluginTransformSpread,cssTree,graphviz,babelPluginTransformBlockScoping,postcssMergeLonghand,domainBrowser,tsup,parcelTransformerSvg,nodeTickProcessor,nullthrows,svgrWebpack){\\n'use strict'\\nconst {withDocumentServices} = require('../../../testkit') const getPageIds = frame => frame.evaluate(() => window.documentServices.pages.getPageIdList()) const getComponent = (frame, compId) => frame.evaluate(innerCompId => window.documentServices.components.get.byId(innerCompId), compId) test( 'Additional pages loaded and available to DS when the server only served one', // TODO: Add support in sled withDocumentServices( { forceFetch: true, url: 'https://editor.wix.com/html/editor/web/renderer/render/document/b3703ec8-75f9-410f-a1f0-2d06f07e4d19?isEdited=true&isSantaEditor=true&dsOrigin=Editor1.4&editorSessionId=5926d413-67a9-4b32-a993-0691833e6184&metaSiteId=659adc96-4004-4693-97f4-40205814be4a' }, async ({site}) => { const [pageIds, componentInPage1, componentInPage2] = await Promise.all([ getPageIds(site.viewerFrame), getComponent(site.viewerFrame, 'comp-jz9j4n4k'), getComponent(site.viewerFrame, 'comp-jz9j60se') ]) expect(pageIds.length).toBe(2) expect(componentInPage1).not.toBe(null) expect(componentInPage2).not.toBe(null) } )\\n)\\n\\n})\\n####","completion":" import rsvp from '@types/semver'\\nimport minimist from 'minimist'\\nimport babelPluginTransformSpread from 'fs.realpath'\\nimport cssTree from 'css-tree'\\nimport graphviz from 'graphviz'\\nimport babelPluginTransformBlockScoping from '@babel/plugin-transform-block-scoping'\\nimport postcssMergeLonghand from '@babel/template'\\nimport domainBrowser from 'domain-browser'\\nimport tsup from '@babel/helper-validator-option'\\nimport parcelTransformerSvg from '@parcel/transformer-svg'\\nimport nodeTickProcessor from 'open'\\nimport nullthrows from '@parcel/hash'\\nimport svgrWebpack from 'tsup'\\n\\n'use strict'\\nconst {withDocumentServices} = require('../../../testkit') const getPageIds = frame => frame.evaluate(() => window.documentServices.pages.getPageIdList()) const getComponent = (frame, compId) => frame.evaluate(innerCompId => window.documentServices.components.get.byId(innerCompId), compId) test( 'Additional pages loaded and available to DS when the server only served one', // TODO: Add support in sled withDocumentServices( { forceFetch: true, url: 'https://editor.wix.com/html/editor/web/renderer/render/document/b3703ec8-75f9-410f-a1f0-2d06f07e4d19?isEdited=true&isSantaEditor=true&dsOrigin=Editor1.4&editorSessionId=5926d413-67a9-4b32-a993-0691833e6184&metaSiteId=659adc96-4004-4693-97f4-40205814be4a' }, async ({site}) => { const [pageIds, componentInPage1, componentInPage2] = await Promise.all([ getPageIds(site.viewerFrame), getComponent(site.viewerFrame, 'comp-jz9j4n4k'), getComponent(site.viewerFrame, 'comp-jz9j60se') ]) expect(pageIds.length).toBe(2) expect(componentInPage1).not.toBe(null) expect(componentInPage2).not.toBe(null) } )\\n)\\n\\n####"}
{"prompt":"define(['qunit-extras','pify','regenerate','immutable','grunt-release','foo','@parcel/source-map','karma-jasmine-ajax','@parcel/reporter-cli','autoprefixer','gulp','jscs','eslint-plugin-standard','nan','acorn','@babel/helper-module-imports'], function(unorm,pify,regenerate,astring,gruntRelease,clsx,debug,babelPluginTransformUnicodeRegex,babelHelperModuleTransforms,typesLodash,gulp,jscs,eslintPluginStandard,nan,parcelResolverDefault,babelHelperModuleImports){\\nimport {createSelector} from 'reselect';\\nimport isFCEnabledForSessionSelector from './isFCEnabledForSessionSelector.js'; export default createSelector( state => state.clientInfo.cards, state => state.organization.organization.creditcardsInfo, state => isFCEnabledForSessionSelector(state), state => state.clientInfo.isConnectedToRestaurant, (cards, creditcardsInfo, isFCEnabledForSession) => { cards = cards || []; if ((creditcardsInfo.collectionMethod === 'cod') || (creditcardsInfo.collectionMethod === 'phone')) { return null; } if (isFCEnabledForSession) { cards = cards.map(cardToken => { var card = cardToken.creditCard; return { cardToken: cardToken, isAccepted: creditcardsInfo.networks.indexOf(card.network) !== -1 }; }); } else { cards = []; } cards.sort((a, b) => { if (a.isAccepted && !b.isAccepted) return -1; else if (b.isAccepted && !a.isAccepted) return 1; else if (a.isNew) return 1; else if (b.isNew) return -1; }); return cards; }\\n);\\n\\n})\\n####","completion":" import unorm from 'qunit-extras'\\nimport pify from 'pify'\\nimport regenerate from 'regenerate'\\nimport astring from 'immutable'\\nimport gruntRelease from 'grunt-release'\\nimport clsx from 'foo'\\nimport debug from '@parcel/source-map'\\nimport babelPluginTransformUnicodeRegex from 'karma-jasmine-ajax'\\nimport babelHelperModuleTransforms from '@parcel/reporter-cli'\\nimport typesLodash from 'autoprefixer'\\nimport gulp from 'gulp'\\nimport jscs from 'jscs'\\nimport eslintPluginStandard from 'eslint-plugin-standard'\\nimport nan from 'nan'\\nimport parcelResolverDefault from 'acorn'\\nimport babelHelperModuleImports from '@babel/helper-module-imports'\\n\\nimport {createSelector} from 'reselect';\\nimport isFCEnabledForSessionSelector from './isFCEnabledForSessionSelector.js'; export default createSelector( state => state.clientInfo.cards, state => state.organization.organization.creditcardsInfo, state => isFCEnabledForSessionSelector(state), state => state.clientInfo.isConnectedToRestaurant, (cards, creditcardsInfo, isFCEnabledForSession) => { cards = cards || []; if ((creditcardsInfo.collectionMethod === 'cod') || (creditcardsInfo.collectionMethod === 'phone')) { return null; } if (isFCEnabledForSession) { cards = cards.map(cardToken => { var card = cardToken.creditCard; return { cardToken: cardToken, isAccepted: creditcardsInfo.networks.indexOf(card.network) !== -1 }; }); } else { cards = []; } cards.sort((a, b) => { if (a.isAccepted && !b.isAccepted) return -1; else if (b.isAccepted && !a.isAccepted) return 1; else if (a.isNew) return 1; else if (b.isNew) return -1; }); return cards; }\\n);\\n\\n####"}
{"prompt":"define(['@babel/plugin-proposal-optional-catch-binding','@babel/helper-split-export-declaration','ora','@babel/plugin-syntax-optional-chaining','eslint-config-semistandard','@babel/parser','better-ajv-errors','to-fast-properties','standardx','lodash.uniq','make-async-function'], function(babelPluginProposalOptionalCatchBinding,babelHelperSplitExportDeclaration,ora,babelPluginSyntaxOptionalChaining,eslintConfigSemistandard,babelPluginSyntaxJsonStrings,babelPluginProposalJsonStrings,toFastProperties,standardx,lodashUniq,d3TimeFormat){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.wix.com/demone2/outdoor-bags (9)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/outdoor-bags', emulateMobileDevice: true, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/9-outdoor-bags/anchors/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import babelPluginProposalOptionalCatchBinding from '@babel/plugin-proposal-optional-catch-binding'\\nimport babelHelperSplitExportDeclaration from '@babel/helper-split-export-declaration'\\nimport ora from 'ora'\\nimport babelPluginSyntaxOptionalChaining from '@babel/plugin-syntax-optional-chaining'\\nimport eslintConfigSemistandard from 'eslint-config-semistandard'\\nimport babelPluginSyntaxJsonStrings from '@babel/parser'\\nimport babelPluginProposalJsonStrings from 'better-ajv-errors'\\nimport toFastProperties from 'to-fast-properties'\\nimport standardx from 'standardx'\\nimport lodashUniq from 'lodash.uniq'\\nimport d3TimeFormat from 'make-async-function'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.wix.com/demone2/outdoor-bags (9)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/outdoor-bags', emulateMobileDevice: true, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/9-outdoor-bags/anchors/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['babel-preset-moxy','@mapbox/eslint-config-mapbox','airbnb-js-shims','bluebird','mr','is-fullwidth-code-point'], function(jsonParseEvenBetterErrors,mapboxEslintConfigMapbox,airbnbJsShims,parcelRuntimeJs,mr,isFullwidthCodePoint){\\nimport React from 'react';\\nimport classnames from 'classnames';\\nimport { string, oneOfType, node, bool } from 'prop-types';\\nimport styles from './RadioButton.scss';\\nimport { withFocusable } from 'wix-style-react/dist/src/common/Focusable'; class RadioButton extends React.PureComponent { render() { const { children, className, dataHook, focusableOnFocus, focusableOnBlur, focusableIsFocused, focusableIsFocusVisible, button, ...passThrough } = this.props; return ( <label className={classnames([ styles.label, className, focusableIsFocused && focusableIsFocusVisible && styles.focused, button && styles.button, ])} data-hook={dataHook} > <input onBlur={focusableOnBlur} onFocus={focusableOnFocus} type=\\\"radio\\\" {...passThrough} className={styles.radio} /> {!button && ( <div className={styles.customRadio}> <div className={styles.customRadioInner} /> </div> )} <span className={styles.text}>{children}</span> </label> ); }\\n} RadioButton.displayName = 'RadioButton'; RadioButton.propTypes = { className: string, children: oneOfType([string, node]), name: string, dataHook: string, button: bool,\\n}; export default withFocusable(RadioButton);\\n\\n})\\n####","completion":" import jsonParseEvenBetterErrors from 'babel-preset-moxy'\\nimport mapboxEslintConfigMapbox from '@mapbox/eslint-config-mapbox'\\nimport airbnbJsShims from 'airbnb-js-shims'\\nimport parcelRuntimeJs from 'bluebird'\\nimport mr from 'mr'\\nimport isFullwidthCodePoint from 'is-fullwidth-code-point'\\n\\nimport React from 'react';\\nimport classnames from 'classnames';\\nimport { string, oneOfType, node, bool } from 'prop-types';\\nimport styles from './RadioButton.scss';\\nimport { withFocusable } from 'wix-style-react/dist/src/common/Focusable'; class RadioButton extends React.PureComponent { render() { const { children, className, dataHook, focusableOnFocus, focusableOnBlur, focusableIsFocused, focusableIsFocusVisible, button, ...passThrough } = this.props; return ( <label className={classnames([ styles.label, className, focusableIsFocused && focusableIsFocusVisible && styles.focused, button && styles.button, ])} data-hook={dataHook} > <input onBlur={focusableOnBlur} onFocus={focusableOnFocus} type=\\\"radio\\\" {...passThrough} className={styles.radio} /> {!button && ( <div className={styles.customRadio}> <div className={styles.customRadioInner} /> </div> )} <span className={styles.text}>{children}</span> </label> ); }\\n} RadioButton.displayName = 'RadioButton'; RadioButton.propTypes = { className: string, children: oneOfType([string, node]), name: string, dataHook: string, button: bool,\\n}; export default withFocusable(RadioButton);\\n\\n####"}
{"prompt":"define(['del-cli','http-proxy-middleware','ajv','karma-mocha-reporter','tty-browserify','shebang-command','karma-babel-preprocessor','lines-and-columns'], function(svgTermCli,httpProxyMiddleware,fastGlob,lruCache,nativePromiseOnly,shebangCommand,babelPluginProposalPrivatePropertyInObject,linesAndColumns){\\n'use strict'\\nconst {withViewer} = require('@wix/santa-integration-tests')\\ndescribe('quickActionBar', () => { test('chat button is render in mobile mesh', withViewer({ baseUrl: 'https://baru48.wixsite.com/mysite-40', emulateMobileDevice: true, queryParams: { layoutMechanism: 'mesh' } }, async ({componentDriverFactory}) => { const chatButtonId = 'QUICK_ACTION_BAR' const chatButtonDriver = await componentDriverFactory.create(chatButtonId) const isChatButtonRendered = await chatButtonDriver.isRendered() expect(isChatButtonRendered).toBe(true) }) ) test('chat button is render in mobile mesh when QUICK_ACTION_BAR has no layout', withViewer({ baseUrl: 'https://kfirg6.wixsite.com/chat', emulateMobileDevice: true, queryParams: { layoutMechanism: 'mesh' } }, async ({componentDriverFactory}) => { const chatButtonId = 'QUICK_ACTION_BAR' const chatButtonDriver = await componentDriverFactory.create(chatButtonId) const isChatButtonRendered = await chatButtonDriver.isRendered() expect(isChatButtonRendered).toBe(true) }) )\\n}) \\n})\\n####","completion":" import svgTermCli from 'del-cli'\\nimport httpProxyMiddleware from 'http-proxy-middleware'\\nimport fastGlob from 'ajv'\\nimport lruCache from 'karma-mocha-reporter'\\nimport nativePromiseOnly from 'tty-browserify'\\nimport shebangCommand from 'shebang-command'\\nimport babelPluginProposalPrivatePropertyInObject from 'karma-babel-preprocessor'\\nimport linesAndColumns from 'lines-and-columns'\\n\\n'use strict'\\nconst {withViewer} = require('@wix/santa-integration-tests')\\ndescribe('quickActionBar', () => { test('chat button is render in mobile mesh', withViewer({ baseUrl: 'https://baru48.wixsite.com/mysite-40', emulateMobileDevice: true, queryParams: { layoutMechanism: 'mesh' } }, async ({componentDriverFactory}) => { const chatButtonId = 'QUICK_ACTION_BAR' const chatButtonDriver = await componentDriverFactory.create(chatButtonId) const isChatButtonRendered = await chatButtonDriver.isRendered() expect(isChatButtonRendered).toBe(true) }) ) test('chat button is render in mobile mesh when QUICK_ACTION_BAR has no layout', withViewer({ baseUrl: 'https://kfirg6.wixsite.com/chat', emulateMobileDevice: true, queryParams: { layoutMechanism: 'mesh' } }, async ({componentDriverFactory}) => { const chatButtonId = 'QUICK_ACTION_BAR' const chatButtonDriver = await componentDriverFactory.create(chatButtonId) const isChatButtonRendered = await chatButtonDriver.isRendered() expect(isChatButtonRendered).toBe(true) }) )\\n}) \\n####"}
{"prompt":"define(['@babel/helper-transform-fixture-test-runner','@babel/helper-simple-access','@types/d3-selection','make-arrow-function','rollup-plugin-babel-minify','flow-copy-source','toml-require','babel-plugin-transform-es2015-computed-properties','@babel/generator','csv-spectrum','gitbook','wrap-ansi'], function(babelHelperTransformFixtureTestRunner,stable,klaw,makeArrowFunction,babelHelperWrapFunction,inlineSourceMap,gracefulFs,errorCause,babelGenerator,airtap,parcelOptimizerImage,wrapAnsi){\\n'use strict' import http from 'http'\\nimport querystring from 'query-string'\\nimport _ from 'lodash' export class ProgrammableJsonServer { constructor({port}) { this._server = http.createServer(this._handler.bind(this)) this._port = port this.reset() } start() { this._server.listen(this._port, '127.0.0.1') } stop() { this._server.close() } reset() { this._rules = [] } addRule({resource, params = {}, headers = {}, delay = 0, responseText, ignoreParams = []}) { this._rules.push({resource, params, headers, delay, responseText, ignoreParams}) } _handler(req, res) { const headers = req.headers const query = querystring.extract(req.url) const resource = (query.length > 0) ? req.url.substr(0, req.url.length - query.length - 1) : req.url const params = querystring.parse(query) const rule = _.find(this._rules, (rule) => { let paramsSent = _.omit(params, rule.ignoreParams); let ruleParams = _.omit(rule.params, rule.ignoreParams); return (rule.resource === resource) && _.isEqual(ruleParams, paramsSent) && _.matches(rule.headers)(headers) }) if (rule) { _.delay(() => { res.writeHead(200) res.end(rule.responseText) }, rule.delay) } else { res.writeHead(404) res.end() } }\\n}\\n\\n})\\n####","completion":" import babelHelperTransformFixtureTestRunner from '@babel/helper-transform-fixture-test-runner'\\nimport stable from '@babel/helper-simple-access'\\nimport klaw from '@types/d3-selection'\\nimport makeArrowFunction from 'make-arrow-function'\\nimport babelHelperWrapFunction from 'rollup-plugin-babel-minify'\\nimport inlineSourceMap from 'flow-copy-source'\\nimport gracefulFs from 'toml-require'\\nimport errorCause from 'babel-plugin-transform-es2015-computed-properties'\\nimport babelGenerator from '@babel/generator'\\nimport airtap from 'csv-spectrum'\\nimport parcelOptimizerImage from 'gitbook'\\nimport wrapAnsi from 'wrap-ansi'\\n\\n'use strict' import http from 'http'\\nimport querystring from 'query-string'\\nimport _ from 'lodash' export class ProgrammableJsonServer { constructor({port}) { this._server = http.createServer(this._handler.bind(this)) this._port = port this.reset() } start() { this._server.listen(this._port, '127.0.0.1') } stop() { this._server.close() } reset() { this._rules = [] } addRule({resource, params = {}, headers = {}, delay = 0, responseText, ignoreParams = []}) { this._rules.push({resource, params, headers, delay, responseText, ignoreParams}) } _handler(req, res) { const headers = req.headers const query = querystring.extract(req.url) const resource = (query.length > 0) ? req.url.substr(0, req.url.length - query.length - 1) : req.url const params = querystring.parse(query) const rule = _.find(this._rules, (rule) => { let paramsSent = _.omit(params, rule.ignoreParams); let ruleParams = _.omit(rule.params, rule.ignoreParams); return (rule.resource === resource) && _.isEqual(ruleParams, paramsSent) && _.matches(rule.headers)(headers) }) if (rule) { _.delay(() => { res.writeHead(200) res.end(rule.responseText) }, rule.delay) } else { res.writeHead(404) res.end() } }\\n}\\n\\n####"}
{"prompt":"define(['rsvp','@jridgewell/trace-mapping','@babel/helper-explode-assignable-expression','@wdio/local-runner','expect-jsx','postcss-convert-values','estraverse'], function(pathParse,jridgewellTraceMapping,errorEx,wdioLocalRunner,hyperquest,postcssConvertValues,estraverse){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.wix.com/demone2/website-under-constr (14)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/website-under-constr', emulateMobileDevice: false, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/14-website-under-construction/mesh/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import pathParse from 'rsvp'\\nimport jridgewellTraceMapping from '@jridgewell/trace-mapping'\\nimport errorEx from '@babel/helper-explode-assignable-expression'\\nimport wdioLocalRunner from '@wdio/local-runner'\\nimport hyperquest from 'expect-jsx'\\nimport postcssConvertValues from 'postcss-convert-values'\\nimport estraverse from 'estraverse'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.wix.com/demone2/website-under-constr (14)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/website-under-constr', emulateMobileDevice: false, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/14-website-under-construction/mesh/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['grunt-npm-install','benchmarked','qunit-extras','express','@babel/helper-replace-supers','istanbul','babel-eslint','@types/caniuse-api'], function(gruntNpmInstall,benchmarked,unorm,npmlog,formidable,babelHelperCheckDuplicateNodes,gruntBabel,typesCaniuseApi){\\nimport { StyleSheet } from 'react-native';\\nimport { colors } from '../../resources/styles';\\nimport { isAndroidPhone } from \\\"../../../utils/NativeUtils\\\"; export default StyleSheet.create({ wrapper: { flex: 1, flexDirection: 'column', justifyContent: 'flex-start', backgroundColor: colors.D70 }, topBar: { zIndex: 4, position: 'absolute', top: 0, left: 0, right: 0, backgroundColor: '#ffffff' }, header: { zIndex: 3 }, headerShadow: { zIndex: 2, position: 'absolute', top: 0, left: 0, right: 0 }, headerShadowGradient: { flex: 1 }, error: { zIndex: 3 }, tabs: { zIndex: 1, flex: 1 }, tabsContent: { ...(isAndroidPhone ? {} : {flex: 1}) }, androidTabs: { position: 'absolute', top: 0, bottom: 0, left: 0, right: 0, flexDirection: 'column' }\\n});\\n\\n})\\n####","completion":" import gruntNpmInstall from 'grunt-npm-install'\\nimport benchmarked from 'benchmarked'\\nimport unorm from 'qunit-extras'\\nimport npmlog from 'express'\\nimport formidable from '@babel/helper-replace-supers'\\nimport babelHelperCheckDuplicateNodes from 'istanbul'\\nimport gruntBabel from 'babel-eslint'\\nimport typesCaniuseApi from '@types/caniuse-api'\\n\\nimport { StyleSheet } from 'react-native';\\nimport { colors } from '../../resources/styles';\\nimport { isAndroidPhone } from \\\"../../../utils/NativeUtils\\\"; export default StyleSheet.create({ wrapper: { flex: 1, flexDirection: 'column', justifyContent: 'flex-start', backgroundColor: colors.D70 }, topBar: { zIndex: 4, position: 'absolute', top: 0, left: 0, right: 0, backgroundColor: '#ffffff' }, header: { zIndex: 3 }, headerShadow: { zIndex: 2, position: 'absolute', top: 0, left: 0, right: 0 }, headerShadowGradient: { flex: 1 }, error: { zIndex: 3 }, tabs: { zIndex: 1, flex: 1 }, tabsContent: { ...(isAndroidPhone ? {} : {flex: 1}) }, androidTabs: { position: 'absolute', top: 0, bottom: 0, left: 0, right: 0, flexDirection: 'column' }\\n});\\n\\n####"}
{"prompt":"define(['picocolors','del','karma-safari-launcher','@mapbox/eslint-config-mapbox','file-loader','regenerator-runtime','@parcel/codeframe','regexpu-fixtures'], function(picocolors,rollupPluginTypescript,karmaSafariLauncher,mapboxEslintConfigMapbox,fileLoader,regeneratorRuntime,puppeteer,typesJsesc){\\n(function (f) { if (typeof exports === \\\"object\\\" && typeof module !== \\\"undefined\\\") { module.exports = f() } else if (typeof define === \\\"function\\\" && define.amd) { define([], f) } else { var g; if (typeof window !== \\\"undefined\\\") { g = window } else if (typeof global !== \\\"undefined\\\") { g = global } else if (typeof self !== \\\"undefined\\\") { g = self } else { g = this } g.TestModule = f() } })(function () { var define, module, exports; return (function () { function r(e, n, t) { function o(i, f) { if (!n[i]) { if (!e[i]) { var c = \\\"function\\\" == typeof require && require; if (!f && c) return c(i, !0); if (u) return u(i, !0); var a = new Error(\\\"Cannot find module '\\\" + i + \\\"'\\\"); throw a.code = \\\"MODULE_NOT_FOUND\\\", a } var p = n[i] = { exports: {} }; e[i][0].call(p.exports, function (r) { var n = e[i][1][r]; return o(n || r) }, p, p.exports, r, e, n, t) } return n[i].exports } for (var u = \\\"function\\\" == typeof require && require, i = 0; i < t.length; i++)o(t[i]); return o } return r })()({ 1: [function (require, module, exports) { testedUndefinedValue = typeof undefined }, {}] }, {}, [1])(1)\\n});\\n})\\n####","completion":" import picocolors from 'picocolors'\\nimport rollupPluginTypescript from 'del'\\nimport karmaSafariLauncher from 'karma-safari-launcher'\\nimport mapboxEslintConfigMapbox from '@mapbox/eslint-config-mapbox'\\nimport fileLoader from 'file-loader'\\nimport regeneratorRuntime from 'regenerator-runtime'\\nimport puppeteer from '@parcel/codeframe'\\nimport typesJsesc from 'regexpu-fixtures'\\n\\n(function (f) { if (typeof exports === \\\"object\\\" && typeof module !== \\\"undefined\\\") { module.exports = f() } else if (typeof define === \\\"function\\\" && define.amd) { define([], f) } else { var g; if (typeof window !== \\\"undefined\\\") { g = window } else if (typeof global !== \\\"undefined\\\") { g = global } else if (typeof self !== \\\"undefined\\\") { g = self } else { g = this } g.TestModule = f() } })(function () { var define, module, exports; return (function () { function r(e, n, t) { function o(i, f) { if (!n[i]) { if (!e[i]) { var c = \\\"function\\\" == typeof require && require; if (!f && c) return c(i, !0); if (u) return u(i, !0); var a = new Error(\\\"Cannot find module '\\\" + i + \\\"'\\\"); throw a.code = \\\"MODULE_NOT_FOUND\\\", a } var p = n[i] = { exports: {} }; e[i][0].call(p.exports, function (r) { var n = e[i][1][r]; return o(n || r) }, p, p.exports, r, e, n, t) } return n[i].exports } for (var u = \\\"function\\\" == typeof require && require, i = 0; i < t.length; i++)o(t[i]); return o } return r })()({ 1: [function (require, module, exports) { testedUndefinedValue = typeof undefined }, {}] }, {}, [1])(1)\\n});\\n####"}
{"prompt":"define(['karma-safaritechpreview-launcher','resolve-from','nopt','preact-render-spy','babel-plugin-polyfill-regenerator','yaml','chai-as-promised','require-uncached','@babel/helper-fixtures','@babel/helper-skip-transparent-expression-wrappers','emoji-regex'], function(karmaBabelPreprocessor,endOfStream,nopt,teenyRequest,babelPluginPolyfillRegenerator,yaml,chaiAsPromised,requireUncached,babelParser,nodeJsx,aproba){\\n'use strict' const messageHolder = require('../../../src/plarformInit/utils/messageProxy') describe('messageProxy', () => { it('should forward messages to a connected target', () => { const msgTarget = jasmine.createSpy('msgTarget') const msgProxy = messageHolder.get() msgProxy.setMessageHandler(msgTarget) msgProxy.sendOrHoldMessage('first message') expect(msgTarget).toHaveBeenCalledWith('first message', undefined) msgProxy.sendOrHoldMessage({test: 'second message'}) expect(msgTarget).toHaveBeenCalledWith({test: 'second message'}, undefined) }) it('should hold all messages and send them once a target is connected', () => { const msgTarget = jasmine.createSpy('msgTarget') const msgProxy = messageHolder.get() msgProxy.sendOrHoldMessage('first message') msgProxy.sendOrHoldMessage({test: 'second message'}) msgProxy.setMessageHandler(msgTarget) expect(msgTarget.calls.count()).toEqual(2) expect(msgTarget.calls.argsFor(0)).toEqual(['first message', undefined]) expect(msgTarget.calls.argsFor(1)).toEqual([{test: 'second message'}, undefined]) })\\n})\\n\\n})\\n####","completion":" import karmaBabelPreprocessor from 'karma-safaritechpreview-launcher'\\nimport endOfStream from 'resolve-from'\\nimport nopt from 'nopt'\\nimport teenyRequest from 'preact-render-spy'\\nimport babelPluginPolyfillRegenerator from 'babel-plugin-polyfill-regenerator'\\nimport yaml from 'yaml'\\nimport chaiAsPromised from 'chai-as-promised'\\nimport requireUncached from 'require-uncached'\\nimport babelParser from '@babel/helper-fixtures'\\nimport nodeJsx from '@babel/helper-skip-transparent-expression-wrappers'\\nimport aproba from 'emoji-regex'\\n\\n'use strict' const messageHolder = require('../../../src/plarformInit/utils/messageProxy') describe('messageProxy', () => { it('should forward messages to a connected target', () => { const msgTarget = jasmine.createSpy('msgTarget') const msgProxy = messageHolder.get() msgProxy.setMessageHandler(msgTarget) msgProxy.sendOrHoldMessage('first message') expect(msgTarget).toHaveBeenCalledWith('first message', undefined) msgProxy.sendOrHoldMessage({test: 'second message'}) expect(msgTarget).toHaveBeenCalledWith({test: 'second message'}, undefined) }) it('should hold all messages and send them once a target is connected', () => { const msgTarget = jasmine.createSpy('msgTarget') const msgProxy = messageHolder.get() msgProxy.sendOrHoldMessage('first message') msgProxy.sendOrHoldMessage({test: 'second message'}) msgProxy.setMessageHandler(msgTarget) expect(msgTarget.calls.count()).toEqual(2) expect(msgTarget.calls.argsFor(0)).toEqual(['first message', undefined]) expect(msgTarget.calls.argsFor(1)).toEqual([{test: 'second message'}, undefined]) })\\n})\\n\\n####"}
{"prompt":"define(['escape-string-regexp','stylelint','@babel/plugin-transform-regenerator','jsdoc-to-markdown','get-symbol-description','emphasize','@size-limit/preset-small-lib','pre-suf','d3-dispatch','long','@napi-rs/cli','eslint'], function(escapeStringRegexp,stylelint,bazelTypescript,httpsBrowserify,babelPresetMoxy,emphasize,uglifyJs,babelPluginSyntaxPrivatePropertyInObject,foreach,cssDeclarationSorter,napiRsCli,eslint){\\nimport querystring from 'querystring'; export class YelpProxy { constructor({XMLHttpRequest, timeout = 0, baseUrl = 'https://api.yelp.com/v3/', apiKey}) { this._XMLHttpRequest = XMLHttpRequest; this._baseUrl = baseUrl; this._timeout = timeout; this._apiKey = apiKey; } getBaseUrl() { return this._baseUrl; } api({path, params}) { const url = `${this._baseUrl}${path}`; return new Promise((resolve, reject) => { const xhr = new this._XMLHttpRequest(); xhr.ontimeout = () => { reject({ code: 'timeout', description: 'request timed out' }) }; xhr.onerror = () => { reject({ code: 'network_down', description: 'network is down' }) }; xhr.onload = () => { try { const value = JSON.parse(xhr.responseText); if (value.meta && value.meta.errorType) { reject({ code: value.meta.errorType, description: value.meta.errorDetail }); } else { resolve(JSON.parse(xhr.responseText)); } } catch (e) { reject({ code: 'protocol', description: 'unexpected response format' }); } }; const yelpResource = `${url}?${querystring.stringify(params)}`; xhr.open('GET', yelpResource, true); xhr.setRequestHeader('Authorization', `Bearer ${this._apiKey}`); xhr.timeout = this._timeout; xhr.send(); }) } } \\n})\\n####","completion":" import escapeStringRegexp from 'escape-string-regexp'\\nimport stylelint from 'stylelint'\\nimport bazelTypescript from '@babel/plugin-transform-regenerator'\\nimport httpsBrowserify from 'jsdoc-to-markdown'\\nimport babelPresetMoxy from 'get-symbol-description'\\nimport emphasize from 'emphasize'\\nimport uglifyJs from '@size-limit/preset-small-lib'\\nimport babelPluginSyntaxPrivatePropertyInObject from 'pre-suf'\\nimport foreach from 'd3-dispatch'\\nimport cssDeclarationSorter from 'long'\\nimport napiRsCli from '@napi-rs/cli'\\nimport eslint from 'eslint'\\n\\nimport querystring from 'querystring'; export class YelpProxy { constructor({XMLHttpRequest, timeout = 0, baseUrl = 'https://api.yelp.com/v3/', apiKey}) { this._XMLHttpRequest = XMLHttpRequest; this._baseUrl = baseUrl; this._timeout = timeout; this._apiKey = apiKey; } getBaseUrl() { return this._baseUrl; } api({path, params}) { const url = `${this._baseUrl}${path}`; return new Promise((resolve, reject) => { const xhr = new this._XMLHttpRequest(); xhr.ontimeout = () => { reject({ code: 'timeout', description: 'request timed out' }) }; xhr.onerror = () => { reject({ code: 'network_down', description: 'network is down' }) }; xhr.onload = () => { try { const value = JSON.parse(xhr.responseText); if (value.meta && value.meta.errorType) { reject({ code: value.meta.errorType, description: value.meta.errorDetail }); } else { resolve(JSON.parse(xhr.responseText)); } } catch (e) { reject({ code: 'protocol', description: 'unexpected response format' }); } }; const yelpResource = `${url}?${querystring.stringify(params)}`; xhr.open('GET', yelpResource, true); xhr.setRequestHeader('Authorization', `Bearer ${this._apiKey}`); xhr.timeout = this._timeout; xhr.send(); }) } } \\n####"}
{"prompt":"define(['postcss-normalize-unicode','release-it','@types/offscreencanvas','mkdirp','expect.js','jquery','regexpu-core','@parcel/transformer-svg','eslint-config-gulp','flow-copy-source','nan','fake','d3-geo','make-async-function','expect','@babel/plugin-transform-template-literals'], function(postcssNormalizeUnicode,releaseIt,interpret,mkdirp,sizeLimit,terserWebpackPlugin,babelPluginSyntaxOptionalCatchBinding,parcelTransformerSvg,istanbulCoveralls,inlineSourceMap,nan,fake,d3Geo,d3TimeFormat,browserifyIstanbul,esToPrimitive){\\n'use strict'\\nconst name = 'NoTransition'\\nconst properties = { defaultDuration: 0, schema: { duration: { type: 'number', min: 0, default: 0 }, delay: { type: 'number', min: 0, default: 0 } }\\n} function register({factory}) { /** * Empty transition. * @param {Array<HTMLElement>|HTMLElement} sourceElements DOM element to animate * @param {Array<HTMLElement>|HTMLElement} destElements DOM element to animate * @param {Number} [duration] * @param {Number} [delay] * @param {Object} [params] Timeline optional parameters. * @returns {TimelineMax} */ function transition(sourceElements, destElements, duration, delay, params) { const sequence = factory.sequence(params) sequence.add([ factory.animate('BaseNone', sourceElements, duration, delay), factory.animate('BaseNone', destElements, duration, delay) ]) return sequence.get() } factory.registerTransition(name, transition, properties)\\n} module.exports = { name, properties, register\\n} \\n})\\n####","completion":" import postcssNormalizeUnicode from 'postcss-normalize-unicode'\\nimport releaseIt from 'release-it'\\nimport interpret from '@types/offscreencanvas'\\nimport mkdirp from 'mkdirp'\\nimport sizeLimit from 'expect.js'\\nimport terserWebpackPlugin from 'jquery'\\nimport babelPluginSyntaxOptionalCatchBinding from 'regexpu-core'\\nimport parcelTransformerSvg from '@parcel/transformer-svg'\\nimport istanbulCoveralls from 'eslint-config-gulp'\\nimport inlineSourceMap from 'flow-copy-source'\\nimport nan from 'nan'\\nimport fake from 'fake'\\nimport d3Geo from 'd3-geo'\\nimport d3TimeFormat from 'make-async-function'\\nimport browserifyIstanbul from 'expect'\\nimport esToPrimitive from '@babel/plugin-transform-template-literals'\\n\\n'use strict'\\nconst name = 'NoTransition'\\nconst properties = { defaultDuration: 0, schema: { duration: { type: 'number', min: 0, default: 0 }, delay: { type: 'number', min: 0, default: 0 } }\\n} function register({factory}) { /** * Empty transition. * @param {Array<HTMLElement>|HTMLElement} sourceElements DOM element to animate * @param {Array<HTMLElement>|HTMLElement} destElements DOM element to animate * @param {Number} [duration] * @param {Number} [delay] * @param {Object} [params] Timeline optional parameters. * @returns {TimelineMax} */ function transition(sourceElements, destElements, duration, delay, params) { const sequence = factory.sequence(params) sequence.add([ factory.animate('BaseNone', sourceElements, duration, delay), factory.animate('BaseNone', destElements, duration, delay) ]) return sequence.get() } factory.registerTransition(name, transition, properties)\\n} module.exports = { name, properties, register\\n} \\n####"}
{"prompt":"define(['csv-parse','@types/offscreencanvas','ansi-regex','d3-selection','es-value-fixtures','karma-sinon','csv-spectrum','@babel/helper-explode-assignable-expression','esbuild-runner','@babel/helper-optimise-call-expression','@wdio/jasmine-framework','eslint-config-gulp','is-date-object','shebang-regex','@babel/plugin-transform-flow-strip-types','@parcel/packager-html'], function(levn,interpret,cheerioSoupselect,sass,parcelWorkers,karmaSinon,airtap,errorEx,babelPluginPolyfillCorejs3,stringWidth,availableTypedArrays,istanbulCoveralls,isDateObject,shebangRegex,babelPluginTransformFlowStripTypes,istanbul){\\nimport React from 'react';\\nimport PropTypes from 'prop-types';\\nimport {GoogleMapsMap, GoogleMapsMarker} from '@wix/restaurants-components/mobile';\\nimport CreateMapIcon from '@wix/restaurants-components/src/web/CreateMapIcon/createMapIcon';\\nimport webStyles from './PickupFormMap.web.icss';\\nimport mobileStyles from './PickupFormMap.mobile.icss'; function mapHelper(organization) { const icon = CreateMapIcon({ template: 'restPin' }); const mapCenter = { lat: organization.address.latLng.lat, lng: organization.address.latLng.lng }; const orgTitle = organization.title[organization.locale]; return { icon, mapCenter, orgTitle };\\n} export default function PickupFormMap({ organization, platform }) { const { mapCenter, orgTitle, icon } = mapHelper(organization); const styles = platform === 'web' ? webStyles : mobileStyles; return <GoogleMapsMap dataHook=\\\"pickup-form-map\\\" className={styles.map} zoom={15} locale={organization.locale} center={mapCenter} disableDefaultUI={true} > <GoogleMapsMarker position={mapCenter} title={orgTitle} icon={icon} /> </GoogleMapsMap>; } PickupFormMap.displayName = 'PickupFormMap';\\nPickupFormMap.propTypes = { platform: PropTypes.oneOf(['mobile', 'web']), organization: PropTypes.object.isRequired,\\n};\\n\\n})\\n####","completion":" import levn from 'csv-parse'\\nimport interpret from '@types/offscreencanvas'\\nimport cheerioSoupselect from 'ansi-regex'\\nimport sass from 'd3-selection'\\nimport parcelWorkers from 'es-value-fixtures'\\nimport karmaSinon from 'karma-sinon'\\nimport airtap from 'csv-spectrum'\\nimport errorEx from '@babel/helper-explode-assignable-expression'\\nimport babelPluginPolyfillCorejs3 from 'esbuild-runner'\\nimport stringWidth from '@babel/helper-optimise-call-expression'\\nimport availableTypedArrays from '@wdio/jasmine-framework'\\nimport istanbulCoveralls from 'eslint-config-gulp'\\nimport isDateObject from 'is-date-object'\\nimport shebangRegex from 'shebang-regex'\\nimport babelPluginTransformFlowStripTypes from '@babel/plugin-transform-flow-strip-types'\\nimport istanbul from '@parcel/packager-html'\\n\\nimport React from 'react';\\nimport PropTypes from 'prop-types';\\nimport {GoogleMapsMap, GoogleMapsMarker} from '@wix/restaurants-components/mobile';\\nimport CreateMapIcon from '@wix/restaurants-components/src/web/CreateMapIcon/createMapIcon';\\nimport webStyles from './PickupFormMap.web.icss';\\nimport mobileStyles from './PickupFormMap.mobile.icss'; function mapHelper(organization) { const icon = CreateMapIcon({ template: 'restPin' }); const mapCenter = { lat: organization.address.latLng.lat, lng: organization.address.latLng.lng }; const orgTitle = organization.title[organization.locale]; return { icon, mapCenter, orgTitle };\\n} export default function PickupFormMap({ organization, platform }) { const { mapCenter, orgTitle, icon } = mapHelper(organization); const styles = platform === 'web' ? webStyles : mobileStyles; return <GoogleMapsMap dataHook=\\\"pickup-form-map\\\" className={styles.map} zoom={15} locale={organization.locale} center={mapCenter} disableDefaultUI={true} > <GoogleMapsMarker position={mapCenter} title={orgTitle} icon={icon} /> </GoogleMapsMap>; } PickupFormMap.displayName = 'PickupFormMap';\\nPickupFormMap.propTypes = { platform: PropTypes.oneOf(['mobile', 'web']), organization: PropTypes.object.isRequired,\\n};\\n\\n####"}
{"prompt":"define(['array-shuffle','babel-preset-es2015-rollup','karma-typescript-es6-transform','sourcemap-codec','knox','clean-publish','postcss','acorn','gulp-rename'], function(ungapUrlSearchParams,babelPluginTransformObjectRestSpread,karmaTypescriptEs6Transform,sourcemapCodec,eventTargetShim,cleanPublish,webpackDevServer,parcelResolverDefault,gulpRename){\\nconst _ = require('lodash')\\nconst RefParser = require('@apidevtools/json-schema-ref-parser')\\nconst path = require('path') const METHOD = { /** Maintain reference equality for references. May lead to circular references */ DEFAULT: 'dereference'\\n} async function asyncMapValues(obj, f) { const pairs = _.map(obj, (v, k) => f(v, k).then(result => [k, result])) const results = await Promise.all(pairs) return _.fromPairs(results)\\n} async function dereferenceSchema(method, schema, env) { const parser = new RefParser() const resolver = { order: 1, canRead: true, read: async file => JSON.stringify(env[path.basename(file.url)], null, 2) } const options = { resolve: { resolver }, dereference: { circular: false } } if (method === METHOD.DEFAULT) { return await parser.dereference(schema, options) } throw new Error(`Unrecognized dereferencing method ${method}. Valid values are ${METHOD}`)\\n} async function dereferenceSchemas(method, schemas, env) { const completeEnv = { ...schemas, ...env } return asyncMapValues(schemas, async (s, k) => { try { return await dereferenceSchema(method, s, completeEnv) } catch (e) { console.error(`Cannot dereference schema ${k}`) throw e } })\\n} module.exports = { METHOD, dereferenceSchema, dereferenceSchemas\\n}\\n\\n})\\n####","completion":" import ungapUrlSearchParams from 'array-shuffle'\\nimport babelPluginTransformObjectRestSpread from 'babel-preset-es2015-rollup'\\nimport karmaTypescriptEs6Transform from 'karma-typescript-es6-transform'\\nimport sourcemapCodec from 'sourcemap-codec'\\nimport eventTargetShim from 'knox'\\nimport cleanPublish from 'clean-publish'\\nimport webpackDevServer from 'postcss'\\nimport parcelResolverDefault from 'acorn'\\nimport gulpRename from 'gulp-rename'\\n\\nconst _ = require('lodash')\\nconst RefParser = require('@apidevtools/json-schema-ref-parser')\\nconst path = require('path') const METHOD = { /** Maintain reference equality for references. May lead to circular references */ DEFAULT: 'dereference'\\n} async function asyncMapValues(obj, f) { const pairs = _.map(obj, (v, k) => f(v, k).then(result => [k, result])) const results = await Promise.all(pairs) return _.fromPairs(results)\\n} async function dereferenceSchema(method, schema, env) { const parser = new RefParser() const resolver = { order: 1, canRead: true, read: async file => JSON.stringify(env[path.basename(file.url)], null, 2) } const options = { resolve: { resolver }, dereference: { circular: false } } if (method === METHOD.DEFAULT) { return await parser.dereference(schema, options) } throw new Error(`Unrecognized dereferencing method ${method}. Valid values are ${METHOD}`)\\n} async function dereferenceSchemas(method, schemas, env) { const completeEnv = { ...schemas, ...env } return asyncMapValues(schemas, async (s, k) => { try { return await dereferenceSchema(method, s, completeEnv) } catch (e) { console.error(`Cannot dereference schema ${k}`) throw e } })\\n} module.exports = { METHOD, dereferenceSchema, dereferenceSchemas\\n}\\n\\n####"}
{"prompt":"define(['gulp-eslint'], function(postcssReduceTransforms){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.wix.com/demone2/boutique-law-firm (13)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/boutique-law-firm', emulateMobileDevice: true, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/13-boutique-law-firm/anchors/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import postcssReduceTransforms from 'gulp-eslint'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.wix.com/demone2/boutique-law-firm (13)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/boutique-law-firm', emulateMobileDevice: true, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/13-boutique-law-firm/anchors/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['ajv','uncss','is-node-modern','@types/es6-promisify','node-tick-processor','@babel/plugin-syntax-export-namespace-from','iced-coffee-script','side-channel','wrappy','xtend','eslint-config-moxy','hyphenate-style-name','json-source-map','@mdx-js/react','expect.js','@parcel/core','resolve','is-arrayish'], function(fastGlob,babelPluginTransformModulesAmd,httpServer,sauceConnectLauncher,babelPluginReactRequire,babelPluginSyntaxExportNamespaceFrom,icedCoffeeScript,sideChannel,babelPluginProposalClassProperties,xtend,babelTypes,jest,jsonSourceMap,far,sizeLimit,seleniumWebdriver,resolve,isArrayish){\\nimport AvailabilityEditor from '../../../../../src/dashboard/web/components/AvailabilityEditor';\\nimport {occasionToException} from '../../../../../src/dashboard/web/components/AvailabilityEditor/Containers/apiObjectsMapper';\\nimport {I18n, AdjustAvailability, LocaleUtils} from '@wix/wixrest-utils';\\nimport moment from 'moment'; let {i18n, I18N} = I18n.getComponentHeader('reservations_availability_'); export default React.createClass({ render() { const firstDay = LocaleUtils.getFirstDayOfTheWeek(i18n.getLocale()); const dayStrings = AdjustAvailability.adjustDayStrings(firstDay, i18n); return ( <div style={{width: 600}}> <AvailabilityEditor useBlockDisplay = {true} availability = {{exceptions: [ occasionToException({ name: 'Hanukkah', start: moment(1482665856000), end: moment(1483097856000), available: false }, locale: 'en_US'), ]}} dayStrings = {dayStrings} scheduleAlways = {'aye'} dayStrings={AdjustAvailability.adjustDayStrings(firstDay, i18n)} /> <br/> <br/> <br/> </div> ); }\\n});\\n\\n})\\n####","completion":" import fastGlob from 'ajv'\\nimport babelPluginTransformModulesAmd from 'uncss'\\nimport httpServer from 'is-node-modern'\\nimport sauceConnectLauncher from '@types/es6-promisify'\\nimport babelPluginReactRequire from 'node-tick-processor'\\nimport babelPluginSyntaxExportNamespaceFrom from '@babel/plugin-syntax-export-namespace-from'\\nimport icedCoffeeScript from 'iced-coffee-script'\\nimport sideChannel from 'side-channel'\\nimport babelPluginProposalClassProperties from 'wrappy'\\nimport xtend from 'xtend'\\nimport babelTypes from 'eslint-config-moxy'\\nimport jest from 'hyphenate-style-name'\\nimport jsonSourceMap from 'json-source-map'\\nimport far from '@mdx-js/react'\\nimport sizeLimit from 'expect.js'\\nimport seleniumWebdriver from '@parcel/core'\\nimport resolve from 'resolve'\\nimport isArrayish from 'is-arrayish'\\n\\nimport AvailabilityEditor from '../../../../../src/dashboard/web/components/AvailabilityEditor';\\nimport {occasionToException} from '../../../../../src/dashboard/web/components/AvailabilityEditor/Containers/apiObjectsMapper';\\nimport {I18n, AdjustAvailability, LocaleUtils} from '@wix/wixrest-utils';\\nimport moment from 'moment'; let {i18n, I18N} = I18n.getComponentHeader('reservations_availability_'); export default React.createClass({ render() { const firstDay = LocaleUtils.getFirstDayOfTheWeek(i18n.getLocale()); const dayStrings = AdjustAvailability.adjustDayStrings(firstDay, i18n); return ( <div style={{width: 600}}> <AvailabilityEditor useBlockDisplay = {true} availability = {{exceptions: [ occasionToException({ name: 'Hanukkah', start: moment(1482665856000), end: moment(1483097856000), available: false }, locale: 'en_US'), ]}} dayStrings = {dayStrings} scheduleAlways = {'aye'} dayStrings={AdjustAvailability.adjustDayStrings(firstDay, i18n)} /> <br/> <br/> <br/> </div> ); }\\n});\\n\\n####"}
{"prompt":"define(['benchmarked','rimraf','unbox-primitive','require-csv','bundle-collapser','grunt-contrib-uglify','require-uncached','postcss-normalize-timing-functions','asynckit','twist','@parcel/transformer-js','css-what','for-each','globby','cssnano-preset-lite','a','@parcel/transformer-raw','standard-version','everything.js','get-port'], function(benchmarked,rimraf,uncss,ncp,bundleCollapser,gruntContribUglify,requireUncached,postcssNormalizeTimingFunctions,hasSymbols,webpackCli,nodeAddonApi,babelPluginTransformDestructuring,fasterStableStringify,bundlesize,gruntShell,jsdocToMarkdown,parcelTransformerRaw,standardVersion,gruntMochaCov,karmaChai){\\nimport React from 'react';\\nimport { connect } from 'react-redux';\\nimport { withExperiments } from '@wix/wix-experiments-react';\\nimport { FloatingNotification, Box } from 'wix-style-react';\\nimport InfoIcon from 'wix-ui-icons-common/InfoCircle';\\nimport { I18n } from '@wix/wixrest-utils'; function POSIntegrationBanner({ experiments, POSIntegration, fullWidth = false, withMarginBottom, ...boxProps\\n}) { const { enabledIntegration: integration } = POSIntegration; if ( !experiments.enabled('specs.restaurants.pos-integrations') || !integration ) { return null; } return ( <Box {...boxProps}> <FloatingNotification dataHook=\\\"menus-pos-integration-banner\\\" prefixIcon={<InfoIcon />} type=\\\"warning\\\" text={I18n.get( 'POS.integration.dish.olo.notification', 'Some settings are determined by your POS integration.' )} fullWidth={fullWidth} width=\\\"100%\\\" showCloseButton={false} /> </Box> );\\n} function mapStateToProps(state, ownProps) { return { POSIntegration: state.integrations.pos, ...ownProps, };\\n} export default withExperiments(connect(mapStateToProps)(POSIntegrationBanner));\\n\\n})\\n####","completion":" import benchmarked from 'benchmarked'\\nimport rimraf from 'rimraf'\\nimport uncss from 'unbox-primitive'\\nimport ncp from 'require-csv'\\nimport bundleCollapser from 'bundle-collapser'\\nimport gruntContribUglify from 'grunt-contrib-uglify'\\nimport requireUncached from 'require-uncached'\\nimport postcssNormalizeTimingFunctions from 'postcss-normalize-timing-functions'\\nimport hasSymbols from 'asynckit'\\nimport webpackCli from 'twist'\\nimport nodeAddonApi from '@parcel/transformer-js'\\nimport babelPluginTransformDestructuring from 'css-what'\\nimport fasterStableStringify from 'for-each'\\nimport bundlesize from 'globby'\\nimport gruntShell from 'cssnano-preset-lite'\\nimport jsdocToMarkdown from 'a'\\nimport parcelTransformerRaw from '@parcel/transformer-raw'\\nimport standardVersion from 'standard-version'\\nimport gruntMochaCov from 'everything.js'\\nimport karmaChai from 'get-port'\\n\\nimport React from 'react';\\nimport { connect } from 'react-redux';\\nimport { withExperiments } from '@wix/wix-experiments-react';\\nimport { FloatingNotification, Box } from 'wix-style-react';\\nimport InfoIcon from 'wix-ui-icons-common/InfoCircle';\\nimport { I18n } from '@wix/wixrest-utils'; function POSIntegrationBanner({ experiments, POSIntegration, fullWidth = false, withMarginBottom, ...boxProps\\n}) { const { enabledIntegration: integration } = POSIntegration; if ( !experiments.enabled('specs.restaurants.pos-integrations') || !integration ) { return null; } return ( <Box {...boxProps}> <FloatingNotification dataHook=\\\"menus-pos-integration-banner\\\" prefixIcon={<InfoIcon />} type=\\\"warning\\\" text={I18n.get( 'POS.integration.dish.olo.notification', 'Some settings are determined by your POS integration.' )} fullWidth={fullWidth} width=\\\"100%\\\" showCloseButton={false} /> </Box> );\\n} function mapStateToProps(state, ownProps) { return { POSIntegration: state.integrations.pos, ...ownProps, };\\n} export default withExperiments(connect(mapStateToProps)(POSIntegrationBanner));\\n\\n####"}
{"prompt":"define(['to-fast-properties','karma-commonjs','@babel/plugin-syntax-import-assertions','jquery','earlgrey','grunt-karma','prebuildify-ci','@babel/plugin-transform-unicode-escapes','eslint-config-standard','@babel/helper-builder-binary-assignment-operator-visitor','inflight','@babel/helpers','cssesc','get-symbol-description','@babel/helper-validator-option','d3-random','is-path-inside'], function(toFastProperties,karmaCommonjs,jridgewellResolveUri,terserWebpackPlugin,earlgrey,karmaPhantomjsLauncher,gruntContribCopy,lodashMemoize,is,babelHelperBuilderBinaryAssignmentOperatorVisitor,saferBuffer,babelHelpers,parcelBabelPreset,babelPresetMoxy,tsup,requireIni,isPathInside){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.wix.com/demone2/cinematographer (34)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/cinematographer', emulateMobileDevice: true, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/34-cinematographer/anchors/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import toFastProperties from 'to-fast-properties'\\nimport karmaCommonjs from 'karma-commonjs'\\nimport jridgewellResolveUri from '@babel/plugin-syntax-import-assertions'\\nimport terserWebpackPlugin from 'jquery'\\nimport earlgrey from 'earlgrey'\\nimport karmaPhantomjsLauncher from 'grunt-karma'\\nimport gruntContribCopy from 'prebuildify-ci'\\nimport lodashMemoize from '@babel/plugin-transform-unicode-escapes'\\nimport is from 'eslint-config-standard'\\nimport babelHelperBuilderBinaryAssignmentOperatorVisitor from '@babel/helper-builder-binary-assignment-operator-visitor'\\nimport saferBuffer from 'inflight'\\nimport babelHelpers from '@babel/helpers'\\nimport parcelBabelPreset from 'cssesc'\\nimport babelPresetMoxy from 'get-symbol-description'\\nimport tsup from '@babel/helper-validator-option'\\nimport requireIni from 'd3-random'\\nimport isPathInside from 'is-path-inside'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.wix.com/demone2/cinematographer (34)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/cinematographer', emulateMobileDevice: true, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/34-cinematographer/anchors/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['fs.realpath','@babel/plugin-transform-modules-amd','benny','source-map','@parcel/core','foo','sprintf-js','@typescript-eslint/parser','p-try','which'], function(babelPluginTransformSpread,seedrandom,benny,sourceMap,seleniumWebdriver,clsx,nthCheck,typescriptEslintParser,pTry,which){\\n'use strict'\\nconst {withDocumentServices} = require('@wix/santa-integration-tests') const getPageIds = frame => frame.evaluate(() => window.documentServices.pages.getPageIdList()) const getComponent = (frame, compId) => frame.evaluate(innerCompId => window.documentServices.components.get.byId(innerCompId), compId) const getSiteAsJsonLength = frame => frame.evaluate(() => window.siteAsJson.pages.length)\\ntest('pass', () => {})\\ntest('Additional pages loaded and available to DS when the server only served one', withDocumentServices({ petri_ovr: { 'specs.EnableSinglePageEditor': true }, forceFetch: true, baseUrl: 'https://editor.wix.com/html/editor/web/renderer/render/document/72d7fa79-d979-4bdc-9990-802861396d15?isEdited=true&isSantaEditor=true&dsOrigin=Editor1.4&metaSiteId=dce43d28-1fb6-4ed4-8efc-9b1512882c6a' }, async ({site}) => { const [ siteAsJsonPagesCount, pageIds, componentInPage1, componentInPage2 ] = await Promise.all([ getSiteAsJsonLength(site.viewerFrame), getPageIds(site.viewerFrame), getComponent(site.viewerFrame, 'comp-jo8zbkke'), getComponent(site.viewerFrame, 'comp-jo8zavsq') ]) expect(siteAsJsonPagesCount).toBe(1) expect(pageIds.length).toBe(2) expect(componentInPage1).not.toBe(null) expect(componentInPage2).not.toBe(null) })\\n) \\n})\\n####","completion":" import babelPluginTransformSpread from 'fs.realpath'\\nimport seedrandom from '@babel/plugin-transform-modules-amd'\\nimport benny from 'benny'\\nimport sourceMap from 'source-map'\\nimport seleniumWebdriver from '@parcel/core'\\nimport clsx from 'foo'\\nimport nthCheck from 'sprintf-js'\\nimport typescriptEslintParser from '@typescript-eslint/parser'\\nimport pTry from 'p-try'\\nimport which from 'which'\\n\\n'use strict'\\nconst {withDocumentServices} = require('@wix/santa-integration-tests') const getPageIds = frame => frame.evaluate(() => window.documentServices.pages.getPageIdList()) const getComponent = (frame, compId) => frame.evaluate(innerCompId => window.documentServices.components.get.byId(innerCompId), compId) const getSiteAsJsonLength = frame => frame.evaluate(() => window.siteAsJson.pages.length)\\ntest('pass', () => {})\\ntest('Additional pages loaded and available to DS when the server only served one', withDocumentServices({ petri_ovr: { 'specs.EnableSinglePageEditor': true }, forceFetch: true, baseUrl: 'https://editor.wix.com/html/editor/web/renderer/render/document/72d7fa79-d979-4bdc-9990-802861396d15?isEdited=true&isSantaEditor=true&dsOrigin=Editor1.4&metaSiteId=dce43d28-1fb6-4ed4-8efc-9b1512882c6a' }, async ({site}) => { const [ siteAsJsonPagesCount, pageIds, componentInPage1, componentInPage2 ] = await Promise.all([ getSiteAsJsonLength(site.viewerFrame), getPageIds(site.viewerFrame), getComponent(site.viewerFrame, 'comp-jo8zbkke'), getComponent(site.viewerFrame, 'comp-jo8zavsq') ]) expect(siteAsJsonPagesCount).toBe(1) expect(pageIds.length).toBe(2) expect(componentInPage1).not.toBe(null) expect(componentInPage2).not.toBe(null) })\\n) \\n####"}
{"prompt":"define(['@babel/plugin-transform-block-scoped-functions','blanket','gulp-tag-version','boolbase','@types/convert-source-map','get-intrinsic','has-symbols','tar','pkgfiles','npm-normalize-package-bin','require-inject','make-async-function','is-shared-array-buffer','lodash','long','tslint','file-loader','is-url','cross-env','asap'], function(babelPluginTransformBlockScopedFunctions,blanket,typesOffscreencanvas,eslintConfigBabel,typesConvertSourceMap,getIntrinsic,typesChalk,typesSvgo,asynckit,d3Interpolate,electronReleases,d3TimeFormat,isSharedArrayBuffer,mapboxNodePreGyp,cssDeclarationSorter,tslint,fileLoader,isUrl,crossEnv,tomlRequire){\\nconst contextAdapter = require('@wix/document-services-implementation/src/utils/contextAdapter')\\nconst utils = require('documentServices/atomicScopes/atomicScopesUtils')\\nconst {getLastPartialSavePayload, getDsWithSavedBlankSiteAndFetch} = require('./saveTestUtils') describe('Save API', () => { describe('SaveDocument', () => { describe('deletedDataForSave', () => { it('save payload should include removed atomic scopes ids', async () => { /** @type {DS} */ const ds = await getDsWithSavedBlankSiteAndFetch() const httpRequest = jest.spyOn(contextAdapter.actions, 'sendHttpRequest') const {ps} = ds.adapter const page1 = ds.pages.add('page1') await ds.SOQ.waitForChangesAppliedAsync() const atomicScopeId = utils.getPageUriAtomicScopeId(ps, page1.pageId) await ds.promises.save() await ds.promises.pages.remove(page1.pageId) await ds.SOQ.waitForChangesAppliedAsync() await ds.promises.save() const partialSavePayload = getLastPartialSavePayload(httpRequest) expect(partialSavePayload.nodeIdsToDelete.atomicScopes).equalsArrayWithoutOrder([atomicScopeId]) }) }) afterEach(() => { jest.clearAllMocks() }) })\\n})\\n\\n})\\n####","completion":" import babelPluginTransformBlockScopedFunctions from '@babel/plugin-transform-block-scoped-functions'\\nimport blanket from 'blanket'\\nimport typesOffscreencanvas from 'gulp-tag-version'\\nimport eslintConfigBabel from 'boolbase'\\nimport typesConvertSourceMap from '@types/convert-source-map'\\nimport getIntrinsic from 'get-intrinsic'\\nimport typesChalk from 'has-symbols'\\nimport typesSvgo from 'tar'\\nimport asynckit from 'pkgfiles'\\nimport d3Interpolate from 'npm-normalize-package-bin'\\nimport electronReleases from 'require-inject'\\nimport d3TimeFormat from 'make-async-function'\\nimport isSharedArrayBuffer from 'is-shared-array-buffer'\\nimport mapboxNodePreGyp from 'lodash'\\nimport cssDeclarationSorter from 'long'\\nimport tslint from 'tslint'\\nimport fileLoader from 'file-loader'\\nimport isUrl from 'is-url'\\nimport crossEnv from 'cross-env'\\nimport tomlRequire from 'asap'\\n\\nconst contextAdapter = require('@wix/document-services-implementation/src/utils/contextAdapter')\\nconst utils = require('documentServices/atomicScopes/atomicScopesUtils')\\nconst {getLastPartialSavePayload, getDsWithSavedBlankSiteAndFetch} = require('./saveTestUtils') describe('Save API', () => { describe('SaveDocument', () => { describe('deletedDataForSave', () => { it('save payload should include removed atomic scopes ids', async () => { /** @type {DS} */ const ds = await getDsWithSavedBlankSiteAndFetch() const httpRequest = jest.spyOn(contextAdapter.actions, 'sendHttpRequest') const {ps} = ds.adapter const page1 = ds.pages.add('page1') await ds.SOQ.waitForChangesAppliedAsync() const atomicScopeId = utils.getPageUriAtomicScopeId(ps, page1.pageId) await ds.promises.save() await ds.promises.pages.remove(page1.pageId) await ds.SOQ.waitForChangesAppliedAsync() await ds.promises.save() const partialSavePayload = getLastPartialSavePayload(httpRequest) expect(partialSavePayload.nodeIdsToDelete.atomicScopes).equalsArrayWithoutOrder([atomicScopeId]) }) }) afterEach(() => { jest.clearAllMocks() }) })\\n})\\n\\n####"}
{"prompt":"define(['@babel/helper-check-duplicate-nodes','csv-spectrum','pkgfiles','@tensorflow/tfjs-converter','querystring-es3'], function(lolex,airtap,asynckit,tensorflowTfjsConverter,delCli){\\nconst aws = require('aws-sdk') const s3 = new aws.S3({region: 'us-east-1'}) // const S3_SNAPSHOT_BUCKET = 'santa-viewer-layout-snapshots'\\nconst S3_SNAPSHOT_BUCKET = 'lambda-e2e-log' async function getItem(key) { const s = Date.now() const params = { Bucket: S3_SNAPSHOT_BUCKET, Key: key } try { console.log('storage::s3 getItem', params) const result = await s3.getObject(params).promise() const resultString = result.Body.toString('utf-8') console.log('storage::s3 getItem result', params, Date.now() - s) return resultString } catch (err) { console.log('storage::s3 getItem error', err, Date.now() - s) return null }\\n} async function putItem(key, value) { const s = Date.now() const params = { Body: value, Bucket: S3_SNAPSHOT_BUCKET, Key: key } console.log('storage::s3 putItem', params) try { await s3.upload(params).promise() console.log('storage::s3 putItem done', params, Date.now() - s) } catch (err) { console.log('storage::s3 putItem error', err, Date.now() - s) }\\n} module.exports = { getItem, putItem\\n}\\n})\\n####","completion":" import lolex from '@babel/helper-check-duplicate-nodes'\\nimport airtap from 'csv-spectrum'\\nimport asynckit from 'pkgfiles'\\nimport tensorflowTfjsConverter from '@tensorflow/tfjs-converter'\\nimport delCli from 'querystring-es3'\\n\\nconst aws = require('aws-sdk') const s3 = new aws.S3({region: 'us-east-1'}) // const S3_SNAPSHOT_BUCKET = 'santa-viewer-layout-snapshots'\\nconst S3_SNAPSHOT_BUCKET = 'lambda-e2e-log' async function getItem(key) { const s = Date.now() const params = { Bucket: S3_SNAPSHOT_BUCKET, Key: key } try { console.log('storage::s3 getItem', params) const result = await s3.getObject(params).promise() const resultString = result.Body.toString('utf-8') console.log('storage::s3 getItem result', params, Date.now() - s) return resultString } catch (err) { console.log('storage::s3 getItem error', err, Date.now() - s) return null }\\n} async function putItem(key, value) { const s = Date.now() const params = { Body: value, Bucket: S3_SNAPSHOT_BUCKET, Key: key } console.log('storage::s3 putItem', params) try { await s3.upload(params).promise() console.log('storage::s3 putItem done', params, Date.now() - s) } catch (err) { console.log('storage::s3 putItem error', err, Date.now() - s) }\\n} module.exports = { getItem, putItem\\n}\\n####"}
{"prompt":"define(['@parcel/optimizer-svgo','tslint','raw-body','array.prototype.map','karma-source-map-support','fast-levenshtein'], function(domelementtype,tslint,rawBody,arrayPrototypeMap,bindings,argparse){\\nimport createReactClass from 'create-react-class'; export default createReactClass({ displayName: 'ScrollShadow.ScrollShadow', componentDidMount() { if (typeof window.requestAnimationFrame === 'function') { window.requestAnimationFrame(this.onAnimationFrame); } else { this.__animationFrameInterval = setInterval(this.onAnimationFrame, 16); } }, onAnimationFrame() { if (!this.isMounted()) { clearInterval(this.__animationFrameInterval); } else { this.refs.wrapper.style.opacity = Math.max(0, Math.min( 1, (window.scrollY - this.props.startY) / 20)); window.requestAnimationFrame(this.onAnimationFrame); } }, render() { var style = { backgroundImage: 'linear-gradient(to bottom, ' + 'rgba(0, 0, 0, ' + this.props.opacity + ') 0%, rgba(0, 0, 0, 0) 100%)', height: this.props.height + 'px' }; return ( <div ref='wrapper' className='openrest_ScrollShadow_ScrollShadow_wrapper'> <div style={style}/> </div> ); }\\n});\\n\\n})\\n####","completion":" import domelementtype from '@parcel/optimizer-svgo'\\nimport tslint from 'tslint'\\nimport rawBody from 'raw-body'\\nimport arrayPrototypeMap from 'array.prototype.map'\\nimport bindings from 'karma-source-map-support'\\nimport argparse from 'fast-levenshtein'\\n\\nimport createReactClass from 'create-react-class'; export default createReactClass({ displayName: 'ScrollShadow.ScrollShadow', componentDidMount() { if (typeof window.requestAnimationFrame === 'function') { window.requestAnimationFrame(this.onAnimationFrame); } else { this.__animationFrameInterval = setInterval(this.onAnimationFrame, 16); } }, onAnimationFrame() { if (!this.isMounted()) { clearInterval(this.__animationFrameInterval); } else { this.refs.wrapper.style.opacity = Math.max(0, Math.min( 1, (window.scrollY - this.props.startY) / 20)); window.requestAnimationFrame(this.onAnimationFrame); } }, render() { var style = { backgroundImage: 'linear-gradient(to bottom, ' + 'rgba(0, 0, 0, ' + this.props.opacity + ') 0%, rgba(0, 0, 0, 0) 100%)', height: this.props.height + 'px' }; return ( <div ref='wrapper' className='openrest_ScrollShadow_ScrollShadow_wrapper'> <div style={style}/> </div> ); }\\n});\\n\\n####"}
{"prompt":"define(['ember-cli-dependency-checker','remark-preset-davidtheclark','@parcel/runtime-js','@types/rimraf','@babel/plugin-transform-block-scoping','codecov','size-limit','@babel/compat-data','npm-run-all','axios','@babel/plugin-proposal-private-property-in-object','d3-random','delaunator','array.prototype.reduce','@rollup/plugin-json','grunt-exec','type-fest','grunt-mocha-cov'], function(codecovIo,requireInject,express,expect,babelPluginTransformBlockScoping,esbuildRegister,parcelRuntimeServiceWorker,mockFs,npmRunAll,wordWrap,cloneDeep,requireIni,delaunator,coreJsPure,chromeTraceEvent,babel,nodeReleases,browserifyZlib){\\nimport DatePicker from '../../../src/shared/DatePicker';\\nimport {mount} from 'enzyme';\\nimport {assert} from 'chai';\\nimport {fixtures} from '@wix/wixrest-test-utils';\\nimport globalize from '../../specUtils/globalize'; describe('DatePicker', () => { let w, originalMoment; beforeEach(() => { originalMoment = window.moment; }); afterEach(() => { globalize('moment', originalMoment); window.moment.tz.setDefault('Asia/Jerusalem'); }); it('render', () => { render(); assert.equal(w.find('.react-datepicker__month').length, 1); }); //RST-1907 //TODO: fix this failing test it.skip('should not duplicate weeks in case of a DST on Sunday', () => { //Given window.moment.tz.setDefault('America/Sao_Paulo'); globalize('moment', fixtures.moment.getMoment('2017-10-17')); //When render(); //Then const week2 = w.find('.react-datepicker__week').at(1); const week3 = w.find('.react-datepicker__week').at(2); const sundayWeek2 = week2.find('.react-datepicker__day').at(0).text(); const sundayWeek3 = week3.find('.react-datepicker__day').at(0).text(); assert.equal(sundayWeek2, '8'); assert.equal(sundayWeek3, '15'); }); function render() { w = mount(<DatePicker/>); }\\n});\\n\\n})\\n####","completion":" import codecovIo from 'ember-cli-dependency-checker'\\nimport requireInject from 'remark-preset-davidtheclark'\\nimport express from '@parcel/runtime-js'\\nimport expect from '@types/rimraf'\\nimport babelPluginTransformBlockScoping from '@babel/plugin-transform-block-scoping'\\nimport esbuildRegister from 'codecov'\\nimport parcelRuntimeServiceWorker from 'size-limit'\\nimport mockFs from '@babel/compat-data'\\nimport npmRunAll from 'npm-run-all'\\nimport wordWrap from 'axios'\\nimport cloneDeep from '@babel/plugin-proposal-private-property-in-object'\\nimport requireIni from 'd3-random'\\nimport delaunator from 'delaunator'\\nimport coreJsPure from 'array.prototype.reduce'\\nimport chromeTraceEvent from '@rollup/plugin-json'\\nimport babel from 'grunt-exec'\\nimport nodeReleases from 'type-fest'\\nimport browserifyZlib from 'grunt-mocha-cov'\\n\\nimport DatePicker from '../../../src/shared/DatePicker';\\nimport {mount} from 'enzyme';\\nimport {assert} from 'chai';\\nimport {fixtures} from '@wix/wixrest-test-utils';\\nimport globalize from '../../specUtils/globalize'; describe('DatePicker', () => { let w, originalMoment; beforeEach(() => { originalMoment = window.moment; }); afterEach(() => { globalize('moment', originalMoment); window.moment.tz.setDefault('Asia/Jerusalem'); }); it('render', () => { render(); assert.equal(w.find('.react-datepicker__month').length, 1); }); //RST-1907 //TODO: fix this failing test it.skip('should not duplicate weeks in case of a DST on Sunday', () => { //Given window.moment.tz.setDefault('America/Sao_Paulo'); globalize('moment', fixtures.moment.getMoment('2017-10-17')); //When render(); //Then const week2 = w.find('.react-datepicker__week').at(1); const week3 = w.find('.react-datepicker__week').at(2); const sundayWeek2 = week2.find('.react-datepicker__day').at(0).text(); const sundayWeek3 = week3.find('.react-datepicker__day').at(0).text(); assert.equal(sundayWeek2, '8'); assert.equal(sundayWeek3, '15'); }); function render() { w = mount(<DatePicker/>); }\\n});\\n\\n####"}
{"prompt":"define(['for-each','tsd','@napi-rs/cli','klaw','promises-aplus-tests','browserify-istanbul','@babel/plugin-transform-shorthand-properties','clsx','@types/color-convert'], function(fasterStableStringify,tsd,napiRsCli,rollupPluginTerser,promisesAplusTests,lodash,babelPluginTransformShorthandProperties,hasStrictMode,typesColorConvert){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.wix.com/demone2/graphic-design-portf (8)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/graphic-design-portf', emulateMobileDevice: true, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/8-graphic-design-portfolio/mesh/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import fasterStableStringify from 'for-each'\\nimport tsd from 'tsd'\\nimport napiRsCli from '@napi-rs/cli'\\nimport rollupPluginTerser from 'klaw'\\nimport promisesAplusTests from 'promises-aplus-tests'\\nimport lodash from 'browserify-istanbul'\\nimport babelPluginTransformShorthandProperties from '@babel/plugin-transform-shorthand-properties'\\nimport hasStrictMode from 'clsx'\\nimport typesColorConvert from '@types/color-convert'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.wix.com/demone2/graphic-design-portf (8)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/graphic-design-portf', emulateMobileDevice: true, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/8-graphic-design-portfolio/mesh/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['to-fast-properties','postcss-reduce-initial','bowser','@babel/plugin-transform-modules-commonjs','svg-term-cli','rollup-plugin-buble','constants-browserify','iced-coffee-script','regexpu-core','far','saucelabs','ansi-html-community','@types/css-tree','@babel/plugin-syntax-export-namespace-from','supports-preserve-symlinks-flag','@babel/helper-optimise-call-expression','unicode-match-property-ecmascript','nodeunit','postcss-selector-parser','@mapbox/eslint-config-mapbox'], function(toFastProperties,typesD3Selection,bowser,babelPluginTransformModulesCommonjs,del,rollupPluginBuble,constantsBrowserify,icedCoffeeScript,babelPluginSyntaxOptionalCatchBinding,grunt,saucelabs,ansiHtmlCommunity,typesCssTree,babelPluginSyntaxExportNamespaceFrom,baseX,stringWidth,unicodeMatchPropertyEcmascript,nodeunit,postcssSelectorParser,mapboxEslintConfigMapbox){\\ndefine(['@wix/santa-core-utils'], function (coreUtilsLib) { 'use strict' const buildAppsServiceBaseUrl = ps => { const serviceTopologyPointer = ps.pointers.general.getServiceTopology() const editorServerRootPointer = ps.pointers.getInnerPointer(serviceTopologyPointer, 'editorServerRoot') const editorServerRoot = ps.dal.get(editorServerRootPointer) return `${coreUtilsLib.urlUtils.baseUrl(editorServerRoot)}/_api/app-service/v1/` } const fetchAppData = (ps, appDefinitionId) => coreUtilsLib.requestsUtil.fetchJson(`${buildAppsServiceBaseUrl(ps)}apps/${appDefinitionId}`, {credentials: 'include'}) const postComponentData = (ps, appDefinitionId, componentData) => coreUtilsLib.requestsUtil.fetchJson(`${buildAppsServiceBaseUrl(ps)}apps/${appDefinitionId}/components`, { method: 'POST', credentials: 'include', body: JSON.stringify(componentData) }) return { fetchAppData, postComponentData }\\n})\\n\\n})\\n####","completion":" import toFastProperties from 'to-fast-properties'\\nimport typesD3Selection from 'postcss-reduce-initial'\\nimport bowser from 'bowser'\\nimport babelPluginTransformModulesCommonjs from '@babel/plugin-transform-modules-commonjs'\\nimport del from 'svg-term-cli'\\nimport rollupPluginBuble from 'rollup-plugin-buble'\\nimport constantsBrowserify from 'constants-browserify'\\nimport icedCoffeeScript from 'iced-coffee-script'\\nimport babelPluginSyntaxOptionalCatchBinding from 'regexpu-core'\\nimport grunt from 'far'\\nimport saucelabs from 'saucelabs'\\nimport ansiHtmlCommunity from 'ansi-html-community'\\nimport typesCssTree from '@types/css-tree'\\nimport babelPluginSyntaxExportNamespaceFrom from '@babel/plugin-syntax-export-namespace-from'\\nimport baseX from 'supports-preserve-symlinks-flag'\\nimport stringWidth from '@babel/helper-optimise-call-expression'\\nimport unicodeMatchPropertyEcmascript from 'unicode-match-property-ecmascript'\\nimport nodeunit from 'nodeunit'\\nimport postcssSelectorParser from 'postcss-selector-parser'\\nimport mapboxEslintConfigMapbox from '@mapbox/eslint-config-mapbox'\\n\\ndefine(['@wix/santa-core-utils'], function (coreUtilsLib) { 'use strict' const buildAppsServiceBaseUrl = ps => { const serviceTopologyPointer = ps.pointers.general.getServiceTopology() const editorServerRootPointer = ps.pointers.getInnerPointer(serviceTopologyPointer, 'editorServerRoot') const editorServerRoot = ps.dal.get(editorServerRootPointer) return `${coreUtilsLib.urlUtils.baseUrl(editorServerRoot)}/_api/app-service/v1/` } const fetchAppData = (ps, appDefinitionId) => coreUtilsLib.requestsUtil.fetchJson(`${buildAppsServiceBaseUrl(ps)}apps/${appDefinitionId}`, {credentials: 'include'}) const postComponentData = (ps, appDefinitionId, componentData) => coreUtilsLib.requestsUtil.fetchJson(`${buildAppsServiceBaseUrl(ps)}apps/${appDefinitionId}/components`, { method: 'POST', credentials: 'include', body: JSON.stringify(componentData) }) return { fetchAppData, postComponentData }\\n})\\n\\n####"}
{"prompt":"define(['@types/chai','reamde','d3-array','csv-parse','prelude-ls','ejs','d3-format','babel-plugin-transform-replace-object-assign','@babel/plugin-syntax-optional-chaining','has','electron-releases','balanced-match','function.prototype.name','kcd-scripts'], function(chalk,reamde,immutable,levn,preludeLs,isRegex,d3Format,babelPluginTransformReplaceObjectAssign,babelPluginSyntaxOptionalChaining,has,typeCheck,balancedMatch,replace,babelPluginTransformEs2015BlockScoping){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.wix.com/demone2/ice-cream-parlor (45)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/ice-cream-parlor', emulateMobileDevice: false, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/45-ice-cream-parlor/mesh/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import chalk from '@types/chai'\\nimport reamde from 'reamde'\\nimport immutable from 'd3-array'\\nimport levn from 'csv-parse'\\nimport preludeLs from 'prelude-ls'\\nimport isRegex from 'ejs'\\nimport d3Format from 'd3-format'\\nimport babelPluginTransformReplaceObjectAssign from 'babel-plugin-transform-replace-object-assign'\\nimport babelPluginSyntaxOptionalChaining from '@babel/plugin-syntax-optional-chaining'\\nimport has from 'has'\\nimport typeCheck from 'electron-releases'\\nimport balancedMatch from 'balanced-match'\\nimport replace from 'function.prototype.name'\\nimport babelPluginTransformEs2015BlockScoping from 'kcd-scripts'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.wix.com/demone2/ice-cream-parlor (45)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/ice-cream-parlor', emulateMobileDevice: false, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/45-ice-cream-parlor/mesh/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['deep-equal','request','ndoc','@babel/plugin-proposal-numeric-separator','@parcel/markdown-ansi','opener','@jridgewell/resolve-uri','svgo','prettier','@wdio/cli','webpack','terser-webpack-plugin','better-ajv-errors','time-span','string.prototype.trimend','ora','is-arrayish','unicode-match-property-ecmascript','ignore-walk'], function(typesArgparse,request,ndoc,parcelEvents,parcelMarkdownAnsi,opener,coreJsCompat,mdnData,prettier,parcelCore,whatwgUrl,babelHelperSimpleAccess,babelPluginProposalJsonStrings,timeSpan,stringPrototypeTrimend,ora,isArrayish,unicodeMatchPropertyEcmascript,babelHelperExplodeAssignableExpression){\\nimport uuidGenerator from '@wix/uuid-support'; export class SiteListDriver { constructor(env) { this.env = env; } given = { siteListValidData: () => { this.sites = [ { id: uuidGenerator.generate(), siteName: 'my cool site' }, { id: uuidGenerator.generate(), siteName: 'another cool site' }]; this.env.rpcServer.when('ReadOnlyMetaSiteManager', 'listSites').respond(this.sites); return this; } }; when = { navigate: (path = '/') => { browser.get(this.env.app.getUrl(path)); return this; }, clientNavigateTo: linkHookName => { this.get.navigationLink(linkHookName).click(); return this; } }; get = { mockedSiteNameAt: index => this.sites[index].siteName, siteNameAt: index => { browser.wait(() => $(`[data-hook=\\\"site\\\"]`).isPresent()); return $$(`[data-hook=\\\"site\\\"]`).get(index); }, navigationLink: linkHookName => $$(`[data-hook=\\\"${linkHookName}-tab\\\"]`) };\\n}\\n\\n})\\n####","completion":" import typesArgparse from 'deep-equal'\\nimport request from 'request'\\nimport ndoc from 'ndoc'\\nimport parcelEvents from '@babel/plugin-proposal-numeric-separator'\\nimport parcelMarkdownAnsi from '@parcel/markdown-ansi'\\nimport opener from 'opener'\\nimport coreJsCompat from '@jridgewell/resolve-uri'\\nimport mdnData from 'svgo'\\nimport prettier from 'prettier'\\nimport parcelCore from '@wdio/cli'\\nimport whatwgUrl from 'webpack'\\nimport babelHelperSimpleAccess from 'terser-webpack-plugin'\\nimport babelPluginProposalJsonStrings from 'better-ajv-errors'\\nimport timeSpan from 'time-span'\\nimport stringPrototypeTrimend from 'string.prototype.trimend'\\nimport ora from 'ora'\\nimport isArrayish from 'is-arrayish'\\nimport unicodeMatchPropertyEcmascript from 'unicode-match-property-ecmascript'\\nimport babelHelperExplodeAssignableExpression from 'ignore-walk'\\n\\nimport uuidGenerator from '@wix/uuid-support'; export class SiteListDriver { constructor(env) { this.env = env; } given = { siteListValidData: () => { this.sites = [ { id: uuidGenerator.generate(), siteName: 'my cool site' }, { id: uuidGenerator.generate(), siteName: 'another cool site' }]; this.env.rpcServer.when('ReadOnlyMetaSiteManager', 'listSites').respond(this.sites); return this; } }; when = { navigate: (path = '/') => { browser.get(this.env.app.getUrl(path)); return this; }, clientNavigateTo: linkHookName => { this.get.navigationLink(linkHookName).click(); return this; } }; get = { mockedSiteNameAt: index => this.sites[index].siteName, siteNameAt: index => { browser.wait(() => $(`[data-hook=\\\"site\\\"]`).isPresent()); return $$(`[data-hook=\\\"site\\\"]`).get(index); }, navigationLink: linkHookName => $$(`[data-hook=\\\"${linkHookName}-tab\\\"]`) };\\n}\\n\\n####"}
{"prompt":"define(['eslint-import-resolver-typescript','@babel/helper-create-class-features-plugin','process-nextick-args','grunt-cli','css-select','balanced-match','preact-render-spy','postcss-normalize-url','@parcel/node-resolver-core','sass','jquery','@babel/plugin-proposal-numeric-separator','uvu','mocha-lcov-reporter','@parcel/transformer-postcss','karma-ie-launcher'], function(emojiRegex,babelHelperCreateClassFeaturesPlugin,processNextickArgs,hasBigints,cssSelect,balancedMatch,teenyRequest,jsonPointer,parcelNodeResolverCore,parcelTransformerJs,terserWebpackPlugin,parcelEvents,uvu,mochaLcovReporter,parcelTransformerPostcss,gruntSass){\\n(function (f) { if (typeof exports === \\\"object\\\" && typeof module !== \\\"undefined\\\") { module.exports = f() } else if (typeof define === \\\"function\\\" && define.amd) { define([], f) } else { var g; if (typeof window !== \\\"undefined\\\") { g = window } else if (typeof global !== \\\"undefined\\\") { g = global } else if (typeof self !== \\\"undefined\\\") { g = self } else { g = this } g.TestModule = f() } })(function () { var define, module, exports; return (function () { function r(e, n, t) { function o(i, f) { if (!n[i]) { if (!e[i]) { var c = \\\"function\\\" == typeof require && require; if (!f && c) return c(i, !0); if (u) return u(i, !0); var a = new Error(\\\"Cannot find module '\\\" + i + \\\"'\\\"); throw a.code = \\\"MODULE_NOT_FOUND\\\", a } var p = n[i] = { exports: {} }; e[i][0].call(p.exports, function (r) { var n = e[i][1][r]; return o(n || r) }, p, p.exports, r, e, n, t) } return n[i].exports } for (var u = \\\"function\\\" == typeof require && require, i = 0; i < t.length; i++)o(t[i]); return o } return r })()({ 1: [function (require, module, exports) { $w.onReady(() => { $widget.onPropsChanged(onPropsChangedTestSpy) }) }, {}] }, {}, [1])(1)\\n});\\n})\\n####","completion":" import emojiRegex from 'eslint-import-resolver-typescript'\\nimport babelHelperCreateClassFeaturesPlugin from '@babel/helper-create-class-features-plugin'\\nimport processNextickArgs from 'process-nextick-args'\\nimport hasBigints from 'grunt-cli'\\nimport cssSelect from 'css-select'\\nimport balancedMatch from 'balanced-match'\\nimport teenyRequest from 'preact-render-spy'\\nimport jsonPointer from 'postcss-normalize-url'\\nimport parcelNodeResolverCore from '@parcel/node-resolver-core'\\nimport parcelTransformerJs from 'sass'\\nimport terserWebpackPlugin from 'jquery'\\nimport parcelEvents from '@babel/plugin-proposal-numeric-separator'\\nimport uvu from 'uvu'\\nimport mochaLcovReporter from 'mocha-lcov-reporter'\\nimport parcelTransformerPostcss from '@parcel/transformer-postcss'\\nimport gruntSass from 'karma-ie-launcher'\\n\\n(function (f) { if (typeof exports === \\\"object\\\" && typeof module !== \\\"undefined\\\") { module.exports = f() } else if (typeof define === \\\"function\\\" && define.amd) { define([], f) } else { var g; if (typeof window !== \\\"undefined\\\") { g = window } else if (typeof global !== \\\"undefined\\\") { g = global } else if (typeof self !== \\\"undefined\\\") { g = self } else { g = this } g.TestModule = f() } })(function () { var define, module, exports; return (function () { function r(e, n, t) { function o(i, f) { if (!n[i]) { if (!e[i]) { var c = \\\"function\\\" == typeof require && require; if (!f && c) return c(i, !0); if (u) return u(i, !0); var a = new Error(\\\"Cannot find module '\\\" + i + \\\"'\\\"); throw a.code = \\\"MODULE_NOT_FOUND\\\", a } var p = n[i] = { exports: {} }; e[i][0].call(p.exports, function (r) { var n = e[i][1][r]; return o(n || r) }, p, p.exports, r, e, n, t) } return n[i].exports } for (var u = \\\"function\\\" == typeof require && require, i = 0; i < t.length; i++)o(t[i]); return o } return r })()({ 1: [function (require, module, exports) { $w.onReady(() => { $widget.onPropsChanged(onPropsChangedTestSpy) }) }, {}] }, {}, [1])(1)\\n});\\n####"}
{"prompt":"define(['csv-spectrum','uncss','term-size','q','require-ini','lmdb','pify','@types/css-tree','@babel/plugin-syntax-optional-chaining','playwright','available-typed-arrays','@babel/helper-plugin-test-runner','gulp-bump','vega','esprima','@parcel/graph','serve-handler','side-channel','live-server'], function(airtap,babelPluginTransformModulesAmd,d3Array,babelPluginTransformObjectSuper,parcelPlugin,lmdb,pify,typesCssTree,babelPluginSyntaxOptionalChaining,babelPluginTransformUnicodeEscapes,bikeshedToTs,reactRefresh,karmaSauceLauncher,babelPluginTransformEs2015Parameters,parseNodeVersion,parcelGraph,stylelintConfigStandard,sideChannel,karmaSourceMapSupport){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.shaiyallin.com/music (56)', withViewer({ tpaInterceptor, baseUrl: 'https://www.shaiyallin.com/music', emulateMobileDevice: false, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/56-shai-yalin-music/anchors/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import airtap from 'csv-spectrum'\\nimport babelPluginTransformModulesAmd from 'uncss'\\nimport d3Array from 'term-size'\\nimport babelPluginTransformObjectSuper from 'q'\\nimport parcelPlugin from 'require-ini'\\nimport lmdb from 'lmdb'\\nimport pify from 'pify'\\nimport typesCssTree from '@types/css-tree'\\nimport babelPluginSyntaxOptionalChaining from '@babel/plugin-syntax-optional-chaining'\\nimport babelPluginTransformUnicodeEscapes from 'playwright'\\nimport bikeshedToTs from 'available-typed-arrays'\\nimport reactRefresh from '@babel/helper-plugin-test-runner'\\nimport karmaSauceLauncher from 'gulp-bump'\\nimport babelPluginTransformEs2015Parameters from 'vega'\\nimport parseNodeVersion from 'esprima'\\nimport parcelGraph from '@parcel/graph'\\nimport stylelintConfigStandard from 'serve-handler'\\nimport sideChannel from 'side-channel'\\nimport karmaSourceMapSupport from 'live-server'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.shaiyallin.com/music (56)', withViewer({ tpaInterceptor, baseUrl: 'https://www.shaiyallin.com/music', emulateMobileDevice: false, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/56-shai-yalin-music/anchors/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['node-gyp','esbuild-runner','@babel/plugin-proposal-numeric-separator','babel-preset-fbjs','babel-plugin-transform-es2015-destructuring'], function(escomplexJs,babelPluginPolyfillCorejs3,parcelEvents,babelPresetFbjs,mapboxCloudfriend){\\n(function (f) { if (typeof exports === \\\"object\\\" && typeof module !== \\\"undefined\\\") { module.exports = f() } else if (typeof define === \\\"function\\\" && define.amd) { define([], f) } else { var g; if (typeof window !== \\\"undefined\\\") { g = window } else if (typeof global !== \\\"undefined\\\") { g = global } else if (typeof self !== \\\"undefined\\\") { g = self } else { g = this } g.TestModule = f() } })(function () { var define, module, exports; return (function () { function r(e, n, t) { function o(i, f) { if (!n[i]) { if (!e[i]) { var c = \\\"function\\\" == typeof require && require; if (!f && c) return c(i, !0); if (u) return u(i, !0); var a = new Error(\\\"Cannot find module '\\\" + i + \\\"'\\\"); throw a.code = \\\"MODULE_NOT_FOUND\\\", a } var p = n[i] = { exports: {} }; e[i][0].call(p.exports, function (r) { var n = e[i][1][r]; return o(n || r) }, p, p.exports, r, e, n, t) } return n[i].exports } for (var u = \\\"function\\\" == typeof require && require, i = 0; i < t.length; i++)o(t[i]); return o } return r })()({ 1: [function (require, module, exports) { $w.invalidFunction() $w.onReady(() => { testRan = true }) }, {}] }, {}, [1])(1)\\n});\\n})\\n####","completion":" import escomplexJs from 'node-gyp'\\nimport babelPluginPolyfillCorejs3 from 'esbuild-runner'\\nimport parcelEvents from '@babel/plugin-proposal-numeric-separator'\\nimport babelPresetFbjs from 'babel-preset-fbjs'\\nimport mapboxCloudfriend from 'babel-plugin-transform-es2015-destructuring'\\n\\n(function (f) { if (typeof exports === \\\"object\\\" && typeof module !== \\\"undefined\\\") { module.exports = f() } else if (typeof define === \\\"function\\\" && define.amd) { define([], f) } else { var g; if (typeof window !== \\\"undefined\\\") { g = window } else if (typeof global !== \\\"undefined\\\") { g = global } else if (typeof self !== \\\"undefined\\\") { g = self } else { g = this } g.TestModule = f() } })(function () { var define, module, exports; return (function () { function r(e, n, t) { function o(i, f) { if (!n[i]) { if (!e[i]) { var c = \\\"function\\\" == typeof require && require; if (!f && c) return c(i, !0); if (u) return u(i, !0); var a = new Error(\\\"Cannot find module '\\\" + i + \\\"'\\\"); throw a.code = \\\"MODULE_NOT_FOUND\\\", a } var p = n[i] = { exports: {} }; e[i][0].call(p.exports, function (r) { var n = e[i][1][r]; return o(n || r) }, p, p.exports, r, e, n, t) } return n[i].exports } for (var u = \\\"function\\\" == typeof require && require, i = 0; i < t.length; i++)o(t[i]); return o } return r })()({ 1: [function (require, module, exports) { $w.invalidFunction() $w.onReady(() => { testRan = true }) }, {}] }, {}, [1])(1)\\n});\\n####"}
{"prompt":"define(['copyfiles','weak-lru-cache','uglifyify','mocha-lcov-reporter','eslint-config-airbnb-base','broccoli-rollup'], function(uglifyRegister,eslintConfigMoxy,docusaurusCore,mochaLcovReporter,eslintConfigAirbnbBase,fastJsonStableStringify){\\nimport React, {Component} from 'react';\\nimport map from 'lodash/map';\\nimport {array, func} from 'prop-types';\\nimport filterTagsInjector from './FilterTagsInjector.js';\\nimport FilterTag from './FilterTag.js';\\nimport s from './FilterTags.scss';\\nimport cx from 'classnames'; @filterTagsInjector\\nexport default class FilterTags extends Component { static propTypes = { filters: array.isRequired, toggleFilter: func.isRequired }; renderFilterTag = filter => { return ( <FilterTag key={filter.id} id={filter.id} label={filter.label} onRemove={() => this.props.toggleFilter({ type: filter.id, checked: false })} /> ); } render() { const filters = this.props.filters.filter(f => f.checked); return ( <div className={cx(s.wrapper, {[s.hasTags]: filters.length > 0})}> {map(filters, this.renderFilterTag)} </div> ); }\\n}\\n\\n})\\n####","completion":" import uglifyRegister from 'copyfiles'\\nimport eslintConfigMoxy from 'weak-lru-cache'\\nimport docusaurusCore from 'uglifyify'\\nimport mochaLcovReporter from 'mocha-lcov-reporter'\\nimport eslintConfigAirbnbBase from 'eslint-config-airbnb-base'\\nimport fastJsonStableStringify from 'broccoli-rollup'\\n\\nimport React, {Component} from 'react';\\nimport map from 'lodash/map';\\nimport {array, func} from 'prop-types';\\nimport filterTagsInjector from './FilterTagsInjector.js';\\nimport FilterTag from './FilterTag.js';\\nimport s from './FilterTags.scss';\\nimport cx from 'classnames'; @filterTagsInjector\\nexport default class FilterTags extends Component { static propTypes = { filters: array.isRequired, toggleFilter: func.isRequired }; renderFilterTag = filter => { return ( <FilterTag key={filter.id} id={filter.id} label={filter.label} onRemove={() => this.props.toggleFilter({ type: filter.id, checked: false })} /> ); } render() { const filters = this.props.filters.filter(f => f.checked); return ( <div className={cx(s.wrapper, {[s.hasTags]: filters.length > 0})}> {map(filters, this.renderFilterTag)} </div> ); }\\n}\\n\\n####"}
{"prompt":"define(['v8flags'], function(v8Flags){\\nimport {expect} from 'chai';\\nimport {default as formattedContactsSelector, __RewireAPI__} from 'src/selectors/formattedContactsSelector.js'; describe('formattedContactsSelector', () => { it('should format contacts', () => { __RewireAPI__.__set__('PhoneUtils', { displayPhone: (phone) => { return phone + '-xxx'; } }); expect(formattedContactsSelector({ clientInfo: { contacts: [{ email: 'dutzi.b@gmail.com', firstName: 'Eldad', lastName: 'Bercovici', phone: '+545972022111', }, { email: 'dutzi@wix.com', firstName: 'dutzi', lastName: 'Dutzi', phone: '+972545972025', }] }, organization: { organization: { address: { countryCode: 'il' } } } })).to.deep.equal([{ email: 'dutzi.b@gmail.com', firstName: 'Eldad', lastName: 'Bercovici', phone: '+545972022111-xxx', }, { email: 'dutzi@wix.com', firstName: 'dutzi', lastName: 'Dutzi', phone: '+972545972025-xxx', }]); });\\n});\\n\\n})\\n####","completion":" import v8Flags from 'v8flags'\\n\\nimport {expect} from 'chai';\\nimport {default as formattedContactsSelector, __RewireAPI__} from 'src/selectors/formattedContactsSelector.js'; describe('formattedContactsSelector', () => { it('should format contacts', () => { __RewireAPI__.__set__('PhoneUtils', { displayPhone: (phone) => { return phone + '-xxx'; } }); expect(formattedContactsSelector({ clientInfo: { contacts: [{ email: 'dutzi.b@gmail.com', firstName: 'Eldad', lastName: 'Bercovici', phone: '+545972022111', }, { email: 'dutzi@wix.com', firstName: 'dutzi', lastName: 'Dutzi', phone: '+972545972025', }] }, organization: { organization: { address: { countryCode: 'il' } } } })).to.deep.equal([{ email: 'dutzi.b@gmail.com', firstName: 'Eldad', lastName: 'Bercovici', phone: '+545972022111-xxx', }, { email: 'dutzi@wix.com', firstName: 'dutzi', lastName: 'Dutzi', phone: '+972545972025-xxx', }]); });\\n});\\n\\n####"}
{"prompt":"define(['cheerio-soupselect','mocha-phantomjs','source-map-js','@babel/plugin-syntax-class-static-block','@npmcli/eslint-config','rollup-plugin-uglify','function.prototype.name','bundlesize','isarray','ajv','is-string','d3-dispatch'], function(karmaChromeLauncher,events,sourceMapJs,googleClosureLibrary,streamToArray,rollupPluginUglify,replace,tensorflowTfjsLayers,isarray,fastGlob,isString,foreach){\\ndefine([], function () { 'use strict' const getWixDataSchemasClient = ({signedInstance, appId}) => { const {createDataSchemasClientForBrowser} = require('@wix/wix-data-schemas-client') return createDataSchemasClientForBrowser(signedInstance, appId, { baseUrl: '/_api/cloud-data/v1/schemas' }) } return { list: codeAppInfo => getWixDataSchemasClient(codeAppInfo).list({includeDeletedCollections: true}), get: (codeAppInfo, schemaId) => getWixDataSchemasClient(codeAppInfo).get(schemaId), save: async (boundExtensionsAPI, codeAppInfo, schemaId, schema) => { const currentKnownVersion = boundExtensionsAPI.wixDataSchemas.getLastModifiedVersion(schemaId) if (currentKnownVersion) { schema.version = Math.max(currentKnownVersion, schema.version || 0) } const result = await getWixDataSchemasClient(codeAppInfo).save(schemaId, schema, {returnUpdated: true}) if (result?.length) { result.forEach(updatedSchema => { const {id, version} = updatedSchema if (version) { boundExtensionsAPI.wixDataSchemas.setLastModifiedVersion(id, version) } }) } return result }, remove: (codeAppInfo, schemaId) => getWixDataSchemasClient(codeAppInfo).remove(schemaId, {returnUpdated: true}) }\\n})\\n\\n})\\n####","completion":" import karmaChromeLauncher from 'cheerio-soupselect'\\nimport events from 'mocha-phantomjs'\\nimport sourceMapJs from 'source-map-js'\\nimport googleClosureLibrary from '@babel/plugin-syntax-class-static-block'\\nimport streamToArray from '@npmcli/eslint-config'\\nimport rollupPluginUglify from 'rollup-plugin-uglify'\\nimport replace from 'function.prototype.name'\\nimport tensorflowTfjsLayers from 'bundlesize'\\nimport isarray from 'isarray'\\nimport fastGlob from 'ajv'\\nimport isString from 'is-string'\\nimport foreach from 'd3-dispatch'\\n\\ndefine([], function () { 'use strict' const getWixDataSchemasClient = ({signedInstance, appId}) => { const {createDataSchemasClientForBrowser} = require('@wix/wix-data-schemas-client') return createDataSchemasClientForBrowser(signedInstance, appId, { baseUrl: '/_api/cloud-data/v1/schemas' }) } return { list: codeAppInfo => getWixDataSchemasClient(codeAppInfo).list({includeDeletedCollections: true}), get: (codeAppInfo, schemaId) => getWixDataSchemasClient(codeAppInfo).get(schemaId), save: async (boundExtensionsAPI, codeAppInfo, schemaId, schema) => { const currentKnownVersion = boundExtensionsAPI.wixDataSchemas.getLastModifiedVersion(schemaId) if (currentKnownVersion) { schema.version = Math.max(currentKnownVersion, schema.version || 0) } const result = await getWixDataSchemasClient(codeAppInfo).save(schemaId, schema, {returnUpdated: true}) if (result?.length) { result.forEach(updatedSchema => { const {id, version} = updatedSchema if (version) { boundExtensionsAPI.wixDataSchemas.setLastModifiedVersion(id, version) } }) } return result }, remove: (codeAppInfo, schemaId) => getWixDataSchemasClient(codeAppInfo).remove(schemaId, {returnUpdated: true}) }\\n})\\n\\n####"}
{"prompt":"define(['escalade','serve-handler','postcss-merge-longhand','concat-map','command-exists','http-server','babel-plugin-transform-es2015-parameters','levn','import-fresh','make-async-generator-function','@rollup/plugin-typescript','rollup-plugin-typescript2'], function(escalade,stylelintConfigStandard,isCallable,jsdom,shelljsRelease,eslintImportResolverTypescript,followRedirects,babelPluginSyntaxImportAssertions,importFresh,minimatch,babelHelperPluginTestRunner,rollupPluginTypescript2){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.wix.com/demone2/it-services (35)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/it-services', emulateMobileDevice: true, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/35-it-services/mesh/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import escalade from 'escalade'\\nimport stylelintConfigStandard from 'serve-handler'\\nimport isCallable from 'postcss-merge-longhand'\\nimport jsdom from 'concat-map'\\nimport shelljsRelease from 'command-exists'\\nimport eslintImportResolverTypescript from 'http-server'\\nimport followRedirects from 'babel-plugin-transform-es2015-parameters'\\nimport babelPluginSyntaxImportAssertions from 'levn'\\nimport importFresh from 'import-fresh'\\nimport minimatch from 'make-async-generator-function'\\nimport babelHelperPluginTestRunner from '@rollup/plugin-typescript'\\nimport rollupPluginTypescript2 from 'rollup-plugin-typescript2'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.wix.com/demone2/it-services (35)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/it-services', emulateMobileDevice: true, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/35-it-services/mesh/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['rollup-plugin-terser','split','grunt-contrib-uglify','@parcel/transformer-js','immutable','@parcel/cache','unicode-8.0.0','csv-parse','object-is','selenium-webdriver','karma-sauce-launcher','color','@parcel/optimizer-cssnano','path-parse','cssnano-preset-advanced','require-inject'], function(autoChangelog,split,gruntContribUglify,nodeAddonApi,astring,gruntBanner,postcssMinifyParams,levn,gruntCli,unicodeUnicode1300,parcelTransformerCss,color,parcelOptimizerCssnano,kindOf,cssnanoPresetAdvanced,electronReleases){\\n'use strict'\\nconst _ = require('lodash') module.exports = pageJson => { const theme_data = pageJson.data.theme_data const refArrays = _.pickBy(theme_data, ['type', 'RefArray']) const breakpointRelations = _.pickBy(theme_data, ['type', 'BreakpointRelation']) const styleItems = _.pickBy(theme_data, style => style.type !== 'BreakpointRelation' && style.type !== 'RefArray') // Map from original styleId to the merged styleId const styleIdsMap = Object.assign({}, refArrays, breakpointRelations, ..._(styleItems) .groupBy(style => JSON.stringify(_.omit(style, 'id'))) .map(styles => _(styles).keyBy('id').mapValues(() => _(styles).values().head()).value()) .value()) _.forEach(refArrays, refArray => { refArray.values = refArray.values.map(value => styleIdsMap[value.id]) }) _.forEach(breakpointRelations, relation => { relation.ref = styleIdsMap[relation.ref.id] }) // Replace styleId to the merged styleId const components = [pageJson.structure] let comp = null while (components.length) { comp = components.shift() components.push(...comp.components || []) if (comp.styleId) { comp.styleId = styleIdsMap[comp.styleId] ? styleIdsMap[comp.styleId].id : comp.styleId } } //eslint-disable-next-line lodash/matches-prop-shorthand,lodash/matches-shorthand pageJson.data.theme_data = _.pickBy(styleIdsMap, (style, id) => id === style.id)\\n} \\n})\\n####","completion":" import autoChangelog from 'rollup-plugin-terser'\\nimport split from 'split'\\nimport gruntContribUglify from 'grunt-contrib-uglify'\\nimport nodeAddonApi from '@parcel/transformer-js'\\nimport astring from 'immutable'\\nimport gruntBanner from '@parcel/cache'\\nimport postcssMinifyParams from 'unicode-8.0.0'\\nimport levn from 'csv-parse'\\nimport gruntCli from 'object-is'\\nimport unicodeUnicode1300 from 'selenium-webdriver'\\nimport parcelTransformerCss from 'karma-sauce-launcher'\\nimport color from 'color'\\nimport parcelOptimizerCssnano from '@parcel/optimizer-cssnano'\\nimport kindOf from 'path-parse'\\nimport cssnanoPresetAdvanced from 'cssnano-preset-advanced'\\nimport electronReleases from 'require-inject'\\n\\n'use strict'\\nconst _ = require('lodash') module.exports = pageJson => { const theme_data = pageJson.data.theme_data const refArrays = _.pickBy(theme_data, ['type', 'RefArray']) const breakpointRelations = _.pickBy(theme_data, ['type', 'BreakpointRelation']) const styleItems = _.pickBy(theme_data, style => style.type !== 'BreakpointRelation' && style.type !== 'RefArray') // Map from original styleId to the merged styleId const styleIdsMap = Object.assign({}, refArrays, breakpointRelations, ..._(styleItems) .groupBy(style => JSON.stringify(_.omit(style, 'id'))) .map(styles => _(styles).keyBy('id').mapValues(() => _(styles).values().head()).value()) .value()) _.forEach(refArrays, refArray => { refArray.values = refArray.values.map(value => styleIdsMap[value.id]) }) _.forEach(breakpointRelations, relation => { relation.ref = styleIdsMap[relation.ref.id] }) // Replace styleId to the merged styleId const components = [pageJson.structure] let comp = null while (components.length) { comp = components.shift() components.push(...comp.components || []) if (comp.styleId) { comp.styleId = styleIdsMap[comp.styleId] ? styleIdsMap[comp.styleId].id : comp.styleId } } //eslint-disable-next-line lodash/matches-prop-shorthand,lodash/matches-shorthand pageJson.data.theme_data = _.pickBy(styleIdsMap, (style, id) => id === style.id)\\n} \\n####"}
{"prompt":"define(['es-value-fixtures','string.prototype.repeat','mkdirp','karma-typescript-es6-transform','@types/webgl2','inflight','gts','jscs','filesize','idb','trash-cli','semantic-release','grunt-contrib-jshint','@babel/helper-create-regexp-features-plugin'], function(parcelWorkers,stringPrototypeRepeat,mkdirp,karmaTypescriptEs6Transform,rollupPluginMemory,saferBuffer,gts,jscs,filesize,isJson,trashCli,csvSpectrum,commitlintConfigAngular,babelHelperCreateRegexpFeaturesPlugin){\\n/* __ __ _____ __ *\\\\n** / // // /_/ |/ / Wix **\\n** / // // / /| / (c) 2006-2017, Wix LTD. **\\n** / // // / // | http://www.wix.com/ **\\n** \\__/|__/_//_/| | **\\n\\* |/ */ /** * Indicates whether the given role has permissions to manage the restaurant. * * @param role * A role object as defined by the Wix Restaurants API {role, organizationId, organizationType} * @returns * true, if the given role has permissions to manage the restaurant; * false otherwise. */\\nexport const hasManagePermissions = ({ restaurant, role }) => { return (role.role === 'admin' && !role.organizationType && !role.organizationId) || (role.role === 'distributor' && role.organizationType === 'distributor' && role.organizationId === restaurant.distributorId) || (role.role === 'manager' && role.organizationType === 'chain' && role.organizationId === restaurant.chainId) || (role.role === 'manager' && role.organizationType === 'restaurant' && role.organizationId === restaurant.id);\\n};\\n})\\n####","completion":" import parcelWorkers from 'es-value-fixtures'\\nimport stringPrototypeRepeat from 'string.prototype.repeat'\\nimport mkdirp from 'mkdirp'\\nimport karmaTypescriptEs6Transform from 'karma-typescript-es6-transform'\\nimport rollupPluginMemory from '@types/webgl2'\\nimport saferBuffer from 'inflight'\\nimport gts from 'gts'\\nimport jscs from 'jscs'\\nimport filesize from 'filesize'\\nimport isJson from 'idb'\\nimport trashCli from 'trash-cli'\\nimport csvSpectrum from 'semantic-release'\\nimport commitlintConfigAngular from 'grunt-contrib-jshint'\\nimport babelHelperCreateRegexpFeaturesPlugin from '@babel/helper-create-regexp-features-plugin'\\n\\n/* __ __ _____ __ *\\\\n** / // // /_/ |/ / Wix **\\n** / // // / /| / (c) 2006-2017, Wix LTD. **\\n** / // // / // | http://www.wix.com/ **\\n** \\__/|__/_//_/| | **\\n\\* |/ */ /** * Indicates whether the given role has permissions to manage the restaurant. * * @param role * A role object as defined by the Wix Restaurants API {role, organizationId, organizationType} * @returns * true, if the given role has permissions to manage the restaurant; * false otherwise. */\\nexport const hasManagePermissions = ({ restaurant, role }) => { return (role.role === 'admin' && !role.organizationType && !role.organizationId) || (role.role === 'distributor' && role.organizationType === 'distributor' && role.organizationId === restaurant.distributorId) || (role.role === 'manager' && role.organizationType === 'chain' && role.organizationId === restaurant.chainId) || (role.role === 'manager' && role.organizationType === 'restaurant' && role.organizationId === restaurant.id);\\n};\\n####"}
{"prompt":"define(['boolbase'], function(eslintConfigBabel){\\ndefine(['test/mockJasmine/testUtils', 'documentServices/structure/utils/layoutSettingsUtils', 'test/mockJasmine/privateServicesHelper'], function ( testUtils, layoutSettingsUtils, privateServicesHelper\\n) { 'use strict' describe('layoutSettingsUtils', function () { it('should return empty object when no layoutSettings data', async function () { const siteData = testUtils.mockFactory.mockSiteData(null, true) const ps = await privateServicesHelper.mockPrivateServicesWithRealDAL(siteData) expect(layoutSettingsUtils.getLayoutSettings(ps)).toEqual({}) }) it('should return layout settings from masterPage data', async function () { const layoutSettings = {useDesktopSectionsLayout: true} const siteData = testUtils.mockFactory.mockSiteData(null, true) const ps = await privateServicesHelper.mockPrivateServicesWithRealDAL(siteData) const layoutSettingsPointer = ps.pointers.getInnerPointer(ps.pointers.data.getDataItemFromMaster('masterPage'), 'layoutSettings') ps.dal.set(layoutSettingsPointer, layoutSettings) expect(layoutSettingsUtils.getLayoutSettings(ps)).toEqual(layoutSettings) }) })\\n})\\n\\n})\\n####","completion":" import eslintConfigBabel from 'boolbase'\\n\\ndefine(['test/mockJasmine/testUtils', 'documentServices/structure/utils/layoutSettingsUtils', 'test/mockJasmine/privateServicesHelper'], function ( testUtils, layoutSettingsUtils, privateServicesHelper\\n) { 'use strict' describe('layoutSettingsUtils', function () { it('should return empty object when no layoutSettings data', async function () { const siteData = testUtils.mockFactory.mockSiteData(null, true) const ps = await privateServicesHelper.mockPrivateServicesWithRealDAL(siteData) expect(layoutSettingsUtils.getLayoutSettings(ps)).toEqual({}) }) it('should return layout settings from masterPage data', async function () { const layoutSettings = {useDesktopSectionsLayout: true} const siteData = testUtils.mockFactory.mockSiteData(null, true) const ps = await privateServicesHelper.mockPrivateServicesWithRealDAL(siteData) const layoutSettingsPointer = ps.pointers.getInnerPointer(ps.pointers.data.getDataItemFromMaster('masterPage'), 'layoutSettings') ps.dal.set(layoutSettingsPointer, layoutSettings) expect(layoutSettingsUtils.getLayoutSettings(ps)).toEqual(layoutSettings) }) })\\n})\\n\\n####"}
{"prompt":"define(['esbuild-register','bluebird-retry','chownr','better-assert','@types/node-fetch','has-strict-mode'], function(gruntMochaTest,dot,chownr,eslintConfigOstai,typesNodeFetch,atLeastNode){\\nimport createSvgImage from './createSvgImage'; export default createSvgImage( `<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" width=\\\"18px\\\" height=\\\"18px\\\" viewBox=\\\"0 0 18 18\\\" version=\\\"1.1\\\"> <!-- Generator: Sketch 43.2 (39069) - http://www.bohemiancoding.com/sketch --> <title>Fax Icon</title> <desc>Created with Sketch.</desc> <defs/> <g id=\\\"Page-1\\\" stroke=\\\"none\\\" strokeWidth=\\\"1\\\" fill=\\\"none\\\" fillRule=\\\"evenodd\\\"> <g id=\\\"Fax-Icon\\\" fillRule=\\\"nonzero\\\" fill=\\\"#000000\\\"> <path d=\\\"M4,10 L4,2.99754465 C4,2.44661595 4.4556644,2 4.99539757,2 L13.0046024,2 C13.5543453,2 14,2.4463114 14,2.99754465 L14,10 L14.9931545,10 C15.5492199,10 16,10.4437166 16,10.9998075 L16,14.0001925 C16,14.5523709 15.5500512,15 14.9931545,15 L3.00684547,15 C2.45078007,15 2,14.5562834 2,14.0001925 L2,10.9998075 C2,10.4476291 2.44994876,10 3.00684547,10 L4,10 Z M3,14.0001925 C3,14.0004595 14.9931545,14 14.9931545,14 C14.9989168,14 15,10.9998075 15,10.9998075 C15,10.9995405 3.00684547,11 3.00684547,11 C3.0010832,11 3,14.0001925 3,14.0001925 Z M5,10 L12.9997228,10 C12.9998717,10.0005324 13,3 13,3 L4.99539757,3 C5.00012833,2.99946764 5,10 5,10 Z M7,5 L11,5 L11,6 L7,6 L7,5 Z M7,7 L11,7 L11,8 L7,8 L7,7 Z M12,12 L14,12 L14,13 L12,13 L12,12 Z\\\" id=\\\"Combined-Shape\\\"/> </g> </g>\\n</svg>`,\\n);\\n\\n})\\n####","completion":" import gruntMochaTest from 'esbuild-register'\\nimport dot from 'bluebird-retry'\\nimport chownr from 'chownr'\\nimport eslintConfigOstai from 'better-assert'\\nimport typesNodeFetch from '@types/node-fetch'\\nimport atLeastNode from 'has-strict-mode'\\n\\nimport createSvgImage from './createSvgImage'; export default createSvgImage( `<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" width=\\\"18px\\\" height=\\\"18px\\\" viewBox=\\\"0 0 18 18\\\" version=\\\"1.1\\\"> <!-- Generator: Sketch 43.2 (39069) - http://www.bohemiancoding.com/sketch --> <title>Fax Icon</title> <desc>Created with Sketch.</desc> <defs/> <g id=\\\"Page-1\\\" stroke=\\\"none\\\" strokeWidth=\\\"1\\\" fill=\\\"none\\\" fillRule=\\\"evenodd\\\"> <g id=\\\"Fax-Icon\\\" fillRule=\\\"nonzero\\\" fill=\\\"#000000\\\"> <path d=\\\"M4,10 L4,2.99754465 C4,2.44661595 4.4556644,2 4.99539757,2 L13.0046024,2 C13.5543453,2 14,2.4463114 14,2.99754465 L14,10 L14.9931545,10 C15.5492199,10 16,10.4437166 16,10.9998075 L16,14.0001925 C16,14.5523709 15.5500512,15 14.9931545,15 L3.00684547,15 C2.45078007,15 2,14.5562834 2,14.0001925 L2,10.9998075 C2,10.4476291 2.44994876,10 3.00684547,10 L4,10 Z M3,14.0001925 C3,14.0004595 14.9931545,14 14.9931545,14 C14.9989168,14 15,10.9998075 15,10.9998075 C15,10.9995405 3.00684547,11 3.00684547,11 C3.0010832,11 3,14.0001925 3,14.0001925 Z M5,10 L12.9997228,10 C12.9998717,10.0005324 13,3 13,3 L4.99539757,3 C5.00012833,2.99946764 5,10 5,10 Z M7,5 L11,5 L11,6 L7,6 L7,5 Z M7,7 L11,7 L11,8 L7,8 L7,7 Z M12,12 L14,12 L14,13 L12,13 L12,12 Z\\\" id=\\\"Combined-Shape\\\"/> </g> </g>\\n</svg>`,\\n);\\n\\n####"}
{"prompt":"define(['rollup','npm-run-all','process','node-fetch','escalade'], function(rollup,npmRunAll,webgpuTypes,nodeFetch,escalade){\\nimport PropTypes from 'prop-types';\\nimport React from 'react';\\nimport YearDropdownOptions from './year_dropdown_options'; class YearDropdown extends React.Component { static displayName = 'YearDropdown'; static propTypes = { onChange: PropTypes.func.isRequired, year: PropTypes.number.isRequired }; state = { dropdownVisible: false }; renderReadView = () => { return ( <div className=\\\"react-datepicker__year-read-view\\\" onClick={this.toggleDropdown}> <span className=\\\"react-datepicker__year-read-view--selected-year\\\">{this.props.year}</span> <span className=\\\"react-datepicker__year-read-view--down-arrow\\\"></span> </div> ); }; renderDropdown = () => { return ( <YearDropdownOptions ref=\\\"options\\\" year={this.props.year} onChange={this.onChange} onCancel={this.toggleDropdown} /> ); }; onChange = (year) => { this.toggleDropdown(); if (year === this.props.year) return; this.props.onChange(year); }; toggleDropdown = () => { this.setState({ dropdownVisible: !this.state.dropdownVisible }); }; render() { return ( <div> {this.state.dropdownVisible ? this.renderDropdown() : this.renderReadView()} </div> ); }\\n} module.exports = YearDropdown;\\n\\n})\\n####","completion":" import rollup from 'rollup'\\nimport npmRunAll from 'npm-run-all'\\nimport webgpuTypes from 'process'\\nimport nodeFetch from 'node-fetch'\\nimport escalade from 'escalade'\\n\\nimport PropTypes from 'prop-types';\\nimport React from 'react';\\nimport YearDropdownOptions from './year_dropdown_options'; class YearDropdown extends React.Component { static displayName = 'YearDropdown'; static propTypes = { onChange: PropTypes.func.isRequired, year: PropTypes.number.isRequired }; state = { dropdownVisible: false }; renderReadView = () => { return ( <div className=\\\"react-datepicker__year-read-view\\\" onClick={this.toggleDropdown}> <span className=\\\"react-datepicker__year-read-view--selected-year\\\">{this.props.year}</span> <span className=\\\"react-datepicker__year-read-view--down-arrow\\\"></span> </div> ); }; renderDropdown = () => { return ( <YearDropdownOptions ref=\\\"options\\\" year={this.props.year} onChange={this.onChange} onCancel={this.toggleDropdown} /> ); }; onChange = (year) => { this.toggleDropdown(); if (year === this.props.year) return; this.props.onChange(year); }; toggleDropdown = () => { this.setState({ dropdownVisible: !this.state.dropdownVisible }); }; render() { return ( <div> {this.state.dropdownVisible ? this.renderDropdown() : this.renderReadView()} </div> ); }\\n} module.exports = YearDropdown;\\n\\n####"}
{"prompt":"define(['nan','grunt-karma'], function(nan,karmaPhantomjsLauncher){\\nimport React from 'react';\\nimport PlaceholderImage from './PlaceholderSvg';\\nimport { EmptyState, TextButton } from 'wix-style-react';\\nimport Add from 'wix-ui-icons-common/Add'; export default (props) => { const { linkText, onLinkClick = () => {}, linkPrefixIcon = <Add />, hideLinkButton, } = props; return ( <EmptyState image={props.image || PlaceholderImage} theme=\\\"page-no-border\\\" className {...props} > {props.optionalFirstLink || null} {!hideLinkButton ? ( <TextButton as=\\\"button\\\" onClick={onLinkClick} prefixIcon={linkPrefixIcon} weight=\\\"normal\\\" dataHook={props.dataHook || 'empty-state-button'} > {linkText} </TextButton> ) : null} {props.optionalSecondLink || null} </EmptyState> );\\n};\\n\\n})\\n####","completion":" import nan from 'nan'\\nimport karmaPhantomjsLauncher from 'grunt-karma'\\n\\nimport React from 'react';\\nimport PlaceholderImage from './PlaceholderSvg';\\nimport { EmptyState, TextButton } from 'wix-style-react';\\nimport Add from 'wix-ui-icons-common/Add'; export default (props) => { const { linkText, onLinkClick = () => {}, linkPrefixIcon = <Add />, hideLinkButton, } = props; return ( <EmptyState image={props.image || PlaceholderImage} theme=\\\"page-no-border\\\" className {...props} > {props.optionalFirstLink || null} {!hideLinkButton ? ( <TextButton as=\\\"button\\\" onClick={onLinkClick} prefixIcon={linkPrefixIcon} weight=\\\"normal\\\" dataHook={props.dataHook || 'empty-state-button'} > {linkText} </TextButton> ) : null} {props.optionalSecondLink || null} </EmptyState> );\\n};\\n\\n####"}
{"prompt":"define(['@parcel/namer-default','astring','@babel/eslint-plugin','cssesc','htmlparser2','mocha-lcov-reporter','tape'], function(parcelNamerDefault,fsMinipass,concatMap,parcelBabelPreset,isSymbol,mochaLcovReporter,babelPluginTransformEs2015Spread){\\nrequire('./GoogleAddressInputBox.css'); import _ from 'lodash';\\nimport React from 'react';\\nimport * as logic from '../../logic/GoogleAddressInputBox/GoogleAddressInputBox.js';\\nimport AutoCompleteTextbox from '../AutoCompleteTextbox/AutoCompleteTextbox.js';\\nimport createReactClass from 'create-react-class'; export default createReactClass({ displayName: logic.displayName, getInitialState: logic.getInitialState, componentDidMount() { logic.$componentDidMount.bind(this)(); }, componentWillUnmount() { logic.$componentWillUnmount.bind(this)(); }, onBlur() { logic.$onBlur.bind(this)(); }, onChange(value) { logic.$onChange.bind(this)(value); }, onSet(value) { logic.$onSet.bind(this)(value); }, render() { let { className } = logic.prepare(this.props, this.state); return ( <div className={className}> <AutoCompleteTextbox style={this.props.style} magnifyingGlassEnd={true} value={this.props.value} placeholder={this.props.placeholder} suggestions={_.map(this.state.suggestions, 'description')} error={this.props.error} onChange={this.onChange} onBlur={this.onBlur} onSet={this.onSet} /> </div> ); }\\n});\\n\\n})\\n####","completion":" import parcelNamerDefault from '@parcel/namer-default'\\nimport fsMinipass from 'astring'\\nimport concatMap from '@babel/eslint-plugin'\\nimport parcelBabelPreset from 'cssesc'\\nimport isSymbol from 'htmlparser2'\\nimport mochaLcovReporter from 'mocha-lcov-reporter'\\nimport babelPluginTransformEs2015Spread from 'tape'\\n\\nrequire('./GoogleAddressInputBox.css'); import _ from 'lodash';\\nimport React from 'react';\\nimport * as logic from '../../logic/GoogleAddressInputBox/GoogleAddressInputBox.js';\\nimport AutoCompleteTextbox from '../AutoCompleteTextbox/AutoCompleteTextbox.js';\\nimport createReactClass from 'create-react-class'; export default createReactClass({ displayName: logic.displayName, getInitialState: logic.getInitialState, componentDidMount() { logic.$componentDidMount.bind(this)(); }, componentWillUnmount() { logic.$componentWillUnmount.bind(this)(); }, onBlur() { logic.$onBlur.bind(this)(); }, onChange(value) { logic.$onChange.bind(this)(value); }, onSet(value) { logic.$onSet.bind(this)(value); }, render() { let { className } = logic.prepare(this.props, this.state); return ( <div className={className}> <AutoCompleteTextbox style={this.props.style} magnifyingGlassEnd={true} value={this.props.value} placeholder={this.props.placeholder} suggestions={_.map(this.state.suggestions, 'description')} error={this.props.error} onChange={this.onChange} onBlur={this.onBlur} onSet={this.onSet} /> </div> ); }\\n});\\n\\n####"}
{"prompt":"define(['babel-preset-es2015-rollup'], function(babelPluginTransformObjectRestSpread){\\nimport PropTypes from 'prop-types';\\nimport Utils from '@wix/wixrest-utils/dist/Utils'; export let propTypes = { width: PropTypes.oneOfType([ PropTypes.string, PropTypes.number ]), height: PropTypes.oneOfType([ PropTypes.string, PropTypes.number ]), organization: PropTypes.object.isRequired, order: PropTypes.object.isRequired, displayLanguage: PropTypes.string,\\n}; export function prepare({ width, height, organization, order, displayLanguage }) { var points = []; if (organization.address) { points.push({lat: organization.address.latLng.lat, lng: organization.address.latLng.lng}); } if (order.delivery.type == 'delivery' && order.delivery.address) { points.push({ lat: order.delivery.address.latLng.lat, lng: order.delivery.address.latLng.lng }); } var mapOptions = { width: width || 288, height: height || 180, }; if (mapOptions.width === '100%') { mapOptions.width = window.innerWidth; } var staticMapUrl = Utils.getStaticGoogleMap(points, mapOptions, displayLanguage); var style = { minHeight: height, minWidth: width }; return { staticMapUrl, style };\\n}\\n\\n})\\n####","completion":" import babelPluginTransformObjectRestSpread from 'babel-preset-es2015-rollup'\\n\\nimport PropTypes from 'prop-types';\\nimport Utils from '@wix/wixrest-utils/dist/Utils'; export let propTypes = { width: PropTypes.oneOfType([ PropTypes.string, PropTypes.number ]), height: PropTypes.oneOfType([ PropTypes.string, PropTypes.number ]), organization: PropTypes.object.isRequired, order: PropTypes.object.isRequired, displayLanguage: PropTypes.string,\\n}; export function prepare({ width, height, organization, order, displayLanguage }) { var points = []; if (organization.address) { points.push({lat: organization.address.latLng.lat, lng: organization.address.latLng.lng}); } if (order.delivery.type == 'delivery' && order.delivery.address) { points.push({ lat: order.delivery.address.latLng.lat, lng: order.delivery.address.latLng.lng }); } var mapOptions = { width: width || 288, height: height || 180, }; if (mapOptions.width === '100%') { mapOptions.width = window.innerWidth; } var staticMapUrl = Utils.getStaticGoogleMap(points, mapOptions, displayLanguage); var style = { minHeight: height, minWidth: width }; return { staticMapUrl, style };\\n}\\n\\n####"}
{"prompt":"define(['@types/node-fetch','side-channel','micromatch','@parcel/transformer-image','request','eslint-plugin-compat','stream-browserify','gitbook-plugin-prism','postcss-discard-empty'], function(typesNodeFetch,sideChannel,mergeStream,dotenvExpand,request,eslintPluginCompat,streamBrowserify,ajv,bluebirdRetry){\\nimport createSvg from './createSvgImage'; export default ({ width = 24, height = 24, ...props }) => { const { style, ...rest } = props; return createSvg( `<svg width=\\\"24px\\\" height=\\\"24px\\\" viewBox=\\\"0 0 24 24\\\" version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\"> <!-- Generator: Sketch 46.1 (44463) - http://www.bohemiancoding.com/sketch --> <title>Online Icon</title> <desc>Created with Sketch.</desc> <defs></defs> <g id=\\\"Notifications\\\" stroke=\\\"none\\\" strokeWidth=\\\"1\\\" fill=\\\"none\\\" fillRule=\\\"evenodd\\\"> <g id=\\\"Online-Icon\\\"> <g id=\\\"icon\\\"> <rect id=\\\"bounding-box\\\" x=\\\"0\\\" y=\\\"0\\\" width=\\\"24\\\" height=\\\"24\\\"></rect> <path d=\\\"M18,9 L23,9 L23,20 L16,20 L16,16 L2,16 L2,5 L18,5 L18,9 Z M17,9 L17,6 L3,6 L3,15 L16,15 L16,9 L17,9 Z M9,16 L11,16 L11,19 L9,19 L9,16 Z M6,19 L14,19 L14,20 L6,20 L6,19 Z M17,19 L22,19 L22,10 L17,10 L17,19 Z M17,11 L22,11 L22,12 L17,12 L17,11 Z M17,17 L22,17 L22,18 L17,18 L17,17 Z M19,18 L19,19 L20,19 L20,18 L19,18 Z\\\" id=\\\"Combined-Shape\\\" fill=\\\"#162D3D\\\" fillRule=\\\"nonzero\\\"></path> </g> </g> </g> </svg>`, { style: { width, height, ...style }, ...rest }, );\\n};\\n\\n})\\n####","completion":" import typesNodeFetch from '@types/node-fetch'\\nimport sideChannel from 'side-channel'\\nimport mergeStream from 'micromatch'\\nimport dotenvExpand from '@parcel/transformer-image'\\nimport request from 'request'\\nimport eslintPluginCompat from 'eslint-plugin-compat'\\nimport streamBrowserify from 'stream-browserify'\\nimport ajv from 'gitbook-plugin-prism'\\nimport bluebirdRetry from 'postcss-discard-empty'\\n\\nimport createSvg from './createSvgImage'; export default ({ width = 24, height = 24, ...props }) => { const { style, ...rest } = props; return createSvg( `<svg width=\\\"24px\\\" height=\\\"24px\\\" viewBox=\\\"0 0 24 24\\\" version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\"> <!-- Generator: Sketch 46.1 (44463) - http://www.bohemiancoding.com/sketch --> <title>Online Icon</title> <desc>Created with Sketch.</desc> <defs></defs> <g id=\\\"Notifications\\\" stroke=\\\"none\\\" strokeWidth=\\\"1\\\" fill=\\\"none\\\" fillRule=\\\"evenodd\\\"> <g id=\\\"Online-Icon\\\"> <g id=\\\"icon\\\"> <rect id=\\\"bounding-box\\\" x=\\\"0\\\" y=\\\"0\\\" width=\\\"24\\\" height=\\\"24\\\"></rect> <path d=\\\"M18,9 L23,9 L23,20 L16,20 L16,16 L2,16 L2,5 L18,5 L18,9 Z M17,9 L17,6 L3,6 L3,15 L16,15 L16,9 L17,9 Z M9,16 L11,16 L11,19 L9,19 L9,16 Z M6,19 L14,19 L14,20 L6,20 L6,19 Z M17,19 L22,19 L22,10 L17,10 L17,19 Z M17,11 L22,11 L22,12 L17,12 L17,11 Z M17,17 L22,17 L22,18 L17,18 L17,17 Z M19,18 L19,19 L20,19 L20,18 L19,18 Z\\\" id=\\\"Combined-Shape\\\" fill=\\\"#162D3D\\\" fillRule=\\\"nonzero\\\"></path> </g> </g> </g> </svg>`, { style: { width, height, ...style }, ...rest }, );\\n};\\n\\n####"}
{"prompt":"define(['color-convert','browserify-zlib','wrappy','to-fast-properties','@babel/plugin-transform-named-capturing-groups-regex','postcss-colormin','karma-browserstack-launcher','@parcel/runtime-browser-hmr','@babel/plugin-proposal-logical-assignment-operators','is-date-object','@babel/plugin-transform-typeof-symbol','emoji-regex','babel-plugin-dynamic-import-node'], function(colorConvert,rechoir,babelPluginProposalClassProperties,toFastProperties,babelPluginTransformNamedCapturingGroupsRegex,babelPluginTransformEs2015Classes,karmaBrowserstackLauncher,tsMorph,babelPluginProposalLogicalAssignmentOperators,isDateObject,babelPluginSyntaxAsyncGenerators,aproba,babelCore712){\\n/* eslint-disable lodash/prefer-lodash-typecheck */\\nimport React from 'react' export const getDisplayName = Component => { if (typeof Component === 'string') { return Component } if (!Component) { return undefined } return Component.displayName || Component.name || 'Component'\\n} export const setStatic = (key, value) => BaseComponent => { BaseComponent[key] = value return BaseComponent\\n} export const setDisplayName = displayName => setStatic('displayName', displayName) export const wrapDisplayName = (BaseComponent, hocName) => `${hocName}(${getDisplayName(BaseComponent)})` export const withContext = (childContextTypes, getChildContext) => BaseComponent => { const factory = React.createElement.bind(null, BaseComponent) class WithContext extends React.Component { getChildContext() { return getChildContext(this.props) } render() { return factory(this.props) } } WithContext.childContextTypes = childContextTypes if (process.env.NODE_ENV !== 'production') { return setDisplayName(wrapDisplayName(BaseComponent, 'withContext'))( WithContext ) } return WithContext\\n} \\n})\\n####","completion":" import colorConvert from 'color-convert'\\nimport rechoir from 'browserify-zlib'\\nimport babelPluginProposalClassProperties from 'wrappy'\\nimport toFastProperties from 'to-fast-properties'\\nimport babelPluginTransformNamedCapturingGroupsRegex from '@babel/plugin-transform-named-capturing-groups-regex'\\nimport babelPluginTransformEs2015Classes from 'postcss-colormin'\\nimport karmaBrowserstackLauncher from 'karma-browserstack-launcher'\\nimport tsMorph from '@parcel/runtime-browser-hmr'\\nimport babelPluginProposalLogicalAssignmentOperators from '@babel/plugin-proposal-logical-assignment-operators'\\nimport isDateObject from 'is-date-object'\\nimport babelPluginSyntaxAsyncGenerators from '@babel/plugin-transform-typeof-symbol'\\nimport aproba from 'emoji-regex'\\nimport babelCore712 from 'babel-plugin-dynamic-import-node'\\n\\n/* eslint-disable lodash/prefer-lodash-typecheck */\\nimport React from 'react' export const getDisplayName = Component => { if (typeof Component === 'string') { return Component } if (!Component) { return undefined } return Component.displayName || Component.name || 'Component'\\n} export const setStatic = (key, value) => BaseComponent => { BaseComponent[key] = value return BaseComponent\\n} export const setDisplayName = displayName => setStatic('displayName', displayName) export const wrapDisplayName = (BaseComponent, hocName) => `${hocName}(${getDisplayName(BaseComponent)})` export const withContext = (childContextTypes, getChildContext) => BaseComponent => { const factory = React.createElement.bind(null, BaseComponent) class WithContext extends React.Component { getChildContext() { return getChildContext(this.props) } render() { return factory(this.props) } } WithContext.childContextTypes = childContextTypes if (process.env.NODE_ENV !== 'production') { return setDisplayName(wrapDisplayName(BaseComponent, 'withContext'))( WithContext ) } return WithContext\\n} \\n####"}
{"prompt":"define(['@commitlint/config-angular','@babel/helper-skip-transparent-expression-wrappers','@babel/plugin-transform-shorthand-properties','playwright','function-bind','axios','@babel/highlight','karma-coverage','eslint-plugin-no-only-tests','karma-commonjs','buffer-from','es-abstract','pngjs','babel-plugin-polyfill-corejs2','@types/d3-format'], function(babelPluginTransformNewTarget,nodeJsx,babelPluginTransformShorthandProperties,babelPluginTransformUnicodeEscapes,typescriptEslintEslintPlugin,wordWrap,babelHighlight,gulpFormatMd,eslintPluginNoOnlyTests,karmaCommonjs,bufferFrom,esAbstract,functionBind,ses,typesD3Format){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.wix.com/demone2/urban-photography (10)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/urban-photography', emulateMobileDevice: false, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/10-urban-photography/anchors/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import babelPluginTransformNewTarget from '@commitlint/config-angular'\\nimport nodeJsx from '@babel/helper-skip-transparent-expression-wrappers'\\nimport babelPluginTransformShorthandProperties from '@babel/plugin-transform-shorthand-properties'\\nimport babelPluginTransformUnicodeEscapes from 'playwright'\\nimport typescriptEslintEslintPlugin from 'function-bind'\\nimport wordWrap from 'axios'\\nimport babelHighlight from '@babel/highlight'\\nimport gulpFormatMd from 'karma-coverage'\\nimport eslintPluginNoOnlyTests from 'eslint-plugin-no-only-tests'\\nimport karmaCommonjs from 'karma-commonjs'\\nimport bufferFrom from 'buffer-from'\\nimport esAbstract from 'es-abstract'\\nimport functionBind from 'pngjs'\\nimport ses from 'babel-plugin-polyfill-corejs2'\\nimport typesD3Format from '@types/d3-format'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.wix.com/demone2/urban-photography (10)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/urban-photography', emulateMobileDevice: false, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/10-urban-photography/anchors/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['q-io','available-regexp-flags','cssesc','buffer-from','@babel/plugin-syntax-numeric-separator','tsd-check','@babel/plugin-transform-unicode-escapes','object-is','copyfiles'], function(qIo,availableRegexpFlags,parcelBabelPreset,bufferFrom,babelPluginSyntaxNumericSeparator,tar,lodashMemoize,gruntCli,uglifyRegister){\\ndefine([ 'lodash', 'documentServices/mobileConversion/mobileEditorSettings/quickActionBarManager', 'documentServices/mobileConversion/mobileEditorSettings/mobileMetaDataUtils', 'documentServices/mobileConversion/mobileEditorSettings/quickActionBarItemsDataBuilder', 'documentServices/mobileConversion/mobileEditorSettings/quickActionsDefinitions'\\n], function (_, quickActionBarManager, mobileMetaDataUtils, quickActionBarItemsDataBuilder, quickActionsDefinitions) { 'use strict' function revert(ps) { quickActionBarManager.removeQuickActionBar(ps) } function upgrade(ps) { const siteMetaData = mobileMetaDataUtils.getSiteMetaData(ps) let quickActionBarItemsData = quickActionBarItemsDataBuilder.createFromSiteMetaData(siteMetaData) if (_.isEmpty(quickActionBarItemsData)) { quickActionBarItemsData = quickActionsDefinitions.defaultQuickActionItems } quickActionBarManager.addQuickActionBar(ps, quickActionsDefinitions.defaultSerializedMAB, quickActionBarItemsData) } function getVersion(ps) { return quickActionBarManager.hasQuickActionBar(ps) ? 2 : 1 } return { revert, upgrade, getVersion }\\n})\\n\\n})\\n####","completion":" import qIo from 'q-io'\\nimport availableRegexpFlags from 'available-regexp-flags'\\nimport parcelBabelPreset from 'cssesc'\\nimport bufferFrom from 'buffer-from'\\nimport babelPluginSyntaxNumericSeparator from '@babel/plugin-syntax-numeric-separator'\\nimport tar from 'tsd-check'\\nimport lodashMemoize from '@babel/plugin-transform-unicode-escapes'\\nimport gruntCli from 'object-is'\\nimport uglifyRegister from 'copyfiles'\\n\\ndefine([ 'lodash', 'documentServices/mobileConversion/mobileEditorSettings/quickActionBarManager', 'documentServices/mobileConversion/mobileEditorSettings/mobileMetaDataUtils', 'documentServices/mobileConversion/mobileEditorSettings/quickActionBarItemsDataBuilder', 'documentServices/mobileConversion/mobileEditorSettings/quickActionsDefinitions'\\n], function (_, quickActionBarManager, mobileMetaDataUtils, quickActionBarItemsDataBuilder, quickActionsDefinitions) { 'use strict' function revert(ps) { quickActionBarManager.removeQuickActionBar(ps) } function upgrade(ps) { const siteMetaData = mobileMetaDataUtils.getSiteMetaData(ps) let quickActionBarItemsData = quickActionBarItemsDataBuilder.createFromSiteMetaData(siteMetaData) if (_.isEmpty(quickActionBarItemsData)) { quickActionBarItemsData = quickActionsDefinitions.defaultQuickActionItems } quickActionBarManager.addQuickActionBar(ps, quickActionsDefinitions.defaultSerializedMAB, quickActionBarItemsData) } function getVersion(ps) { return quickActionBarManager.hasQuickActionBar(ps) ? 2 : 1 } return { revert, upgrade, getVersion }\\n})\\n\\n####"}
{"prompt":"define(['jshint','postcss-minify-font-values'], function(gruntClean,postcssMinifyFontValues){\\n'use strict'\\nconst {withDocumentServices} = require('@wix/santa-integration-tests') test('when group x > 0 and moving the most right component to an x smaller than the current 0 (of the group) should re-wrap the group around the components with the new changed x (that was moved left)', withDocumentServices({}, async ({site, components}) => { const comp1 = await site.addComponent(components.SiteButton, {layout: {x: 50, y: 200, width: 100, height: 30}}) const comp2 = await site.addComponent(components.SiteButton, {layout: {x: 100, y: 230, width: 100, height: 30}}) const group = await site.groupComponents(comp1, comp2) expect(await group.getChildren()).toHaveLength(2) await site.switchToMobile() let comp1LayoutOnMobile = await comp1.getLayout() let comp2LayoutOnMobile = await comp2.getLayout() expect(comp1LayoutOnMobile.x).toBeLessThan(comp2LayoutOnMobile.x) await comp2.updateLayout({x: -50}) comp2LayoutOnMobile = await comp2.getLayout() expect(comp2LayoutOnMobile.x).toBe(0) comp1LayoutOnMobile = await comp1.getLayout() expect(comp1LayoutOnMobile.x).toBe(50) })\\n)\\n\\n})\\n####","completion":" import gruntClean from 'jshint'\\nimport postcssMinifyFontValues from 'postcss-minify-font-values'\\n\\n'use strict'\\nconst {withDocumentServices} = require('@wix/santa-integration-tests') test('when group x > 0 and moving the most right component to an x smaller than the current 0 (of the group) should re-wrap the group around the components with the new changed x (that was moved left)', withDocumentServices({}, async ({site, components}) => { const comp1 = await site.addComponent(components.SiteButton, {layout: {x: 50, y: 200, width: 100, height: 30}}) const comp2 = await site.addComponent(components.SiteButton, {layout: {x: 100, y: 230, width: 100, height: 30}}) const group = await site.groupComponents(comp1, comp2) expect(await group.getChildren()).toHaveLength(2) await site.switchToMobile() let comp1LayoutOnMobile = await comp1.getLayout() let comp2LayoutOnMobile = await comp2.getLayout() expect(comp1LayoutOnMobile.x).toBeLessThan(comp2LayoutOnMobile.x) await comp2.updateLayout({x: -50}) comp2LayoutOnMobile = await comp2.getLayout() expect(comp2LayoutOnMobile.x).toBe(0) comp1LayoutOnMobile = await comp1.getLayout() expect(comp1LayoutOnMobile.x).toBe(50) })\\n)\\n\\n####"}
{"prompt":"define(['@babel/plugin-syntax-top-level-await','lolex','@tensorflow/tfjs-converter','postcss-value-parser','classnames','babel-plugin-transform-es2015-destructuring','async','@babel/plugin-syntax-nullish-coalescing-operator','querystring-es3','array-shuffle','uglifyify','safe-publish-latest'], function(babelPluginSyntaxTopLevelAwait,regexpPrototypeFlags,tensorflowTfjsConverter,postcssValueParser,classnames,mapboxCloudfriend,babelRuntimeCorejs2,babelPluginSyntaxNullishCoalescingOperator,delCli,ungapUrlSearchParams,docusaurusCore,stringToArraybuffer){\\nimport React from 'react'; export default class extends React.Component { render() { var color = this.props.color || 'black'; return ( <svg width='22px' height='18px' viewBox='0 0 22 18' version='1.1' xmlns='http://www.w3.org/2000/svg'> <g id=\\\"All---Burger-Corner\\\" stroke=\\\"none\\\" strokeWidth=\\\"1\\\" fill=\\\"none\\\" fillRule=\\\"evenodd\\\"> <g id=\\\"Style-Guide\\\" transform=\\\"translate(-418.000000, -508.000000)\\\" fill={color}> <g id=\\\"Drawer\\\" transform=\\\"translate(396.000000, 72.000000)\\\"> <g id=\\\"Menu-Items\\\" transform=\\\"translate(0.000000, 235.000000)\\\"> <g id=\\\"Item-Copy-3\\\" transform=\\\"translate(0.000000, 180.000000)\\\"> <path d=\\\"M22,29 L44,29 L44,37.000385 C44,38.1047419 43.1103261,39 42.008845,39 L23.991155,39 C22.8914705,39 22,38.1125667 22,37.000385 L22,29 Z M22,23 C22,21.8954305 22.8896739,21 23.991155,21 L42.008845,21 C43.1085295,21 44,21.8877296 44,23 L44,25 L22,25 L22,23 Z\\\" id=\\\"Cards\\\"></path> </g> </g> </g> </g> </g> </svg> ); }\\n}\\n\\n})\\n####","completion":" import babelPluginSyntaxTopLevelAwait from '@babel/plugin-syntax-top-level-await'\\nimport regexpPrototypeFlags from 'lolex'\\nimport tensorflowTfjsConverter from '@tensorflow/tfjs-converter'\\nimport postcssValueParser from 'postcss-value-parser'\\nimport classnames from 'classnames'\\nimport mapboxCloudfriend from 'babel-plugin-transform-es2015-destructuring'\\nimport babelRuntimeCorejs2 from 'async'\\nimport babelPluginSyntaxNullishCoalescingOperator from '@babel/plugin-syntax-nullish-coalescing-operator'\\nimport delCli from 'querystring-es3'\\nimport ungapUrlSearchParams from 'array-shuffle'\\nimport docusaurusCore from 'uglifyify'\\nimport stringToArraybuffer from 'safe-publish-latest'\\n\\nimport React from 'react'; export default class extends React.Component { render() { var color = this.props.color || 'black'; return ( <svg width='22px' height='18px' viewBox='0 0 22 18' version='1.1' xmlns='http://www.w3.org/2000/svg'> <g id=\\\"All---Burger-Corner\\\" stroke=\\\"none\\\" strokeWidth=\\\"1\\\" fill=\\\"none\\\" fillRule=\\\"evenodd\\\"> <g id=\\\"Style-Guide\\\" transform=\\\"translate(-418.000000, -508.000000)\\\" fill={color}> <g id=\\\"Drawer\\\" transform=\\\"translate(396.000000, 72.000000)\\\"> <g id=\\\"Menu-Items\\\" transform=\\\"translate(0.000000, 235.000000)\\\"> <g id=\\\"Item-Copy-3\\\" transform=\\\"translate(0.000000, 180.000000)\\\"> <path d=\\\"M22,29 L44,29 L44,37.000385 C44,38.1047419 43.1103261,39 42.008845,39 L23.991155,39 C22.8914705,39 22,38.1125667 22,37.000385 L22,29 Z M22,23 C22,21.8954305 22.8896739,21 23.991155,21 L42.008845,21 C43.1085295,21 44,21.8877296 44,23 L44,25 L22,25 L22,23 Z\\\" id=\\\"Cards\\\"></path> </g> </g> </g> </g> </g> </svg> ); }\\n}\\n\\n####"}
{"prompt":"define(['split','cpy-cli','@babel/plugin-proposal-unicode-property-regex','eslint','@babel/parser','evalmd','ava'], function(split,gruntBowercopy,babelPluginTransformEs2015TemplateLiterals,eslint,babelPluginSyntaxJsonStrings,evalmd,ava){\\nimport React from 'react';\\nimport palette from '../../web/Palette'; export default class extends React.Component { render() { let styles = { fill: palette[this.props.color] || this.props.color, }; return ( <svg width={this.props.width} height={this.props.height} viewBox='0 0 33 36' > <g id='Page-1' stroke='none' strokeWidth='1' fill='none' fillRule='evenodd' > <g id='32' style={styles}> <path d='M31.832,36 L7.832,36 L1.286,36 C0.812,36 0,35.616 0,35.143 L0,12.675 L4,6.875 L4,0.857 C4,0.384 4.158,0 4.631,0 L28.631,0 C29.105,0 30,0.384 30,0.857 L30,6.875 L33,12.857 L33,35.143 C33,35.616 32.306,36 31.832,36 L31.832,36 Z M2,34 L7,34 L7,14 L2,14 L2,34 L2,34 Z M2.029,13 L7.172,13 L4.732,7.875 L2.029,13 L2.029,13 Z M28,2 L6,2 L6,5 L28,5 L28,2 L28,2 Z M31,12.881 L27.897,7 L5.858,7 C5.858,7 9,12.541 9,12.675 L9,34 L31,34 L31,12.881 L31,12.881 Z M18,13 L17.977,19.008 L21,19 L21,13 L22,13 L22,19.932 C22,21.018 21.645,22 20.483,22 L20,22 L20,29 L19,29 L19,22 L18.182,22 C17.078,22 17,21.088 17,19.932 L17.004,20.016 L17,13 L18,13 L18,13 Z M18.06,20.641 C18.244,21.151 20.438,21.172 20.781,20.656 C20.863,20.534 20.914,20.276 20.946,20 L18,20 C18,20 17.936,20.297 18.06,20.641 L18.06,20.641 Z M19,13 L20,13 L20,19 L19,19 L19,13 L19,13 Z M19,4 L14,4 L14,3 L19,3 L19,4 L19,4 Z' id='Shape'></path> </g> </g> </svg> ); }\\n}\\n\\n})\\n####","completion":" import split from 'split'\\nimport gruntBowercopy from 'cpy-cli'\\nimport babelPluginTransformEs2015TemplateLiterals from '@babel/plugin-proposal-unicode-property-regex'\\nimport eslint from 'eslint'\\nimport babelPluginSyntaxJsonStrings from '@babel/parser'\\nimport evalmd from 'evalmd'\\nimport ava from 'ava'\\n\\nimport React from 'react';\\nimport palette from '../../web/Palette'; export default class extends React.Component { render() { let styles = { fill: palette[this.props.color] || this.props.color, }; return ( <svg width={this.props.width} height={this.props.height} viewBox='0 0 33 36' > <g id='Page-1' stroke='none' strokeWidth='1' fill='none' fillRule='evenodd' > <g id='32' style={styles}> <path d='M31.832,36 L7.832,36 L1.286,36 C0.812,36 0,35.616 0,35.143 L0,12.675 L4,6.875 L4,0.857 C4,0.384 4.158,0 4.631,0 L28.631,0 C29.105,0 30,0.384 30,0.857 L30,6.875 L33,12.857 L33,35.143 C33,35.616 32.306,36 31.832,36 L31.832,36 Z M2,34 L7,34 L7,14 L2,14 L2,34 L2,34 Z M2.029,13 L7.172,13 L4.732,7.875 L2.029,13 L2.029,13 Z M28,2 L6,2 L6,5 L28,5 L28,2 L28,2 Z M31,12.881 L27.897,7 L5.858,7 C5.858,7 9,12.541 9,12.675 L9,34 L31,34 L31,12.881 L31,12.881 Z M18,13 L17.977,19.008 L21,19 L21,13 L22,13 L22,19.932 C22,21.018 21.645,22 20.483,22 L20,22 L20,29 L19,29 L19,22 L18.182,22 C17.078,22 17,21.088 17,19.932 L17.004,20.016 L17,13 L18,13 L18,13 Z M18.06,20.641 C18.244,21.151 20.438,21.172 20.781,20.656 C20.863,20.534 20.914,20.276 20.946,20 L18,20 C18,20 17.936,20.297 18.06,20.641 L18.06,20.641 Z M19,13 L20,13 L20,19 L19,19 L19,13 L19,13 Z M19,4 L14,4 L14,3 L19,3 L19,4 L19,4 Z' id='Shape'></path> </g> </g> </svg> ); }\\n}\\n\\n####"}
{"prompt":"define(['karma-babel-preprocessor'], function(babelPluginProposalPrivatePropertyInObject){\\nimport sagaReducerFactory from 'saga-reducer-factory';\\nimport {actions, types} from '../actions/responsiveActions.js';\\nimport {windowExists} from '../window.js';\\nimport {getBreakpoint} from '../components/breakpoints.js';\\nimport {put as putChannel} from './putChannel.js'; export default sagaParams => { const {handleOnce, updateState, reducer, saga} = sagaReducerFactory({ actionTypes: types, actionCreators: actions, initState: { isMobile: sagaParams.getSsrParams().isMobile, breakpoint: undefined, ordersAppPath: undefined, initialized: false } }); handleOnce('*', (sagaParams) => { windowExists && window.addEventListener('resize', () => updateResponsiveParams(sagaParams)); updateResponsiveParams(sagaParams); }); function getResponsiveParams(sagaParams) { const ssrParams = sagaParams.getSsrParams(); const width = ssrParams.isSsr ? ssrParams.width : window.innerWidth; return {width}; } function updateResponsiveParams(sagaParams) { const {width} = getResponsiveParams(sagaParams); return putChannel(updateState({ breakpoint: getBreakpoint(width), initialized: true })); } return {reducer, saga};\\n};\\n\\n})\\n####","completion":" import babelPluginProposalPrivatePropertyInObject from 'karma-babel-preprocessor'\\n\\nimport sagaReducerFactory from 'saga-reducer-factory';\\nimport {actions, types} from '../actions/responsiveActions.js';\\nimport {windowExists} from '../window.js';\\nimport {getBreakpoint} from '../components/breakpoints.js';\\nimport {put as putChannel} from './putChannel.js'; export default sagaParams => { const {handleOnce, updateState, reducer, saga} = sagaReducerFactory({ actionTypes: types, actionCreators: actions, initState: { isMobile: sagaParams.getSsrParams().isMobile, breakpoint: undefined, ordersAppPath: undefined, initialized: false } }); handleOnce('*', (sagaParams) => { windowExists && window.addEventListener('resize', () => updateResponsiveParams(sagaParams)); updateResponsiveParams(sagaParams); }); function getResponsiveParams(sagaParams) { const ssrParams = sagaParams.getSsrParams(); const width = ssrParams.isSsr ? ssrParams.width : window.innerWidth; return {width}; } function updateResponsiveParams(sagaParams) { const {width} = getResponsiveParams(sagaParams); return putChannel(updateState({ breakpoint: getBreakpoint(width), initialized: true })); } return {reducer, saga};\\n};\\n\\n####"}
{"prompt":"define(['regexpu-core','@types/webgl2','@parcel/codeframe','grunt-shell','@tensorflow/tfjs-backend-webgl','babel-preset-airbnb','size-table','tmp','@ampproject/remapping','unexpected','everything.js','@types/d3-format','ansi','postcss-ordered-values','phantomjs-prebuilt'], function(babelPluginSyntaxOptionalCatchBinding,rollupPluginMemory,puppeteer,flowCopySource,tensorflowTfjsBackendWebgl,acorn,sizeTable,tmp,typesSeedrandom,unexpected,gruntMochaCov,typesD3Format,ansi,postcssOrderedValues,phantomjsPrebuilt){\\nimport PropTypes from 'prop-types';\\nimport React from 'react';\\nimport classNames from 'classnames';\\nimport styles from './VariationItem.less'; class VariationItem extends React.Component { constructor(props) { super(props); } render() { const { title, price, priceHidden, isMobile, vId } = this.props; const showPrice = (!priceHidden && price); const dots = (new Array(100)).join('.'); return ( <li className={classNames([styles.variation, isMobile && styles.mobile])} data-hook=\\\"wixrest-menus-item-variation\\\" tabIndex={-1} aria-labelledby={`vt${vId} vp${vId}`}> <div className={styles.variation_title} data-hook=\\\"wixrest-menus-item-variation-title\\\" id={`vt${vId}`}>{ title }</div> { showPrice && <div className={styles.variation_dottedLine} role='presentation' aria-hidden>{ dots }</div> } { showPrice && <div className={styles.variation_price} data-hook=\\\"wixrest-menus-item-variation-price\\\" id={`vp${vId}`}>{ price }</div> } </li> ); }\\n} VariationItem.displayName = 'VariationItem'; VariationItem.propTypes = { title: PropTypes.string.isRequired, price: PropTypes.string.isRequired, priceHidden: PropTypes.bool.isRequired, isMobile: PropTypes.bool.isRequired\\n}; export default VariationItem;\\n})\\n####","completion":" import babelPluginSyntaxOptionalCatchBinding from 'regexpu-core'\\nimport rollupPluginMemory from '@types/webgl2'\\nimport puppeteer from '@parcel/codeframe'\\nimport flowCopySource from 'grunt-shell'\\nimport tensorflowTfjsBackendWebgl from '@tensorflow/tfjs-backend-webgl'\\nimport acorn from 'babel-preset-airbnb'\\nimport sizeTable from 'size-table'\\nimport tmp from 'tmp'\\nimport typesSeedrandom from '@ampproject/remapping'\\nimport unexpected from 'unexpected'\\nimport gruntMochaCov from 'everything.js'\\nimport typesD3Format from '@types/d3-format'\\nimport ansi from 'ansi'\\nimport postcssOrderedValues from 'postcss-ordered-values'\\nimport phantomjsPrebuilt from 'phantomjs-prebuilt'\\n\\nimport PropTypes from 'prop-types';\\nimport React from 'react';\\nimport classNames from 'classnames';\\nimport styles from './VariationItem.less'; class VariationItem extends React.Component { constructor(props) { super(props); } render() { const { title, price, priceHidden, isMobile, vId } = this.props; const showPrice = (!priceHidden && price); const dots = (new Array(100)).join('.'); return ( <li className={classNames([styles.variation, isMobile && styles.mobile])} data-hook=\\\"wixrest-menus-item-variation\\\" tabIndex={-1} aria-labelledby={`vt${vId} vp${vId}`}> <div className={styles.variation_title} data-hook=\\\"wixrest-menus-item-variation-title\\\" id={`vt${vId}`}>{ title }</div> { showPrice && <div className={styles.variation_dottedLine} role='presentation' aria-hidden>{ dots }</div> } { showPrice && <div className={styles.variation_price} data-hook=\\\"wixrest-menus-item-variation-price\\\" id={`vp${vId}`}>{ price }</div> } </li> ); }\\n} VariationItem.displayName = 'VariationItem'; VariationItem.propTypes = { title: PropTypes.string.isRequired, price: PropTypes.string.isRequired, priceHidden: PropTypes.bool.isRequired, isMobile: PropTypes.bool.isRequired\\n}; export default VariationItem;\\n####"}
{"prompt":"define(['@bazel/bazelisk','rollup-plugin-uglify'], function(d3Random,rollupPluginUglify){\\nimport {createStore, applyMiddleware} from 'redux';\\nimport rootReducer from '../../src/reducers';\\nimport createSagaMiddleware from 'redux-saga';\\nimport initSaga from '../../src/sagas/initSaga';\\nimport reservationSaga from '../../src/sagas/reservationSaga';\\nimport organizationSaga from '../../src/sagas/organizationSaga';\\nimport I18nSaga from '@wix/restaurants-redux/dist/sagas/I18nSaga';\\n//import createLogger from 'redux-logger'; export const sagaMiddleware = createSagaMiddleware(); export default function configureStore(initialState, {restClient, fetch, i18nUrl, uxMode}) { const middleware = [sagaMiddleware]; const sagas = [initSaga.saga, reservationSaga.saga, organizationSaga.saga, I18nSaga.saga]; const store = createStore(rootReducer, initialState, applyMiddleware(...middleware)); sagaMiddleware.run(createRootSaga(sagas, {restClient, fetch, i18nUrl, uxMode})); return store;\\n} export function createRootSaga(sagas, sagaParams) { return function* () { yield sagas.map(saga => saga(sagaParams)); };\\n}\\n\\n})\\n####","completion":" import d3Random from '@bazel/bazelisk'\\nimport rollupPluginUglify from 'rollup-plugin-uglify'\\n\\nimport {createStore, applyMiddleware} from 'redux';\\nimport rootReducer from '../../src/reducers';\\nimport createSagaMiddleware from 'redux-saga';\\nimport initSaga from '../../src/sagas/initSaga';\\nimport reservationSaga from '../../src/sagas/reservationSaga';\\nimport organizationSaga from '../../src/sagas/organizationSaga';\\nimport I18nSaga from '@wix/restaurants-redux/dist/sagas/I18nSaga';\\n//import createLogger from 'redux-logger'; export const sagaMiddleware = createSagaMiddleware(); export default function configureStore(initialState, {restClient, fetch, i18nUrl, uxMode}) { const middleware = [sagaMiddleware]; const sagas = [initSaga.saga, reservationSaga.saga, organizationSaga.saga, I18nSaga.saga]; const store = createStore(rootReducer, initialState, applyMiddleware(...middleware)); sagaMiddleware.run(createRootSaga(sagas, {restClient, fetch, i18nUrl, uxMode})); return store;\\n} export function createRootSaga(sagas, sagaParams) { return function* () { yield sagas.map(saga => saga(sagaParams)); };\\n}\\n\\n####"}
{"prompt":"define(['postcss-reduce-initial','dotenv','karma-sourcemap-loader','aproba','clone-deep','@babel/helper-define-polyfill-provider','@parcel/runtime-react-refresh','punycode','is','eclint','@parcel/optimizer-svgo','@parcel/optimizer-terser','uncss','string.prototype.repeat'], function(typesD3Selection,parcelReporterCli,karmaSourcemapLoader,ms,babelPluginProposalOptionalChaining,karmaFirefoxLauncher,c8,punycode,xxhashWasm,eclint,domelementtype,parcelOptimizerTerser,babelPluginTransformModulesAmd,stringPrototypeRepeat){\\n'use strict' const name = 'FadeIn'\\nconst properties = { hideOnStart: true, viewportThreshold: 0.15, groups: ['entrance', 'animation'], schema: { duration: { type: 'number', min: 0, default: 0 }, delay: { type: 'number', min: 0, default: 0 } }\\n} function register({factory}) { /** * FadeIn from opacity 0 to opacity 1 animation object * @param {Array<HTMLElement>|HTMLElement} elements DOM element to animate * @param {Number} [duration] * @param {Number} [delay] * @param {Object} [params] Timeline optional parameters (Tween values cannot be changed here, use BaseFade). * @returns {TimelineMax} */ function animation(elements, duration, delay, params) { const sequence = factory.sequence(params) sequence.add(factory.animate('BaseFade', elements, duration, delay, {from: {opacity: 0}, to: {opacity: 1}, ease: 'Cubic.easeIn'})) return sequence.get() } factory.registerAnimation(name, animation, properties)\\n} module.exports = { name, properties, register\\n}\\n\\n})\\n####","completion":" import typesD3Selection from 'postcss-reduce-initial'\\nimport parcelReporterCli from 'dotenv'\\nimport karmaSourcemapLoader from 'karma-sourcemap-loader'\\nimport ms from 'aproba'\\nimport babelPluginProposalOptionalChaining from 'clone-deep'\\nimport karmaFirefoxLauncher from '@babel/helper-define-polyfill-provider'\\nimport c8 from '@parcel/runtime-react-refresh'\\nimport punycode from 'punycode'\\nimport xxhashWasm from 'is'\\nimport eclint from 'eclint'\\nimport domelementtype from '@parcel/optimizer-svgo'\\nimport parcelOptimizerTerser from '@parcel/optimizer-terser'\\nimport babelPluginTransformModulesAmd from 'uncss'\\nimport stringPrototypeRepeat from 'string.prototype.repeat'\\n\\n'use strict' const name = 'FadeIn'\\nconst properties = { hideOnStart: true, viewportThreshold: 0.15, groups: ['entrance', 'animation'], schema: { duration: { type: 'number', min: 0, default: 0 }, delay: { type: 'number', min: 0, default: 0 } }\\n} function register({factory}) { /** * FadeIn from opacity 0 to opacity 1 animation object * @param {Array<HTMLElement>|HTMLElement} elements DOM element to animate * @param {Number} [duration] * @param {Number} [delay] * @param {Object} [params] Timeline optional parameters (Tween values cannot be changed here, use BaseFade). * @returns {TimelineMax} */ function animation(elements, duration, delay, params) { const sequence = factory.sequence(params) sequence.add(factory.animate('BaseFade', elements, duration, delay, {from: {opacity: 0}, to: {opacity: 1}, ease: 'Cubic.easeIn'})) return sequence.get() } factory.registerAnimation(name, animation, properties)\\n} module.exports = { name, properties, register\\n}\\n\\n####"}
{"prompt":"define(['postcss-convert-values','http-proxy-middleware'], function(postcssConvertValues,httpProxyMiddleware){\\nimport Q from 'q';\\nimport child_process from 'child_process';\\nimport _ from 'lodash'; export default class ServiceRunner { constructor() { this._process = null; } start({env}) { const deferred = Q.defer(); this._process = child_process.spawn('npm', ['start'], {env: _.extend(process.env, env), detached: true}); if (this._process.pid) { this._process.stdout.on('data', chunk => { const chunkStr = String(chunk); console.log('[ServiceRunner]', chunkStr); if (chunkStr.indexOf('running on port') > -1) { deferred.resolve(); } }); } else { deferred.reject(new Error('Could not run service')); } return deferred.promise; } stop() { if (this._process) { if (this._process.pid) { // pid may be undefined in some edge cases, e.g. if process failed starting on Windows process.kill(-this._process.pid); } this._process = null; } } }\\n\\n})\\n####","completion":" import postcssConvertValues from 'postcss-convert-values'\\nimport httpProxyMiddleware from 'http-proxy-middleware'\\n\\nimport Q from 'q';\\nimport child_process from 'child_process';\\nimport _ from 'lodash'; export default class ServiceRunner { constructor() { this._process = null; } start({env}) { const deferred = Q.defer(); this._process = child_process.spawn('npm', ['start'], {env: _.extend(process.env, env), detached: true}); if (this._process.pid) { this._process.stdout.on('data', chunk => { const chunkStr = String(chunk); console.log('[ServiceRunner]', chunkStr); if (chunkStr.indexOf('running on port') > -1) { deferred.resolve(); } }); } else { deferred.reject(new Error('Could not run service')); } return deferred.promise; } stop() { if (this._process) { if (this._process.pid) { // pid may be undefined in some edge cases, e.g. if process failed starting on Windows process.kill(-this._process.pid); } this._process = null; } } }\\n\\n####"}
{"prompt":"define(['abortcontroller-polyfill','clinton','timsort','semver','us-atlas','@parcel/fs-write-stream-atomic','mock-require','grunt-banner','terser','node-jsx','spawn-sync','klaw-sync','charcodes','@parcel/markdown-ansi','eslint-config-mourner','mutate-fs','@parcel/codeframe'], function(eslintPluginJest,postcssNormalizeCharset,babelTemplate,semver,usAtlas,delegates,mockRequire,babelPluginProposalAsyncGeneratorFunctions,yalc,coreUtilIs,spawnSync,klawSync,charcodes,parcelMarkdownAnsi,objectGetownpropertydescriptors,mutateFs,puppeteer){\\nimport React from 'react';\\nimport styles from './CartDiscount.scss';\\nimport { CurrencyUtils } from '@wix/wixrest-utils';\\nimport { object, string } from 'prop-types';\\nimport { Text } from 'wix-style-react'; export default function CartDiscount({ discount, locale, currency }) { return ( <div className={styles.wrapper} data-hook=\\\"cart-discount-item-wrapper\\\"> <div className={styles.details}> <Text size=\\\"medium\\\" tagName=\\\"div\\\" weight=\\\"normal\\\" dataHook=\\\"cart-discount-title\\\"> {discount.title[locale]} </Text> <Text size=\\\"medium\\\" tagName=\\\"div\\\" weight=\\\"normal\\\" secondary dataHook=\\\"cart-discount-description\\\"> {discount.description[locale]} </Text> </div> <Text size=\\\"medium\\\" weight=\\\"normal\\\" className={styles.price} dataHook=\\\"cart-discount-value\\\"> {CurrencyUtils.toStr(discount.amount / 100, currency, locale)} </Text> </div> );\\n} CartDiscount.propTypes = { discount: object, locale: string, currency: string,\\n};\\n\\n})\\n####","completion":" import eslintPluginJest from 'abortcontroller-polyfill'\\nimport postcssNormalizeCharset from 'clinton'\\nimport babelTemplate from 'timsort'\\nimport semver from 'semver'\\nimport usAtlas from 'us-atlas'\\nimport delegates from '@parcel/fs-write-stream-atomic'\\nimport mockRequire from 'mock-require'\\nimport babelPluginProposalAsyncGeneratorFunctions from 'grunt-banner'\\nimport yalc from 'terser'\\nimport coreUtilIs from 'node-jsx'\\nimport spawnSync from 'spawn-sync'\\nimport klawSync from 'klaw-sync'\\nimport charcodes from 'charcodes'\\nimport parcelMarkdownAnsi from '@parcel/markdown-ansi'\\nimport objectGetownpropertydescriptors from 'eslint-config-mourner'\\nimport mutateFs from 'mutate-fs'\\nimport puppeteer from '@parcel/codeframe'\\n\\nimport React from 'react';\\nimport styles from './CartDiscount.scss';\\nimport { CurrencyUtils } from '@wix/wixrest-utils';\\nimport { object, string } from 'prop-types';\\nimport { Text } from 'wix-style-react'; export default function CartDiscount({ discount, locale, currency }) { return ( <div className={styles.wrapper} data-hook=\\\"cart-discount-item-wrapper\\\"> <div className={styles.details}> <Text size=\\\"medium\\\" tagName=\\\"div\\\" weight=\\\"normal\\\" dataHook=\\\"cart-discount-title\\\"> {discount.title[locale]} </Text> <Text size=\\\"medium\\\" tagName=\\\"div\\\" weight=\\\"normal\\\" secondary dataHook=\\\"cart-discount-description\\\"> {discount.description[locale]} </Text> </div> <Text size=\\\"medium\\\" weight=\\\"normal\\\" className={styles.price} dataHook=\\\"cart-discount-value\\\"> {CurrencyUtils.toStr(discount.amount / 100, currency, locale)} </Text> </div> );\\n} CartDiscount.propTypes = { discount: object, locale: string, currency: string,\\n};\\n\\n####"}
{"prompt":"define(['ts-morph','import-fresh','postcss-discard-overridden','domelementtype','react-addons-css-transition-group','is-fullwidth-code-point','browserify-zlib','parse-passwd','postcss-modules','postcss-discard-duplicates','gnode','smoosh','@babel/helper-environment-visitor','grunt-mocha-test','prebuildify','prettier-eslint-cli','es-to-primitive','gulp-flatten'], function(acColors,importFresh,through2,objectIs,reactAddonsCssTransitionGroup,isFullwidthCodePoint,rechoir,parsePasswd,postcssModules,pathKey,gnode,sharp,babelHelperEnvironmentVisitor,base64Js,prebuildify,prettierEslintCli,wdioCli,gulpFlatten){\\n'use strict' const PropTypes = require('prop-types')\\nconst styleNodeUtils = require('../../utils/styleNodeUtils')\\nconst santaTypesDefinitions = require('../../definitions/santaTypesDefinitions')\\nconst coreUtilsLib = require('@wix/santa-core-utils') const fontCss = coreUtilsLib.fonts const WixFontsStyleNode = props => { const {colorsMap, fontsMap, textThemes, styleRoot} = props let css = null if (colorsMap && textThemes) { //using of textThemes is priority css = fontCss.getTextThemesCss(textThemes, colorsMap) } else if (colorsMap && fontsMap) { css = fontCss.getThemeFontsCss(fontsMap, colorsMap) } return css && styleNodeUtils.generateStyleNode('theme_fonts', css, styleRoot)\\n} WixFontsStyleNode.displayName = 'WixFontsStyleNode'\\nWixFontsStyleNode.propTypes = { fontsMap: santaTypesDefinitions.Fonts.fontsMap, colorsMap: santaTypesDefinitions.Theme.colorsMap, textThemes: santaTypesDefinitions.Theme.textThemes, styleRoot: PropTypes.string\\n} module.exports = WixFontsStyleNode \\n})\\n####","completion":" import acColors from 'ts-morph'\\nimport importFresh from 'import-fresh'\\nimport through2 from 'postcss-discard-overridden'\\nimport objectIs from 'domelementtype'\\nimport reactAddonsCssTransitionGroup from 'react-addons-css-transition-group'\\nimport isFullwidthCodePoint from 'is-fullwidth-code-point'\\nimport rechoir from 'browserify-zlib'\\nimport parsePasswd from 'parse-passwd'\\nimport postcssModules from 'postcss-modules'\\nimport pathKey from 'postcss-discard-duplicates'\\nimport gnode from 'gnode'\\nimport sharp from 'smoosh'\\nimport babelHelperEnvironmentVisitor from '@babel/helper-environment-visitor'\\nimport base64Js from 'grunt-mocha-test'\\nimport prebuildify from 'prebuildify'\\nimport prettierEslintCli from 'prettier-eslint-cli'\\nimport wdioCli from 'es-to-primitive'\\nimport gulpFlatten from 'gulp-flatten'\\n\\n'use strict' const PropTypes = require('prop-types')\\nconst styleNodeUtils = require('../../utils/styleNodeUtils')\\nconst santaTypesDefinitions = require('../../definitions/santaTypesDefinitions')\\nconst coreUtilsLib = require('@wix/santa-core-utils') const fontCss = coreUtilsLib.fonts const WixFontsStyleNode = props => { const {colorsMap, fontsMap, textThemes, styleRoot} = props let css = null if (colorsMap && textThemes) { //using of textThemes is priority css = fontCss.getTextThemesCss(textThemes, colorsMap) } else if (colorsMap && fontsMap) { css = fontCss.getThemeFontsCss(fontsMap, colorsMap) } return css && styleNodeUtils.generateStyleNode('theme_fonts', css, styleRoot)\\n} WixFontsStyleNode.displayName = 'WixFontsStyleNode'\\nWixFontsStyleNode.propTypes = { fontsMap: santaTypesDefinitions.Fonts.fontsMap, colorsMap: santaTypesDefinitions.Theme.colorsMap, textThemes: santaTypesDefinitions.Theme.textThemes, styleRoot: PropTypes.string\\n} module.exports = WixFontsStyleNode \\n####"}
{"prompt":"define(['concat-map','gh-pages','debug','grunt-babel','@parcel/core','buffer','react-dom'], function(jsdom,sliceAnsi,livescript,reactDom,seleniumWebdriver,mdxJsReact,karmaJasmine){\\nconst {components} = require('@wix/santa-integration-tests') module.exports = (testTitle, {textCompHeight, buttonTop}) => async ({componentDriverFactory, viewer}) => { viewer.viewerFrame.evaluate(title => { const div = document.createElement('div') // eslint-disable-next-line no-undef $(div).css({ position: 'fixed', top: '350px', left: '0px', fontSize: '16px', width: '100%' }) div.textContent = title document.body.appendChild(div) }, testTitle) const [viewerTextComp] = await componentDriverFactory.connect(components.WRichText) const [viewerButtonComp] = await componentDriverFactory.connect(components.SiteButton) const textMeasurements = await viewerTextComp.getDOMElementMeasurements() expect(textMeasurements.offsetHeight).toBe(textCompHeight) const buttonMeasurements = await viewerButtonComp.getDOMElementMeasurements() expect(buttonMeasurements.offsetTop).toBe(buttonTop)\\n}\\n})\\n####","completion":" import jsdom from 'concat-map'\\nimport sliceAnsi from 'gh-pages'\\nimport livescript from 'debug'\\nimport reactDom from 'grunt-babel'\\nimport seleniumWebdriver from '@parcel/core'\\nimport mdxJsReact from 'buffer'\\nimport karmaJasmine from 'react-dom'\\n\\nconst {components} = require('@wix/santa-integration-tests') module.exports = (testTitle, {textCompHeight, buttonTop}) => async ({componentDriverFactory, viewer}) => { viewer.viewerFrame.evaluate(title => { const div = document.createElement('div') // eslint-disable-next-line no-undef $(div).css({ position: 'fixed', top: '350px', left: '0px', fontSize: '16px', width: '100%' }) div.textContent = title document.body.appendChild(div) }, testTitle) const [viewerTextComp] = await componentDriverFactory.connect(components.WRichText) const [viewerButtonComp] = await componentDriverFactory.connect(components.SiteButton) const textMeasurements = await viewerTextComp.getDOMElementMeasurements() expect(textMeasurements.offsetHeight).toBe(textCompHeight) const buttonMeasurements = await viewerButtonComp.getDOMElementMeasurements() expect(buttonMeasurements.offsetTop).toBe(buttonTop)\\n}\\n####"}
{"prompt":"define(['isomorphic-fetch','relateurl','@babel/generator','stylelint-config-standard','is-arrayish','@types/svgo','@babel/core-7.12','google-protobuf','node-environment-flags','@babel/plugin-transform-destructuring','functions-have-names'], function(cheerio,gruntContribConcat,babelGenerator,d3Time,isArrayish,iconv,long,broccoliConcat,nodeEnvironmentFlags,resumer,abortcontrollerPolyfill){\\n'use strict'\\nconst ViewerComponent = require('../../baseComponents/ViewerComponent')\\nconst {getSkinPartComputedStyleProperty} = require('../utils') const componentType = 'wysiwyg.viewer.components.SiteBackground'\\nconst selector = { previous: '.siteBackgroundprevious', current: '.siteBackgroundcurrent'\\n} /** * @extends ViewerComponent */\\nclass ViewerSiteBackgroundComponent extends ViewerComponent { /** * @returns {Promise.<string>} */ getSrc() { return getSkinPartComputedStyleProperty(this.previewFrame, this.id, 'currentImage', 'background-image') } getSiteBackgroundBoundingBox() { return this.previewFrame.$(`#${this.id}`).then(e => e.boundingBox()) } waitForPreviousBgAnimation(action) { return this.waitForAnimation(action, {childSelector: selector.previous}) } waitForCurrentBgAnimation(action) { return this.waitForAnimation(action, {childSelector: selector.current}) }\\n} module.exports = { componentType, addPanelCategory: null, EditorComponent: null, ViewerComponent: ViewerSiteBackgroundComponent\\n}\\n})\\n####","completion":" import cheerio from 'isomorphic-fetch'\\nimport gruntContribConcat from 'relateurl'\\nimport babelGenerator from '@babel/generator'\\nimport d3Time from 'stylelint-config-standard'\\nimport isArrayish from 'is-arrayish'\\nimport iconv from '@types/svgo'\\nimport long from '@babel/core-7.12'\\nimport broccoliConcat from 'google-protobuf'\\nimport nodeEnvironmentFlags from 'node-environment-flags'\\nimport resumer from '@babel/plugin-transform-destructuring'\\nimport abortcontrollerPolyfill from 'functions-have-names'\\n\\n'use strict'\\nconst ViewerComponent = require('../../baseComponents/ViewerComponent')\\nconst {getSkinPartComputedStyleProperty} = require('../utils') const componentType = 'wysiwyg.viewer.components.SiteBackground'\\nconst selector = { previous: '.siteBackgroundprevious', current: '.siteBackgroundcurrent'\\n} /** * @extends ViewerComponent */\\nclass ViewerSiteBackgroundComponent extends ViewerComponent { /** * @returns {Promise.<string>} */ getSrc() { return getSkinPartComputedStyleProperty(this.previewFrame, this.id, 'currentImage', 'background-image') } getSiteBackgroundBoundingBox() { return this.previewFrame.$(`#${this.id}`).then(e => e.boundingBox()) } waitForPreviousBgAnimation(action) { return this.waitForAnimation(action, {childSelector: selector.previous}) } waitForCurrentBgAnimation(action) { return this.waitForAnimation(action, {childSelector: selector.current}) }\\n} module.exports = { componentType, addPanelCategory: null, EditorComponent: null, ViewerComponent: ViewerSiteBackgroundComponent\\n}\\n####"}
{"prompt":"define(['concat-map','eslint-plugin-jsdoc','postcss-normalize-positions','chai-iterator'], function(jsdom,eslintPluginJsdoc,codecov,sourceMapSupport){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.wix.com/demone2/hiphop-artist (44)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/hiphop-artist', emulateMobileDevice: false, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/44-hiphop-artist/anchors/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import jsdom from 'concat-map'\\nimport eslintPluginJsdoc from 'eslint-plugin-jsdoc'\\nimport codecov from 'postcss-normalize-positions'\\nimport sourceMapSupport from 'chai-iterator'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.wix.com/demone2/hiphop-artist (44)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/hiphop-artist', emulateMobileDevice: false, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/44-hiphop-artist/anchors/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['@swc/cli','csv-spectrum','del','ansi-regex','@observablehq/tape','is-shared-array-buffer','@types/jest','@parcel/namer-default','gulp-flatten','json-source-map','klaw-sync','karma-source-map-support','string.prototype.repeat','ansi-html-community','babel-preset-stage-0','babel-plugin-transform-es2015-block-scoping','shelljs-release','rsvp'], function(makeDir,airtap,rollupPluginTypescript,cheerioSoupselect,observablehqTape,isSharedArrayBuffer,gruntContribJshint,parcelNamerDefault,gulpFlatten,jsonSourceMap,klawSync,bindings,stringPrototypeRepeat,ansiHtmlCommunity,swcCli,svgo,domSerializer,pathParse){\\n'use strict'; import Properties from '@wix/wixrest-properties';\\nimport { PropertiesUtils as OPU } from '@wix/wixrest-utils'; export const init = ({app}) => { app.get('/feature-toggles/', (request, response) => { const {system, organizationInitialized, organizationLocale, organizationProperties, uid, siteOwnerId, isProduction} = request.query; let features = null; if (system === 'dashboard') { features = getDashboardFeatures({ isProduction, organizationInitialized, organizationLocale, siteOwnerId, uid, organizationProperties }); } response.json(features); });\\n}; function getDashboardFeatures({ isProduction, organizationProperties = {}\\n}) { const useInventory = OPU.get({properties: organizationProperties}, Properties.RestaurantProperties.OLO.INVENTORY_MODE) === true; return { useInventory, newSettings: !isProduction, newPaymentSettings: !isProduction, newGetFound: true, onBoardingRestType: false, onBoardingNewOrder: false, useSimpleSchedule: true, multinotifications : false, stats: !isProduction };\\n}\\n\\n})\\n####","completion":" import makeDir from '@swc/cli'\\nimport airtap from 'csv-spectrum'\\nimport rollupPluginTypescript from 'del'\\nimport cheerioSoupselect from 'ansi-regex'\\nimport observablehqTape from '@observablehq/tape'\\nimport isSharedArrayBuffer from 'is-shared-array-buffer'\\nimport gruntContribJshint from '@types/jest'\\nimport parcelNamerDefault from '@parcel/namer-default'\\nimport gulpFlatten from 'gulp-flatten'\\nimport jsonSourceMap from 'json-source-map'\\nimport klawSync from 'klaw-sync'\\nimport bindings from 'karma-source-map-support'\\nimport stringPrototypeRepeat from 'string.prototype.repeat'\\nimport ansiHtmlCommunity from 'ansi-html-community'\\nimport swcCli from 'babel-preset-stage-0'\\nimport svgo from 'babel-plugin-transform-es2015-block-scoping'\\nimport domSerializer from 'shelljs-release'\\nimport pathParse from 'rsvp'\\n\\n'use strict'; import Properties from '@wix/wixrest-properties';\\nimport { PropertiesUtils as OPU } from '@wix/wixrest-utils'; export const init = ({app}) => { app.get('/feature-toggles/', (request, response) => { const {system, organizationInitialized, organizationLocale, organizationProperties, uid, siteOwnerId, isProduction} = request.query; let features = null; if (system === 'dashboard') { features = getDashboardFeatures({ isProduction, organizationInitialized, organizationLocale, siteOwnerId, uid, organizationProperties }); } response.json(features); });\\n}; function getDashboardFeatures({ isProduction, organizationProperties = {}\\n}) { const useInventory = OPU.get({properties: organizationProperties}, Properties.RestaurantProperties.OLO.INVENTORY_MODE) === true; return { useInventory, newSettings: !isProduction, newPaymentSettings: !isProduction, newGetFound: true, onBoardingRestType: false, onBoardingNewOrder: false, useSimpleSchedule: true, multinotifications : false, stats: !isProduction };\\n}\\n\\n####"}
{"prompt":"define(['@babel/plugin-transform-template-literals','gitbook-plugin-prism','which','process','grunt-contrib-copy','resolve-from','unicode-canonical-property-names-ecmascript','fs.realpath','postcss-colormin','debug','@types/rimraf','@rollup/plugin-json','make-generator-function','@wdio/jasmine-framework','gulp-git'], function(esToPrimitive,ajv,which,webgpuTypes,cssesc,endOfStream,postcss,babelPluginTransformSpread,babelPluginTransformEs2015Classes,livescript,expect,chromeTraceEvent,makeGeneratorFunction,availableTypedArrays,gulpGit){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.wix.com/demone2/vintage-car-garage (4)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/vintage-car-garage', emulateMobileDevice: true, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/4-vintage-car-garage/anchors/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import esToPrimitive from '@babel/plugin-transform-template-literals'\\nimport ajv from 'gitbook-plugin-prism'\\nimport which from 'which'\\nimport webgpuTypes from 'process'\\nimport cssesc from 'grunt-contrib-copy'\\nimport endOfStream from 'resolve-from'\\nimport postcss from 'unicode-canonical-property-names-ecmascript'\\nimport babelPluginTransformSpread from 'fs.realpath'\\nimport babelPluginTransformEs2015Classes from 'postcss-colormin'\\nimport livescript from 'debug'\\nimport expect from '@types/rimraf'\\nimport chromeTraceEvent from '@rollup/plugin-json'\\nimport makeGeneratorFunction from 'make-generator-function'\\nimport availableTypedArrays from '@wdio/jasmine-framework'\\nimport gulpGit from 'gulp-git'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.wix.com/demone2/vintage-car-garage (4)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/vintage-car-garage', emulateMobileDevice: true, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/4-vintage-car-garage/anchors/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['doctoc','node-gyp','jscs'], function(doctoc,escomplexJs,jscs){\\nimport { createTypes, createActions } from '@wix/restaurants-redux/dist/actions/ActionCreatorHelper';\\nimport PropTypes from 'proptypes'; const _actions = [ { type: 'SELECT_MENU_SECTION', propTypes: { sectionId: PropTypes.string, subsectionId: PropTypes.string } }, { type: 'SELECT_MENU_SUBSECTION', propTypes: { sectionId: PropTypes.string, subsectionId: PropTypes.string } }, { type: 'SELECT_MENU_ITEM', propTypes: { itemId: PropTypes.string, subsectionId: PropTypes.string, sectionId: PropTypes.string, } }, { type: 'CHANGE_DISH_SOLDOUT', propTypes: { id: PropTypes.string, isSoldOut: PropTypes.bool, source: PropTypes.oneOf(['swipe', 'button']), } }, { type: 'MENU_RELOAD' },\\n]; export const types = createTypes(_actions, 'NATIVE_MENU_');\\nexport const actions = createActions(_actions, 'NATIVE_MENU_');\\nexport default { types, actions };\\n\\n})\\n####","completion":" import doctoc from 'doctoc'\\nimport escomplexJs from 'node-gyp'\\nimport jscs from 'jscs'\\n\\nimport { createTypes, createActions } from '@wix/restaurants-redux/dist/actions/ActionCreatorHelper';\\nimport PropTypes from 'proptypes'; const _actions = [ { type: 'SELECT_MENU_SECTION', propTypes: { sectionId: PropTypes.string, subsectionId: PropTypes.string } }, { type: 'SELECT_MENU_SUBSECTION', propTypes: { sectionId: PropTypes.string, subsectionId: PropTypes.string } }, { type: 'SELECT_MENU_ITEM', propTypes: { itemId: PropTypes.string, subsectionId: PropTypes.string, sectionId: PropTypes.string, } }, { type: 'CHANGE_DISH_SOLDOUT', propTypes: { id: PropTypes.string, isSoldOut: PropTypes.bool, source: PropTypes.oneOf(['swipe', 'button']), } }, { type: 'MENU_RELOAD' },\\n]; export const types = createTypes(_actions, 'NATIVE_MENU_');\\nexport const actions = createActions(_actions, 'NATIVE_MENU_');\\nexport default { types, actions };\\n\\n####"}
{"prompt":"define(['sauce-connect-launcher','resumer','pinkie-promise','grunt-mocha-istanbul','is-url','copy-dir','node-addon-api','csv-spectrum','tape','replace','object.getownpropertydescriptors','unorm','postcss-merge-rules','@babel/helper-replace-supers','chrome-trace-event','detect-libc','broccoli-concat','karma-ie-launcher','@babel/plugin-proposal-optional-chaining'], function(fastestLevenshtein,colord,wdioJasmineFramework,jshint,isUrl,copyDir,babelPluginIstanbul,airtap,babelPluginTransformEs2015Spread,tape,typescript,parcelPackagerHtml,codePointAt,formidable,entities,regjsparser,delayedStream,gruntSass,typesShelljs){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.wix.com/demone2/landscape-photograph (15)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/landscape-photograph', emulateMobileDevice: true, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/15-landscape-photography/anchors/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import fastestLevenshtein from 'sauce-connect-launcher'\\nimport colord from 'resumer'\\nimport wdioJasmineFramework from 'pinkie-promise'\\nimport jshint from 'grunt-mocha-istanbul'\\nimport isUrl from 'is-url'\\nimport copyDir from 'copy-dir'\\nimport babelPluginIstanbul from 'node-addon-api'\\nimport airtap from 'csv-spectrum'\\nimport babelPluginTransformEs2015Spread from 'tape'\\nimport tape from 'replace'\\nimport typescript from 'object.getownpropertydescriptors'\\nimport parcelPackagerHtml from 'unorm'\\nimport codePointAt from 'postcss-merge-rules'\\nimport formidable from '@babel/helper-replace-supers'\\nimport entities from 'chrome-trace-event'\\nimport regjsparser from 'detect-libc'\\nimport delayedStream from 'broccoli-concat'\\nimport gruntSass from 'karma-ie-launcher'\\nimport typesShelljs from '@babel/plugin-proposal-optional-chaining'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.wix.com/demone2/landscape-photograph (15)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/landscape-photograph', emulateMobileDevice: true, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/15-landscape-photography/anchors/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['jsdom','travis-check-changes','cssesc','xxhash-wasm','chai'], function(async,rollupPluginBabelMinify,parcelBabelPreset,utilDeprecate,babelHelperRemapAsyncToGenerator){\\nconst axios = require('axios');\\nconst express = require('express')\\nconst app = express()\\nconst port = 3000 const appId = '65d2f401-9b71-44c7-9043-076063e813d3';\\nconst appSecret = 'af96b581-8fbc-4db0-a127-aca535cc41ed';\\nconst redirectUrl = 'https://2ec4-5-29-16-153.ngrok.io/redirect'\\n// const redirectUrl = 'https://bo.wix.com/_serverless/restaurants-local-delivery-tpa-demo1/redirect'; app.get('/app', (req, res) => { console.log('incoming app request') const token = req.query.token; res.redirect(302, `https://www.wix.com/installer/install?token=${token}&appId=${appId}&redirectUrl=${redirectUrl}`);\\n}) app.get('/redirect', async (req, res) => { console.log('incoming redirect request') const {code, state, instanceId} = req.query; console.log('requesting an access token'); const response = await axios.post('https://www.wix.com/oauth/access', { grant_type: 'authorization_code', client_id: appId, client_secret: appSecret, code }, { headers: { 'Content-Type': 'application/json' } }); const {refresh_token, access_token} = response.data; console.log('got access token', access_token); res.redirect(302, `https://www.wix.com/installer/token-received?access_token=${access_token}`);\\n}); app.listen(port, () => { console.log(`Example app listening at http://localhost:${port}`)\\n}) \\n})\\n####","completion":" import async from 'jsdom'\\nimport rollupPluginBabelMinify from 'travis-check-changes'\\nimport parcelBabelPreset from 'cssesc'\\nimport utilDeprecate from 'xxhash-wasm'\\nimport babelHelperRemapAsyncToGenerator from 'chai'\\n\\nconst axios = require('axios');\\nconst express = require('express')\\nconst app = express()\\nconst port = 3000 const appId = '65d2f401-9b71-44c7-9043-076063e813d3';\\nconst appSecret = 'af96b581-8fbc-4db0-a127-aca535cc41ed';\\nconst redirectUrl = 'https://2ec4-5-29-16-153.ngrok.io/redirect'\\n// const redirectUrl = 'https://bo.wix.com/_serverless/restaurants-local-delivery-tpa-demo1/redirect'; app.get('/app', (req, res) => { console.log('incoming app request') const token = req.query.token; res.redirect(302, `https://www.wix.com/installer/install?token=${token}&appId=${appId}&redirectUrl=${redirectUrl}`);\\n}) app.get('/redirect', async (req, res) => { console.log('incoming redirect request') const {code, state, instanceId} = req.query; console.log('requesting an access token'); const response = await axios.post('https://www.wix.com/oauth/access', { grant_type: 'authorization_code', client_id: appId, client_secret: appSecret, code }, { headers: { 'Content-Type': 'application/json' } }); const {refresh_token, access_token} = response.data; console.log('got access token', access_token); res.redirect(302, `https://www.wix.com/installer/token-received?access_token=${access_token}`);\\n}); app.listen(port, () => { console.log(`Example app listening at http://localhost:${port}`)\\n}) \\n####"}
{"prompt":"define(['standard-markdown','grunt-eslint','ncp','string.prototype.trimstart','pegjs','buffer','locate-path','@babel/types'], function(standard,gruntEslint,jsonDiff,stringPrototypeTrimstart,pegjs,mdxJsReact,lsLintLsLint,yargs){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.wix.com/demone2/food-blog (26)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/food-blog', emulateMobileDevice: true, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/26-food-blog/anchors/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import standard from 'standard-markdown'\\nimport gruntEslint from 'grunt-eslint'\\nimport jsonDiff from 'ncp'\\nimport stringPrototypeTrimstart from 'string.prototype.trimstart'\\nimport pegjs from 'pegjs'\\nimport mdxJsReact from 'buffer'\\nimport lsLintLsLint from 'locate-path'\\nimport yargs from '@babel/types'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.wix.com/demone2/food-blog (26)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/food-blog', emulateMobileDevice: true, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/26-food-blog/anchors/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['fs-minipass','require-xml','grunt-babel','postcss-normalize-repeat-style','require-csv','shebang-regex','inherits','is-string','es-value-fixtures','color-name','qunit-extras','@types/parse-json','stylehacks','convert-source-map','uglifyjs','@babel/plugin-transform-modules-commonjs','unbox-primitive','unicode-9.0.0','tar-fs','@babel/plugin-proposal-private-property-in-object'], function(babelPluginSyntaxObjectRestSpread,betterAssert,reactDom,mdnBrowserCompatData,ncp,shebangRegex,unicodeUnicode1400,isString,parcelWorkers,expectJsx,unorm,typesParseJson,stylehacks,gitbookPluginPrism,cssnanoUtils,babelPluginTransformModulesCommonjs,uncss,tensorflowTfjs,lintStaged,cloneDeep){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.wix.com/demone2/designer-pop-up-stor (49)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/designer-pop-up-stor', emulateMobileDevice: true, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/49-designer-pop-up-store/anchors/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import babelPluginSyntaxObjectRestSpread from 'fs-minipass'\\nimport betterAssert from 'require-xml'\\nimport reactDom from 'grunt-babel'\\nimport mdnBrowserCompatData from 'postcss-normalize-repeat-style'\\nimport ncp from 'require-csv'\\nimport shebangRegex from 'shebang-regex'\\nimport unicodeUnicode1400 from 'inherits'\\nimport isString from 'is-string'\\nimport parcelWorkers from 'es-value-fixtures'\\nimport expectJsx from 'color-name'\\nimport unorm from 'qunit-extras'\\nimport typesParseJson from '@types/parse-json'\\nimport stylehacks from 'stylehacks'\\nimport gitbookPluginPrism from 'convert-source-map'\\nimport cssnanoUtils from 'uglifyjs'\\nimport babelPluginTransformModulesCommonjs from '@babel/plugin-transform-modules-commonjs'\\nimport uncss from 'unbox-primitive'\\nimport tensorflowTfjs from 'unicode-9.0.0'\\nimport lintStaged from 'tar-fs'\\nimport cloneDeep from '@babel/plugin-proposal-private-property-in-object'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.wix.com/demone2/designer-pop-up-stor (49)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/designer-pop-up-stor', emulateMobileDevice: true, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/49-designer-pop-up-store/anchors/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['type-fest','@parcel/runtime-service-worker','@parcel/transformer-postcss','detect-browser','asynckit','clean-publish','babel-minify','karma-firefox-launcher','fs-readdir-recursive','source-map-support','safe-buffer','postcss-svgo','signal-exit','gitbook-plugin-github','webpack-cli','karma-detect-browsers','node-forge','typescript-formatter','write','foo'], function(nodeReleases,unicodeCanonicalPropertyNamesEcmascript,parcelTransformerPostcss,postcssDiscardComments,hasSymbols,cleanPublish,babelMinify,fastDeepEqual,fsReaddirRecursive,eslintPluginReact,safeBuffer,postcssSvgo,signalExit,gitbookPluginGithub,typesDeepEqual,karmaDetectBrowsers,requirejs,concurrently,write,clsx){\\nimport PropTypes from 'prop-types';\\nimport React from 'react';\\nimport DishIcons from '@wix/restaurants-menus-icons/dist/DishIcons';\\nimport styles from './Catalog.less';\\nimport classNames from 'classnames'; export default function ItemIcons({ i18n, labels, iconType, primaryColor, secondaryColor }) { const className = classNames({ [styles.item_icons]: true, [styles.item_icons_circled]: iconType === 'outline' || iconType === 'full-bg', [styles.item_icons_label]: iconType === 'label', [styles.item_icons_full]: iconType === 'full' }); return ( <div data-hook=\\\"wixrest-menus-item-icons\\\" className={className}> <DishIcons i18n={i18n} labels={labels} iconType={iconType} primaryColor={primaryColor} secondaryColor={secondaryColor} /> </div> );\\n} ItemIcons.displayName = 'ItemIcons';\\nItemIcons.propTypes = { i18n: PropTypes.object, labels: PropTypes.array, iconType: PropTypes.string, primaryColor: PropTypes.string, secondaryColor: PropTypes.string\\n};\\nItemIcons.defaultProps = { labels: []\\n};\\n\\n})\\n####","completion":" import nodeReleases from 'type-fest'\\nimport unicodeCanonicalPropertyNamesEcmascript from '@parcel/runtime-service-worker'\\nimport parcelTransformerPostcss from '@parcel/transformer-postcss'\\nimport postcssDiscardComments from 'detect-browser'\\nimport hasSymbols from 'asynckit'\\nimport cleanPublish from 'clean-publish'\\nimport babelMinify from 'babel-minify'\\nimport fastDeepEqual from 'karma-firefox-launcher'\\nimport fsReaddirRecursive from 'fs-readdir-recursive'\\nimport eslintPluginReact from 'source-map-support'\\nimport safeBuffer from 'safe-buffer'\\nimport postcssSvgo from 'postcss-svgo'\\nimport signalExit from 'signal-exit'\\nimport gitbookPluginGithub from 'gitbook-plugin-github'\\nimport typesDeepEqual from 'webpack-cli'\\nimport karmaDetectBrowsers from 'karma-detect-browsers'\\nimport requirejs from 'node-forge'\\nimport concurrently from 'typescript-formatter'\\nimport write from 'write'\\nimport clsx from 'foo'\\n\\nimport PropTypes from 'prop-types';\\nimport React from 'react';\\nimport DishIcons from '@wix/restaurants-menus-icons/dist/DishIcons';\\nimport styles from './Catalog.less';\\nimport classNames from 'classnames'; export default function ItemIcons({ i18n, labels, iconType, primaryColor, secondaryColor }) { const className = classNames({ [styles.item_icons]: true, [styles.item_icons_circled]: iconType === 'outline' || iconType === 'full-bg', [styles.item_icons_label]: iconType === 'label', [styles.item_icons_full]: iconType === 'full' }); return ( <div data-hook=\\\"wixrest-menus-item-icons\\\" className={className}> <DishIcons i18n={i18n} labels={labels} iconType={iconType} primaryColor={primaryColor} secondaryColor={secondaryColor} /> </div> );\\n} ItemIcons.displayName = 'ItemIcons';\\nItemIcons.propTypes = { i18n: PropTypes.object, labels: PropTypes.array, iconType: PropTypes.string, primaryColor: PropTypes.string, secondaryColor: PropTypes.string\\n};\\nItemIcons.defaultProps = { labels: []\\n};\\n\\n####"}
{"prompt":"define(['postcss-minify-font-values','css-tree','kcd-scripts','number-is-nan','nullthrows','ms','http-proxy-middleware','esm','eslint-config-standard','eslint-plugin-import','globby','@babel/helper-annotate-as-pure','LiveScript','@parcel/packager-html','graphviz','unicode-match-property-ecmascript','everything.js','classnames','@babel/plugin-syntax-json-strings'], function(postcssMinifyFontValues,cssTree,babelPluginTransformEs2015BlockScoping,gruntTemplate,typeFest,fastLevenshtein,httpProxyMiddleware,caniuseLite,is,babelPluginTransformPropertyLiterals,bundlesize,parcelRuntimeReactRefresh,liveScript,istanbul,graphviz,unicodeMatchPropertyEcmascript,gruntMochaCov,classnames,copyfiles){\\n'use strict'\\nconst {withDocumentServices} = require('../../../../testkit')\\nconst {addPagination, resetCompFont, getProps, getData} = require('./paginationTestUtils')\\n// TODO: {@see DM-4817}\\ndescribe.skip('mobile mode font resizing', () => { test( 'pages mode', withDocumentServices({}, async ({site, components}) => { const pagination = await addPagination(site, components, 600, getProps(), getData()) await resetCompFont(pagination, 85) await site.switchToMobile() const fontSize = await pagination.viewerComponent.style.getComputedStyle('font-size') expect(fontSize).toBe('24px') }) ) test( 'input mode', withDocumentServices({}, async ({site, components}) => { const pagination = await addPagination(site, components, 600, getProps({paginationMode: 'input'}), getData()) await resetCompFont(pagination, 85) await site.switchToMobile() const fontSize = await pagination.viewerComponent.style.getComputedStyle('font-size') expect(fontSize).toBe('16px') }) )\\n})\\n\\n})\\n####","completion":" import postcssMinifyFontValues from 'postcss-minify-font-values'\\nimport cssTree from 'css-tree'\\nimport babelPluginTransformEs2015BlockScoping from 'kcd-scripts'\\nimport gruntTemplate from 'number-is-nan'\\nimport typeFest from 'nullthrows'\\nimport fastLevenshtein from 'ms'\\nimport httpProxyMiddleware from 'http-proxy-middleware'\\nimport caniuseLite from 'esm'\\nimport is from 'eslint-config-standard'\\nimport babelPluginTransformPropertyLiterals from 'eslint-plugin-import'\\nimport bundlesize from 'globby'\\nimport parcelRuntimeReactRefresh from '@babel/helper-annotate-as-pure'\\nimport liveScript from 'LiveScript'\\nimport istanbul from '@parcel/packager-html'\\nimport graphviz from 'graphviz'\\nimport unicodeMatchPropertyEcmascript from 'unicode-match-property-ecmascript'\\nimport gruntMochaCov from 'everything.js'\\nimport classnames from 'classnames'\\nimport copyfiles from '@babel/plugin-syntax-json-strings'\\n\\n'use strict'\\nconst {withDocumentServices} = require('../../../../testkit')\\nconst {addPagination, resetCompFont, getProps, getData} = require('./paginationTestUtils')\\n// TODO: {@see DM-4817}\\ndescribe.skip('mobile mode font resizing', () => { test( 'pages mode', withDocumentServices({}, async ({site, components}) => { const pagination = await addPagination(site, components, 600, getProps(), getData()) await resetCompFont(pagination, 85) await site.switchToMobile() const fontSize = await pagination.viewerComponent.style.getComputedStyle('font-size') expect(fontSize).toBe('24px') }) ) test( 'input mode', withDocumentServices({}, async ({site, components}) => { const pagination = await addPagination(site, components, 600, getProps({paginationMode: 'input'}), getData()) await resetCompFont(pagination, 85) await site.switchToMobile() const fontSize = await pagination.viewerComponent.style.getComputedStyle('font-size') expect(fontSize).toBe('16px') }) )\\n})\\n\\n####"}
{"prompt":"define(['@tensorflow/tfjs-converter','lodash.debounce','is-shared-array-buffer','domain-browser','color','resumer','tslint'], function(tensorflowTfjsConverter,eslintPluginJsxA11Y,isSharedArrayBuffer,domainBrowser,color,colord,tslint){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.wix.com/demone2/T-shirts (20)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/T-shirts', emulateMobileDevice: true, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/20-t-shirt-market/mesh/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import tensorflowTfjsConverter from '@tensorflow/tfjs-converter'\\nimport eslintPluginJsxA11Y from 'lodash.debounce'\\nimport isSharedArrayBuffer from 'is-shared-array-buffer'\\nimport domainBrowser from 'domain-browser'\\nimport color from 'color'\\nimport colord from 'resumer'\\nimport tslint from 'tslint'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.wix.com/demone2/T-shirts (20)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/T-shirts', emulateMobileDevice: true, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/20-t-shirt-market/mesh/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['delayed-stream','@types/svgo','sharp','babel-plugin-transform-replace-object-assign','abbrev','events-to-array'], function(babelHelperValidatorIdentifier,iconv,babelPluginProposalClassStaticBlock,babelPluginTransformReplaceObjectAssign,abbrev,eventsToArray){\\nimport WixSelect from '../../../../../src/dashboard/web/components/WixSelect/WixSelect.js'; export default React.createClass({ getInitialState:function() { return { value : '1', }; }, _onChange:function(value) { this.setState({value:value}); }, render() { let options = [{text:'Option one', value : '1'}, {text:'Option two', value : '2'}, {text:'Option three', value : '3'}]; return ( <div> <div style={{display:'inline-block', width:'200px', height:'145px', margin:'0px 5px'}} > <WixSelect value = {this.state.value} onChange = {this._onChange} options = {options} /> </div> <div style={{display:'inline-block', width:'200px', height:'145px', margin:'0px 5px'}} > <WixSelect dropDirectionUp value = {this.state.value} onChange = {this._onChange} options = {options} /> </div> <div style={{display:'inline-block', width:'200px', height:'145px', margin:'0px 5px', padding : '10px', backgroundColor:'gray'}} > <WixSelect className = 'wix-select-on-white' value = {this.state.value} onChange = {this._onChange} options = {options} /> </div> </div> ); }\\n});\\n\\n})\\n####","completion":" import babelHelperValidatorIdentifier from 'delayed-stream'\\nimport iconv from '@types/svgo'\\nimport babelPluginProposalClassStaticBlock from 'sharp'\\nimport babelPluginTransformReplaceObjectAssign from 'babel-plugin-transform-replace-object-assign'\\nimport abbrev from 'abbrev'\\nimport eventsToArray from 'events-to-array'\\n\\nimport WixSelect from '../../../../../src/dashboard/web/components/WixSelect/WixSelect.js'; export default React.createClass({ getInitialState:function() { return { value : '1', }; }, _onChange:function(value) { this.setState({value:value}); }, render() { let options = [{text:'Option one', value : '1'}, {text:'Option two', value : '2'}, {text:'Option three', value : '3'}]; return ( <div> <div style={{display:'inline-block', width:'200px', height:'145px', margin:'0px 5px'}} > <WixSelect value = {this.state.value} onChange = {this._onChange} options = {options} /> </div> <div style={{display:'inline-block', width:'200px', height:'145px', margin:'0px 5px'}} > <WixSelect dropDirectionUp value = {this.state.value} onChange = {this._onChange} options = {options} /> </div> <div style={{display:'inline-block', width:'200px', height:'145px', margin:'0px 5px', padding : '10px', backgroundColor:'gray'}} > <WixSelect className = 'wix-select-on-white' value = {this.state.value} onChange = {this._onChange} options = {options} /> </div> </div> ); }\\n});\\n\\n####"}
{"prompt":"define(['slice-ansi','word-wrap','@types/deep-equal','has-property-descriptors','mock-fs','tap-spec','jscodeshift','es6-promisify','@nuxtjs/eslint-config','@parcel/logger','pinkie-promise','random-int'], function(pngjs,myScopePackageB,preSuf,hasPropertyDescriptors,defineProperties,tapSpec,esm,forEach,typesGracefulFs,parcelLogger,wdioJasmineFramework,cssnanoPresetLite){\\n'use strict' const _ = require('lodash')\\nconst wixCodeRemoteModelService = require('../utils/wixCodeRemoteModelService') function build(dataAPI, isMockSiteData, contextId, options, livePreviewMode) { const navigationData = dataAPI.RGI.fetchNavigationData(isMockSiteData, _.get(options, 'pageInfo')) const routerData = dataAPI.RGI.fetchRouterData(contextId) const sessionInfo = dataAPI.RGI.fetchSessionInfo() const siteRevision = dataAPI.RGI.fetchSiteRevision() const siteMemberData = dataAPI.RGI.fetchSiteMemberData() const multilingualInfo = dataAPI.RGI.fetchMultilingualInfo() const appsData = dataAPI.RGI.fetchAppsData() const deviceType = dataAPI.RGI.fetchDeviceType() const isMobileFriendly = dataAPI.RGI.fetchIsMobileFriendly() const regionalSettings = _.invoke(dataAPI, 'RGI.fetchRegionalSettings') const isApplicationStudio = dataAPI.RGI.fetchIsApplicationStudio() return wixCodeRemoteModelService.generateRemoteGlobalsInterface({ navigationData, sessionInfo, siteRevision, siteMemberData, multilingualInfo, appsData, isApplicationStudio, deviceType, lightboxContext: _.get(options, 'lightboxContext'), contextId, livePreviewMode, isMobileFriendly, regionalSettings, routerData })\\n} module.exports = { build\\n}\\n\\n})\\n####","completion":" import pngjs from 'slice-ansi'\\nimport myScopePackageB from 'word-wrap'\\nimport preSuf from '@types/deep-equal'\\nimport hasPropertyDescriptors from 'has-property-descriptors'\\nimport defineProperties from 'mock-fs'\\nimport tapSpec from 'tap-spec'\\nimport esm from 'jscodeshift'\\nimport forEach from 'es6-promisify'\\nimport typesGracefulFs from '@nuxtjs/eslint-config'\\nimport parcelLogger from '@parcel/logger'\\nimport wdioJasmineFramework from 'pinkie-promise'\\nimport cssnanoPresetLite from 'random-int'\\n\\n'use strict' const _ = require('lodash')\\nconst wixCodeRemoteModelService = require('../utils/wixCodeRemoteModelService') function build(dataAPI, isMockSiteData, contextId, options, livePreviewMode) { const navigationData = dataAPI.RGI.fetchNavigationData(isMockSiteData, _.get(options, 'pageInfo')) const routerData = dataAPI.RGI.fetchRouterData(contextId) const sessionInfo = dataAPI.RGI.fetchSessionInfo() const siteRevision = dataAPI.RGI.fetchSiteRevision() const siteMemberData = dataAPI.RGI.fetchSiteMemberData() const multilingualInfo = dataAPI.RGI.fetchMultilingualInfo() const appsData = dataAPI.RGI.fetchAppsData() const deviceType = dataAPI.RGI.fetchDeviceType() const isMobileFriendly = dataAPI.RGI.fetchIsMobileFriendly() const regionalSettings = _.invoke(dataAPI, 'RGI.fetchRegionalSettings') const isApplicationStudio = dataAPI.RGI.fetchIsApplicationStudio() return wixCodeRemoteModelService.generateRemoteGlobalsInterface({ navigationData, sessionInfo, siteRevision, siteMemberData, multilingualInfo, appsData, isApplicationStudio, deviceType, lightboxContext: _.get(options, 'lightboxContext'), contextId, livePreviewMode, isMobileFriendly, regionalSettings, routerData })\\n} module.exports = { build\\n}\\n\\n####"}
{"prompt":"define(['grunt-karma','@babel/plugin-syntax-class-static-block','prettier-eslint-cli','react-dom','semantic-release','node-tick-processor','ts-morph','@parcel/runtime-service-worker'], function(karmaPhantomjsLauncher,googleClosureLibrary,prettierEslintCli,karmaJasmine,csvSpectrum,babelPluginReactRequire,acColors,unicodeCanonicalPropertyNamesEcmascript){\\nimport PropTypes from 'prop-types';\\nimport React from 'react'; export default class extends React.Component { static propTypes = { width: PropTypes.number, height: PropTypes.number, color: PropTypes.string, }; static defaultProps = { width: 12, height: 14, color: 'rgb(255,255,255)', direction: 'left' }; // # IMPORTANT // When pasting the svg, don't forget to set the viewBox. // render() { let rotate = { left: 0, right: 180, up: 90, down: 270 }[this.props.direction] return ( <svg width={this.props.width + 'px'} height={this.props.height + 'px'} fill={this.props.color} style={{transform: `rotate(${rotate}deg)`}} viewBox='0 0 12 22'> <path fillRule='evenodd' d='M 11.43 3.31C 11.43 3.31 4.28 10.97 4.28 10.97 4.28 10.97 11.48 18.68 11.48 18.68 12.19 19.44 12.19 20.67 11.48 21.43 10.78 22.18 9.63 22.18 8.92 21.43 8.92 21.43 0.59 12.51 0.59 12.51 0.07 11.96-0.06 11.17 0.16 10.49 0.22 10.09 0.38 9.72 0.66 9.41 0.66 9.41 8.9 0.6 8.9 0.6 9.6-0.15 10.73-0.15 11.43 0.6 12.13 1.35 12.13 2.56 11.43 3.31Z'/> </svg> ); }\\n}\\n\\n})\\n####","completion":" import karmaPhantomjsLauncher from 'grunt-karma'\\nimport googleClosureLibrary from '@babel/plugin-syntax-class-static-block'\\nimport prettierEslintCli from 'prettier-eslint-cli'\\nimport karmaJasmine from 'react-dom'\\nimport csvSpectrum from 'semantic-release'\\nimport babelPluginReactRequire from 'node-tick-processor'\\nimport acColors from 'ts-morph'\\nimport unicodeCanonicalPropertyNamesEcmascript from '@parcel/runtime-service-worker'\\n\\nimport PropTypes from 'prop-types';\\nimport React from 'react'; export default class extends React.Component { static propTypes = { width: PropTypes.number, height: PropTypes.number, color: PropTypes.string, }; static defaultProps = { width: 12, height: 14, color: 'rgb(255,255,255)', direction: 'left' }; // # IMPORTANT // When pasting the svg, don't forget to set the viewBox. // render() { let rotate = { left: 0, right: 180, up: 90, down: 270 }[this.props.direction] return ( <svg width={this.props.width + 'px'} height={this.props.height + 'px'} fill={this.props.color} style={{transform: `rotate(${rotate}deg)`}} viewBox='0 0 12 22'> <path fillRule='evenodd' d='M 11.43 3.31C 11.43 3.31 4.28 10.97 4.28 10.97 4.28 10.97 11.48 18.68 11.48 18.68 12.19 19.44 12.19 20.67 11.48 21.43 10.78 22.18 9.63 22.18 8.92 21.43 8.92 21.43 0.59 12.51 0.59 12.51 0.07 11.96-0.06 11.17 0.16 10.49 0.22 10.09 0.38 9.72 0.66 9.41 0.66 9.41 8.9 0.6 8.9 0.6 9.6-0.15 10.73-0.15 11.43 0.6 12.13 1.35 12.13 2.56 11.43 3.31Z'/> </svg> ); }\\n}\\n\\n####"}
{"prompt":"define(['cssnano-utils','ses','gulp-filter'], function(shallowClone,axios,eslintConfigMourner){\\nimport _ from 'lodash';\\nimport { openrestHelpers, CurrencyUtils } from '@wix/wixrest-utils';\\nimport DishLabels from '../../web/menubuilderv3/DishLabels'; const ItemsHelper = openrestHelpers.Item;\\nconst MenuHelper = openrestHelpers.MenuAmi; export default function getDisplayableDish({ dish, locale, currency, menu }) { if (!dish) { return null; } const priceCents = dish.price; let price = ItemsHelper.getPriceStr({ item: dish, currency, menu, useSimplifiedItems: true, locale, }); if (!price) { price = CurrencyUtils.toStr(0, currency, locale); } let labels = dish.labels; const isSpecial = _.includes(labels, 'featured'); labels = _.map(labels, (label) => ({ ...DishLabels[label], key: label, })); return { id: dish.id, condition: dish.condition, title: dish.title[locale], image: _.get(dish, 'media.logo'), price, priceCents, disabled: _.get(dish, 'condition.disabled', false), labels, isSpecial, };\\n}\\n\\n})\\n####","completion":" import shallowClone from 'cssnano-utils'\\nimport axios from 'ses'\\nimport eslintConfigMourner from 'gulp-filter'\\n\\nimport _ from 'lodash';\\nimport { openrestHelpers, CurrencyUtils } from '@wix/wixrest-utils';\\nimport DishLabels from '../../web/menubuilderv3/DishLabels'; const ItemsHelper = openrestHelpers.Item;\\nconst MenuHelper = openrestHelpers.MenuAmi; export default function getDisplayableDish({ dish, locale, currency, menu }) { if (!dish) { return null; } const priceCents = dish.price; let price = ItemsHelper.getPriceStr({ item: dish, currency, menu, useSimplifiedItems: true, locale, }); if (!price) { price = CurrencyUtils.toStr(0, currency, locale); } let labels = dish.labels; const isSpecial = _.includes(labels, 'featured'); labels = _.map(labels, (label) => ({ ...DishLabels[label], key: label, })); return { id: dish.id, condition: dish.condition, title: dish.title[locale], image: _.get(dish, 'media.logo'), price, priceCents, disabled: _.get(dish, 'condition.disabled', false), labels, isSpecial, };\\n}\\n\\n####"}
{"prompt":"define(['@parcel/optimizer-terser','split2','conventional-changelog-cli','everything.js','is-callable','pinkie-promise','is-builtin-module','make-async-function','jscodeshift','gulp-tag-version','css-declaration-sorter','@types/glob','babel-minify','@babel/plugin-transform-sticky-regex','concurrently','iconv-lite'], function(parcelOptimizerTerser,commondir,conventionalChangelogCli,gruntMochaCov,wessbergRollupPluginTs,wdioJasmineFramework,isBuiltinModule,d3TimeFormat,esm,typesOffscreencanvas,preCommit,babelHelperFunctionName,babelMinify,babelPluginTransformStickyRegex,tap,requireXml){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.wix.com/demone2/skateboard-shop (36)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/skateboard-shop', emulateMobileDevice: false, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/36-skateboard-shop/mesh/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import parcelOptimizerTerser from '@parcel/optimizer-terser'\\nimport commondir from 'split2'\\nimport conventionalChangelogCli from 'conventional-changelog-cli'\\nimport gruntMochaCov from 'everything.js'\\nimport wessbergRollupPluginTs from 'is-callable'\\nimport wdioJasmineFramework from 'pinkie-promise'\\nimport isBuiltinModule from 'is-builtin-module'\\nimport d3TimeFormat from 'make-async-function'\\nimport esm from 'jscodeshift'\\nimport typesOffscreencanvas from 'gulp-tag-version'\\nimport preCommit from 'css-declaration-sorter'\\nimport babelHelperFunctionName from '@types/glob'\\nimport babelMinify from 'babel-minify'\\nimport babelPluginTransformStickyRegex from '@babel/plugin-transform-sticky-regex'\\nimport tap from 'concurrently'\\nimport requireXml from 'iconv-lite'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.wix.com/demone2/skateboard-shop (36)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/skateboard-shop', emulateMobileDevice: false, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/36-skateboard-shop/mesh/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['postcss-discard-duplicates','@babel/helper-builder-binary-assignment-operator-visitor'], function(pathKey,babelHelperBuilderBinaryAssignmentOperatorVisitor){\\nimport { storeFactory } from './createStore';\\nimport { getInitialState } from '../../../__tests__/helpers/initialState';\\nimport { createMemoryHistory } from 'history';\\nimport organization from '../../../__tests__/helpers/organization.mock';\\nimport { LOCAL_STORAGE_FIRST_TIME_KEY } from './reducers/SessionReducer'; const initialState = getInitialState({});\\nconst env = {};\\nconst extraParams = { history: createMemoryHistory(), localStorage: { getItem: () => LOCAL_STORAGE_FIRST_TIME_KEY, },\\n}; describe('storeFactory', () => { it('Should create a store', () => { const createStore = storeFactory(); const store = createStore(initialState, env, extraParams); expect(store.getState().session.organization.id).toBe(organization.id); }); it('Should return the exact same store, if it is already configured', () => { const createStore = storeFactory(); const store1 = createStore(initialState, env, extraParams); const store2 = createStore(initialState, env, extraParams); expect(store1).toEqual(store2); });\\n});\\n\\n})\\n####","completion":" import pathKey from 'postcss-discard-duplicates'\\nimport babelHelperBuilderBinaryAssignmentOperatorVisitor from '@babel/helper-builder-binary-assignment-operator-visitor'\\n\\nimport { storeFactory } from './createStore';\\nimport { getInitialState } from '../../../__tests__/helpers/initialState';\\nimport { createMemoryHistory } from 'history';\\nimport organization from '../../../__tests__/helpers/organization.mock';\\nimport { LOCAL_STORAGE_FIRST_TIME_KEY } from './reducers/SessionReducer'; const initialState = getInitialState({});\\nconst env = {};\\nconst extraParams = { history: createMemoryHistory(), localStorage: { getItem: () => LOCAL_STORAGE_FIRST_TIME_KEY, },\\n}; describe('storeFactory', () => { it('Should create a store', () => { const createStore = storeFactory(); const store = createStore(initialState, env, extraParams); expect(store.getState().session.organization.id).toBe(organization.id); }); it('Should return the exact same store, if it is already configured', () => { const createStore = storeFactory(); const store1 = createStore(initialState, env, extraParams); const store2 = createStore(initialState, env, extraParams); expect(store1).toEqual(store2); });\\n});\\n\\n####"}
{"prompt":"define(['tempy','string_decoder','@babel/plugin-transform-modules-amd','babel-plugin-transform-es2015-constants','babel-plugin-react-require'], function(tempy,stringDecoder,seedrandom,babelPluginTransformEs2015Constants,postcssMergeRules){\\n'use strict'; Object.defineProperty(exports, \\\"__esModule\\\", { value: true\\n});\\nexports.default = getIntegrationPath; var _isLocal = require('./isLocal.js'); var _isLocal2 = _interopRequireDefault(_isLocal); function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; } var packageToFolder = { tpaIntegration: 'Santa-Integration-Protractor', wixCodeIntegration: 'js-wixcode-integration', viewerIntegration: 'viewer-integration', platformIntegrationEditor: 'js-platform-integration', tpaIntegrationEditor: 'Santa-Editor-Integration-Protractor' }; function getLocalBasePath(baseArtifact) { var protocol = (/^https?:/.exec(baseArtifact) || [''])[0]; return protocol + '//localhost:4578';\\n} function getIntegrationPath(packageName, baseArtifact) { var integrationBasePath = (0, _isLocal2.default)(baseArtifact) ? getLocalBasePath(baseArtifact) : 'https://s3.amazonaws.com/integration-tests-statics/' + packageToFolder[packageName] + '/SNAPSHOT/runners'; return integrationBasePath + '/' + packageName + '/src/main';\\n}\\n//# sourceMappingURL=getIntegrationPath.js.map\\n})\\n####","completion":" import tempy from 'tempy'\\nimport stringDecoder from 'string_decoder'\\nimport seedrandom from '@babel/plugin-transform-modules-amd'\\nimport babelPluginTransformEs2015Constants from 'babel-plugin-transform-es2015-constants'\\nimport postcssMergeRules from 'babel-plugin-react-require'\\n\\n'use strict'; Object.defineProperty(exports, \\\"__esModule\\\", { value: true\\n});\\nexports.default = getIntegrationPath; var _isLocal = require('./isLocal.js'); var _isLocal2 = _interopRequireDefault(_isLocal); function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; } var packageToFolder = { tpaIntegration: 'Santa-Integration-Protractor', wixCodeIntegration: 'js-wixcode-integration', viewerIntegration: 'viewer-integration', platformIntegrationEditor: 'js-platform-integration', tpaIntegrationEditor: 'Santa-Editor-Integration-Protractor' }; function getLocalBasePath(baseArtifact) { var protocol = (/^https?:/.exec(baseArtifact) || [''])[0]; return protocol + '//localhost:4578';\\n} function getIntegrationPath(packageName, baseArtifact) { var integrationBasePath = (0, _isLocal2.default)(baseArtifact) ? getLocalBasePath(baseArtifact) : 'https://s3.amazonaws.com/integration-tests-statics/' + packageToFolder[packageName] + '/SNAPSHOT/runners'; return integrationBasePath + '/' + packageName + '/src/main';\\n}\\n//# sourceMappingURL=getIntegrationPath.js.map\\n####"}
{"prompt":"define(['benny','inherits','ua-parser-js','karma-ie-launcher','escalade','mutate-fs','tsd','babel-plugin-istanbul','karma-coverage','v8-natives','ts-morph','hyperquest','@types/json-stable-stringify','@types/node','grunt-contrib-compress','array.prototype.map','@babel/helper-split-export-declaration','esprima'], function(benny,unicodeUnicode1400,uaParserJs,gruntSass,escalade,mutateFs,tsd,trysoundSax,gulpFormatMd,v8Natives,acColors,micromatch,typesJsonStableStringify,typesNode,gruntContribCompress,arrayPrototypeMap,babelHelperSplitExportDeclaration,parseNodeVersion){\\ndefine(['lodash'], function (_) { 'use strict' const measuringTypes = {} function setMeasuringForType(compTypes, measuringFunc) { if (!_.isArray(compTypes)) { compTypes = [compTypes] } _.forEach(compTypes, function (type) { measuringTypes[type] = measuringFunc }) } function getMeasuringByType(compType) { return measuringTypes[compType] } function getFixedComponentMeasurements(measuringFunc, compMeasuringInfo, screenSize, siteMarginBottom) { const compLayout = compMeasuringInfo.layout let measurements if (measuringFunc) { measurements = measuringFunc(compMeasuringInfo, screenSize.width, screenSize.height, siteMarginBottom || 0) } else { return null } return { top: measurements.top, left: measurements.left, height: compLayout.height, width: compLayout.width } } return { getFixedComponentMeasurements, setMeasuringForType, getMeasuringByType }\\n})\\n\\n})\\n####","completion":" import benny from 'benny'\\nimport unicodeUnicode1400 from 'inherits'\\nimport uaParserJs from 'ua-parser-js'\\nimport gruntSass from 'karma-ie-launcher'\\nimport escalade from 'escalade'\\nimport mutateFs from 'mutate-fs'\\nimport tsd from 'tsd'\\nimport trysoundSax from 'babel-plugin-istanbul'\\nimport gulpFormatMd from 'karma-coverage'\\nimport v8Natives from 'v8-natives'\\nimport acColors from 'ts-morph'\\nimport micromatch from 'hyperquest'\\nimport typesJsonStableStringify from '@types/json-stable-stringify'\\nimport typesNode from '@types/node'\\nimport gruntContribCompress from 'grunt-contrib-compress'\\nimport arrayPrototypeMap from 'array.prototype.map'\\nimport babelHelperSplitExportDeclaration from '@babel/helper-split-export-declaration'\\nimport parseNodeVersion from 'esprima'\\n\\ndefine(['lodash'], function (_) { 'use strict' const measuringTypes = {} function setMeasuringForType(compTypes, measuringFunc) { if (!_.isArray(compTypes)) { compTypes = [compTypes] } _.forEach(compTypes, function (type) { measuringTypes[type] = measuringFunc }) } function getMeasuringByType(compType) { return measuringTypes[compType] } function getFixedComponentMeasurements(measuringFunc, compMeasuringInfo, screenSize, siteMarginBottom) { const compLayout = compMeasuringInfo.layout let measurements if (measuringFunc) { measurements = measuringFunc(compMeasuringInfo, screenSize.width, screenSize.height, siteMarginBottom || 0) } else { return null } return { top: measurements.top, left: measurements.left, height: compLayout.height, width: compLayout.width } } return { getFixedComponentMeasurements, setMeasuringForType, getMeasuringByType }\\n})\\n\\n####"}
{"prompt":"define(['rewire','is-path-inside','@parcel/diagnostic','@babel/plugin-transform-block-scoping','astring','eslint-config-babel','@babel/helper-simple-access','@babel/plugin-transform-template-literals'], function(babelPluginProposalExportNamespaceFrom,isPathInside,q,babelPluginTransformBlockScoping,fsMinipass,ttyBrowserify,stable,esToPrimitive){\\nimport * as FacebookLogin from '../../src/FacebookLogin.js'\\nimport MockStorage from '../../__mocks__/MockStorage.js'; describe('FacebookLogin', function () { it('saves access token to AsyncStorage', async () => { const storageCache = {}; const AsyncStorage = new MockStorage(storageCache); jest.setMock('AsyncStorage', AsyncStorage) // When await FacebookLogin.hardLogin(); // Then expect(storageCache).toEqual({'@AppStore:fbAccessToken': 'access-token'}); jest.unmock('AsyncStorage'); }) it('\\\"hard\\\" logs in to facebook, returns access token', async () => { // When let response = await FacebookLogin.hardLogin(); // Then expect(response).toBe('access-token'); }) it('throws error if login fails', async () => { require('react-native-fbsdk').__setLoginReponse({shouldReject: true}); try { // When await FacebookLogin.hardLogin(); expect(true).toBe(false); } catch (err) { // Then (error thrown) } require('react-native-fbsdk').__reset(); })\\n})\\n\\n})\\n####","completion":" import babelPluginProposalExportNamespaceFrom from 'rewire'\\nimport isPathInside from 'is-path-inside'\\nimport q from '@parcel/diagnostic'\\nimport babelPluginTransformBlockScoping from '@babel/plugin-transform-block-scoping'\\nimport fsMinipass from 'astring'\\nimport ttyBrowserify from 'eslint-config-babel'\\nimport stable from '@babel/helper-simple-access'\\nimport esToPrimitive from '@babel/plugin-transform-template-literals'\\n\\nimport * as FacebookLogin from '../../src/FacebookLogin.js'\\nimport MockStorage from '../../__mocks__/MockStorage.js'; describe('FacebookLogin', function () { it('saves access token to AsyncStorage', async () => { const storageCache = {}; const AsyncStorage = new MockStorage(storageCache); jest.setMock('AsyncStorage', AsyncStorage) // When await FacebookLogin.hardLogin(); // Then expect(storageCache).toEqual({'@AppStore:fbAccessToken': 'access-token'}); jest.unmock('AsyncStorage'); }) it('\\\"hard\\\" logs in to facebook, returns access token', async () => { // When let response = await FacebookLogin.hardLogin(); // Then expect(response).toBe('access-token'); }) it('throws error if login fails', async () => { require('react-native-fbsdk').__setLoginReponse({shouldReject: true}); try { // When await FacebookLogin.hardLogin(); expect(true).toBe(false); } catch (err) { // Then (error thrown) } require('react-native-fbsdk').__reset(); })\\n})\\n\\n####"}
{"prompt":"define(['@types/jsesc','regexpu-core','@babel/plugin-proposal-async-generator-functions','supports-preserve-symlinks-flag','esutils','jest','cross-spawn','babel-preset-es2015','@mapbox/cloudfriend','file-loader','diff','broccoli-babel-transpiler','@babel/plugin-transform-parameters'], function(unicodeMatchPropertyValueEcmascript,babelPluginSyntaxOptionalCatchBinding,pathExists,baseX,gruntMochaIstanbul,gulpEslint,crossSpawn,babelPresetEs2015,numberIsNan,fileLoader,deepEqual,broccoliBabelTranspiler,babelPluginTransformParameters){\\nimport _ from 'lodash';\\nimport { openrestHelpers } from '@wix/wixrest-utils';\\nimport { regularMenu, largeMenu, menuWithDiscounts } from '../../../__tests__/helpers/menu.mock'; export const ONION_BURGER = 'onion-burger';\\nexport const PIZZA_MEAL = 'pizza-meal';\\nexport const GOOSE = 'goose'; export const itemsHash = _.zipObject(_.map(regularMenu.items, 'id'), regularMenu.items); export function getInternalMenu({ recursive = false, withDiscounts = false } = {}) { const menu = withDiscounts ? menuWithDiscounts : recursive ? largeMenu : regularMenu; return getInternalMenuImpl(menu);\\n} export function getInternalMenuImpl(menu) { const _menu = JSON.parse(JSON.stringify(menu)); (_menu.items || []).forEach(function (_item) { openrestHelpers.MenuAmi.convertVariationsToInternalVariations(_item.variations || []); }); const converted = openrestHelpers.MenuAmi.convertMenuToInternal({ menu: _menu }); const _itemsHash = _.zipObject(_.map(converted.items, 'id'), converted.items); return { menu: _menu, itemsHash: _itemsHash };\\n}\\n\\n})\\n####","completion":" import unicodeMatchPropertyValueEcmascript from '@types/jsesc'\\nimport babelPluginSyntaxOptionalCatchBinding from 'regexpu-core'\\nimport pathExists from '@babel/plugin-proposal-async-generator-functions'\\nimport baseX from 'supports-preserve-symlinks-flag'\\nimport gruntMochaIstanbul from 'esutils'\\nimport gulpEslint from 'jest'\\nimport crossSpawn from 'cross-spawn'\\nimport babelPresetEs2015 from 'babel-preset-es2015'\\nimport numberIsNan from '@mapbox/cloudfriend'\\nimport fileLoader from 'file-loader'\\nimport deepEqual from 'diff'\\nimport broccoliBabelTranspiler from 'broccoli-babel-transpiler'\\nimport babelPluginTransformParameters from '@babel/plugin-transform-parameters'\\n\\nimport _ from 'lodash';\\nimport { openrestHelpers } from '@wix/wixrest-utils';\\nimport { regularMenu, largeMenu, menuWithDiscounts } from '../../../__tests__/helpers/menu.mock'; export const ONION_BURGER = 'onion-burger';\\nexport const PIZZA_MEAL = 'pizza-meal';\\nexport const GOOSE = 'goose'; export const itemsHash = _.zipObject(_.map(regularMenu.items, 'id'), regularMenu.items); export function getInternalMenu({ recursive = false, withDiscounts = false } = {}) { const menu = withDiscounts ? menuWithDiscounts : recursive ? largeMenu : regularMenu; return getInternalMenuImpl(menu);\\n} export function getInternalMenuImpl(menu) { const _menu = JSON.parse(JSON.stringify(menu)); (_menu.items || []).forEach(function (_item) { openrestHelpers.MenuAmi.convertVariationsToInternalVariations(_item.variations || []); }); const converted = openrestHelpers.MenuAmi.convertMenuToInternal({ menu: _menu }); const _itemsHash = _.zipObject(_.map(converted.items, 'id'), converted.items); return { menu: _menu, itemsHash: _itemsHash };\\n}\\n\\n####"}
{"prompt":"define(['karma-browserstack-launcher','expect','postcss-colormin','grunt-banner','electron-releases','@parcel/logger','d3-path','commonjs-everywhere','postcss-minify-font-values','@babel/plugin-proposal-class-static-block','eslint-config-gulp','google-closure-deps'], function(karmaBrowserstackLauncher,browserifyIstanbul,babelPluginTransformEs2015Classes,babelPluginProposalAsyncGeneratorFunctions,typeCheck,parcelLogger,a,agentBase,postcssMinifyFontValues,ansiRegex,istanbulCoveralls,googleClosureDeps){\\nimport React from 'react';\\nimport { storiesOf } from '@storybook/react';\\nimport CustomerInformation from '../../src/components/CustomerInformation';\\nimport StoryComponent from '../StoryComponent';\\nimport { getInitialState } from '../../__tests__/helpers/initialState';\\nimport { contacts } from '../../__tests__/helpers/dataTypes.mocks';\\nimport { commentsMock } from '../../__tests__/helpers/comments.mock'; const callerInfo = { contacts };\\nconst style = { display: 'flex', flexWrap: 'wrap', justifyContent: 'space-around',\\n}; function CustomerInformationStory() { const [isOpen, setIsOpen] = React.useState(false); return ( <div style={style}> <StoryComponent noFetch initialState={getInitialState({ phone: '054-5554444' })}> <CustomerInformation /> </StoryComponent> <StoryComponent noFetch initialState={getInitialState({ callerInfo, comments: commentsMock })}> <CustomerInformation /> </StoryComponent> <button onClick={() => setIsOpen(!isOpen)}>Click</button> <StoryComponent noFetch initialState={getInitialState({ callerInfo, comments: commentsMock })}> <CustomerInformation isModal isOpen={isOpen} onRequestClose={() => setIsOpen(!isOpen)} /> </StoryComponent> </div> );\\n} storiesOf('CustomerInformation', module).add('CustomerInformation', () => <CustomerInformationStory />);\\n\\n})\\n####","completion":" import karmaBrowserstackLauncher from 'karma-browserstack-launcher'\\nimport browserifyIstanbul from 'expect'\\nimport babelPluginTransformEs2015Classes from 'postcss-colormin'\\nimport babelPluginProposalAsyncGeneratorFunctions from 'grunt-banner'\\nimport typeCheck from 'electron-releases'\\nimport parcelLogger from '@parcel/logger'\\nimport a from 'd3-path'\\nimport agentBase from 'commonjs-everywhere'\\nimport postcssMinifyFontValues from 'postcss-minify-font-values'\\nimport ansiRegex from '@babel/plugin-proposal-class-static-block'\\nimport istanbulCoveralls from 'eslint-config-gulp'\\nimport googleClosureDeps from 'google-closure-deps'\\n\\nimport React from 'react';\\nimport { storiesOf } from '@storybook/react';\\nimport CustomerInformation from '../../src/components/CustomerInformation';\\nimport StoryComponent from '../StoryComponent';\\nimport { getInitialState } from '../../__tests__/helpers/initialState';\\nimport { contacts } from '../../__tests__/helpers/dataTypes.mocks';\\nimport { commentsMock } from '../../__tests__/helpers/comments.mock'; const callerInfo = { contacts };\\nconst style = { display: 'flex', flexWrap: 'wrap', justifyContent: 'space-around',\\n}; function CustomerInformationStory() { const [isOpen, setIsOpen] = React.useState(false); return ( <div style={style}> <StoryComponent noFetch initialState={getInitialState({ phone: '054-5554444' })}> <CustomerInformation /> </StoryComponent> <StoryComponent noFetch initialState={getInitialState({ callerInfo, comments: commentsMock })}> <CustomerInformation /> </StoryComponent> <button onClick={() => setIsOpen(!isOpen)}>Click</button> <StoryComponent noFetch initialState={getInitialState({ callerInfo, comments: commentsMock })}> <CustomerInformation isModal isOpen={isOpen} onRequestClose={() => setIsOpen(!isOpen)} /> </StoryComponent> </div> );\\n} storiesOf('CustomerInformation', module).add('CustomerInformation', () => <CustomerInformationStory />);\\n\\n####"}
{"prompt":"define(['dotenv-expand'], function(stylelintProcessorStyledComponents){\\n(function (f) { if (typeof exports === \\\"object\\\" && typeof module !== \\\"undefined\\\") { module.exports = f() } else if (typeof define === \\\"function\\\" && define.amd) { define([], f) } else { var g; if (typeof window !== \\\"undefined\\\") { g = window } else if (typeof global !== \\\"undefined\\\") { g = global } else if (typeof self !== \\\"undefined\\\") { g = self } else { g = this } g.TestModule = f() } })(function () { var define, module, exports; return (function () { function r(e, n, t) { function o(i, f) { if (!n[i]) { if (!e[i]) { var c = \\\"function\\\" == typeof require && require; if (!f && c) return c(i, !0); if (u) return u(i, !0); var a = new Error(\\\"Cannot find module '\\\" + i + \\\"'\\\"); throw a.code = \\\"MODULE_NOT_FOUND\\\", a } var p = n[i] = { exports: {} }; e[i][0].call(p.exports, function (r) { var n = e[i][1][r]; return o(n || r) }, p, p.exports, r, e, n, t) } return n[i].exports } for (var u = \\\"function\\\" == typeof require && require, i = 0; i < t.length; i++)o(t[i]); return o } return r })()({ 1: [function (require, module, exports) { Object.defineProperty(exports, \\\"__esModule\\\", { value: true }); exports.button1_click = button1_click; function button1_click(event, $w) { console.log(event, $w) } }, {}] }, {}, [1])(1)\\n});\\n})\\n####","completion":" import stylelintProcessorStyledComponents from 'dotenv-expand'\\n\\n(function (f) { if (typeof exports === \\\"object\\\" && typeof module !== \\\"undefined\\\") { module.exports = f() } else if (typeof define === \\\"function\\\" && define.amd) { define([], f) } else { var g; if (typeof window !== \\\"undefined\\\") { g = window } else if (typeof global !== \\\"undefined\\\") { g = global } else if (typeof self !== \\\"undefined\\\") { g = self } else { g = this } g.TestModule = f() } })(function () { var define, module, exports; return (function () { function r(e, n, t) { function o(i, f) { if (!n[i]) { if (!e[i]) { var c = \\\"function\\\" == typeof require && require; if (!f && c) return c(i, !0); if (u) return u(i, !0); var a = new Error(\\\"Cannot find module '\\\" + i + \\\"'\\\"); throw a.code = \\\"MODULE_NOT_FOUND\\\", a } var p = n[i] = { exports: {} }; e[i][0].call(p.exports, function (r) { var n = e[i][1][r]; return o(n || r) }, p, p.exports, r, e, n, t) } return n[i].exports } for (var u = \\\"function\\\" == typeof require && require, i = 0; i < t.length; i++)o(t[i]); return o } return r })()({ 1: [function (require, module, exports) { Object.defineProperty(exports, \\\"__esModule\\\", { value: true }); exports.button1_click = button1_click; function button1_click(event, $w) { console.log(event, $w) } }, {}] }, {}, [1])(1)\\n});\\n####"}
{"prompt":"define(['coco','caniuse-lite','cheerio'], function(coco,parseJson,karmaQunit){\\nimport React from 'react'; export default class extends React.Component { render() { return ( <svg width=\\\"10px\\\" height=\\\"2px\\\" viewBox=\\\"0 0 10 2\\\"> <filter filterUnits=\\\"objectBoundingBox\\\" x=\\\"0.00\\\" y=\\\"0.00\\\" width=\\\"100.00\\\" height=\\\"100.00\\\" id=\\\"filter0\\\" > <feFlood flood-color=\\\"rgb(231,114,47)\\\" result=\\\"coFloodOut1\\\" /> <feComposite in=\\\"coFloodOut1\\\" in2=\\\"SourceAlpha\\\" operator=\\\"in\\\" result=\\\"coOverlay1\\\" /> <feBlend in=\\\"coOverlay1\\\" in2=\\\"SourceGraphic\\\" mode=\\\"normal\\\" result=\\\"colorOverlay1\\\" /> </filter> <path fillRule=\\\"evenodd\\\" d=\\\"M 0 2C 0 2 0-0 0-0 0-0 10-0 10-0 10-0 10 2 10 2 10 2 0 2 0 2Z\\\" fill=\\\"rgb(65,186,173)\\\" filter=\\\"url(#filter0)\\\" /> </svg> ); }\\n}\\n\\n})\\n####","completion":" import coco from 'coco'\\nimport parseJson from 'caniuse-lite'\\nimport karmaQunit from 'cheerio'\\n\\nimport React from 'react'; export default class extends React.Component { render() { return ( <svg width=\\\"10px\\\" height=\\\"2px\\\" viewBox=\\\"0 0 10 2\\\"> <filter filterUnits=\\\"objectBoundingBox\\\" x=\\\"0.00\\\" y=\\\"0.00\\\" width=\\\"100.00\\\" height=\\\"100.00\\\" id=\\\"filter0\\\" > <feFlood flood-color=\\\"rgb(231,114,47)\\\" result=\\\"coFloodOut1\\\" /> <feComposite in=\\\"coFloodOut1\\\" in2=\\\"SourceAlpha\\\" operator=\\\"in\\\" result=\\\"coOverlay1\\\" /> <feBlend in=\\\"coOverlay1\\\" in2=\\\"SourceGraphic\\\" mode=\\\"normal\\\" result=\\\"colorOverlay1\\\" /> </filter> <path fillRule=\\\"evenodd\\\" d=\\\"M 0 2C 0 2 0-0 0-0 0-0 10-0 10-0 10-0 10 2 10 2 10 2 0 2 0 2Z\\\" fill=\\\"rgb(65,186,173)\\\" filter=\\\"url(#filter0)\\\" /> </svg> ); }\\n}\\n\\n####"}
{"prompt":"define(['tsd','proxyquire','@parcel/config-default'], function(tsd,proxyquire,parcelConfigDefault){\\n'use strict'\\nconst _ = require('lodash')\\nconst ViewerComponent = require('../../baseComponents/ViewerComponent')\\nconst componentType = 'wysiwyg.viewer.components.inputs.RadioGroup'\\nconst {getSkinPartComputedStyleProperty} = require('../utils') /** * @extends ViewerComponent */\\nclass ViewerRadioGroupComponent extends ViewerComponent { getOptions() { return this.previewFrame.evaluate(id => { const options = Array.from(window.document.querySelectorAll(`#${id} label > input[type=\\\"radio\\\"] ~ div ~ div`)) return _.map(options, 'innerHTML') }, this.id) } getSelectedOptionIndex() { return this.previewFrame.evaluate(id => { const options = Array.from(window.document.querySelectorAll(`#${id} label > input[type=\\\"radio\\\"]`)) return _.findIndex(options, 'checked') }, this.id) } async getFontSize() { return getSkinPartComputedStyleProperty(this.previewFrame, this.id, 'label', 'fontSize') }\\n} module.exports = { componentType, addPanelCategory: 'developer', addPanelSectionAutomationId: 'add-panel-section-radioGroupSection', EditorComponent: null, ViewerComponent: ViewerRadioGroupComponent\\n}\\n\\n})\\n####","completion":" import tsd from 'tsd'\\nimport proxyquire from 'proxyquire'\\nimport parcelConfigDefault from '@parcel/config-default'\\n\\n'use strict'\\nconst _ = require('lodash')\\nconst ViewerComponent = require('../../baseComponents/ViewerComponent')\\nconst componentType = 'wysiwyg.viewer.components.inputs.RadioGroup'\\nconst {getSkinPartComputedStyleProperty} = require('../utils') /** * @extends ViewerComponent */\\nclass ViewerRadioGroupComponent extends ViewerComponent { getOptions() { return this.previewFrame.evaluate(id => { const options = Array.from(window.document.querySelectorAll(`#${id} label > input[type=\\\"radio\\\"] ~ div ~ div`)) return _.map(options, 'innerHTML') }, this.id) } getSelectedOptionIndex() { return this.previewFrame.evaluate(id => { const options = Array.from(window.document.querySelectorAll(`#${id} label > input[type=\\\"radio\\\"]`)) return _.findIndex(options, 'checked') }, this.id) } async getFontSize() { return getSkinPartComputedStyleProperty(this.previewFrame, this.id, 'label', 'fontSize') }\\n} module.exports = { componentType, addPanelCategory: 'developer', addPanelSectionAutomationId: 'add-panel-section-radioGroupSection', EditorComponent: null, ViewerComponent: ViewerRadioGroupComponent\\n}\\n\\n####"}
{"prompt":"define(['htmlparser2','mock-require','@types/semver','purgecss','@commitlint/config-conventional','react-test-renderer','core-util-is','in-publish','jest-config','@mapbox/cloudfriend','world-atlas','node-tick-processor'], function(isSymbol,mockRequire,rsvp,purgecss,commitlintConfigConventional,reactTestRenderer,globby,htmlparser2,jestConfig,numberIsNan,babelPluginProposalObjectRestSpread,babelPluginReactRequire){\\nexport class CommonProtocolClient { constructor({XMLHttpRequest, endpointUrl, timeout}) { this.XMLHttpRequest = XMLHttpRequest this.endpointUrl = endpointUrl this.timeout = timeout || 0 } doRequest(resource, request) { return new Promise((resolve, reject) => { let xhr = new this.XMLHttpRequest() xhr.ontimeout = () => reject({ code: 'timeout', description: 'request timed out' }); xhr.onerror = () => reject({ code: 'network_down', description: 'network is down' }) xhr.onload = () => { try { const response = JSON.parse(xhr.responseText) if (response.error) { reject(response.error) } else { resolve(response.value) } } catch (e) { reject({ code: 'protocol', description: 'unexpected response format' }) } } xhr.open('POST', this.endpointUrl + resource, true) xhr.timeout = this.timeout xhr.setRequestHeader('Content-Type', 'application/json') xhr.send(JSON.stringify(request)) }) } }\\n})\\n####","completion":" import isSymbol from 'htmlparser2'\\nimport mockRequire from 'mock-require'\\nimport rsvp from '@types/semver'\\nimport purgecss from 'purgecss'\\nimport commitlintConfigConventional from '@commitlint/config-conventional'\\nimport reactTestRenderer from 'react-test-renderer'\\nimport globby from 'core-util-is'\\nimport htmlparser2 from 'in-publish'\\nimport jestConfig from 'jest-config'\\nimport numberIsNan from '@mapbox/cloudfriend'\\nimport babelPluginProposalObjectRestSpread from 'world-atlas'\\nimport babelPluginReactRequire from 'node-tick-processor'\\n\\nexport class CommonProtocolClient { constructor({XMLHttpRequest, endpointUrl, timeout}) { this.XMLHttpRequest = XMLHttpRequest this.endpointUrl = endpointUrl this.timeout = timeout || 0 } doRequest(resource, request) { return new Promise((resolve, reject) => { let xhr = new this.XMLHttpRequest() xhr.ontimeout = () => reject({ code: 'timeout', description: 'request timed out' }); xhr.onerror = () => reject({ code: 'network_down', description: 'network is down' }) xhr.onload = () => { try { const response = JSON.parse(xhr.responseText) if (response.error) { reject(response.error) } else { resolve(response.value) } } catch (e) { reject({ code: 'protocol', description: 'unexpected response format' }) } } xhr.open('POST', this.endpointUrl + resource, true) xhr.timeout = this.timeout xhr.setRequestHeader('Content-Type', 'application/json') xhr.send(JSON.stringify(request)) }) } }\\n####"}
{"prompt":"define(['glamor','eslint-config-moxy','@tensorflow/tfjs-core','@babel/plugin-transform-template-literals','babel6-plugin-strip-class-callcheck'], function(glamor,babelTypes,tensorflowTfjsCore,esToPrimitive,babel6PluginStripClassCallcheck){\\nimport _ from 'lodash';\\nimport moment from 'moment-timezone';\\nimport {getEarliestAvailableTime} from 'availability';\\nimport Restaurant from '../Restaurant';\\nimport futureDeliveryHelper from './FutureDeliveryHelper';\\nimport {canPotentiallySelectDeliveryTypeNow} from './DeliveryMethodsHelper'; export default class Availability { constructor(_moment = moment) { this.moment = _moment; } canOrderAsap({organization}) { if (_.get(organization, 'orders.asap.disabled')) return false; var {hasTakeout, hasDelivery, takeout, delivery} = Restaurant.getDeliveryOptions({ restaurant: organization, cal: this.moment() }); return hasTakeout && (takeout.available || takeout.preorder) || hasDelivery && (delivery.available || delivery.preorder); } canOrderSpecificTime({cart, organization}) { let deliveryType = cart.delivery.type; return futureDeliveryHelper.isFutureOrdersActivated(organization) && canPotentiallySelectDeliveryTypeNow(deliveryType, organization, this.moment); } getFirstAvailabilityStartTime(availability, from) { const timestamp = getEarliestAvailableTime(availability, from); return moment(timestamp); }\\n}\\n\\n})\\n####","completion":" import glamor from 'glamor'\\nimport babelTypes from 'eslint-config-moxy'\\nimport tensorflowTfjsCore from '@tensorflow/tfjs-core'\\nimport esToPrimitive from '@babel/plugin-transform-template-literals'\\nimport babel6PluginStripClassCallcheck from 'babel6-plugin-strip-class-callcheck'\\n\\nimport _ from 'lodash';\\nimport moment from 'moment-timezone';\\nimport {getEarliestAvailableTime} from 'availability';\\nimport Restaurant from '../Restaurant';\\nimport futureDeliveryHelper from './FutureDeliveryHelper';\\nimport {canPotentiallySelectDeliveryTypeNow} from './DeliveryMethodsHelper'; export default class Availability { constructor(_moment = moment) { this.moment = _moment; } canOrderAsap({organization}) { if (_.get(organization, 'orders.asap.disabled')) return false; var {hasTakeout, hasDelivery, takeout, delivery} = Restaurant.getDeliveryOptions({ restaurant: organization, cal: this.moment() }); return hasTakeout && (takeout.available || takeout.preorder) || hasDelivery && (delivery.available || delivery.preorder); } canOrderSpecificTime({cart, organization}) { let deliveryType = cart.delivery.type; return futureDeliveryHelper.isFutureOrdersActivated(organization) && canPotentiallySelectDeliveryTypeNow(deliveryType, organization, this.moment); } getFirstAvailabilityStartTime(availability, from) { const timestamp = getEarliestAvailableTime(availability, from); return moment(timestamp); }\\n}\\n\\n####"}
{"prompt":"define(['eslint-config-rackt','@babel/plugin-syntax-optional-chaining','regexgen'], function(eslintConfigRackt,babelPluginSyntaxOptionalChaining,regexgen){\\n'use strict'\\nconst _ = require('lodash') function getPublicState(state) { return { shouldShowValidationIndication: _.get(state, 'shouldShowValidationIndication', false), customValidityToSet: null }\\n} module.exports = { validatableWithSync: { getInitialState() { return { validateData: {} } }, isValid() { return _.get(this.state, ['validateData', 'validity', 'valid'], true) }, getValidity() { return _.get(this.state, ['validateData', 'validity']) }, syncValidationData(validateData) { this.setState({validateData}) }, updateValidityIndication(value) { this.setState({shouldShowValidationIndication: value}) }, showValidityIndication() { this.updateValidityIndication(true) }, hideValidityIndication() { this.updateValidityIndication(false) }, shouldShowValidityIndication() { return this.state.shouldShowValidationIndication }, resetValidity() { this.setState({validateData: {}}) } }, getPublicState, VALIDATABLE_WITH_SYNC_BEHAVIORS: { updateValidityIndication: {methodName: 'updateValidityIndication', params: ['value']}, syncValidationData: {methodName: 'syncValidationData', params: ['validateData']} }\\n}\\n})\\n####","completion":" import eslintConfigRackt from 'eslint-config-rackt'\\nimport babelPluginSyntaxOptionalChaining from '@babel/plugin-syntax-optional-chaining'\\nimport regexgen from 'regexgen'\\n\\n'use strict'\\nconst _ = require('lodash') function getPublicState(state) { return { shouldShowValidationIndication: _.get(state, 'shouldShowValidationIndication', false), customValidityToSet: null }\\n} module.exports = { validatableWithSync: { getInitialState() { return { validateData: {} } }, isValid() { return _.get(this.state, ['validateData', 'validity', 'valid'], true) }, getValidity() { return _.get(this.state, ['validateData', 'validity']) }, syncValidationData(validateData) { this.setState({validateData}) }, updateValidityIndication(value) { this.setState({shouldShowValidationIndication: value}) }, showValidityIndication() { this.updateValidityIndication(true) }, hideValidityIndication() { this.updateValidityIndication(false) }, shouldShowValidityIndication() { return this.state.shouldShowValidationIndication }, resetValidity() { this.setState({validateData: {}}) } }, getPublicState, VALIDATABLE_WITH_SYNC_BEHAVIORS: { updateValidityIndication: {methodName: 'updateValidityIndication', params: ['value']}, syncValidationData: {methodName: 'syncValidationData', params: ['validateData']} }\\n}\\n####"}
{"prompt":"define(['stable','npmignore','@docusaurus/preset-classic','@babel/highlight','shelljs-release','colorette','yallist','fbjs-scripts','buffer','agent-base'], function(babelEslint,webdriverio,docusaurusPresetClassic,babelHighlight,domSerializer,colorette,asap,fbjsScripts,mdxJsReact,util){\\nconst {withDocumentServices} = require('../../../../testkit') const getPageIds = frame => frame.evaluate(() => window.documentServices.pages.getPageIdList())\\nconst runTest = async ({site}) => { const frame = site.viewerFrame const pagesIdsBefore = await getPageIds(frame) const {pageIds, menu} = await frame.evaluate( () => new Promise(resolve => { const ds = window.documentServices ds.pages.add('new page') setTimeout(() => { resolve({ pageIds: ds.pages.getPageIdList(), menu: ds.menu.getById('CUSTOM_MAIN_MENU') }) }, 100) }) ) expect(pageIds.length).toBe(pagesIdsBefore.length + 1) expect(menu.items.map(i => i.label)).toEqual(['HOME', 'new page'])\\n} test( 'RESPONSIVE: should add blank page', withDocumentServices( { forceResponsive: true, experimentsOn: ['sv_newResponsiveDataModels'] }, runTest )\\n)\\n\\n})\\n####","completion":" import babelEslint from 'stable'\\nimport webdriverio from 'npmignore'\\nimport docusaurusPresetClassic from '@docusaurus/preset-classic'\\nimport babelHighlight from '@babel/highlight'\\nimport domSerializer from 'shelljs-release'\\nimport colorette from 'colorette'\\nimport asap from 'yallist'\\nimport fbjsScripts from 'fbjs-scripts'\\nimport mdxJsReact from 'buffer'\\nimport util from 'agent-base'\\n\\nconst {withDocumentServices} = require('../../../../testkit') const getPageIds = frame => frame.evaluate(() => window.documentServices.pages.getPageIdList())\\nconst runTest = async ({site}) => { const frame = site.viewerFrame const pagesIdsBefore = await getPageIds(frame) const {pageIds, menu} = await frame.evaluate( () => new Promise(resolve => { const ds = window.documentServices ds.pages.add('new page') setTimeout(() => { resolve({ pageIds: ds.pages.getPageIdList(), menu: ds.menu.getById('CUSTOM_MAIN_MENU') }) }, 100) }) ) expect(pageIds.length).toBe(pagesIdsBefore.length + 1) expect(menu.items.map(i => i.label)).toEqual(['HOME', 'new page'])\\n} test( 'RESPONSIVE: should add blank page', withDocumentServices( { forceResponsive: true, experimentsOn: ['sv_newResponsiveDataModels'] }, runTest )\\n)\\n\\n####"}
{"prompt":"define(['@babel/plugin-transform-new-target','shx','isarray','copyfiles','toml-require','prelude-ls','babel-plugin-transform-es2015-computed-properties','phantomjs-prebuilt','@swc/cli','detect-browser','postcss-minify-selectors','grunt-contrib-watch','@parcel/optimizer-image','protobufjs','rewire'], function(temp,urlLoader,isarray,uglifyRegister,gracefulFs,preludeLs,errorCause,phantomjsPrebuilt,makeDir,postcssDiscardComments,postcssMinifySelectors,regjsgen,commonjsEverywhere,protobufjs,babelPluginProposalExportNamespaceFrom){\\nimport React from 'react'; export default class extends React.Component { render() { var rotate = this.props.rotate || 0; var style = { transform: 'rotate(' + rotate + 'deg)', }; if (this.props.animate) { style.transition = 'transform 0.2s ease-out'; } return ( <svg width='9' height='5' viewBox='0 0 1843 1024' className={this.props.className} style={style}> <g id='icomoon-ignore'></g> <path d='M1638.4 204.8c0 0 0 204.8 0 204.8s-204.8 0-204.8 0c0 0 0 204.8 0 204.8s-204.8 0-204.8 0c0 0 0 204.8 0 204.8s-204.8 0-204.8 0c0 0 0 204.8 0 204.8s-204.8 0-204.8 0c0 0 0-204.8 0-204.8s-204.8 0-204.8 0c0 0 0-204.8 0-204.8s-204.8 0-204.8 0c0 0 0-204.8 0-204.8s-204.8 0-204.8 0c0 0 0-204.8 0-204.8s-204.8 0-204.8 0c0 0 0-204.8 0-204.8s204.8 0 204.8 0c0 0 204.8 0 204.8 0s0 204.8 0 204.8c0 0 204.8 0 204.8 0s0 204.8 0 204.8c0 0 204.8 0 204.8 0s0 204.8 0 204.8c0 0 204.8 0 204.8 0s0-204.8 0-204.8c0 0 204.8 0 204.8 0s0-204.8 0-204.8c0 0 204.8 0 204.8 0s0-204.8 0-204.8c0 0 204.8 0 204.8 0s204.8 0 204.8 0c0 0 0 204.8 0 204.8s-204.8 0-204.8 0z'></path> </svg> ); }\\n}\\n\\n})\\n####","completion":" import temp from '@babel/plugin-transform-new-target'\\nimport urlLoader from 'shx'\\nimport isarray from 'isarray'\\nimport uglifyRegister from 'copyfiles'\\nimport gracefulFs from 'toml-require'\\nimport preludeLs from 'prelude-ls'\\nimport errorCause from 'babel-plugin-transform-es2015-computed-properties'\\nimport phantomjsPrebuilt from 'phantomjs-prebuilt'\\nimport makeDir from '@swc/cli'\\nimport postcssDiscardComments from 'detect-browser'\\nimport postcssMinifySelectors from 'postcss-minify-selectors'\\nimport regjsgen from 'grunt-contrib-watch'\\nimport commonjsEverywhere from '@parcel/optimizer-image'\\nimport protobufjs from 'protobufjs'\\nimport babelPluginProposalExportNamespaceFrom from 'rewire'\\n\\nimport React from 'react'; export default class extends React.Component { render() { var rotate = this.props.rotate || 0; var style = { transform: 'rotate(' + rotate + 'deg)', }; if (this.props.animate) { style.transition = 'transform 0.2s ease-out'; } return ( <svg width='9' height='5' viewBox='0 0 1843 1024' className={this.props.className} style={style}> <g id='icomoon-ignore'></g> <path d='M1638.4 204.8c0 0 0 204.8 0 204.8s-204.8 0-204.8 0c0 0 0 204.8 0 204.8s-204.8 0-204.8 0c0 0 0 204.8 0 204.8s-204.8 0-204.8 0c0 0 0 204.8 0 204.8s-204.8 0-204.8 0c0 0 0-204.8 0-204.8s-204.8 0-204.8 0c0 0 0-204.8 0-204.8s-204.8 0-204.8 0c0 0 0-204.8 0-204.8s-204.8 0-204.8 0c0 0 0-204.8 0-204.8s-204.8 0-204.8 0c0 0 0-204.8 0-204.8s204.8 0 204.8 0c0 0 204.8 0 204.8 0s0 204.8 0 204.8c0 0 204.8 0 204.8 0s0 204.8 0 204.8c0 0 204.8 0 204.8 0s0 204.8 0 204.8c0 0 204.8 0 204.8 0s0-204.8 0-204.8c0 0 204.8 0 204.8 0s0-204.8 0-204.8c0 0 204.8 0 204.8 0s0-204.8 0-204.8c0 0 204.8 0 204.8 0s204.8 0 204.8 0c0 0 0 204.8 0 204.8s-204.8 0-204.8 0z'></path> </svg> ); }\\n}\\n\\n####"}
{"prompt":"define(['timsort','json-source-map','copy-dir','travis-deploy-once','classnames','@babel/preset-modules','timers-browserify','jscodeshift','@babel/plugin-transform-literals','unicode-9.0.0'], function(babelTemplate,jsonSourceMap,copyDir,parcelPackagerCss,classnames,process,babelLoader,esm,babelPluginTransformLiterals,tensorflowTfjs){\\nconst responseHeaders = require('./responseHeaders')\\nconst _ = require('lodash') const headers = _.defaults({ 'access-control-allow-origin': 'https://editor.wix.com', 'Access-Control-Allow-Credentials': 'true', 'Access-Control-Allow-Headers': 'origin,x-requested-with,access-control-request-headers,content-type,access-control-request-method,accept', 'access-control-allow-methods': 'POST'\\n}, responseHeaders.json) module.exports = { VALIDATION_ERROR: { status: 400, headers, body: JSON.stringify({ message: 'company has size 0, expected 2 or more, appName has size 0, expected 2 or more', details: {}, cause: {} }) }, BLACK_LIST_ERROR: { status: 403, headers, body: JSON.stringify({ message: 'name space can not use company google', details: {}, cause: {} }) }, NO_APP_DEF_ID_ERROR: { status: 404, headers, body: JSON.stringify({ message: 'appId with value \\\"f\\\" is not a valid GUID', details: {}, cause: {} }) }, EXISTING_NAMESPACE_ERROR: { status: 409, headers, body: JSON.stringify({ message: 'name space for app 3784630f-6dbf-4f48-9f34-cf5dd8407bfb was not found', details: {}, cause: {} }) }\\n}\\n})\\n####","completion":" import babelTemplate from 'timsort'\\nimport jsonSourceMap from 'json-source-map'\\nimport copyDir from 'copy-dir'\\nimport parcelPackagerCss from 'travis-deploy-once'\\nimport classnames from 'classnames'\\nimport process from '@babel/preset-modules'\\nimport babelLoader from 'timers-browserify'\\nimport esm from 'jscodeshift'\\nimport babelPluginTransformLiterals from '@babel/plugin-transform-literals'\\nimport tensorflowTfjs from 'unicode-9.0.0'\\n\\nconst responseHeaders = require('./responseHeaders')\\nconst _ = require('lodash') const headers = _.defaults({ 'access-control-allow-origin': 'https://editor.wix.com', 'Access-Control-Allow-Credentials': 'true', 'Access-Control-Allow-Headers': 'origin,x-requested-with,access-control-request-headers,content-type,access-control-request-method,accept', 'access-control-allow-methods': 'POST'\\n}, responseHeaders.json) module.exports = { VALIDATION_ERROR: { status: 400, headers, body: JSON.stringify({ message: 'company has size 0, expected 2 or more, appName has size 0, expected 2 or more', details: {}, cause: {} }) }, BLACK_LIST_ERROR: { status: 403, headers, body: JSON.stringify({ message: 'name space can not use company google', details: {}, cause: {} }) }, NO_APP_DEF_ID_ERROR: { status: 404, headers, body: JSON.stringify({ message: 'appId with value \\\"f\\\" is not a valid GUID', details: {}, cause: {} }) }, EXISTING_NAMESPACE_ERROR: { status: 409, headers, body: JSON.stringify({ message: 'name space for app 3784630f-6dbf-4f48-9f34-cf5dd8407bfb was not found', details: {}, cause: {} }) }\\n}\\n####"}
{"prompt":"define(['@parcel/packager-css','babel-plugin-transform-es2015-computed-properties','stylelint','@babel/helper-plugin-test-runner','clinton'], function(weakLruCache,errorCause,stylelint,reactRefresh,postcssNormalizeCharset){\\nimport React from 'react';\\nimport OrderConfirmationModal from './OrderConfirmationModal';\\nimport Driver from './OrderConfirmationModal.driver';\\nimport { mount } from 'enzyme';\\nimport StoryComponent from '../../../stories/StoryComponent'; describe('OrderConfirmationModal', () => { let wrapper, driver; const orderConfirmed = jest.fn(); const onRequestClose = jest.fn(); beforeEach(() => { wrapper = mount( <StoryComponent> <OrderConfirmationModal onRequestClose={onRequestClose} onDone={orderConfirmed} deliveryTime=\\\"Fake\\\" orderNumber=\\\"123\\\" /> </StoryComponent>, ); driver = new Driver(wrapper); }); it('Should call onDone with order comments', async () => { driver.enterComments('This is my comment'); expect(driver.getComments()).toBe('This is my comment'); await driver.clickDone(); expect(orderConfirmed).toBeCalledWith({ commentStr: 'This is my comment' }); expect(onRequestClose).toBeCalled(); });\\n});\\n\\n})\\n####","completion":" import weakLruCache from '@parcel/packager-css'\\nimport errorCause from 'babel-plugin-transform-es2015-computed-properties'\\nimport stylelint from 'stylelint'\\nimport reactRefresh from '@babel/helper-plugin-test-runner'\\nimport postcssNormalizeCharset from 'clinton'\\n\\nimport React from 'react';\\nimport OrderConfirmationModal from './OrderConfirmationModal';\\nimport Driver from './OrderConfirmationModal.driver';\\nimport { mount } from 'enzyme';\\nimport StoryComponent from '../../../stories/StoryComponent'; describe('OrderConfirmationModal', () => { let wrapper, driver; const orderConfirmed = jest.fn(); const onRequestClose = jest.fn(); beforeEach(() => { wrapper = mount( <StoryComponent> <OrderConfirmationModal onRequestClose={onRequestClose} onDone={orderConfirmed} deliveryTime=\\\"Fake\\\" orderNumber=\\\"123\\\" /> </StoryComponent>, ); driver = new Driver(wrapper); }); it('Should call onDone with order comments', async () => { driver.enterComments('This is my comment'); expect(driver.getComments()).toBe('This is my comment'); await driver.clickDone(); expect(orderConfirmed).toBeCalledWith({ commentStr: 'This is my comment' }); expect(onRequestClose).toBeCalled(); });\\n});\\n\\n####"}
{"prompt":"define(['stylelint-config-standard'], function(d3Time){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.wix.com/demone2/advertising-and-mark (24)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/advertising-and-mark', emulateMobileDevice: true, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/24-advertising-and-marketing-firm/anchors/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import d3Time from 'stylelint-config-standard'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.wix.com/demone2/advertising-and-mark (24)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/advertising-and-mark', emulateMobileDevice: true, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/24-advertising-and-marketing-firm/anchors/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['@babel/plugin-transform-modules-umd','rollup-plugin-babel-minify','@babel/helper-explode-assignable-expression','source-map','available-regexp-flags','@types/color-convert','whatwg-fetch','@babel/plugin-transform-named-capturing-groups-regex','cogent','follow-redirects','grunt-release','gulp-rename','nanoid','prelude-ls','kcd-scripts','@babel/plugin-syntax-dynamic-import','mock-require','@napi-rs/cli'], function(babelPluginTransformModulesUmd,babelHelperWrapFunction,errorEx,sourceMap,availableRegexpFlags,typesColorConvert,whatwgFetch,babelPluginTransformNamedCapturingGroupsRegex,cogent,shx,gruntRelease,gulpRename,gruntBrowserify,preludeLs,babelPluginTransformEs2015BlockScoping,babelHelperMemberExpressionToFunctions,mockRequire,napiRsCli){\\nimport { SectionHelperTestkit } from 'wix-style-react/dist/testkit/enzyme';\\nimport { TextButtonTestkit } from 'wix-style-react/dist/testkit';\\nimport waitFor from 'wait-for-cond';\\nimport { assert } from 'chai'; export default class POSIntegrationDriver { constructor(wrapper) { this.wrapper = wrapper; this.sectionHelperDriver = new SectionHelperTestkit({ dataHook: 'pos-menu-section-helper', wrapper: this.wrapper, }); } exists() { return waitFor .assert(async () => { this.update(); this.sectionHelperDriver = new SectionHelperTestkit({ dataHook: 'pos-menu-section-helper', wrapper: this.wrapper, }); assert.isTrue(await this.sectionHelperDriver.exists()); }, 100) .catch(() => false); } getText() { return this.sectionHelperDriver.textContent(); } async clickActionButton() { const element = await this.sectionHelperDriver.element(); const driver = new TextButtonTestkit({ wrapper: element, dataHook: 'pos-menu-section-helper-action-btn', }); return driver.click(); } clickCloseButton() { return this.sectionHelperDriver.clickClose(); } debug() { return this.wrapper.debug(); } update() { this.wrapper.update(); }\\n}\\n\\n})\\n####","completion":" import babelPluginTransformModulesUmd from '@babel/plugin-transform-modules-umd'\\nimport babelHelperWrapFunction from 'rollup-plugin-babel-minify'\\nimport errorEx from '@babel/helper-explode-assignable-expression'\\nimport sourceMap from 'source-map'\\nimport availableRegexpFlags from 'available-regexp-flags'\\nimport typesColorConvert from '@types/color-convert'\\nimport whatwgFetch from 'whatwg-fetch'\\nimport babelPluginTransformNamedCapturingGroupsRegex from '@babel/plugin-transform-named-capturing-groups-regex'\\nimport cogent from 'cogent'\\nimport shx from 'follow-redirects'\\nimport gruntRelease from 'grunt-release'\\nimport gulpRename from 'gulp-rename'\\nimport gruntBrowserify from 'nanoid'\\nimport preludeLs from 'prelude-ls'\\nimport babelPluginTransformEs2015BlockScoping from 'kcd-scripts'\\nimport babelHelperMemberExpressionToFunctions from '@babel/plugin-syntax-dynamic-import'\\nimport mockRequire from 'mock-require'\\nimport napiRsCli from '@napi-rs/cli'\\n\\nimport { SectionHelperTestkit } from 'wix-style-react/dist/testkit/enzyme';\\nimport { TextButtonTestkit } from 'wix-style-react/dist/testkit';\\nimport waitFor from 'wait-for-cond';\\nimport { assert } from 'chai'; export default class POSIntegrationDriver { constructor(wrapper) { this.wrapper = wrapper; this.sectionHelperDriver = new SectionHelperTestkit({ dataHook: 'pos-menu-section-helper', wrapper: this.wrapper, }); } exists() { return waitFor .assert(async () => { this.update(); this.sectionHelperDriver = new SectionHelperTestkit({ dataHook: 'pos-menu-section-helper', wrapper: this.wrapper, }); assert.isTrue(await this.sectionHelperDriver.exists()); }, 100) .catch(() => false); } getText() { return this.sectionHelperDriver.textContent(); } async clickActionButton() { const element = await this.sectionHelperDriver.element(); const driver = new TextButtonTestkit({ wrapper: element, dataHook: 'pos-menu-section-helper-action-btn', }); return driver.click(); } clickCloseButton() { return this.sectionHelperDriver.clickClose(); } debug() { return this.wrapper.debug(); } update() { this.wrapper.update(); }\\n}\\n\\n####"}
{"prompt":"define(['tty-browserify','@babel/helper-replace-supers','code-point-at','combined-stream','preact','p-locate','grunt-eslint','babel-plugin-transform-es2015-classes','relateurl','envify','file-loader','esm','grunt-contrib-clean','json-parse-even-better-errors','aud'], function(nativePromiseOnly,formidable,iconvLite,combinedStream,preact,kcdScripts,gruntEslint,randomInt,gruntContribConcat,envify,fileLoader,caniuseLite,gruntContribClean,eslintPluginNode,aud){\\nexport default { BACKOFFICE: 'backoffice', BACKOFFICE_ORDERS: 'backoffice.orders', BACKOFFICE_UI_SPEC: 'backoffice.ui-spec', BACKOFFICE_KIT: 'backoffice.kit', BACKOFFICE_SEATING: 'backoffice.seating', LIVEMAP: 'livemap', WIXMENUS_SETTINGS: 'wixmenus.settings', WIXORDERS_SETTINGS: 'wixorders.settings', WIXMENUS_SEO: 'wixmenus.seo', WIXMENUS_CLIENT: 'wixmenus.client', SOCIALBAR_CLIENT: 'socialbar.client', SOCIALBAR_CLIENT_MOBILE: 'socialbar.client.mobile', SOCIALBAR_SETTINGS: 'socialbar.settings', SOCIALBAR_SEO: 'socialbar.seo', SEATING_CLIENT: 'seating.client', SEATING_CLIENT_MOBILE: 'seating.client.mobile', SEATING_SETTINGS: 'seating.settings', SEATING_SEO: 'seating.seo', WIXORDERS_SEO: 'wixorders.seo', WIXORDERS_CLIENT: 'wixorders.client', WIXORDERS_CLIENT_MOBILE: 'wixorders.client.mobile', WIXORDERS_CLIENT_MOBILE_NATIVE: 'wixorders.client.mobile.native', WIXORDERS_CLIENT_MOBILE_STANDALONE: 'wixorders.client.mobile.standalone', POPUP: 'popup', POPUP_MOBILE: 'popup-mobile', POPUP_WEB: 'popup-web', POPUP_WEB_SEATING: 'popup-web-seating', POPUP_MOBILE_SEATING: 'popup-mobile-seating', UI_SPEC: 'ui-spec',\\n};\\n})\\n####","completion":" import nativePromiseOnly from 'tty-browserify'\\nimport formidable from '@babel/helper-replace-supers'\\nimport iconvLite from 'code-point-at'\\nimport combinedStream from 'combined-stream'\\nimport preact from 'preact'\\nimport kcdScripts from 'p-locate'\\nimport gruntEslint from 'grunt-eslint'\\nimport randomInt from 'babel-plugin-transform-es2015-classes'\\nimport gruntContribConcat from 'relateurl'\\nimport envify from 'envify'\\nimport fileLoader from 'file-loader'\\nimport caniuseLite from 'esm'\\nimport gruntContribClean from 'grunt-contrib-clean'\\nimport eslintPluginNode from 'json-parse-even-better-errors'\\nimport aud from 'aud'\\n\\nexport default { BACKOFFICE: 'backoffice', BACKOFFICE_ORDERS: 'backoffice.orders', BACKOFFICE_UI_SPEC: 'backoffice.ui-spec', BACKOFFICE_KIT: 'backoffice.kit', BACKOFFICE_SEATING: 'backoffice.seating', LIVEMAP: 'livemap', WIXMENUS_SETTINGS: 'wixmenus.settings', WIXORDERS_SETTINGS: 'wixorders.settings', WIXMENUS_SEO: 'wixmenus.seo', WIXMENUS_CLIENT: 'wixmenus.client', SOCIALBAR_CLIENT: 'socialbar.client', SOCIALBAR_CLIENT_MOBILE: 'socialbar.client.mobile', SOCIALBAR_SETTINGS: 'socialbar.settings', SOCIALBAR_SEO: 'socialbar.seo', SEATING_CLIENT: 'seating.client', SEATING_CLIENT_MOBILE: 'seating.client.mobile', SEATING_SETTINGS: 'seating.settings', SEATING_SEO: 'seating.seo', WIXORDERS_SEO: 'wixorders.seo', WIXORDERS_CLIENT: 'wixorders.client', WIXORDERS_CLIENT_MOBILE: 'wixorders.client.mobile', WIXORDERS_CLIENT_MOBILE_NATIVE: 'wixorders.client.mobile.native', WIXORDERS_CLIENT_MOBILE_STANDALONE: 'wixorders.client.mobile.standalone', POPUP: 'popup', POPUP_MOBILE: 'popup-mobile', POPUP_WEB: 'popup-web', POPUP_WEB_SEATING: 'popup-web-seating', POPUP_MOBILE_SEATING: 'popup-mobile-seating', UI_SPEC: 'ui-spec',\\n};\\n####"}
{"prompt":"define(['cosmiconfig','mock-fs','@jridgewell/set-array','is-weakref','tmp','isomorphic-fetch','@parcel/runtime-react-refresh','babel-plugin-transform-es2015-computed-properties','charcodes','@docusaurus/core','json-parse-even-better-errors','d3-interpolate','postcss','eslint-plugin-flowtype','@babel/plugin-syntax-nullish-coalescing-operator','wrap-ansi','mv','@babel/generator','eslint-plugin-promise'], function(cosmiconfig,defineProperties,jridgewellSetArray,isWeakref,tmp,cheerio,c8,errorCause,charcodes,gulpBump,eslintPluginNode,inPublish,webpackDevServer,orderedBinary,babelPluginSyntaxNullishCoalescingOperator,wrapAnsi,mv,babelGenerator,eslintPluginPromise){\\ndefine(['@wix/santa-core-utils', 'lodash', 'documentServices/constants/constants'], function (santaCoreUtils, _, constants) { 'use strict' return { layoutLimits(ps, compPointer) { const measureMap = ps.siteAPI.getSiteMeasureMap() || {} const {id} = compPointer return { minWidth: _.get(measureMap, ['minWidth', id], santaCoreUtils.siteConstants.COMP_SIZE.MIN_WIDTH), minHeight: _.get(measureMap, ['minHeight', id], santaCoreUtils.siteConstants.COMP_SIZE.MIN_HEIGHT) } }, mobileConversionConfig: { hideByDefault(ps, component, pageId) { const masterPagePointer = ps.pointers.components.getMasterPage(constants.VIEW_MODES.MOBILE) const menuContainerPointer = ps.pointers.components.getComponent(constants.MOBILE_ONLY_COMPONENTS.MENU_AS_CONTAINER, masterPagePointer) const menuContainerIsExist = ps.dal.isExist(menuContainerPointer) return pageId === 'masterPage' && !menuContainerIsExist } } }\\n})\\n\\n})\\n####","completion":" import cosmiconfig from 'cosmiconfig'\\nimport defineProperties from 'mock-fs'\\nimport jridgewellSetArray from '@jridgewell/set-array'\\nimport isWeakref from 'is-weakref'\\nimport tmp from 'tmp'\\nimport cheerio from 'isomorphic-fetch'\\nimport c8 from '@parcel/runtime-react-refresh'\\nimport errorCause from 'babel-plugin-transform-es2015-computed-properties'\\nimport charcodes from 'charcodes'\\nimport gulpBump from '@docusaurus/core'\\nimport eslintPluginNode from 'json-parse-even-better-errors'\\nimport inPublish from 'd3-interpolate'\\nimport webpackDevServer from 'postcss'\\nimport orderedBinary from 'eslint-plugin-flowtype'\\nimport babelPluginSyntaxNullishCoalescingOperator from '@babel/plugin-syntax-nullish-coalescing-operator'\\nimport wrapAnsi from 'wrap-ansi'\\nimport mv from 'mv'\\nimport babelGenerator from '@babel/generator'\\nimport eslintPluginPromise from 'eslint-plugin-promise'\\n\\ndefine(['@wix/santa-core-utils', 'lodash', 'documentServices/constants/constants'], function (santaCoreUtils, _, constants) { 'use strict' return { layoutLimits(ps, compPointer) { const measureMap = ps.siteAPI.getSiteMeasureMap() || {} const {id} = compPointer return { minWidth: _.get(measureMap, ['minWidth', id], santaCoreUtils.siteConstants.COMP_SIZE.MIN_WIDTH), minHeight: _.get(measureMap, ['minHeight', id], santaCoreUtils.siteConstants.COMP_SIZE.MIN_HEIGHT) } }, mobileConversionConfig: { hideByDefault(ps, component, pageId) { const masterPagePointer = ps.pointers.components.getMasterPage(constants.VIEW_MODES.MOBILE) const menuContainerPointer = ps.pointers.components.getComponent(constants.MOBILE_ONLY_COMPONENTS.MENU_AS_CONTAINER, masterPagePointer) const menuContainerIsExist = ps.dal.isExist(menuContainerPointer) return pageId === 'masterPage' && !menuContainerIsExist } } }\\n})\\n\\n####"}
{"prompt":"define(['@types/glob','define-properties','gulp-bump','@mapbox/eslint-config-mapbox','glob','@babel/helpers','grunt-banner','karma-babel-preprocessor','babel-plugin-transform-es2015-arrow-functions','tape','better-ajv-errors','esbuild-register','grunt','postcss-modules','selenium-webdriver','@parcel/packager-css','postcss-discard-comments','error-cause','number-is-nan','load-grunt-tasks'], function(babelHelperFunctionName,npmcliEslintConfig,karmaSauceLauncher,mapboxEslintConfigMapbox,glob,babelHelpers,babelPluginProposalAsyncGeneratorFunctions,babelPluginProposalPrivatePropertyInObject,eslintPluginImport,babelPluginTransformEs2015Spread,babelPluginProposalJsonStrings,gruntMochaTest,inlineStylePrefixer,postcssModules,unicodeUnicode1300,weakLruCache,babelPluginTransformFunctionName,qunitExtras,gruntTemplate,mochaPhantomjs){\\n'use strict' import { ProgrammableJsonServer } from './ProgrammableJsonServer' export class InstagramDriver { constructor({port}) { this._server = new ProgrammableJsonServer({port}) } start() { this._server.start() } stop() { this._server.stop() } reset() { this._server.reset() } api({path, params}) { params = {...params, context: path}; return { returns: ({value, delay = 0}) => { this._server.addRule({ resource: '/', params, delay, responseText: JSON.stringify(value) }) }, failsOnInvalidAuth: () => { this._server.addRule({ resource: '/', params, responseText: JSON.stringify({\\\"meta\\\":{\\\"code\\\":401,\\\"errorType\\\":\\\"invalid_auth\\\",\\\"errorDetail\\\":\\\"OAuth token invalid or revoked.\\\"},\\\"response\\\":{}}) }) }, failsWith: ({code, description}) => { this._server.addRule({ resource: '/', params, responseText: JSON.stringify({\\\"meta\\\":{\\\"code\\\":401,\\\"errorType\\\":code,\\\"errorDetail\\\":description},\\\"response\\\":{}}) }) }, returnsInvalidResponse: () => { this._server.addRule({ resource: '/', params, responseText: '<html><head><title>Error 500</title></head></html>' }) } } }\\n}\\n\\n})\\n####","completion":" import babelHelperFunctionName from '@types/glob'\\nimport npmcliEslintConfig from 'define-properties'\\nimport karmaSauceLauncher from 'gulp-bump'\\nimport mapboxEslintConfigMapbox from '@mapbox/eslint-config-mapbox'\\nimport glob from 'glob'\\nimport babelHelpers from '@babel/helpers'\\nimport babelPluginProposalAsyncGeneratorFunctions from 'grunt-banner'\\nimport babelPluginProposalPrivatePropertyInObject from 'karma-babel-preprocessor'\\nimport eslintPluginImport from 'babel-plugin-transform-es2015-arrow-functions'\\nimport babelPluginTransformEs2015Spread from 'tape'\\nimport babelPluginProposalJsonStrings from 'better-ajv-errors'\\nimport gruntMochaTest from 'esbuild-register'\\nimport inlineStylePrefixer from 'grunt'\\nimport postcssModules from 'postcss-modules'\\nimport unicodeUnicode1300 from 'selenium-webdriver'\\nimport weakLruCache from '@parcel/packager-css'\\nimport babelPluginTransformFunctionName from 'postcss-discard-comments'\\nimport qunitExtras from 'error-cause'\\nimport gruntTemplate from 'number-is-nan'\\nimport mochaPhantomjs from 'load-grunt-tasks'\\n\\n'use strict' import { ProgrammableJsonServer } from './ProgrammableJsonServer' export class InstagramDriver { constructor({port}) { this._server = new ProgrammableJsonServer({port}) } start() { this._server.start() } stop() { this._server.stop() } reset() { this._server.reset() } api({path, params}) { params = {...params, context: path}; return { returns: ({value, delay = 0}) => { this._server.addRule({ resource: '/', params, delay, responseText: JSON.stringify(value) }) }, failsOnInvalidAuth: () => { this._server.addRule({ resource: '/', params, responseText: JSON.stringify({\\\"meta\\\":{\\\"code\\\":401,\\\"errorType\\\":\\\"invalid_auth\\\",\\\"errorDetail\\\":\\\"OAuth token invalid or revoked.\\\"},\\\"response\\\":{}}) }) }, failsWith: ({code, description}) => { this._server.addRule({ resource: '/', params, responseText: JSON.stringify({\\\"meta\\\":{\\\"code\\\":401,\\\"errorType\\\":code,\\\"errorDetail\\\":description},\\\"response\\\":{}}) }) }, returnsInvalidResponse: () => { this._server.addRule({ resource: '/', params, responseText: '<html><head><title>Error 500</title></head></html>' }) } } }\\n}\\n\\n####"}
{"prompt":"define(['@babel/plugin-syntax-class-properties','@parcel/diagnostic','@babel/plugin-transform-dotall-regex','d3-color','grunt-babel','temp','eslint-plugin-standard','@wdio/jasmine-framework','@babel/plugin-transform-async-to-generator','event-target-shim','parted','cross-env','postcss-normalize-positions','xyz','wrappy','standard-markdown','@parcel/cache','graceful-fs','merge-stream','knox'], function(babelPluginSyntaxClassProperties,q,babelHelperReplaceSupers,postcssCalc,reactDom,cpyCli,eslintPluginStandard,availableTypedArrays,babelPluginTransformAsyncToGenerator,convertSourceMap,functionPrototypeName,crossEnv,codecov,xyz,babelPluginProposalClassProperties,standard,gruntBanner,gulpTagVersion,pinkiePromise,eventTargetShim){\\n\\\"use strict\\\"; import {assert} from 'chai';\\nimport sinon from 'sinon';\\nimport InstagramApiConnector from '../src/InstagramApiConnector.js'; const somePath = 'somePath/foo/bar';\\nconst someParams = {foo: 'bar'}; let requests = []; describe(\\\"InstagramApiConnector\\\", function() { before(() => { global.XMLHttpRequest = sinon.useFakeXMLHttpRequest(); global.XMLHttpRequest.onCreate = (xhr) => { requests.push(xhr); } }); beforeEach(() => { requests = []; }); it('Should call api with (path, params)', function(done) { let xhr = {}; InstagramApiConnector(somePath, someParams) .then(() => { assert.equal(xhr.requestBody, JSON.stringify({path: somePath, params: someParams})); done(); }); setTimeout(() => { assert.equal(requests.length, 1, 'InstagramApiConnector.api.called'); xhr = requests[0]; xhr.respond(200, {\\\"Content-Type\\\": \\\"application/json\\\"}, '{\\\"foo\\\": \\\"bar\\\"}'); }, 0); }); });\\n\\n})\\n####","completion":" import babelPluginSyntaxClassProperties from '@babel/plugin-syntax-class-properties'\\nimport q from '@parcel/diagnostic'\\nimport babelHelperReplaceSupers from '@babel/plugin-transform-dotall-regex'\\nimport postcssCalc from 'd3-color'\\nimport reactDom from 'grunt-babel'\\nimport cpyCli from 'temp'\\nimport eslintPluginStandard from 'eslint-plugin-standard'\\nimport availableTypedArrays from '@wdio/jasmine-framework'\\nimport babelPluginTransformAsyncToGenerator from '@babel/plugin-transform-async-to-generator'\\nimport convertSourceMap from 'event-target-shim'\\nimport functionPrototypeName from 'parted'\\nimport crossEnv from 'cross-env'\\nimport codecov from 'postcss-normalize-positions'\\nimport xyz from 'xyz'\\nimport babelPluginProposalClassProperties from 'wrappy'\\nimport standard from 'standard-markdown'\\nimport gruntBanner from '@parcel/cache'\\nimport gulpTagVersion from 'graceful-fs'\\nimport pinkiePromise from 'merge-stream'\\nimport eventTargetShim from 'knox'\\n\\n\\\"use strict\\\"; import {assert} from 'chai';\\nimport sinon from 'sinon';\\nimport InstagramApiConnector from '../src/InstagramApiConnector.js'; const somePath = 'somePath/foo/bar';\\nconst someParams = {foo: 'bar'}; let requests = []; describe(\\\"InstagramApiConnector\\\", function() { before(() => { global.XMLHttpRequest = sinon.useFakeXMLHttpRequest(); global.XMLHttpRequest.onCreate = (xhr) => { requests.push(xhr); } }); beforeEach(() => { requests = []; }); it('Should call api with (path, params)', function(done) { let xhr = {}; InstagramApiConnector(somePath, someParams) .then(() => { assert.equal(xhr.requestBody, JSON.stringify({path: somePath, params: someParams})); done(); }); setTimeout(() => { assert.equal(requests.length, 1, 'InstagramApiConnector.api.called'); xhr = requests[0]; xhr.respond(200, {\\\"Content-Type\\\": \\\"application/json\\\"}, '{\\\"foo\\\": \\\"bar\\\"}'); }, 0); }); });\\n\\n####"}
{"prompt":"define(['node-jsx','gulp-tag-version','delay','json3','fake','babel-plugin-polyfill-corejs2','stable','@ungap/url-search-params','chai-subset','fs-extra'], function(coreUtilIs,typesOffscreencanvas,zuul,everythingJs,fake,ses,babelEslint,parcelOptimizerHtmlnano,babelPluginTransformRegenerator,fsExtra){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.wix.com/demone2/vegetarian-restauran (28)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/vegetarian-restauran', emulateMobileDevice: true, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/28-vegetarian-restaurant/mesh/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import coreUtilIs from 'node-jsx'\\nimport typesOffscreencanvas from 'gulp-tag-version'\\nimport zuul from 'delay'\\nimport everythingJs from 'json3'\\nimport fake from 'fake'\\nimport ses from 'babel-plugin-polyfill-corejs2'\\nimport babelEslint from 'stable'\\nimport parcelOptimizerHtmlnano from '@ungap/url-search-params'\\nimport babelPluginTransformRegenerator from 'chai-subset'\\nimport fsExtra from 'fs-extra'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.wix.com/demone2/vegetarian-restauran (28)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/vegetarian-restauran', emulateMobileDevice: true, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/28-vegetarian-restaurant/mesh/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['eslint-plugin-compat','entities','broccoli-uglify-js','wd','@wessberg/rollup-plugin-ts','native-promise-only','@babel/plugin-syntax-numeric-separator','@babel/plugin-transform-destructuring','fs-readdir-recursive','regexgen','wrap-ansi','p-locate','coco'], function(eslintPluginCompat,gruntLivescript,broccoliUglifyJs,makeAsyncFunction,standardMarkdown,parcelCompressorRaw,babelPluginSyntaxNumericSeparator,resumer,fsReaddirRecursive,regexgen,wrapAnsi,kcdScripts,coco){\\nimport React, {Component} from 'react';\\nimport ArrowUp from '../assets/svg/arrowUp.js';\\nimport {number} from 'prop-types';\\nimport s from './ScrollToTopButton.scss';\\nimport $ from 'jquery'; export default class ScrollToTopButton extends Component { static propTypes = { scrollYThreshold: number }; static defaultProps = { scrollYThreshold: -1 }; constructor(props) { super(props); this.state = { scrollY: null }; } handleClick = () => { $('html,body').animate({ scrollTop: 0 }, 300); } updateScrollPosition = () => { this.setState({scrollY: window.scrollY}); } componentDidMount() { window.addEventListener('scroll', this.updateScrollPosition); } componentWillUnmount() { window.removeEventListener('scroll', this.updateScrollPosition); } render() { return this.state.scrollY > this.props.scrollYThreshold ? ( <a className={s.wrapper} data-hook=\\\"scroll-to-top\\\" onClick={this.handleClick} onTouchStart={this.handleClick}> <ArrowUp/> </a> ) : null; }\\n}\\n\\n})\\n####","completion":" import eslintPluginCompat from 'eslint-plugin-compat'\\nimport gruntLivescript from 'entities'\\nimport broccoliUglifyJs from 'broccoli-uglify-js'\\nimport makeAsyncFunction from 'wd'\\nimport standardMarkdown from '@wessberg/rollup-plugin-ts'\\nimport parcelCompressorRaw from 'native-promise-only'\\nimport babelPluginSyntaxNumericSeparator from '@babel/plugin-syntax-numeric-separator'\\nimport resumer from '@babel/plugin-transform-destructuring'\\nimport fsReaddirRecursive from 'fs-readdir-recursive'\\nimport regexgen from 'regexgen'\\nimport wrapAnsi from 'wrap-ansi'\\nimport kcdScripts from 'p-locate'\\nimport coco from 'coco'\\n\\nimport React, {Component} from 'react';\\nimport ArrowUp from '../assets/svg/arrowUp.js';\\nimport {number} from 'prop-types';\\nimport s from './ScrollToTopButton.scss';\\nimport $ from 'jquery'; export default class ScrollToTopButton extends Component { static propTypes = { scrollYThreshold: number }; static defaultProps = { scrollYThreshold: -1 }; constructor(props) { super(props); this.state = { scrollY: null }; } handleClick = () => { $('html,body').animate({ scrollTop: 0 }, 300); } updateScrollPosition = () => { this.setState({scrollY: window.scrollY}); } componentDidMount() { window.addEventListener('scroll', this.updateScrollPosition); } componentWillUnmount() { window.removeEventListener('scroll', this.updateScrollPosition); } render() { return this.state.scrollY > this.props.scrollYThreshold ? ( <a className={s.wrapper} data-hook=\\\"scroll-to-top\\\" onClick={this.handleClick} onTouchStart={this.handleClick}> <ArrowUp/> </a> ) : null; }\\n}\\n\\n####"}
{"prompt":"define(['@babel/helper-fixtures','css-in-js-utils','lint-staged','regjsgen','uncss','eslint-config-mourner','get-port','@swc/cli','universalify','is-buffer','vega','action-walk','source-map-js','https-proxy-agent','@types/ensure-posix-path','chrome-trace-event','@babel/plugin-transform-function-name','@types/convert-source-map'], function(babelParser,cssInJsUtils,gauge,open,babelPluginTransformModulesAmd,objectGetownpropertydescriptors,karmaChai,makeDir,babelPresetReact,isBuffer,babelPluginTransformEs2015Parameters,actionWalk,sourceMapJs,httpsProxyAgent,ieee754,entities,postcssDiscardDuplicates,typesConvertSourceMap){\\nimport PropTypes from 'prop-types';\\nimport React, { Component } from 'react';\\nimport { WixRestToolTip } from '@wix/restaurants-components/web';\\nimport EllipsisIcon from '../../../svg/ellipsis';\\nimport classNames from 'classnames';\\nimport onClickOutside from 'react-onclickoutside';\\nimport './index.css'; class SecondaryActionButton extends Component { static propTypes = { tooltipOpen: PropTypes.bool, onClick: PropTypes.func.isRequired, onBlur: PropTypes.func.isRequired, }; constructor(props) { super(props); this.handleClickOutside = this.handleClickOutside.bind(this); } handleClickOutside() { this.props.tooltipOpen && this.props.onBlur(); } renderButton() { return ( <div onClick={this.props.onClick} className={classNames('secondaryActionButton', { pressed: this.props.tooltipOpen, })} > <EllipsisIcon /> </div> ); } render() { return ( <WixRestToolTip className=\\\"moreOptionsTooltip\\\" btnTooltip={true} tooltipLocation=\\\"bottom\\\" show={this.props.tooltipOpen} child={this.renderButton()} > {this.props.children} </WixRestToolTip> ); }\\n} export default onClickOutside(SecondaryActionButton);\\n\\n})\\n####","completion":" import babelParser from '@babel/helper-fixtures'\\nimport cssInJsUtils from 'css-in-js-utils'\\nimport gauge from 'lint-staged'\\nimport open from 'regjsgen'\\nimport babelPluginTransformModulesAmd from 'uncss'\\nimport objectGetownpropertydescriptors from 'eslint-config-mourner'\\nimport karmaChai from 'get-port'\\nimport makeDir from '@swc/cli'\\nimport babelPresetReact from 'universalify'\\nimport isBuffer from 'is-buffer'\\nimport babelPluginTransformEs2015Parameters from 'vega'\\nimport actionWalk from 'action-walk'\\nimport sourceMapJs from 'source-map-js'\\nimport httpsProxyAgent from 'https-proxy-agent'\\nimport ieee754 from '@types/ensure-posix-path'\\nimport entities from 'chrome-trace-event'\\nimport postcssDiscardDuplicates from '@babel/plugin-transform-function-name'\\nimport typesConvertSourceMap from '@types/convert-source-map'\\n\\nimport PropTypes from 'prop-types';\\nimport React, { Component } from 'react';\\nimport { WixRestToolTip } from '@wix/restaurants-components/web';\\nimport EllipsisIcon from '../../../svg/ellipsis';\\nimport classNames from 'classnames';\\nimport onClickOutside from 'react-onclickoutside';\\nimport './index.css'; class SecondaryActionButton extends Component { static propTypes = { tooltipOpen: PropTypes.bool, onClick: PropTypes.func.isRequired, onBlur: PropTypes.func.isRequired, }; constructor(props) { super(props); this.handleClickOutside = this.handleClickOutside.bind(this); } handleClickOutside() { this.props.tooltipOpen && this.props.onBlur(); } renderButton() { return ( <div onClick={this.props.onClick} className={classNames('secondaryActionButton', { pressed: this.props.tooltipOpen, })} > <EllipsisIcon /> </div> ); } render() { return ( <WixRestToolTip className=\\\"moreOptionsTooltip\\\" btnTooltip={true} tooltipLocation=\\\"bottom\\\" show={this.props.tooltipOpen} child={this.renderButton()} > {this.props.children} </WixRestToolTip> ); }\\n} export default onClickOutside(SecondaryActionButton);\\n\\n####"}
{"prompt":"define(['postcss-normalize-string','typescript-formatter','base-x','@babel/helper-compilation-targets'], function(postcssNormalizeString,concurrently,pathType,babelHelperCompilationTargets){\\nimport React from 'react'; export default class extends React.Component { render() { return ( <svg width=\\\"66\\\" height=\\\"26\\\" viewBox=\\\"0 -2 60 30\\\" version=\\\"1.1\\\"> <g stroke=\\\"none\\\" strokeWidth=\\\"1\\\" fill=\\\"none\\\" fillRule=\\\"evenodd\\\" strokeLinecap=\\\"round\\\" strokeLinejoin=\\\"round\\\"> <polygon strokeWidth=\\\"2\\\" points=\\\"46.3292 25.7816 0.0002 25.7816 6.8932 -0.000400000001 53.2222 -0.000400000001\\\"></polygon> <polyline strokeWidth=\\\"2\\\" points=\\\"47.5206 22.8875 59.2536 22.8875 58.3916 19.6645 57.5306 16.4415 56.6686 13.2195 55.8076 9.9965 54.9456 6.7735 54.0836 3.5515 53.2226 0.3285\\\"></polyline> <path d=\\\"M9.5206,18.8875 L22.7796,18.8875 C24.9886,18.8875 27.5096,16.3915 28.1596,14.2655 L29.2366,10.7425 C29.8866,8.6165 28.6186,6.8875 26.4096,6.8875 L12.5206,6.8875\\\" strokeWidth=\\\"2\\\"></path> <path d=\\\"M21.5206,14.8875 L10.5206,14.8875\\\" strokeWidth=\\\"2\\\"></path> <path d=\\\"M22.5206,10.8875 L11.5206,10.8875\\\" strokeWidth=\\\"2\\\"></path> <path d=\\\"M21.4323,17.9183 L24.5263,7.7983\\\" strokeWidth=\\\"2\\\"></path> <path d=\\\"M43.5206,12.8875 L29.5206,12.8875\\\" strokeWidth=\\\"2\\\"></path> </g> </svg> ); }\\n}\\n\\n})\\n####","completion":" import postcssNormalizeString from 'postcss-normalize-string'\\nimport concurrently from 'typescript-formatter'\\nimport pathType from 'base-x'\\nimport babelHelperCompilationTargets from '@babel/helper-compilation-targets'\\n\\nimport React from 'react'; export default class extends React.Component { render() { return ( <svg width=\\\"66\\\" height=\\\"26\\\" viewBox=\\\"0 -2 60 30\\\" version=\\\"1.1\\\"> <g stroke=\\\"none\\\" strokeWidth=\\\"1\\\" fill=\\\"none\\\" fillRule=\\\"evenodd\\\" strokeLinecap=\\\"round\\\" strokeLinejoin=\\\"round\\\"> <polygon strokeWidth=\\\"2\\\" points=\\\"46.3292 25.7816 0.0002 25.7816 6.8932 -0.000400000001 53.2222 -0.000400000001\\\"></polygon> <polyline strokeWidth=\\\"2\\\" points=\\\"47.5206 22.8875 59.2536 22.8875 58.3916 19.6645 57.5306 16.4415 56.6686 13.2195 55.8076 9.9965 54.9456 6.7735 54.0836 3.5515 53.2226 0.3285\\\"></polyline> <path d=\\\"M9.5206,18.8875 L22.7796,18.8875 C24.9886,18.8875 27.5096,16.3915 28.1596,14.2655 L29.2366,10.7425 C29.8866,8.6165 28.6186,6.8875 26.4096,6.8875 L12.5206,6.8875\\\" strokeWidth=\\\"2\\\"></path> <path d=\\\"M21.5206,14.8875 L10.5206,14.8875\\\" strokeWidth=\\\"2\\\"></path> <path d=\\\"M22.5206,10.8875 L11.5206,10.8875\\\" strokeWidth=\\\"2\\\"></path> <path d=\\\"M21.4323,17.9183 L24.5263,7.7983\\\" strokeWidth=\\\"2\\\"></path> <path d=\\\"M43.5206,12.8875 L29.5206,12.8875\\\" strokeWidth=\\\"2\\\"></path> </g> </svg> ); }\\n}\\n\\n####"}
{"prompt":"define(['@babel/runtime-corejs3','has-flag','core-js','qunit-extras','react-is','tinycolor2','json-source-map','@babel/plugin-proposal-optional-chaining'], function(semistandard,hasFlag,postcssNormalizeRepeatStyle,unorm,reactIs,tinycolor2,jsonSourceMap,typesShelljs){\\nexport class CommonProtocolClient { constructor({XMLHttpRequest, endpointUrl, timeout}) { this.XMLHttpRequest = XMLHttpRequest; this.endpointUrl = endpointUrl; this.timeout = timeout || 0 } doRequest(resource, request) { return new Promise((resolve, reject) => { let xhr = new this.XMLHttpRequest(); xhr.ontimeout = () => reject({ code: 'timeout', description: 'request timed out' }); xhr.onerror = () => reject({ code: 'network_down', description: 'network is down' }); xhr.onload = () => { try { const response = JSON.parse(xhr.responseText); if (response.error) { reject(response.error) } else { resolve(response.value) } } catch (e) { reject({ code: 'protocol', description: 'unexpected response format' }) } }; xhr.open('POST', this.endpointUrl + resource, true); xhr.timeout = this.timeout; xhr.setRequestHeader('Content-Type', 'application/json'); xhr.send(JSON.stringify(request)) }) } }\\n})\\n####","completion":" import semistandard from '@babel/runtime-corejs3'\\nimport hasFlag from 'has-flag'\\nimport postcssNormalizeRepeatStyle from 'core-js'\\nimport unorm from 'qunit-extras'\\nimport reactIs from 'react-is'\\nimport tinycolor2 from 'tinycolor2'\\nimport jsonSourceMap from 'json-source-map'\\nimport typesShelljs from '@babel/plugin-proposal-optional-chaining'\\n\\nexport class CommonProtocolClient { constructor({XMLHttpRequest, endpointUrl, timeout}) { this.XMLHttpRequest = XMLHttpRequest; this.endpointUrl = endpointUrl; this.timeout = timeout || 0 } doRequest(resource, request) { return new Promise((resolve, reject) => { let xhr = new this.XMLHttpRequest(); xhr.ontimeout = () => reject({ code: 'timeout', description: 'request timed out' }); xhr.onerror = () => reject({ code: 'network_down', description: 'network is down' }); xhr.onload = () => { try { const response = JSON.parse(xhr.responseText); if (response.error) { reject(response.error) } else { resolve(response.value) } } catch (e) { reject({ code: 'protocol', description: 'unexpected response format' }) } }; xhr.open('POST', this.endpointUrl + resource, true); xhr.timeout = this.timeout; xhr.setRequestHeader('Content-Type', 'application/json'); xhr.send(JSON.stringify(request)) }) } }\\n####"}
{"prompt":"define(['wrap-ansi','inline-source-map','@babel/plugin-transform-modules-commonjs','htmlparser2','@babel/helper-builder-binary-assignment-operator-visitor','far','@tensorflow/tfjs-converter','@unicode/unicode-14.0.0','require-xml','@parcel/runtime-service-worker','split2','es6-promisify','@babel/plugin-transform-regenerator','mock-property','esutils','is-fullwidth-code-point','@jridgewell/gen-mapping','standard-markdown'], function(wrapAnsi,liveServer,babelPluginTransformModulesCommonjs,isSymbol,babelHelperBuilderBinaryAssignmentOperatorVisitor,grunt,tensorflowTfjsConverter,ejs,betterAssert,unicodeCanonicalPropertyNamesEcmascript,commondir,forEach,bazelTypescript,arrayShuffle,gruntMochaIstanbul,isFullwidthCodePoint,parcelWatcher,standard){\\nconst eventually = require('../utils/eventually')\\nconst {withConcurrentDS} = require('../utils/withConcurrentDS')\\nconst {ensureCSave} = require('../utils/concurrentSessionSetup') test( 'should sync file content and parent folder children between sessions', withConcurrentDS(async ({ds1, ds2}) => { const testFileDescriptor = await ds1.wixCode.fileSystem.getVirtualDescriptor('public/test.js') const parentFolderDesciptor = await ds1.wixCode.fileSystem.getVirtualDescriptor('public', true) // creating a new file await ds1.wixCode.fileSystem.writeFile(testFileDescriptor, 'new file') await ensureCSave(ds1) await eventually(async () => { await expect(ds2.wixCode.fileSystem.readFile(testFileDescriptor)).resolves.toEqual('new file') await expect(ds2.wixCode.fileSystem.getChildren(parentFolderDesciptor)).resolves.toEqual( expect.arrayContaining([expect.objectContaining({name: 'test.js', directory: false})]) ) }) // modifying an existing file await ds1.wixCode.fileSystem.writeFile(testFileDescriptor, 'modified content') await ensureCSave(ds1) await eventually(async () => { await expect(ds2.wixCode.fileSystem.readFile(testFileDescriptor)).resolves.toEqual('modified content') }) }), 90000\\n)\\n\\n})\\n####","completion":" import wrapAnsi from 'wrap-ansi'\\nimport liveServer from 'inline-source-map'\\nimport babelPluginTransformModulesCommonjs from '@babel/plugin-transform-modules-commonjs'\\nimport isSymbol from 'htmlparser2'\\nimport babelHelperBuilderBinaryAssignmentOperatorVisitor from '@babel/helper-builder-binary-assignment-operator-visitor'\\nimport grunt from 'far'\\nimport tensorflowTfjsConverter from '@tensorflow/tfjs-converter'\\nimport ejs from '@unicode/unicode-14.0.0'\\nimport betterAssert from 'require-xml'\\nimport unicodeCanonicalPropertyNamesEcmascript from '@parcel/runtime-service-worker'\\nimport commondir from 'split2'\\nimport forEach from 'es6-promisify'\\nimport bazelTypescript from '@babel/plugin-transform-regenerator'\\nimport arrayShuffle from 'mock-property'\\nimport gruntMochaIstanbul from 'esutils'\\nimport isFullwidthCodePoint from 'is-fullwidth-code-point'\\nimport parcelWatcher from '@jridgewell/gen-mapping'\\nimport standard from 'standard-markdown'\\n\\nconst eventually = require('../utils/eventually')\\nconst {withConcurrentDS} = require('../utils/withConcurrentDS')\\nconst {ensureCSave} = require('../utils/concurrentSessionSetup') test( 'should sync file content and parent folder children between sessions', withConcurrentDS(async ({ds1, ds2}) => { const testFileDescriptor = await ds1.wixCode.fileSystem.getVirtualDescriptor('public/test.js') const parentFolderDesciptor = await ds1.wixCode.fileSystem.getVirtualDescriptor('public', true) // creating a new file await ds1.wixCode.fileSystem.writeFile(testFileDescriptor, 'new file') await ensureCSave(ds1) await eventually(async () => { await expect(ds2.wixCode.fileSystem.readFile(testFileDescriptor)).resolves.toEqual('new file') await expect(ds2.wixCode.fileSystem.getChildren(parentFolderDesciptor)).resolves.toEqual( expect.arrayContaining([expect.objectContaining({name: 'test.js', directory: false})]) ) }) // modifying an existing file await ds1.wixCode.fileSystem.writeFile(testFileDescriptor, 'modified content') await ensureCSave(ds1) await eventually(async () => { await expect(ds2.wixCode.fileSystem.readFile(testFileDescriptor)).resolves.toEqual('modified content') }) }), 90000\\n)\\n\\n####"}
{"prompt":"define(['available-typed-arrays','foreach','babel-plugin-istanbul','tinycolor2','git-repo-version','slice-ansi','code-point-at','grunt-mocha-test','console-browserify','@parcel/package-manager','form-data','karma-ie-launcher','tmp','nice-try','fast-stable-stringify','proxy'], function(bikeshedToTs,babelPluginTransformTypeofSymbol,trysoundSax,tinycolor2,gitRepoVersion,pngjs,iconvLite,base64Js,consoleBrowserify,parcelPackageManager,formData,gruntSass,tmp,niceTry,fastStableStringify,proxy){\\n'use strict'\\nconst _ = require('lodash')\\nconst {withViewer} = require('@wix/santa-integration-tests') describe('chat collapse', () => { const getSiteBoundingBox = async viewer => { const clientDimensions = await viewer.body.getClientDimensions() const wixAds = await viewer.wixAds.getUpperWixAdsBoundingBox() || {} return { y: wixAds.height || 0, width: clientDimensions.width, height: clientDimensions.height } } const compIds = { 'close-button': 'comp-jr0kslxg', chat: 'comp-jr0ks1e0' } test('collapsed chat should be at bottom right corner with 0 width and height', withViewer({ baseUrl: 'https://kobiz4.wixsite.com/chat-collapse-test', queryParams: { layoutMechanism: 'mesh' } }, async ({componentDriverFactory, viewer}) => { const closeButton = await componentDriverFactory.create(compIds['close-button']) const chatComp = await componentDriverFactory.create(compIds.chat) await chatComp.waitForChange(() => { closeButton.click() }) const siteBoundingBox = await getSiteBoundingBox(viewer) const chatCompBoundingBox = await chatComp.getBoundingBox({visible: false}) expect(_.pick(chatCompBoundingBox, ['x', 'y', 'width', 'height'])).toEqual({x: siteBoundingBox.width, y: siteBoundingBox.height, width: 0, height: 0}) }))\\n})\\n})\\n####","completion":" import bikeshedToTs from 'available-typed-arrays'\\nimport babelPluginTransformTypeofSymbol from 'foreach'\\nimport trysoundSax from 'babel-plugin-istanbul'\\nimport tinycolor2 from 'tinycolor2'\\nimport gitRepoVersion from 'git-repo-version'\\nimport pngjs from 'slice-ansi'\\nimport iconvLite from 'code-point-at'\\nimport base64Js from 'grunt-mocha-test'\\nimport consoleBrowserify from 'console-browserify'\\nimport parcelPackageManager from '@parcel/package-manager'\\nimport formData from 'form-data'\\nimport gruntSass from 'karma-ie-launcher'\\nimport tmp from 'tmp'\\nimport niceTry from 'nice-try'\\nimport fastStableStringify from 'fast-stable-stringify'\\nimport proxy from 'proxy'\\n\\n'use strict'\\nconst _ = require('lodash')\\nconst {withViewer} = require('@wix/santa-integration-tests') describe('chat collapse', () => { const getSiteBoundingBox = async viewer => { const clientDimensions = await viewer.body.getClientDimensions() const wixAds = await viewer.wixAds.getUpperWixAdsBoundingBox() || {} return { y: wixAds.height || 0, width: clientDimensions.width, height: clientDimensions.height } } const compIds = { 'close-button': 'comp-jr0kslxg', chat: 'comp-jr0ks1e0' } test('collapsed chat should be at bottom right corner with 0 width and height', withViewer({ baseUrl: 'https://kobiz4.wixsite.com/chat-collapse-test', queryParams: { layoutMechanism: 'mesh' } }, async ({componentDriverFactory, viewer}) => { const closeButton = await componentDriverFactory.create(compIds['close-button']) const chatComp = await componentDriverFactory.create(compIds.chat) await chatComp.waitForChange(() => { closeButton.click() }) const siteBoundingBox = await getSiteBoundingBox(viewer) const chatCompBoundingBox = await chatComp.getBoundingBox({visible: false}) expect(_.pick(chatCompBoundingBox, ['x', 'y', 'width', 'height'])).toEqual({x: siteBoundingBox.width, y: siteBoundingBox.height, width: 0, height: 0}) }))\\n})\\n####"}
{"prompt":"define(['@babel/helpers','source-map-js','coco','concat-stream','escalade','set-blocking','watch','rsvp','@parcel/resolver-default'], function(babelHelpers,sourceMapJs,coco,vega,escalade,setBlocking,watch,pathParse,lerna){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.wix.com/demone2/real-estate-landing (46)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/real-estate-landing', emulateMobileDevice: false, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/46-real-estate-landing-page/anchors/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import babelHelpers from '@babel/helpers'\\nimport sourceMapJs from 'source-map-js'\\nimport coco from 'coco'\\nimport vega from 'concat-stream'\\nimport escalade from 'escalade'\\nimport setBlocking from 'set-blocking'\\nimport watch from 'watch'\\nimport pathParse from 'rsvp'\\nimport lerna from '@parcel/resolver-default'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.wix.com/demone2/real-estate-landing (46)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/real-estate-landing', emulateMobileDevice: false, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/46-real-estate-landing-page/anchors/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['cross-spawn','c8','@babel/plugin-transform-duplicate-keys','source-map-support','resolve','rollup-plugin-uglify','json-source-map','@parcel/hash'], function(crossSpawn,npmpub,babelPluginTransformDuplicateKeys,eslintPluginReact,resolve,rollupPluginUglify,jsonSourceMap,nullthrows){\\nimport React from 'react';\\nimport PropTypes from 'prop-types';\\nimport styles from './InputPlaceholder.icss';\\nimport MagnifyingGlassSvg from '../../components/AutocompleteAddress/MagnifyingGlassSvg';\\nimport classNames from 'classnames'; export default function InputPlaceholder({ placeholder, value, onClick, dataHook, floatingLabel }) { const textClassNames = classNames({ [styles.text]: true, [styles.opacity]: !value, }); return <div className={styles.wrapper} onClick={onClick} data-hook={dataHook}> { (value && floatingLabel) && <div className={styles.title} data-hook=\\\"input-placeholder-title\\\">{placeholder}</div> } <div className={styles.innerWrapper}> <MagnifyingGlassSvg className={styles.illustration} /> <span className={textClassNames} data-hook=\\\"input-placeholder-text\\\">{ value || placeholder }</span> </div> </div>;\\n} InputPlaceholder.displayName = 'InputPlaceholder';\\nInputPlaceholder.propTypes = { dataHook: PropTypes.string, placeholder: PropTypes.string, value: PropTypes.string, onClick: PropTypes.func, floatingLabel: PropTypes.bool,\\n};\\nInputPlaceholder.defaultProps = { floatingLabel: true,\\n};\\n\\n})\\n####","completion":" import crossSpawn from 'cross-spawn'\\nimport npmpub from 'c8'\\nimport babelPluginTransformDuplicateKeys from '@babel/plugin-transform-duplicate-keys'\\nimport eslintPluginReact from 'source-map-support'\\nimport resolve from 'resolve'\\nimport rollupPluginUglify from 'rollup-plugin-uglify'\\nimport jsonSourceMap from 'json-source-map'\\nimport nullthrows from '@parcel/hash'\\n\\nimport React from 'react';\\nimport PropTypes from 'prop-types';\\nimport styles from './InputPlaceholder.icss';\\nimport MagnifyingGlassSvg from '../../components/AutocompleteAddress/MagnifyingGlassSvg';\\nimport classNames from 'classnames'; export default function InputPlaceholder({ placeholder, value, onClick, dataHook, floatingLabel }) { const textClassNames = classNames({ [styles.text]: true, [styles.opacity]: !value, }); return <div className={styles.wrapper} onClick={onClick} data-hook={dataHook}> { (value && floatingLabel) && <div className={styles.title} data-hook=\\\"input-placeholder-title\\\">{placeholder}</div> } <div className={styles.innerWrapper}> <MagnifyingGlassSvg className={styles.illustration} /> <span className={textClassNames} data-hook=\\\"input-placeholder-text\\\">{ value || placeholder }</span> </div> </div>;\\n} InputPlaceholder.displayName = 'InputPlaceholder';\\nInputPlaceholder.propTypes = { dataHook: PropTypes.string, placeholder: PropTypes.string, value: PropTypes.string, onClick: PropTypes.func, floatingLabel: PropTypes.bool,\\n};\\nInputPlaceholder.defaultProps = { floatingLabel: true,\\n};\\n\\n####"}
{"prompt":"define(['has-flag','@babel/helper-optimise-call-expression','reamde','react-test-renderer','@jridgewell/set-array','picocolors','es-abstract','get-intrinsic','expect','isarray','@types/utf8'], function(hasFlag,stringWidth,reamde,reactTestRenderer,jridgewellSetArray,picocolors,esAbstract,getIntrinsic,browserifyIstanbul,isarray,typesUtf8){\\nimport React from 'react';\\nimport { translate } from 'react-i18next';\\nimport SearchInput from '../SearchInput/SearchInput';\\nimport styles from './MenuHeader.scss';\\nimport { SPECIAL_KEY_SYMBOL } from '../../utils/enviormentUtils'; function MenuHeader({ query, filters, onClearFilters, onChange, onFilter, isFloating, organizationId, showFilters, toggleFilters, searchRef, t,\\n}) { const searchTooltipContent = `${t( 'phoneordering_keyboardShortcut_search_menus_tooltip', )} (${SPECIAL_KEY_SYMBOL} + F)`; const filterTooltipContent = `${t( 'phoneordering_keyboardShortcut_filter_labels_tooltip', )} (${SPECIAL_KEY_SYMBOL} + L)`; return ( <div className={`${styles.wrapper} ${isFloating ? styles.float : ''}`}> <SearchInput filterTooltipContent={filterTooltipContent} searchTooltipContent={searchTooltipContent} searchRef={searchRef} toggleFilters={toggleFilters} showFilters={showFilters} className={styles.input} query={query} filters={filters} onChange={onChange} onFilter={onFilter} onClearFilters={onClearFilters} organizationId={organizationId} /> </div> );\\n} export default translate()(MenuHeader);\\n\\n})\\n####","completion":" import hasFlag from 'has-flag'\\nimport stringWidth from '@babel/helper-optimise-call-expression'\\nimport reamde from 'reamde'\\nimport reactTestRenderer from 'react-test-renderer'\\nimport jridgewellSetArray from '@jridgewell/set-array'\\nimport picocolors from 'picocolors'\\nimport esAbstract from 'es-abstract'\\nimport getIntrinsic from 'get-intrinsic'\\nimport browserifyIstanbul from 'expect'\\nimport isarray from 'isarray'\\nimport typesUtf8 from '@types/utf8'\\n\\nimport React from 'react';\\nimport { translate } from 'react-i18next';\\nimport SearchInput from '../SearchInput/SearchInput';\\nimport styles from './MenuHeader.scss';\\nimport { SPECIAL_KEY_SYMBOL } from '../../utils/enviormentUtils'; function MenuHeader({ query, filters, onClearFilters, onChange, onFilter, isFloating, organizationId, showFilters, toggleFilters, searchRef, t,\\n}) { const searchTooltipContent = `${t( 'phoneordering_keyboardShortcut_search_menus_tooltip', )} (${SPECIAL_KEY_SYMBOL} + F)`; const filterTooltipContent = `${t( 'phoneordering_keyboardShortcut_filter_labels_tooltip', )} (${SPECIAL_KEY_SYMBOL} + L)`; return ( <div className={`${styles.wrapper} ${isFloating ? styles.float : ''}`}> <SearchInput filterTooltipContent={filterTooltipContent} searchTooltipContent={searchTooltipContent} searchRef={searchRef} toggleFilters={toggleFilters} showFilters={showFilters} className={styles.input} query={query} filters={filters} onChange={onChange} onFilter={onFilter} onClearFilters={onClearFilters} organizationId={organizationId} /> </div> );\\n} export default translate()(MenuHeader);\\n\\n####"}
{"prompt":"define(['pre-commit','standard-markdown','import-fresh','agent-base','@babel/helper-hoist-variables','dom-serializer','buffer','@babel/plugin-transform-duplicate-keys'], function(typesProgress,standard,importFresh,util,d3Path,antfuEslintConfigTs,mdxJsReact,babelPluginTransformDuplicateKeys){\\nimport OpenrestService from 'openrest';\\nimport _ from 'lodash';\\nimport Q from 'q'; /* This module is to be used as a mixin for a reflux store. Provided methods: _save() Expected methods: _saveRequest() - returns the request item used to save _onSaveSuccess(result) - callback after (if) the save succeeds */ export default { deferredToSave:[], deferredSaving:[], _nextSave() { var This = this; if (!_.isEmpty(This.deferredSaving)) { return; } if (_.isEmpty(This.deferredToSave)) { return; } This.deferredSaving = This.deferredToSave; This.deferredToSave = []; Q() .then(() => OpenrestService.request({request:This._saveRequest()})) .then((e) => { This._onSaveSuccess(e); _.each(This.deferredSaving, function(deferred) { deferred.resolve(e); }); This.deferredSaving = []; This._nextSave(); }).catch((e) => { console.error('[SavableStoreMixin]', e); _.each(This.deferredSaving, function(deferred) { deferred.reject(e); }); This.deferredSaving = []; This._nextSave(); }); }, _save() { var deferred = Q.defer(); this.deferredToSave.push(deferred); this._nextSave(); return deferred.promise; },\\n};\\n\\n})\\n####","completion":" import typesProgress from 'pre-commit'\\nimport standard from 'standard-markdown'\\nimport importFresh from 'import-fresh'\\nimport util from 'agent-base'\\nimport d3Path from '@babel/helper-hoist-variables'\\nimport antfuEslintConfigTs from 'dom-serializer'\\nimport mdxJsReact from 'buffer'\\nimport babelPluginTransformDuplicateKeys from '@babel/plugin-transform-duplicate-keys'\\n\\nimport OpenrestService from 'openrest';\\nimport _ from 'lodash';\\nimport Q from 'q'; /* This module is to be used as a mixin for a reflux store. Provided methods: _save() Expected methods: _saveRequest() - returns the request item used to save _onSaveSuccess(result) - callback after (if) the save succeeds */ export default { deferredToSave:[], deferredSaving:[], _nextSave() { var This = this; if (!_.isEmpty(This.deferredSaving)) { return; } if (_.isEmpty(This.deferredToSave)) { return; } This.deferredSaving = This.deferredToSave; This.deferredToSave = []; Q() .then(() => OpenrestService.request({request:This._saveRequest()})) .then((e) => { This._onSaveSuccess(e); _.each(This.deferredSaving, function(deferred) { deferred.resolve(e); }); This.deferredSaving = []; This._nextSave(); }).catch((e) => { console.error('[SavableStoreMixin]', e); _.each(This.deferredSaving, function(deferred) { deferred.reject(e); }); This.deferredSaving = []; This._nextSave(); }); }, _save() { var deferred = Q.defer(); this.deferredToSave.push(deferred); this._nextSave(); return deferred.promise; },\\n};\\n\\n####"}
{"prompt":"define(['function-bind','d3-array','opn','for-each','@types/graceful-fs','co','sprintf-js','rollup-plugin-terser','micromatch','event-target-shim','flow-copy-source','@babel/helper-wrap-function','stylelint-config-standard','ansi','@babel/plugin-proposal-private-property-in-object','gulp-babel','@types/caniuse-api','locate-path'], function(typescriptEslintEslintPlugin,immutable,esArrayMethodBoxesProperly,fasterStableStringify,broccoliRollup,srcset,nthCheck,autoChangelog,mergeStream,convertSourceMap,inlineSourceMap,lodashDebounce,d3Time,ansi,cloneDeep,gulpBabel,typesCaniuseApi,lsLintLsLint){\\nimport {WixInstance} from '@wix/wixrest-utils'; function init(params) { params = params || {}; var app = params.app; var wixBilling = params.wixBilling; var wixSign = params.wixSign; app.get('/helpers/postadd', function(request, response) { var instance = request.query.instance; var appId = request.query.appId; var wixInstance = wixSign.validateInstance(instance, appId); if (!wixInstance) { response.status(403); response.json({error:'unauthorized'}); return; } var instanceId = wixInstance.instanceId; var metasiteId = WixInstance.getMetasiteIdCalculate(wixInstance); var vendorProductId = wixInstance.vendorProductId; var purchase = true; wixBilling.handleProduct({ metasiteId, instanceId, vendorProductId, purchase, }).then(function() { response.status(200); response.json({}); }).catch(function(err) { console.error(err); response.status(500); response.json({error:err}); }); });\\n} module.exports = { init:init\\n};\\n\\n})\\n####","completion":" import typescriptEslintEslintPlugin from 'function-bind'\\nimport immutable from 'd3-array'\\nimport esArrayMethodBoxesProperly from 'opn'\\nimport fasterStableStringify from 'for-each'\\nimport broccoliRollup from '@types/graceful-fs'\\nimport srcset from 'co'\\nimport nthCheck from 'sprintf-js'\\nimport autoChangelog from 'rollup-plugin-terser'\\nimport mergeStream from 'micromatch'\\nimport convertSourceMap from 'event-target-shim'\\nimport inlineSourceMap from 'flow-copy-source'\\nimport lodashDebounce from '@babel/helper-wrap-function'\\nimport d3Time from 'stylelint-config-standard'\\nimport ansi from 'ansi'\\nimport cloneDeep from '@babel/plugin-proposal-private-property-in-object'\\nimport gulpBabel from 'gulp-babel'\\nimport typesCaniuseApi from '@types/caniuse-api'\\nimport lsLintLsLint from 'locate-path'\\n\\nimport {WixInstance} from '@wix/wixrest-utils'; function init(params) { params = params || {}; var app = params.app; var wixBilling = params.wixBilling; var wixSign = params.wixSign; app.get('/helpers/postadd', function(request, response) { var instance = request.query.instance; var appId = request.query.appId; var wixInstance = wixSign.validateInstance(instance, appId); if (!wixInstance) { response.status(403); response.json({error:'unauthorized'}); return; } var instanceId = wixInstance.instanceId; var metasiteId = WixInstance.getMetasiteIdCalculate(wixInstance); var vendorProductId = wixInstance.vendorProductId; var purchase = true; wixBilling.handleProduct({ metasiteId, instanceId, vendorProductId, purchase, }).then(function() { response.status(200); response.json({}); }).catch(function(err) { console.error(err); response.status(500); response.json({error:err}); }); });\\n} module.exports = { init:init\\n};\\n\\n####"}
{"prompt":"define(['@babel/plugin-syntax-top-level-await','standardx','babel-preset-airbnb','babel-plugin-react-require','@babel/plugin-transform-modules-commonjs','@babel/plugin-transform-sticky-regex','gh-pages','path-browserify','postcss-minify-params','csv-spectrum','core-js','fake','isomorphic-fetch','karma-jasmine-ajax','typescript-formatter','ordered-binary','shx','eslint-plugin-compat','ejs','grunt'], function(babelPluginSyntaxTopLevelAwait,standardx,acorn,postcssMergeRules,babelPluginTransformModulesCommonjs,babelPluginTransformStickyRegex,sliceAnsi,babelEslintParser,jisonGho,airtap,postcssNormalizeRepeatStyle,fake,cheerio,babelPluginTransformUnicodeRegex,concurrently,karmaBrowserify,urlLoader,eslintPluginCompat,isRegex,inlineStylePrefixer){\\nconst eventually = require('../utils/eventually')\\nconst {withConcurrentDS} = require('../utils/withConcurrentDS')\\nconst {ensureCSave} = require('../utils/concurrentSessionSetup') test( 'should sync the new folder and its parent folder children', withConcurrentDS(async ({ds1, ds2}) => { const parentFolderDesciptor = await ds1.wixCode.fileSystem.getVirtualDescriptor('public', true) const newFolderDesciptor = await ds1.wixCode.fileSystem.getVirtualDescriptor('public/newFolder', true) await ds1.wixCode.fileSystem.createFolder('newFolder', parentFolderDesciptor) await ensureCSave(ds1) await eventually(async () => { await expect(ds2.wixCode.fileSystem.getChildren(newFolderDesciptor)).resolves.toEqual([]) // does not fail with 404 await expect(ds2.wixCode.fileSystem.getChildren(parentFolderDesciptor)).resolves.toEqual( expect.arrayContaining([expect.objectContaining({name: 'newFolder', directory: true})]) ) }) }), 90000\\n)\\n\\n})\\n####","completion":" import babelPluginSyntaxTopLevelAwait from '@babel/plugin-syntax-top-level-await'\\nimport standardx from 'standardx'\\nimport acorn from 'babel-preset-airbnb'\\nimport postcssMergeRules from 'babel-plugin-react-require'\\nimport babelPluginTransformModulesCommonjs from '@babel/plugin-transform-modules-commonjs'\\nimport babelPluginTransformStickyRegex from '@babel/plugin-transform-sticky-regex'\\nimport sliceAnsi from 'gh-pages'\\nimport babelEslintParser from 'path-browserify'\\nimport jisonGho from 'postcss-minify-params'\\nimport airtap from 'csv-spectrum'\\nimport postcssNormalizeRepeatStyle from 'core-js'\\nimport fake from 'fake'\\nimport cheerio from 'isomorphic-fetch'\\nimport babelPluginTransformUnicodeRegex from 'karma-jasmine-ajax'\\nimport concurrently from 'typescript-formatter'\\nimport karmaBrowserify from 'ordered-binary'\\nimport urlLoader from 'shx'\\nimport eslintPluginCompat from 'eslint-plugin-compat'\\nimport isRegex from 'ejs'\\nimport inlineStylePrefixer from 'grunt'\\n\\nconst eventually = require('../utils/eventually')\\nconst {withConcurrentDS} = require('../utils/withConcurrentDS')\\nconst {ensureCSave} = require('../utils/concurrentSessionSetup') test( 'should sync the new folder and its parent folder children', withConcurrentDS(async ({ds1, ds2}) => { const parentFolderDesciptor = await ds1.wixCode.fileSystem.getVirtualDescriptor('public', true) const newFolderDesciptor = await ds1.wixCode.fileSystem.getVirtualDescriptor('public/newFolder', true) await ds1.wixCode.fileSystem.createFolder('newFolder', parentFolderDesciptor) await ensureCSave(ds1) await eventually(async () => { await expect(ds2.wixCode.fileSystem.getChildren(newFolderDesciptor)).resolves.toEqual([]) // does not fail with 404 await expect(ds2.wixCode.fileSystem.getChildren(parentFolderDesciptor)).resolves.toEqual( expect.arrayContaining([expect.objectContaining({name: 'newFolder', directory: true})]) ) }) }), 90000\\n)\\n\\n####"}
{"prompt":"define(['@commitlint/cli','browserslist'], function(commitlintCli,browserslist){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.wix.com/demone2/success-coach (5)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/success-coach', emulateMobileDevice: true, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/5-success-coach/mesh/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import commitlintCli from '@commitlint/cli'\\nimport browserslist from 'browserslist'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.wix.com/demone2/success-coach (5)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/success-coach', emulateMobileDevice: true, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/5-success-coach/mesh/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['levn','wd','node-environment-flags','@babel/helper-skip-transparent-expression-wrappers','utility-types','unorm','karma-mocha-reporter','postcss-value-parser','babel-preset-stage-0','gzip-size-cli','pinkie-promise','google-protobuf','abortcontroller-polyfill','console-browserify','gts','ts-node','c8','cogent'], function(babelPluginSyntaxImportAssertions,makeAsyncFunction,nodeEnvironmentFlags,nodeJsx,utilityTypes,parcelPackagerHtml,lruCache,postcssValueParser,swcCli,gzipSizeCli,wdioJasmineFramework,broccoliConcat,eslintPluginJest,consoleBrowserify,gts,tsNode,npmpub,cogent){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.wix.com/demone2/hip-hop-venue (50)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/hip-hop-venue', emulateMobileDevice: true, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/50-hip-hop-venue/anchors/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import babelPluginSyntaxImportAssertions from 'levn'\\nimport makeAsyncFunction from 'wd'\\nimport nodeEnvironmentFlags from 'node-environment-flags'\\nimport nodeJsx from '@babel/helper-skip-transparent-expression-wrappers'\\nimport utilityTypes from 'utility-types'\\nimport parcelPackagerHtml from 'unorm'\\nimport lruCache from 'karma-mocha-reporter'\\nimport postcssValueParser from 'postcss-value-parser'\\nimport swcCli from 'babel-preset-stage-0'\\nimport gzipSizeCli from 'gzip-size-cli'\\nimport wdioJasmineFramework from 'pinkie-promise'\\nimport broccoliConcat from 'google-protobuf'\\nimport eslintPluginJest from 'abortcontroller-polyfill'\\nimport consoleBrowserify from 'console-browserify'\\nimport gts from 'gts'\\nimport tsNode from 'ts-node'\\nimport npmpub from 'c8'\\nimport cogent from 'cogent'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.wix.com/demone2/hip-hop-venue (50)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/hip-hop-venue', emulateMobileDevice: true, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/50-hip-hop-venue/anchors/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['querystring-es3','klaw','@parcel/optimizer-terser'], function(delCli,rollupPluginTerser,parcelOptimizerTerser){\\n'use strict' console.log(process.pid) const fs = require('fs')\\nconst {openBrowser} = require('./browser') const commandLineArgs = require('command-line-args')\\nconst optionDefinitions = [ {name: 'devtools', type: Boolean, defaultValue: false}, {name: 'headless', alias: 'h', type: Boolean, defaultValue: false}, {name: 'port', type: Number, defaultValue: 12121}, {name: 'host', type: String, defaultValue: 'localhost'}, {name: 'timeout', alias: 't', type: Number}\\n] const options = commandLineArgs(optionDefinitions)\\nconsole.log(options) let timeoutId = null\\nconst setCloseTimeout = () => { if (timeoutId) { clearTimeout(timeoutId) } if (options.timeout) { timeoutId = setTimeout(() => { console.log('closing...') process.exit(0) }, options.timeout) }\\n} module.exports = openBrowser(options) .then(browser => { process.on('SIGINT', async () => { clearTimeout(timeoutId) fs.unlinkSync(`${__dirname}/headless-pid.tmp`) }) return browser }) .catch(ex => { console.error(ex) process.exit(0) }) fs.writeFileSync(`${__dirname}/headless-pid.tmp`, process.pid)\\nsetCloseTimeout()\\n\\n})\\n####","completion":" import delCli from 'querystring-es3'\\nimport rollupPluginTerser from 'klaw'\\nimport parcelOptimizerTerser from '@parcel/optimizer-terser'\\n\\n'use strict' console.log(process.pid) const fs = require('fs')\\nconst {openBrowser} = require('./browser') const commandLineArgs = require('command-line-args')\\nconst optionDefinitions = [ {name: 'devtools', type: Boolean, defaultValue: false}, {name: 'headless', alias: 'h', type: Boolean, defaultValue: false}, {name: 'port', type: Number, defaultValue: 12121}, {name: 'host', type: String, defaultValue: 'localhost'}, {name: 'timeout', alias: 't', type: Number}\\n] const options = commandLineArgs(optionDefinitions)\\nconsole.log(options) let timeoutId = null\\nconst setCloseTimeout = () => { if (timeoutId) { clearTimeout(timeoutId) } if (options.timeout) { timeoutId = setTimeout(() => { console.log('closing...') process.exit(0) }, options.timeout) }\\n} module.exports = openBrowser(options) .then(browser => { process.on('SIGINT', async () => { clearTimeout(timeoutId) fs.unlinkSync(`${__dirname}/headless-pid.tmp`) }) return browser }) .catch(ex => { console.error(ex) process.exit(0) }) fs.writeFileSync(`${__dirname}/headless-pid.tmp`, process.pid)\\nsetCloseTimeout()\\n\\n####"}
{"prompt":"define(['chmodr','p-locate','is-arrayish','domhandler','split','escomplex-js','codecov.io','d3-polygon','@babel/plugin-transform-exponentiation-operator','@babel/helper-define-polyfill-provider'], function(typesMocha,kcdScripts,isArrayish,coreJs,split,timsort,expectJs,d3Polygon,babelPluginTransformExponentiationOperator,karmaFirefoxLauncher){\\ndefine(['lodash', 'documentServices/siteMetadata/siteMetadata', 'document-services-schemas'], function (_, siteMetadataAPI, documentServicesSchemas) { 'use strict' function getSiteMetaData(ps) { return siteMetadataAPI.getProperty(ps, siteMetadataAPI.PROPERTY_NAMES.SITE_META_DATA) } function fixSiteMetaData(ps, siteMetaData) { const mobileMetaData = _.omit(siteMetaData, ['preloader', 'contactInfo', 'quickActions']) || {} const preloader = _.clone(_.get(siteMetaData, 'preloader')) || {} const contactInfo = _.clone(_.get(siteMetaData, 'contactInfo')) || {} const quickActions = _.clone(_.get(siteMetaData, 'quickActions')) || {} const {dataValidators} = documentServicesSchemas.services dataValidators.validateItem(mobileMetaData, 'data', {schemaName: 'MobileMetaData'}) dataValidators.validateItem(preloader, 'data', {schemaName: 'Preloader'}) dataValidators.validateItem(contactInfo, 'data', {schemaName: 'ContactInfo'}) dataValidators.validateItem(quickActions, 'data', {schemaName: 'QuickActions'}) return _.assign({}, mobileMetaData, {preloader}, {contactInfo}, {quickActions}) } function setSiteMetaData(ps, siteMetaData) { siteMetadataAPI.setProperty(ps, siteMetadataAPI.PROPERTY_NAMES.SITE_META_DATA, fixSiteMetaData(ps, siteMetaData)) } return { setSiteMetaData, getSiteMetaData, fixSiteMetaData }\\n})\\n\\n})\\n####","completion":" import typesMocha from 'chmodr'\\nimport kcdScripts from 'p-locate'\\nimport isArrayish from 'is-arrayish'\\nimport coreJs from 'domhandler'\\nimport split from 'split'\\nimport timsort from 'escomplex-js'\\nimport expectJs from 'codecov.io'\\nimport d3Polygon from 'd3-polygon'\\nimport babelPluginTransformExponentiationOperator from '@babel/plugin-transform-exponentiation-operator'\\nimport karmaFirefoxLauncher from '@babel/helper-define-polyfill-provider'\\n\\ndefine(['lodash', 'documentServices/siteMetadata/siteMetadata', 'document-services-schemas'], function (_, siteMetadataAPI, documentServicesSchemas) { 'use strict' function getSiteMetaData(ps) { return siteMetadataAPI.getProperty(ps, siteMetadataAPI.PROPERTY_NAMES.SITE_META_DATA) } function fixSiteMetaData(ps, siteMetaData) { const mobileMetaData = _.omit(siteMetaData, ['preloader', 'contactInfo', 'quickActions']) || {} const preloader = _.clone(_.get(siteMetaData, 'preloader')) || {} const contactInfo = _.clone(_.get(siteMetaData, 'contactInfo')) || {} const quickActions = _.clone(_.get(siteMetaData, 'quickActions')) || {} const {dataValidators} = documentServicesSchemas.services dataValidators.validateItem(mobileMetaData, 'data', {schemaName: 'MobileMetaData'}) dataValidators.validateItem(preloader, 'data', {schemaName: 'Preloader'}) dataValidators.validateItem(contactInfo, 'data', {schemaName: 'ContactInfo'}) dataValidators.validateItem(quickActions, 'data', {schemaName: 'QuickActions'}) return _.assign({}, mobileMetaData, {preloader}, {contactInfo}, {quickActions}) } function setSiteMetaData(ps, siteMetaData) { siteMetadataAPI.setProperty(ps, siteMetadataAPI.PROPERTY_NAMES.SITE_META_DATA, fixSiteMetaData(ps, siteMetaData)) } return { setSiteMetaData, getSiteMetaData, fixSiteMetaData }\\n})\\n\\n####"}
{"prompt":"define(['d3-dsv','karma-edge-launcher','eslint-plugin-no-only-tests','concat-stream','twist','eslint-plugin-standard','@commitlint/cli','relateurl','grunt-template','bowser','@babel/plugin-proposal-private-property-in-object','is-symbol','travis-check-changes'], function(regexpuFixtures,sizeLimitPresetSmallLib,eslintPluginNoOnlyTests,vega,webpackCli,eslintPluginStandard,commitlintCli,gruntContribConcat,lintspacesCli,bowser,cloneDeep,bazelBazelisk,rollupPluginBabelMinify){\\nimport PropTypes from 'prop-types';\\nimport React from 'react'; export default class extends React.Component { static propTypes = { width: PropTypes.number, height: PropTypes.number, color: PropTypes.string, }; static defaultProps = { width: 25, height: 25, color: 'rgb(255,255,255)' }; // # IMPORTANT // When pasting the svg, don't forget to set the viewBox. // render() { return ( <svg width={this.props.width + 'px'} height={this.props.height + 'px'} fill={this.props.color} viewBox='0 0 51 51'> <g id=\\\"Page-1\\\" stroke=\\\"none\\\" strokeWidth=\\\"1\\\" fill=\\\"none\\\" fillRule=\\\"evenodd\\\"> <g id=\\\"Remove\\\" fill={this.props.color}> <g id=\\\"Group\\\"> <path d=\\\"M42.8,7.4 C33,-2.4 17.2,-2.4 7.4,7.4 C-2.4,17.2 -2.4,33 7.4,42.8 C17.2,52.6 33,52.6 42.8,42.8 C52.6,33 52.6,17.2 42.8,7.4 L42.8,7.4 Z M40.7,40.7 C32.1,49.3 18.2,49.3 9.6,40.7 C1,32.1 1,18.1 9.6,9.6 C18.2,1 32.1,1 40.7,9.6 C49.3,18.1 49.3,32.1 40.7,40.7 L40.7,40.7 Z\\\" id=\\\"Shape\\\"></path> <path d=\\\"M32.2,15 L24.4,22.8 L16.6,15 L14.5,17.1 L22.3,24.9 L14.5,32.7 L16.6,34.8 L24.4,27 L32.2,34.8 L34.3,32.7 L26.5,24.9 L34.3,17.1 L32.2,15 Z\\\" id=\\\"Shape\\\"></path> </g> </g> </g> </svg> ); }\\n}\\n\\n})\\n####","completion":" import regexpuFixtures from 'd3-dsv'\\nimport sizeLimitPresetSmallLib from 'karma-edge-launcher'\\nimport eslintPluginNoOnlyTests from 'eslint-plugin-no-only-tests'\\nimport vega from 'concat-stream'\\nimport webpackCli from 'twist'\\nimport eslintPluginStandard from 'eslint-plugin-standard'\\nimport commitlintCli from '@commitlint/cli'\\nimport gruntContribConcat from 'relateurl'\\nimport lintspacesCli from 'grunt-template'\\nimport bowser from 'bowser'\\nimport cloneDeep from '@babel/plugin-proposal-private-property-in-object'\\nimport bazelBazelisk from 'is-symbol'\\nimport rollupPluginBabelMinify from 'travis-check-changes'\\n\\nimport PropTypes from 'prop-types';\\nimport React from 'react'; export default class extends React.Component { static propTypes = { width: PropTypes.number, height: PropTypes.number, color: PropTypes.string, }; static defaultProps = { width: 25, height: 25, color: 'rgb(255,255,255)' }; // # IMPORTANT // When pasting the svg, don't forget to set the viewBox. // render() { return ( <svg width={this.props.width + 'px'} height={this.props.height + 'px'} fill={this.props.color} viewBox='0 0 51 51'> <g id=\\\"Page-1\\\" stroke=\\\"none\\\" strokeWidth=\\\"1\\\" fill=\\\"none\\\" fillRule=\\\"evenodd\\\"> <g id=\\\"Remove\\\" fill={this.props.color}> <g id=\\\"Group\\\"> <path d=\\\"M42.8,7.4 C33,-2.4 17.2,-2.4 7.4,7.4 C-2.4,17.2 -2.4,33 7.4,42.8 C17.2,52.6 33,52.6 42.8,42.8 C52.6,33 52.6,17.2 42.8,7.4 L42.8,7.4 Z M40.7,40.7 C32.1,49.3 18.2,49.3 9.6,40.7 C1,32.1 1,18.1 9.6,9.6 C18.2,1 32.1,1 40.7,9.6 C49.3,18.1 49.3,32.1 40.7,40.7 L40.7,40.7 Z\\\" id=\\\"Shape\\\"></path> <path d=\\\"M32.2,15 L24.4,22.8 L16.6,15 L14.5,17.1 L22.3,24.9 L14.5,32.7 L16.6,34.8 L24.4,27 L32.2,34.8 L34.3,32.7 L26.5,24.9 L34.3,17.1 L32.2,15 Z\\\" id=\\\"Shape\\\"></path> </g> </g> </g> </svg> ); }\\n}\\n\\n####"}
{"prompt":"define(['stylelint-processor-styled-components','grunt-cli','@babel/plugin-proposal-dynamic-import','babel-plugin-transform-es2015-arrow-functions','colord','url-search-params','posthtml-parser'], function(betterAjvErrors,hasBigints,bluebird,eslintPluginImport,parcelOptimizerSvgo,urlSearchParams,posthtmlParser){\\n/** * Sample React Native App * https://github.com/facebook/react-native * @flow */ import React, { Component } from 'react';\\nimport { AppRegistry, StyleSheet, Text, View\\n} from 'react-native'; export default class RestaurantsOrdersNative extends Component { render() { return ( <View style={styles.container}> <Text style={styles.welcome}> Welcome to React Native! </Text> <Text style={styles.instructions}> To get started, edit index.android.js </Text> <Text style={styles.instructions}> Double tap R on your keyboard to reload,{'\\n'} Shake or press menu button for dev menu </Text> </View> ); }\\n} const styles = StyleSheet.create({ container: { flex: 1, justifyContent: 'center', alignItems: 'center', backgroundColor: '#F5FCFF', }, welcome: { fontSize: 20, textAlign: 'center', margin: 10, }, instructions: { textAlign: 'center', color: '#333333', marginBottom: 5, },\\n}); AppRegistry.registerComponent('RestaurantsOrdersNative', () => RestaurantsOrdersNative);\\n\\n})\\n####","completion":" import betterAjvErrors from 'stylelint-processor-styled-components'\\nimport hasBigints from 'grunt-cli'\\nimport bluebird from '@babel/plugin-proposal-dynamic-import'\\nimport eslintPluginImport from 'babel-plugin-transform-es2015-arrow-functions'\\nimport parcelOptimizerSvgo from 'colord'\\nimport urlSearchParams from 'url-search-params'\\nimport posthtmlParser from 'posthtml-parser'\\n\\n/** * Sample React Native App * https://github.com/facebook/react-native * @flow */ import React, { Component } from 'react';\\nimport { AppRegistry, StyleSheet, Text, View\\n} from 'react-native'; export default class RestaurantsOrdersNative extends Component { render() { return ( <View style={styles.container}> <Text style={styles.welcome}> Welcome to React Native! </Text> <Text style={styles.instructions}> To get started, edit index.android.js </Text> <Text style={styles.instructions}> Double tap R on your keyboard to reload,{'\\n'} Shake or press menu button for dev menu </Text> </View> ); }\\n} const styles = StyleSheet.create({ container: { flex: 1, justifyContent: 'center', alignItems: 'center', backgroundColor: '#F5FCFF', }, welcome: { fontSize: 20, textAlign: 'center', margin: 10, }, instructions: { textAlign: 'center', color: '#333333', marginBottom: 5, },\\n}); AppRegistry.registerComponent('RestaurantsOrdersNative', () => RestaurantsOrdersNative);\\n\\n####"}
{"prompt":"define(['async-listen','delayed-stream','semantic-release','glob','@parcel/config-default','@parcel/optimizer-htmlnano','airbnb-js-shims','@wdio/local-runner','get-intrinsic','@parcel/fs-search','postcss-reduce-transforms','ajv','locate-path','pngjs','@types/jsesc','commander','co','code-point-at','delay'], function(asyncListen,babelHelperValidatorIdentifier,csvSpectrum,glob,parcelConfigDefault,isomorphicFetch,airbnbJsShims,wdioLocalRunner,getIntrinsic,parcelFsSearch,smoosh,fastGlob,lsLintLsLint,functionBind,unicodeMatchPropertyValueEcmascript,commander,srcset,iconvLite,zuul){\\nimport _ from 'lodash';\\nimport unionIntervals from './IntervalsUnion'; export default function availabilitiesUnion(...availabilities) { let intervals = _(availabilities) .map(availabilityToWeekly) .map(weeklyAvailabilityToIntervals) .value(); let unionizedInterval = unionIntervals(...intervals); let unionizedAvailability = intervalsToAvailability(unionizedInterval); const unionizedExceptions = _.reduce(_.map(availabilities, 'exceptions'), (acc, cur) => { acc = cur ? acc.concat(cur) : acc; return acc; }, []); let availability = { weekly: unionizedAvailability, }; if (_.size(unionizedExceptions)) availability.exceptions = unionizedExceptions; return availability;\\n} function availabilityToWeekly(availability) { return availability && availability.weekly ? availability.weekly : [];\\n} function weeklyAvailabilityToIntervals(weekly) { return _.map(weekly, availabilityRangeToInterval);\\n} function availabilityRangeToInterval({minuteOfWeek, durationMins}) { return [minuteOfWeek, minuteOfWeek + durationMins];\\n} function intervalsToAvailability(intervals) { return _.map(intervals, i => ({ minuteOfWeek: i[0], durationMins: i[1] - i[0] }));\\n}\\n\\n})\\n####","completion":" import asyncListen from 'async-listen'\\nimport babelHelperValidatorIdentifier from 'delayed-stream'\\nimport csvSpectrum from 'semantic-release'\\nimport glob from 'glob'\\nimport parcelConfigDefault from '@parcel/config-default'\\nimport isomorphicFetch from '@parcel/optimizer-htmlnano'\\nimport airbnbJsShims from 'airbnb-js-shims'\\nimport wdioLocalRunner from '@wdio/local-runner'\\nimport getIntrinsic from 'get-intrinsic'\\nimport parcelFsSearch from '@parcel/fs-search'\\nimport smoosh from 'postcss-reduce-transforms'\\nimport fastGlob from 'ajv'\\nimport lsLintLsLint from 'locate-path'\\nimport functionBind from 'pngjs'\\nimport unicodeMatchPropertyValueEcmascript from '@types/jsesc'\\nimport commander from 'commander'\\nimport srcset from 'co'\\nimport iconvLite from 'code-point-at'\\nimport zuul from 'delay'\\n\\nimport _ from 'lodash';\\nimport unionIntervals from './IntervalsUnion'; export default function availabilitiesUnion(...availabilities) { let intervals = _(availabilities) .map(availabilityToWeekly) .map(weeklyAvailabilityToIntervals) .value(); let unionizedInterval = unionIntervals(...intervals); let unionizedAvailability = intervalsToAvailability(unionizedInterval); const unionizedExceptions = _.reduce(_.map(availabilities, 'exceptions'), (acc, cur) => { acc = cur ? acc.concat(cur) : acc; return acc; }, []); let availability = { weekly: unionizedAvailability, }; if (_.size(unionizedExceptions)) availability.exceptions = unionizedExceptions; return availability;\\n} function availabilityToWeekly(availability) { return availability && availability.weekly ? availability.weekly : [];\\n} function weeklyAvailabilityToIntervals(weekly) { return _.map(weekly, availabilityRangeToInterval);\\n} function availabilityRangeToInterval({minuteOfWeek, durationMins}) { return [minuteOfWeek, minuteOfWeek + durationMins];\\n} function intervalsToAvailability(intervals) { return _.map(intervals, i => ({ minuteOfWeek: i[0], durationMins: i[1] - i[0] }));\\n}\\n\\n####"}
{"prompt":"define(['preact','broccoli-merge-trees','karma-sourcemap-loader','@babel/plugin-proposal-object-rest-spread','parse-json','events-to-array','expect-jsx','proxyquire','@babel/plugin-syntax-optional-chaining','ms','caniuse-api','rollup-plugin-uglify'], function(preact,broccoliMergeTrees,karmaSourcemapLoader,parcelFsWriteStreamAtomic,fsRealpath,eventsToArray,hyperquest,proxyquire,babelPluginSyntaxOptionalChaining,fastLevenshtein,typesMinimatch,rollupPluginUglify){\\nexport default function Maybe(value) { const Nothing = { bind() { return this; }, isNothing() { return true; }, val() { return null; }, maybe(def) { if (typeof def === 'function') { return def(); } return def; }, truthy() { return false; }, }; const Something = function (value) { return { bind(fn) { return Maybe(fn.call(this, value)); }, isNothing() { return false; }, val() { return value; }, maybe(def, fn) { return fn.call(this, value); }, truthy() { return !!value; }, }; }; if (typeof value === 'undefined' || value === null) { return Nothing; } return Something(value);\\n}\\n\\n})\\n####","completion":" import preact from 'preact'\\nimport broccoliMergeTrees from 'broccoli-merge-trees'\\nimport karmaSourcemapLoader from 'karma-sourcemap-loader'\\nimport parcelFsWriteStreamAtomic from '@babel/plugin-proposal-object-rest-spread'\\nimport fsRealpath from 'parse-json'\\nimport eventsToArray from 'events-to-array'\\nimport hyperquest from 'expect-jsx'\\nimport proxyquire from 'proxyquire'\\nimport babelPluginSyntaxOptionalChaining from '@babel/plugin-syntax-optional-chaining'\\nimport fastLevenshtein from 'ms'\\nimport typesMinimatch from 'caniuse-api'\\nimport rollupPluginUglify from 'rollup-plugin-uglify'\\n\\nexport default function Maybe(value) { const Nothing = { bind() { return this; }, isNothing() { return true; }, val() { return null; }, maybe(def) { if (typeof def === 'function') { return def(); } return def; }, truthy() { return false; }, }; const Something = function (value) { return { bind(fn) { return Maybe(fn.call(this, value)); }, isNothing() { return false; }, val() { return value; }, maybe(def, fn) { return fn.call(this, value); }, truthy() { return !!value; }, }; }; if (typeof value === 'undefined' || value === null) { return Nothing; } return Something(value);\\n}\\n\\n####"}
{"prompt":"define(['vega-embed','istanbul-coveralls','lilconfig','preact-render-spy','typedoc','gulp-format-md','fbjs-scripts','@webgpu/types','@babel/helper-create-class-features-plugin','nopt','uglify-register','@babel/plugin-transform-new-target','prelude-ls','@parcel/fs-write-stream-atomic','unorm','grunt-contrib-clean','@nuxtjs/eslint-config','isobject','spawn-sync','benchmark'], function(vegaEmbed,d3Dispatch,lilconfig,teenyRequest,typedoc,travisDeployOnce,fbjsScripts,babelPluginProposalNullishCoalescingOperator,babelHelperCreateClassFeaturesPlugin,nopt,typesWebgl2,temp,preludeLs,delegates,parcelPackagerHtml,gruntContribClean,typesGracefulFs,isobject,spawnSync,once){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.wix.com/demone2/mechanical-engineer (3)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/mechanical-engineer', emulateMobileDevice: false, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/3-mechanic/mesh/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import vegaEmbed from 'vega-embed'\\nimport d3Dispatch from 'istanbul-coveralls'\\nimport lilconfig from 'lilconfig'\\nimport teenyRequest from 'preact-render-spy'\\nimport typedoc from 'typedoc'\\nimport travisDeployOnce from 'gulp-format-md'\\nimport fbjsScripts from 'fbjs-scripts'\\nimport babelPluginProposalNullishCoalescingOperator from '@webgpu/types'\\nimport babelHelperCreateClassFeaturesPlugin from '@babel/helper-create-class-features-plugin'\\nimport nopt from 'nopt'\\nimport typesWebgl2 from 'uglify-register'\\nimport temp from '@babel/plugin-transform-new-target'\\nimport preludeLs from 'prelude-ls'\\nimport delegates from '@parcel/fs-write-stream-atomic'\\nimport parcelPackagerHtml from 'unorm'\\nimport gruntContribClean from 'grunt-contrib-clean'\\nimport typesGracefulFs from '@nuxtjs/eslint-config'\\nimport isobject from 'isobject'\\nimport spawnSync from 'spawn-sync'\\nimport once from 'benchmark'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.wix.com/demone2/mechanical-engineer (3)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/mechanical-engineer', emulateMobileDevice: false, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/3-mechanic/mesh/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['jsdom','@babel/runtime','@types/css-declaration-sorter','is-shared-array-buffer','istanbul-coveralls','livescript','htmlparser2','codemirror','make-async-function'], function(async,babelRuntime,typesCssDeclarationSorter,isSharedArrayBuffer,d3Dispatch,jridgewellGenMapping,isSymbol,codemirror,d3TimeFormat){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.wix.com/demone2/food-blog (26)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/food-blog', emulateMobileDevice: true, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/26-food-blog/mesh/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import async from 'jsdom'\\nimport babelRuntime from '@babel/runtime'\\nimport typesCssDeclarationSorter from '@types/css-declaration-sorter'\\nimport isSharedArrayBuffer from 'is-shared-array-buffer'\\nimport d3Dispatch from 'istanbul-coveralls'\\nimport jridgewellGenMapping from 'livescript'\\nimport isSymbol from 'htmlparser2'\\nimport codemirror from 'codemirror'\\nimport d3TimeFormat from 'make-async-function'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.wix.com/demone2/food-blog (26)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/food-blog', emulateMobileDevice: true, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/26-food-blog/mesh/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['broccoli-uglify-js','saucelabs','@babel/code-frame','@babel/helper-replace-supers'], function(broccoliUglifyJs,saucelabs,babelCodeFrame,formidable){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.wix.com/demone2/designer-pop-up-stor (49)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/designer-pop-up-stor', emulateMobileDevice: false, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/49-designer-pop-up-store/anchors/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import broccoliUglifyJs from 'broccoli-uglify-js'\\nimport saucelabs from 'saucelabs'\\nimport babelCodeFrame from '@babel/code-frame'\\nimport formidable from '@babel/helper-replace-supers'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.wix.com/demone2/designer-pop-up-stor (49)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/designer-pop-up-stor', emulateMobileDevice: false, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/49-designer-pop-up-store/anchors/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['d3-color','cross-spawn','@parcel/optimizer-htmlnano','lolex','parse-passwd','@typescript-eslint/parser','charcodes','@babel/plugin-bugfix-safari-id-destructuring-collision-in-function-expression','callsites','debug','teeny-request','@unicode/unicode-14.0.0','vega-embed','@babel/plugin-transform-arrow-functions','yalc','d3-time','unorm'], function(postcssCalc,crossSpawn,isomorphicFetch,regexpPrototypeFlags,parsePasswd,typescriptEslintParser,charcodes,babelPluginBugfixSafariIdDestructuringCollisionInFunctionExpression,callsites,livescript,obake,ejs,vegaEmbed,babelPluginTransformArrowFunctions,babelPluginTransformRuntime,gitbookPluginEditLink,parcelPackagerHtml){\\ndefine(['lodash', 'documentServices/component/componentModes', '@wix/santa-core-utils', 'documentServices/mobileUtilities/mobileUtilities'], function ( _, componentModes, coreUtils, mobileUtil\\n) { 'use strict' function activatePageMobileHoverModes(ps, pagePointer) { const pageComponentPointer = ps.pointers.components.getPage(pagePointer.id, coreUtils.constants.VIEW_MODES.DESKTOP) const pageChildren = ps.pointers.components.getChildrenRecursively(pageComponentPointer) _(pageChildren) .filter(isHoverModeFoundOnComponent.bind(null, ps)) .forEach(mobileUtil.prepareComponentStructureForMobileAlgorithm.bind(null, ps, componentModes)) } function isHoverModeFoundOnComponent(ps, componentPointer) { return !!getComponentHoverMode(ps, componentPointer) } function getComponentHoverMode(ps, componentPointer) { const compModeDefinitions = componentModes.getComponentModes(ps, componentPointer) return _.find(compModeDefinitions, {type: 'HOVER'}) } return { activatePageMobileHoverModes }\\n})\\n\\n})\\n####","completion":" import postcssCalc from 'd3-color'\\nimport crossSpawn from 'cross-spawn'\\nimport isomorphicFetch from '@parcel/optimizer-htmlnano'\\nimport regexpPrototypeFlags from 'lolex'\\nimport parsePasswd from 'parse-passwd'\\nimport typescriptEslintParser from '@typescript-eslint/parser'\\nimport charcodes from 'charcodes'\\nimport babelPluginBugfixSafariIdDestructuringCollisionInFunctionExpression from '@babel/plugin-bugfix-safari-id-destructuring-collision-in-function-expression'\\nimport callsites from 'callsites'\\nimport livescript from 'debug'\\nimport obake from 'teeny-request'\\nimport ejs from '@unicode/unicode-14.0.0'\\nimport vegaEmbed from 'vega-embed'\\nimport babelPluginTransformArrowFunctions from '@babel/plugin-transform-arrow-functions'\\nimport babelPluginTransformRuntime from 'yalc'\\nimport gitbookPluginEditLink from 'd3-time'\\nimport parcelPackagerHtml from 'unorm'\\n\\ndefine(['lodash', 'documentServices/component/componentModes', '@wix/santa-core-utils', 'documentServices/mobileUtilities/mobileUtilities'], function ( _, componentModes, coreUtils, mobileUtil\\n) { 'use strict' function activatePageMobileHoverModes(ps, pagePointer) { const pageComponentPointer = ps.pointers.components.getPage(pagePointer.id, coreUtils.constants.VIEW_MODES.DESKTOP) const pageChildren = ps.pointers.components.getChildrenRecursively(pageComponentPointer) _(pageChildren) .filter(isHoverModeFoundOnComponent.bind(null, ps)) .forEach(mobileUtil.prepareComponentStructureForMobileAlgorithm.bind(null, ps, componentModes)) } function isHoverModeFoundOnComponent(ps, componentPointer) { return !!getComponentHoverMode(ps, componentPointer) } function getComponentHoverMode(ps, componentPointer) { const compModeDefinitions = componentModes.getComponentModes(ps, componentPointer) return _.find(compModeDefinitions, {type: 'HOVER'}) } return { activatePageMobileHoverModes }\\n})\\n\\n####"}
{"prompt":"define(['standard-markdown','action-walk','coco'], function(standard,actionWalk,coco){\\nconst {getVersion} = require('./utils')\\nconst wdp = require('@wix/deploy-preview')\\nconst isCi = require('is-ci')\\nconst groupId = 'com.wixpress.html-client'\\nconst artifactId = 'document-management'\\nconst version = getVersion()\\nconst tag = isCi ? `ci-${getVersion().substr(0, 8)}` : process.env.TAG module.exports.tag = tag module.exports.deploy = async () => { await wdp.deploy({ groupId, artifactId, version, tag }) console.log(`wdp.deploy finished - tag: ${tag}`)\\n} module.exports.waitForDeploymentToBeReady = async () => { await wdp.waitForDeploymentToBeReady(groupId, artifactId, tag) console.log(`wdp.waitForDeploymentToBeReady finished, tag: ${tag}`)\\n} module.exports.undeploy = async () => await wdp.undeploy({groupId, artifactId, tag}) module.exports.deployAndWaitForServer = async () => { console.log(`deploy server -tag: ${tag}`) await module.exports.deploy() await module.exports.waitForDeploymentToBeReady() console.log(`finish deploy server tag: ${tag}`)\\n}\\n\\n})\\n####","completion":" import standard from 'standard-markdown'\\nimport actionWalk from 'action-walk'\\nimport coco from 'coco'\\n\\nconst {getVersion} = require('./utils')\\nconst wdp = require('@wix/deploy-preview')\\nconst isCi = require('is-ci')\\nconst groupId = 'com.wixpress.html-client'\\nconst artifactId = 'document-management'\\nconst version = getVersion()\\nconst tag = isCi ? `ci-${getVersion().substr(0, 8)}` : process.env.TAG module.exports.tag = tag module.exports.deploy = async () => { await wdp.deploy({ groupId, artifactId, version, tag }) console.log(`wdp.deploy finished - tag: ${tag}`)\\n} module.exports.waitForDeploymentToBeReady = async () => { await wdp.waitForDeploymentToBeReady(groupId, artifactId, tag) console.log(`wdp.waitForDeploymentToBeReady finished, tag: ${tag}`)\\n} module.exports.undeploy = async () => await wdp.undeploy({groupId, artifactId, tag}) module.exports.deployAndWaitForServer = async () => { console.log(`deploy server -tag: ${tag}`) await module.exports.deploy() await module.exports.waitForDeploymentToBeReady() console.log(`finish deploy server tag: ${tag}`)\\n}\\n\\n####"}
{"prompt":"define(['cheerio-soupselect','postcss-normalize-charset','@parcel/fs-write-stream-atomic','brfs','emoji-regex','parted','@babel/plugin-proposal-async-generator-functions','pngjs','karma-jasmine-ajax','@parcel/transformer-image','action-walk','color-name','eslint-config-gulp','@babel/plugin-transform-typeof-symbol','chai-exclude','jest'], function(karmaChromeLauncher,detectBrowser,delegates,nuxtjsEslintConfig,aproba,functionPrototypeName,pathExists,functionBind,babelPluginTransformUnicodeRegex,dotenvExpand,actionWalk,expectJsx,istanbulCoveralls,babelPluginSyntaxAsyncGenerators,errto,gulpEslint){\\nconst _ = require('lodash')\\nconst {DataFixerMissingParamError} = require('../errors/errors')\\nconst {buildArgs, paramList} = require('./requestHelper') module.exports = (htmlServer, statics, dataFixer, clientSpecMap) => { function aPagesInfoForDataFixersRequest(isUrlMigrated, siteId) { return { isUrlMigrated, siteId } } function isMasterPage(page) { return _.get(page, 'structure.type') === 'Document' } function getPagesInfo(params, page) { return isMasterPage(page) ? htmlServer.getPagesInfo(aPagesInfoForDataFixersRequest(params.isUrlMigrated, params.siteId)) : Promise.resolve() } function validate(params) { const missingParams = _.filter(paramList, paramName => _.isUndefined(params[paramName])) return _.isEmpty(missingParams) ? Promise.resolve(params) : Promise.reject(new DataFixerMissingParamError(missingParams)) } async function fix(params) { const [resolvedClientSpecMap, page] = await Promise.all([clientSpecMap, statics.download(params.pageId, params.v)]) const pagesInfo = await getPagesInfo(params, page) return dataFixer.fix(buildArgs(params, page, resolvedClientSpecMap, pagesInfo)) } return { fix: params => validate(params).then(fix) }\\n}\\n})\\n####","completion":" import karmaChromeLauncher from 'cheerio-soupselect'\\nimport detectBrowser from 'postcss-normalize-charset'\\nimport delegates from '@parcel/fs-write-stream-atomic'\\nimport nuxtjsEslintConfig from 'brfs'\\nimport aproba from 'emoji-regex'\\nimport functionPrototypeName from 'parted'\\nimport pathExists from '@babel/plugin-proposal-async-generator-functions'\\nimport functionBind from 'pngjs'\\nimport babelPluginTransformUnicodeRegex from 'karma-jasmine-ajax'\\nimport dotenvExpand from '@parcel/transformer-image'\\nimport actionWalk from 'action-walk'\\nimport expectJsx from 'color-name'\\nimport istanbulCoveralls from 'eslint-config-gulp'\\nimport babelPluginSyntaxAsyncGenerators from '@babel/plugin-transform-typeof-symbol'\\nimport errto from 'chai-exclude'\\nimport gulpEslint from 'jest'\\n\\nconst _ = require('lodash')\\nconst {DataFixerMissingParamError} = require('../errors/errors')\\nconst {buildArgs, paramList} = require('./requestHelper') module.exports = (htmlServer, statics, dataFixer, clientSpecMap) => { function aPagesInfoForDataFixersRequest(isUrlMigrated, siteId) { return { isUrlMigrated, siteId } } function isMasterPage(page) { return _.get(page, 'structure.type') === 'Document' } function getPagesInfo(params, page) { return isMasterPage(page) ? htmlServer.getPagesInfo(aPagesInfoForDataFixersRequest(params.isUrlMigrated, params.siteId)) : Promise.resolve() } function validate(params) { const missingParams = _.filter(paramList, paramName => _.isUndefined(params[paramName])) return _.isEmpty(missingParams) ? Promise.resolve(params) : Promise.reject(new DataFixerMissingParamError(missingParams)) } async function fix(params) { const [resolvedClientSpecMap, page] = await Promise.all([clientSpecMap, statics.download(params.pageId, params.v)]) const pagesInfo = await getPagesInfo(params, page) return dataFixer.fix(buildArgs(params, page, resolvedClientSpecMap, pagesInfo)) } return { fix: params => validate(params).then(fix) }\\n}\\n####"}
{"prompt":"define(['locate-path','isobject','purgecss','npm-run-all','nth-check','@mdx-js/react','@babel/plugin-proposal-json-strings','is-date-object','p-limit','tempy','@typescript-eslint/eslint-plugin','grunt-contrib-uglify'], function(lsLintLsLint,isobject,purgecss,npmRunAll,getSymbolDescription,far,chmodr,isDateObject,pLimit,tempy,jquery,gruntContribUglify){\\nimport $ from 'jquery'; const braintreeScripts = [ 'https://js.braintreegateway.com/web/3.48.0/js/client.min.js', 'https://js.braintreegateway.com/web/3.48.0/js/three-d-secure.min.js'\\n]; let threeDSecure; export async function init(clientToken) { try { console.log('[braintree sdk] initScripts'); await initScripts(); console.log('[braintree sdk] client.create'); const clientInstance = await window.braintree.client.create({ authorization: clientToken }); console.log('[braintree sdk] threeDSecure.create'); threeDSecure = await window.braintree.threeDSecure.create({ client: clientInstance, version: 2 }); window.threeDSecure = threeDSecure; console.log('[braintree sdk] threeDSecure created', threeDSecure); } catch (err) { console.error('braintree sdk init failed', err); }\\n} export const verifyCard = (...args) => { console.log('[braintree sdk] verifyCard'); return threeDSecure.verifyCard(...args);\\n}; function initScripts() { return Promise.all(braintreeScripts.map(url => new Promise(resolve => $.getScript(url).done(resolve))));\\n}\\n\\n})\\n####","completion":" import lsLintLsLint from 'locate-path'\\nimport isobject from 'isobject'\\nimport purgecss from 'purgecss'\\nimport npmRunAll from 'npm-run-all'\\nimport getSymbolDescription from 'nth-check'\\nimport far from '@mdx-js/react'\\nimport chmodr from '@babel/plugin-proposal-json-strings'\\nimport isDateObject from 'is-date-object'\\nimport pLimit from 'p-limit'\\nimport tempy from 'tempy'\\nimport jquery from '@typescript-eslint/eslint-plugin'\\nimport gruntContribUglify from 'grunt-contrib-uglify'\\n\\nimport $ from 'jquery'; const braintreeScripts = [ 'https://js.braintreegateway.com/web/3.48.0/js/client.min.js', 'https://js.braintreegateway.com/web/3.48.0/js/three-d-secure.min.js'\\n]; let threeDSecure; export async function init(clientToken) { try { console.log('[braintree sdk] initScripts'); await initScripts(); console.log('[braintree sdk] client.create'); const clientInstance = await window.braintree.client.create({ authorization: clientToken }); console.log('[braintree sdk] threeDSecure.create'); threeDSecure = await window.braintree.threeDSecure.create({ client: clientInstance, version: 2 }); window.threeDSecure = threeDSecure; console.log('[braintree sdk] threeDSecure created', threeDSecure); } catch (err) { console.error('braintree sdk init failed', err); }\\n} export const verifyCard = (...args) => { console.log('[braintree sdk] verifyCard'); return threeDSecure.verifyCard(...args);\\n}; function initScripts() { return Promise.all(braintreeScripts.map(url => new Promise(resolve => $.getScript(url).done(resolve))));\\n}\\n\\n####"}
{"prompt":"define(['codecov.io','prebuildify-ci','is-fullwidth-code-point','core-js-compat','core-js','karma-detect-browsers','@types/jsesc','playwright','grunt-contrib-clean','pngjs','@types/chai'], function(expectJs,gruntContribCopy,isFullwidthCodePoint,parcelCache,postcssNormalizeRepeatStyle,karmaDetectBrowsers,unicodeMatchPropertyValueEcmascript,babelPluginTransformUnicodeEscapes,gruntContribClean,functionBind,chalk){\\ndefine([ 'lodash', 'documentServices/wixCode/pointers/wixCodePointers' // load for registrations\\n], function (_) { 'use strict' function initPaths(ps) { const pointersToSet = [ ps.pointers.wixCode.getRoot(), ps.pointers.wixCode.getNonUndoableRoot(), ps.pointers.wixCode.getUndoableRoot(), ps.pointers.wixCode.getModifiedFileContentMap(), ps.pointers.wixCode.getLoadedFileContentMap(), ps.pointers.wixCode.getDuplicatedFilesInfoMap(), ps.pointers.wixCode.getUndoableModifiedFileContentMap(), ps.pointers.wixCode.getFilePathToIdMap(), ps.pointers.wixCode.getBundleCacheKillerMap(), ps.pointers.wixCode.getWixCodeModel(), ps.pointers.wixCode.getWixCodeAppData(), ps.pointers.wixCode.getAreChildrenLoadedMap(), ps.pointers.wixCode.getLoadedChildrenMap(), ps.pointers.wixCode.getDirectoryFlagByDeletedPathMap() ] _.forEach(pointersToSet, function (pointer) { if (!ps.dal.isExist(pointer)) { // DAL does not support deep merge ps.dal.set(pointer, {}) } }) } return { initPaths }\\n})\\n\\n})\\n####","completion":" import expectJs from 'codecov.io'\\nimport gruntContribCopy from 'prebuildify-ci'\\nimport isFullwidthCodePoint from 'is-fullwidth-code-point'\\nimport parcelCache from 'core-js-compat'\\nimport postcssNormalizeRepeatStyle from 'core-js'\\nimport karmaDetectBrowsers from 'karma-detect-browsers'\\nimport unicodeMatchPropertyValueEcmascript from '@types/jsesc'\\nimport babelPluginTransformUnicodeEscapes from 'playwright'\\nimport gruntContribClean from 'grunt-contrib-clean'\\nimport functionBind from 'pngjs'\\nimport chalk from '@types/chai'\\n\\ndefine([ 'lodash', 'documentServices/wixCode/pointers/wixCodePointers' // load for registrations\\n], function (_) { 'use strict' function initPaths(ps) { const pointersToSet = [ ps.pointers.wixCode.getRoot(), ps.pointers.wixCode.getNonUndoableRoot(), ps.pointers.wixCode.getUndoableRoot(), ps.pointers.wixCode.getModifiedFileContentMap(), ps.pointers.wixCode.getLoadedFileContentMap(), ps.pointers.wixCode.getDuplicatedFilesInfoMap(), ps.pointers.wixCode.getUndoableModifiedFileContentMap(), ps.pointers.wixCode.getFilePathToIdMap(), ps.pointers.wixCode.getBundleCacheKillerMap(), ps.pointers.wixCode.getWixCodeModel(), ps.pointers.wixCode.getWixCodeAppData(), ps.pointers.wixCode.getAreChildrenLoadedMap(), ps.pointers.wixCode.getLoadedChildrenMap(), ps.pointers.wixCode.getDirectoryFlagByDeletedPathMap() ] _.forEach(pointersToSet, function (pointer) { if (!ps.dal.isExist(pointer)) { // DAL does not support deep merge ps.dal.set(pointer, {}) } }) } return { initPaths }\\n})\\n\\n####"}
{"prompt":"define(['@babel/plugin-proposal-async-generator-functions','events','@parcel/reporter-cli','@babel/plugin-transform-runtime','is-symbol','in-range','@tensorflow/tfjs-converter','prebuildify','@parcel/node-resolver-core','node-tick-processor','npmignore','@babel/preset-flow','color','tape','esutils','kind-of','posthtml-parser','gensync','broccoli-babel-transpiler','@babel/helper-skip-transparent-expression-wrappers'], function(pathExists,esutils,babelHelperModuleTransforms,prebuildifyCi,bazelBazelisk,gruntCssUrlEmbed,tensorflowTfjsConverter,prebuildify,parcelNodeResolverCore,babelPluginReactRequire,webdriverio,babelPresetFlow,color,babelPluginTransformEs2015Spread,gruntMochaIstanbul,eslintPluginFlowtype,posthtmlParser,gensync,broccoliBabelTranspiler,nodeJsx){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.wix.com/demone2/coming-soon-landing (0)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/coming-soon-landing', emulateMobileDevice: false, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/0-coming-soon-landing-page/mesh/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import pathExists from '@babel/plugin-proposal-async-generator-functions'\\nimport esutils from 'events'\\nimport babelHelperModuleTransforms from '@parcel/reporter-cli'\\nimport prebuildifyCi from '@babel/plugin-transform-runtime'\\nimport bazelBazelisk from 'is-symbol'\\nimport gruntCssUrlEmbed from 'in-range'\\nimport tensorflowTfjsConverter from '@tensorflow/tfjs-converter'\\nimport prebuildify from 'prebuildify'\\nimport parcelNodeResolverCore from '@parcel/node-resolver-core'\\nimport babelPluginReactRequire from 'node-tick-processor'\\nimport webdriverio from 'npmignore'\\nimport babelPresetFlow from '@babel/preset-flow'\\nimport color from 'color'\\nimport babelPluginTransformEs2015Spread from 'tape'\\nimport gruntMochaIstanbul from 'esutils'\\nimport eslintPluginFlowtype from 'kind-of'\\nimport posthtmlParser from 'posthtml-parser'\\nimport gensync from 'gensync'\\nimport broccoliBabelTranspiler from 'broccoli-babel-transpiler'\\nimport nodeJsx from '@babel/helper-skip-transparent-expression-wrappers'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.wix.com/demone2/coming-soon-landing (0)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/coming-soon-landing', emulateMobileDevice: false, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/0-coming-soon-landing-page/mesh/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['eslint','mock-property'], function(eslint,arrayShuffle){\\ndefine(['lodash', 'documentServices/wixapps/utils/classicsPathUtils'], function (_, classicsPathUtils) { 'use strict' /** * @param {ps} ps Private Services * @param {string} packageName * @returns {object} the json describing the package. */ function getDescriptor(ps, packageName) { return ps.dal.getByPath(classicsPathUtils.getPackageDescriptorPath(packageName)) } /** * @param {ps} ps Private Services * @param {number} applicationId * @returns {string}. */ function getPackageName(ps, applicationId) { const clientSpecMapPointer = ps.pointers.general.getClientSpecMap() // @ts-ignore const packageNamePointer = ps.pointers.getInnerPointer(clientSpecMapPointer, [applicationId, 'packageName']) return ps.dal.get(packageNamePointer) } function getAppPartRole(ps, packageName, appPartName) { const part = getAppPartDefinition(ps, packageName, appPartName) return _.get(part, 'role') } function getAppPartDefinition(ps, packageName, appPartName) { const descriptor = getDescriptor(ps, packageName) const parts = _.get(descriptor, 'parts') return _.find(parts, {id: appPartName}) } return { getPackageName, getAppPartRole, getAppPartDefinition }\\n})\\n\\n})\\n####","completion":" import eslint from 'eslint'\\nimport arrayShuffle from 'mock-property'\\n\\ndefine(['lodash', 'documentServices/wixapps/utils/classicsPathUtils'], function (_, classicsPathUtils) { 'use strict' /** * @param {ps} ps Private Services * @param {string} packageName * @returns {object} the json describing the package. */ function getDescriptor(ps, packageName) { return ps.dal.getByPath(classicsPathUtils.getPackageDescriptorPath(packageName)) } /** * @param {ps} ps Private Services * @param {number} applicationId * @returns {string}. */ function getPackageName(ps, applicationId) { const clientSpecMapPointer = ps.pointers.general.getClientSpecMap() // @ts-ignore const packageNamePointer = ps.pointers.getInnerPointer(clientSpecMapPointer, [applicationId, 'packageName']) return ps.dal.get(packageNamePointer) } function getAppPartRole(ps, packageName, appPartName) { const part = getAppPartDefinition(ps, packageName, appPartName) return _.get(part, 'role') } function getAppPartDefinition(ps, packageName, appPartName) { const descriptor = getDescriptor(ps, packageName) const parts = _.get(descriptor, 'parts') return _.find(parts, {id: appPartName}) } return { getPackageName, getAppPartRole, getAppPartDefinition }\\n})\\n\\n####"}
{"prompt":"define(['regjsparser','@parcel/node-resolver-core','jsdom','@types/graceful-fs','bundt','safer-buffer','relateurl','tick','cogent','stylelint-config-standard','istanbul-instrumenter-loader','end-of-stream','css-what','has-bigints','@babel/plugin-proposal-nullish-coalescing-operator','@ljharb/eslint-config','rechoir','babel-preset-latest','jasmine-browser-runner','grunt-contrib-uglify'], function(locatePath,parcelNodeResolverCore,async,broccoliRollup,bundt,makeAsyncGeneratorFunction,gruntContribConcat,tick,cogent,d3Time,parcelReporterDevServer,ignoreWalk,babelPluginTransformDestructuring,remarkPresetDavidtheclark,isGlob,ljharbEslintConfig,split2,babelPresetLatest,jasmineBrowserRunner,gruntContribUglify){\\n'use strict' import http from 'http'\\nimport querystring from 'query-string'\\nimport _ from 'lodash' export class ProgrammableJsonServer { constructor({port}) { this._server = http.createServer(this._handler.bind(this)) this._port = port this.reset() } start() { this._server.listen(this._port, '127.0.0.1') } stop() { this._server.close() } reset() { this._rules = [] } addRule({resource, params = {}, headers = {}, delay = 0, responseText}) { this._rules.push({resource, params, headers, delay, responseText}) } _handler(req, res) { const headers = req.headers const query = querystring.extract(req.url) const resource = (query.length > 0) ? req.url.substr(0, req.url.length - query.length - 1) : req.url const params = querystring.parse(query) const rule = _.find(this._rules, (rule) => { return (rule.resource === resource) && _.isEqual(rule.params, params) && _.matches(rule.headers)(headers) }) if (rule) { _.delay(() => { res.writeHead(200) res.end(rule.responseText) }, rule.delay) } else { res.writeHead(404) res.end() } }\\n}\\n\\n})\\n####","completion":" import locatePath from 'regjsparser'\\nimport parcelNodeResolverCore from '@parcel/node-resolver-core'\\nimport async from 'jsdom'\\nimport broccoliRollup from '@types/graceful-fs'\\nimport bundt from 'bundt'\\nimport makeAsyncGeneratorFunction from 'safer-buffer'\\nimport gruntContribConcat from 'relateurl'\\nimport tick from 'tick'\\nimport cogent from 'cogent'\\nimport d3Time from 'stylelint-config-standard'\\nimport parcelReporterDevServer from 'istanbul-instrumenter-loader'\\nimport ignoreWalk from 'end-of-stream'\\nimport babelPluginTransformDestructuring from 'css-what'\\nimport remarkPresetDavidtheclark from 'has-bigints'\\nimport isGlob from '@babel/plugin-proposal-nullish-coalescing-operator'\\nimport ljharbEslintConfig from '@ljharb/eslint-config'\\nimport split2 from 'rechoir'\\nimport babelPresetLatest from 'babel-preset-latest'\\nimport jasmineBrowserRunner from 'jasmine-browser-runner'\\nimport gruntContribUglify from 'grunt-contrib-uglify'\\n\\n'use strict' import http from 'http'\\nimport querystring from 'query-string'\\nimport _ from 'lodash' export class ProgrammableJsonServer { constructor({port}) { this._server = http.createServer(this._handler.bind(this)) this._port = port this.reset() } start() { this._server.listen(this._port, '127.0.0.1') } stop() { this._server.close() } reset() { this._rules = [] } addRule({resource, params = {}, headers = {}, delay = 0, responseText}) { this._rules.push({resource, params, headers, delay, responseText}) } _handler(req, res) { const headers = req.headers const query = querystring.extract(req.url) const resource = (query.length > 0) ? req.url.substr(0, req.url.length - query.length - 1) : req.url const params = querystring.parse(query) const rule = _.find(this._rules, (rule) => { return (rule.resource === resource) && _.isEqual(rule.params, params) && _.matches(rule.headers)(headers) }) if (rule) { _.delay(() => { res.writeHead(200) res.end(rule.responseText) }, rule.delay) } else { res.writeHead(404) res.end() } }\\n}\\n\\n####"}
{"prompt":"define(['karma-safari-launcher','@babel/plugin-transform-template-literals','ajv','levn','remark-preset-davidtheclark','@babel/code-frame','babel-plugin-transform-es2015-shorthand-properties'], function(karmaSafariLauncher,esToPrimitive,fastGlob,babelPluginSyntaxImportAssertions,requireInject,babelCodeFrame,swcCore){\\nconst {browser} = require('protractor')\\nconst {blankSite} = require('../utils/defaults')\\nconst cookie = require('../tmp/cookie.json')\\nconst {getPreviewUrl} = require('../utils/utils') const navigateAndLogin = async url => { console.log('site url to load:', url) await browser.waitForAngularEnabled(false) // We must navigate to a wix domain in order to set its cookie. We cannot set cross domain cookies await browser.driver.get(url) await browser.manage().addCookie(cookie) console.log('Navigating after setting cookies') await browser.driver.get(url)\\n} const dmLoaded = async () => new Promise(resolve => { setInterval(async () => { const dmFound = await browser.executeScript('return window.documentServices && window.documentServices.pages.getCurrentPage().id === \\\"c1dmp\\\"') if (dmFound) { resolve() } }, 3000) }) describe('Editor Load Sanity', () => { it('should load editor successfully', async () => { if (browser.params.skip) { return } const url = getPreviewUrl(blankSite.siteId, blankSite.metaSiteId) await navigateAndLogin(url) console.log('Waiting for documentManagement to load') await browser.driver.wait(dmLoaded(), 2 * 60 * 1000) })\\n})\\n\\n})\\n####","completion":" import karmaSafariLauncher from 'karma-safari-launcher'\\nimport esToPrimitive from '@babel/plugin-transform-template-literals'\\nimport fastGlob from 'ajv'\\nimport babelPluginSyntaxImportAssertions from 'levn'\\nimport requireInject from 'remark-preset-davidtheclark'\\nimport babelCodeFrame from '@babel/code-frame'\\nimport swcCore from 'babel-plugin-transform-es2015-shorthand-properties'\\n\\nconst {browser} = require('protractor')\\nconst {blankSite} = require('../utils/defaults')\\nconst cookie = require('../tmp/cookie.json')\\nconst {getPreviewUrl} = require('../utils/utils') const navigateAndLogin = async url => { console.log('site url to load:', url) await browser.waitForAngularEnabled(false) // We must navigate to a wix domain in order to set its cookie. We cannot set cross domain cookies await browser.driver.get(url) await browser.manage().addCookie(cookie) console.log('Navigating after setting cookies') await browser.driver.get(url)\\n} const dmLoaded = async () => new Promise(resolve => { setInterval(async () => { const dmFound = await browser.executeScript('return window.documentServices && window.documentServices.pages.getCurrentPage().id === \\\"c1dmp\\\"') if (dmFound) { resolve() } }, 3000) }) describe('Editor Load Sanity', () => { it('should load editor successfully', async () => { if (browser.params.skip) { return } const url = getPreviewUrl(blankSite.siteId, blankSite.metaSiteId) await navigateAndLogin(url) console.log('Waiting for documentManagement to load') await browser.driver.wait(dmLoaded(), 2 * 60 * 1000) })\\n})\\n\\n####"}
{"prompt":"define(['us-atlas','vega-embed'], function(usAtlas,vegaEmbed){\\nimport React from 'react';\\nimport { TouchableHighlight, View, Image, LayoutAnimation } from 'react-native';\\nimport { TextRoman } from '../WixText';\\nimport { isIphoneX } from '../../utils/NativeUtils'; class OrderAcceptButton extends React.Component { constructor(props) { super(props); this.state = { height: 0, timeout: null }; } componentDidMount() { const timeout = setTimeout(() => { LayoutAnimation.configureNext({ duration: 200, update: { type: LayoutAnimation.Types.easeOut }, }); this.setState({ height: isIphoneX ? 72 : 54 }); }, 100); this.setState({timeout}); } componentWillUnmount() { clearTimeout(this.state.timeout); } render() { const { styles, acceptOrder, order, i18n } = this.props; return ( <TouchableHighlight style={{ height: this.state.height }} onPress={() => acceptOrder({order})}> <View style={styles.acceptOrderButton}> <Image style={styles.acceptOrderButtonImage} source={require('../resources/accept.png')} /> <TextRoman style={styles.acceptOrderButtonText}>{i18n.get('native_dashboard_acceptorder', 'Accept Order')}</TextRoman> </View> </TouchableHighlight> ); }\\n} OrderAcceptButton.displayName = 'OrderAcceptButton'; export default OrderAcceptButton;\\n\\n})\\n####","completion":" import usAtlas from 'us-atlas'\\nimport vegaEmbed from 'vega-embed'\\n\\nimport React from 'react';\\nimport { TouchableHighlight, View, Image, LayoutAnimation } from 'react-native';\\nimport { TextRoman } from '../WixText';\\nimport { isIphoneX } from '../../utils/NativeUtils'; class OrderAcceptButton extends React.Component { constructor(props) { super(props); this.state = { height: 0, timeout: null }; } componentDidMount() { const timeout = setTimeout(() => { LayoutAnimation.configureNext({ duration: 200, update: { type: LayoutAnimation.Types.easeOut }, }); this.setState({ height: isIphoneX ? 72 : 54 }); }, 100); this.setState({timeout}); } componentWillUnmount() { clearTimeout(this.state.timeout); } render() { const { styles, acceptOrder, order, i18n } = this.props; return ( <TouchableHighlight style={{ height: this.state.height }} onPress={() => acceptOrder({order})}> <View style={styles.acceptOrderButton}> <Image style={styles.acceptOrderButtonImage} source={require('../resources/accept.png')} /> <TextRoman style={styles.acceptOrderButtonText}>{i18n.get('native_dashboard_acceptorder', 'Accept Order')}</TextRoman> </View> </TouchableHighlight> ); }\\n} OrderAcceptButton.displayName = 'OrderAcceptButton'; export default OrderAcceptButton;\\n\\n####"}
{"prompt":"define(['weak-map','rollup-plugin-memory','grunt-cli','chmodr','@parcel/packager-js'], function(csvParse,jsonToAst,hasBigints,typesMocha,parcelPackagerJs){\\nimport React from 'react';\\nimport PropTypes from 'prop-types';\\nimport { translate } from 'react-i18next';\\nimport InformativeModalLayout from '../InformativeModalLayout';\\nimport CancelOrderSvg from '../InformativeModalLayout/CancelOrderSvg';\\nimport BasicModalLayoutFooter from '../ModalLayout/BasicModalLayoutFooter';\\nimport { Modal } from 'wix-style-react'; function CancelOrderModal({ isOpen, onRequestClose, cancelOrder, t }) { const footer = ( <BasicModalLayoutFooter okText={t('phoneordering_checkout_cancelpopup_1')} cancelText={t('phoneordering_checkout_cancelpopup_cta2')} okSkin=\\\"destructive\\\" onCancelClick={onRequestClose} onOkClick={() => { cancelOrder(); onRequestClose(); }} /> ); return ( <Modal isOpen={isOpen} onRequestClose={onRequestClose} shouldCloseOnOverlayClick> <InformativeModalLayout dataHook=\\\"cancel-order-modal\\\" title={t('phoneordering_checkout_cancelpopup_title')} content={t('phoneordering_checkout_cancelpopup_body')} onRequestClose={onRequestClose} footer={footer} illustration={<CancelOrderSvg />} /> </Modal> );\\n} CancelOrderModal.displayName = 'CancelOrderModal';\\nCancelOrderModal.propTypes = { isOpen: PropTypes.bool, onRequestClose: PropTypes.func, cancelOrder: PropTypes.func,\\n}; export default translate()(CancelOrderModal);\\n\\n})\\n####","completion":" import csvParse from 'weak-map'\\nimport jsonToAst from 'rollup-plugin-memory'\\nimport hasBigints from 'grunt-cli'\\nimport typesMocha from 'chmodr'\\nimport parcelPackagerJs from '@parcel/packager-js'\\n\\nimport React from 'react';\\nimport PropTypes from 'prop-types';\\nimport { translate } from 'react-i18next';\\nimport InformativeModalLayout from '../InformativeModalLayout';\\nimport CancelOrderSvg from '../InformativeModalLayout/CancelOrderSvg';\\nimport BasicModalLayoutFooter from '../ModalLayout/BasicModalLayoutFooter';\\nimport { Modal } from 'wix-style-react'; function CancelOrderModal({ isOpen, onRequestClose, cancelOrder, t }) { const footer = ( <BasicModalLayoutFooter okText={t('phoneordering_checkout_cancelpopup_1')} cancelText={t('phoneordering_checkout_cancelpopup_cta2')} okSkin=\\\"destructive\\\" onCancelClick={onRequestClose} onOkClick={() => { cancelOrder(); onRequestClose(); }} /> ); return ( <Modal isOpen={isOpen} onRequestClose={onRequestClose} shouldCloseOnOverlayClick> <InformativeModalLayout dataHook=\\\"cancel-order-modal\\\" title={t('phoneordering_checkout_cancelpopup_title')} content={t('phoneordering_checkout_cancelpopup_body')} onRequestClose={onRequestClose} footer={footer} illustration={<CancelOrderSvg />} /> </Modal> );\\n} CancelOrderModal.displayName = 'CancelOrderModal';\\nCancelOrderModal.propTypes = { isOpen: PropTypes.bool, onRequestClose: PropTypes.func, cancelOrder: PropTypes.func,\\n}; export default translate()(CancelOrderModal);\\n\\n####"}
{"prompt":"define(['@babel/helper-function-name','broccoli-rollup','safer-buffer','deep-is','eslint-plugin-standard','google-closure-compiler','@types/ws','esbuild-node-loader','asynckit','nan'], function(playwright,fastJsonStableStringify,makeAsyncGeneratorFunction,deepIs,eslintPluginStandard,googleClosureCompiler,typesWs,esbuildNodeLoader,hasSymbols,nan){\\nconst i18n = require('@wix/wix-react-native-i18n'); const stringsByLocale = { en: () => require('./messages_en.json'), es: () => require('./messages_es.json'), cs: () => require('./messages_cs.json'), da: () => require('./messages_da.json'), de: () => require('./messages_de.json'), fi: () => require('./messages_fi.json'), fr: () => require('./messages_fr.json'), it: () => require('./messages_it.json'), hi: () => require('./messages_hi.json'), ja: () => require('./messages_ja.json'), ko: () => require('./messages_ko.json'), nl: () => require('./messages_nl.json'), no: () => require('./messages_no.json'), pl: () => require('./messages_pl.json'), pt: () => require('./messages_pt.json'), ru: () => require('./messages_ru.json'), sv: () => require('./messages_sv.json'), th: () => require('./messages_th.json'), tr: () => require('./messages_tr.json'), zh: () => require('./messages_zh.json'), he: () => require('./messages_he.json'), lt: () => require('./messages_lt.json'), uk: () => require('./messages_uk.json'), vi: () => require('./messages_vi.json'), el: () => require('./messages_el.json'), hu: () => require('./messages_hu.json'), id: () => require('./messages_id.json'),\\n}; module.exports = i18n(stringsByLocale);\\n\\n})\\n####","completion":" import playwright from '@babel/helper-function-name'\\nimport fastJsonStableStringify from 'broccoli-rollup'\\nimport makeAsyncGeneratorFunction from 'safer-buffer'\\nimport deepIs from 'deep-is'\\nimport eslintPluginStandard from 'eslint-plugin-standard'\\nimport googleClosureCompiler from 'google-closure-compiler'\\nimport typesWs from '@types/ws'\\nimport esbuildNodeLoader from 'esbuild-node-loader'\\nimport hasSymbols from 'asynckit'\\nimport nan from 'nan'\\n\\nconst i18n = require('@wix/wix-react-native-i18n'); const stringsByLocale = { en: () => require('./messages_en.json'), es: () => require('./messages_es.json'), cs: () => require('./messages_cs.json'), da: () => require('./messages_da.json'), de: () => require('./messages_de.json'), fi: () => require('./messages_fi.json'), fr: () => require('./messages_fr.json'), it: () => require('./messages_it.json'), hi: () => require('./messages_hi.json'), ja: () => require('./messages_ja.json'), ko: () => require('./messages_ko.json'), nl: () => require('./messages_nl.json'), no: () => require('./messages_no.json'), pl: () => require('./messages_pl.json'), pt: () => require('./messages_pt.json'), ru: () => require('./messages_ru.json'), sv: () => require('./messages_sv.json'), th: () => require('./messages_th.json'), tr: () => require('./messages_tr.json'), zh: () => require('./messages_zh.json'), he: () => require('./messages_he.json'), lt: () => require('./messages_lt.json'), uk: () => require('./messages_uk.json'), vi: () => require('./messages_vi.json'), el: () => require('./messages_el.json'), hu: () => require('./messages_hu.json'), id: () => require('./messages_id.json'),\\n}; module.exports = i18n(stringsByLocale);\\n\\n####"}
{"prompt":"define(['babel-preset-fbjs','@parcel/config-default','constants-browserify','array.prototype.map','es-to-primitive','tar'], function(babelPresetFbjs,parcelConfigDefault,constantsBrowserify,arrayPrototypeMap,wdioCli,typesSvgo){\\ndefine([ 'lodash', 'documentServices/constants/constants', 'documentServices/dataModel/dataIds', 'documentServices/dataModel/dataModel', 'documentServices/responsiveLayout/validations'\\n], function (_, constants, dataIds, dataModel, validations) { 'use strict' const {DATA_TYPES, VARIANTS} = constants const createBreakpointsData = (ps, currentId, compPointer, rangeArray, pageId) => { validations.validateBreakpointsDataAdd(ps, compPointer) const id = currentId || dataIds.generateNewId(DATA_TYPES.variants) const breakpointPointerDataPointer = ps.pointers.data.getVariantsDataItem(id, pageId) const values = getBreakpointRangesArray(rangeArray) validations.validateNewBreakpointsIds(ps, values, pageId) return dataModel.createVariantData(ps, breakpointPointerDataPointer, VARIANTS.TYPES.BREAKPOINTS, {compPointer, values}) } const getBreakpointRangesArray = rangeArray => rangeArray.map(item => { _.assign(item, {metaData: {schemaVersion: '2.0'}}) _.assign(item, {id: item.id || dataIds.generateNewId(DATA_TYPES.variants)}) return item }) return { createBreakpointsData }\\n})\\n\\n})\\n####","completion":" import babelPresetFbjs from 'babel-preset-fbjs'\\nimport parcelConfigDefault from '@parcel/config-default'\\nimport constantsBrowserify from 'constants-browserify'\\nimport arrayPrototypeMap from 'array.prototype.map'\\nimport wdioCli from 'es-to-primitive'\\nimport typesSvgo from 'tar'\\n\\ndefine([ 'lodash', 'documentServices/constants/constants', 'documentServices/dataModel/dataIds', 'documentServices/dataModel/dataModel', 'documentServices/responsiveLayout/validations'\\n], function (_, constants, dataIds, dataModel, validations) { 'use strict' const {DATA_TYPES, VARIANTS} = constants const createBreakpointsData = (ps, currentId, compPointer, rangeArray, pageId) => { validations.validateBreakpointsDataAdd(ps, compPointer) const id = currentId || dataIds.generateNewId(DATA_TYPES.variants) const breakpointPointerDataPointer = ps.pointers.data.getVariantsDataItem(id, pageId) const values = getBreakpointRangesArray(rangeArray) validations.validateNewBreakpointsIds(ps, values, pageId) return dataModel.createVariantData(ps, breakpointPointerDataPointer, VARIANTS.TYPES.BREAKPOINTS, {compPointer, values}) } const getBreakpointRangesArray = rangeArray => rangeArray.map(item => { _.assign(item, {metaData: {schemaVersion: '2.0'}}) _.assign(item, {id: item.id || dataIds.generateNewId(DATA_TYPES.variants)}) return item }) return { createBreakpointsData }\\n})\\n\\n####"}
{"prompt":"define(['@babel/plugin-transform-shorthand-properties','chai','unicode-canonical-property-names-ecmascript','json-pointer','concat-stream','clone-deep','mr','eslint-plugin-prettier','zuul','copyfiles','pre-commit','@types/caniuse-api','array.prototype.map','eslint-plugin-standard','standard-markdown','broccoli-stew','hyphenate-style-name','eslint-config-airbnb'], function(babelPluginTransformShorthandProperties,babelHelperRemapAsyncToGenerator,postcss,unicode800,vega,babelPluginProposalOptionalChaining,mr,knox,resolveFrom,uglifyRegister,typesProgress,typesCaniuseApi,arrayPrototypeMap,eslintPluginStandard,standard,broccoliStew,jest,eslintConfigAirbnb){\\nrequire('./Description.css'); import {I18n} from '@wix/wixrest-utils';\\nimport Availability from './Availability.js';\\nimport classnames from 'classnames';\\nimport _ from 'lodash'; let {I18N_UGSTR} = I18n.getComponentHeader('openrest_itemview_'); export default class extends React.Component { static displayName = 'ItemView.Description'; render() { let { item, } = this.props; let description = I18N_UGSTR(item.description); const {availability, condition, displayCondition} = this.props.item; const _availability = _.get(condition, 'conditions[3].availability', null) || _.get(displayCondition, 'conditions[3].availability', null) || availability; return ( <div className={classnames(['openrest_itemView_Description_wrapper', {hidden: !description && !_availability}])}> <div className='innerDescription'> {description} </div> <Availability availability={_availability} /> </div> ); }\\n}\\n\\n})\\n####","completion":" import babelPluginTransformShorthandProperties from '@babel/plugin-transform-shorthand-properties'\\nimport babelHelperRemapAsyncToGenerator from 'chai'\\nimport postcss from 'unicode-canonical-property-names-ecmascript'\\nimport unicode800 from 'json-pointer'\\nimport vega from 'concat-stream'\\nimport babelPluginProposalOptionalChaining from 'clone-deep'\\nimport mr from 'mr'\\nimport knox from 'eslint-plugin-prettier'\\nimport resolveFrom from 'zuul'\\nimport uglifyRegister from 'copyfiles'\\nimport typesProgress from 'pre-commit'\\nimport typesCaniuseApi from '@types/caniuse-api'\\nimport arrayPrototypeMap from 'array.prototype.map'\\nimport eslintPluginStandard from 'eslint-plugin-standard'\\nimport standard from 'standard-markdown'\\nimport broccoliStew from 'broccoli-stew'\\nimport jest from 'hyphenate-style-name'\\nimport eslintConfigAirbnb from 'eslint-config-airbnb'\\n\\nrequire('./Description.css'); import {I18n} from '@wix/wixrest-utils';\\nimport Availability from './Availability.js';\\nimport classnames from 'classnames';\\nimport _ from 'lodash'; let {I18N_UGSTR} = I18n.getComponentHeader('openrest_itemview_'); export default class extends React.Component { static displayName = 'ItemView.Description'; render() { let { item, } = this.props; let description = I18N_UGSTR(item.description); const {availability, condition, displayCondition} = this.props.item; const _availability = _.get(condition, 'conditions[3].availability', null) || _.get(displayCondition, 'conditions[3].availability', null) || availability; return ( <div className={classnames(['openrest_itemView_Description_wrapper', {hidden: !description && !_availability}])}> <div className='innerDescription'> {description} </div> <Availability availability={_availability} /> </div> ); }\\n}\\n\\n####"}
{"prompt":"define(['@parcel/optimizer-svgo','to-fast-properties','emphasize','regenerate-unicode-properties','set-blocking','@babel/helper-optimise-call-expression','ember-cli','@parcel/transformer-json','babel-plugin-transform-es2015-arrow-functions','grunt-clean','vega','dotenv-expand','@ljharb/eslint-config','@babel/plugin-transform-exponentiation-operator','shebang-command'], function(domelementtype,toFastProperties,emphasize,regenerateUnicodeProperties,setBlocking,stringWidth,emberCli,karmaMochaReporter,eslintPluginImport,co,babelPluginTransformEs2015Parameters,stylelintProcessorStyledComponents,ljharbEslintConfig,babelPluginTransformExponentiationOperator,shebangCommand){\\nimport PropTypes from 'prop-types';\\nimport React from 'react'; export default class extends React.Component { static displayName = 'ChevronRight'; static propTypes = { width: PropTypes.number, height: PropTypes.number, color: PropTypes.string, }; static defaultProps = { width: 12, height: 14, color: 'rgb(255,255,255)' }; // # IMPORTANT // When pasting the svg, don't forget to set the viewBox. // render() { let fillProp = {fill: this.props.color}; if (fillProp.fill === 'none') fillProp = {}; return ( <svg width={this.props.width + 'px'} height={this.props.height + 'px'} {...fillProp} viewBox='0 0 12 22'> <path fillRule='evenodd' d='M 11.44 12.51C 11.44 12.51 3.07 21.46 3.07 21.46 2.36 22.22 1.21 22.22 0.5 21.46-0.21 20.7-0.21 19.47 0.5 18.71 0.5 18.71 7.73 10.97 7.73 10.97 7.73 10.97 0.55 3.28 0.55 3.28-0.15 2.53-0.15 1.31 0.55 0.56 1.25-0.19 2.39-0.19 3.09 0.56 3.09 0.56 11.36 9.41 11.36 9.41 11.64 9.71 11.81 10.09 11.86 10.49 12.09 11.17 11.95 11.96 11.44 12.51Z'/> </svg> ); }\\n}\\n\\n})\\n####","completion":" import domelementtype from '@parcel/optimizer-svgo'\\nimport toFastProperties from 'to-fast-properties'\\nimport emphasize from 'emphasize'\\nimport regenerateUnicodeProperties from 'regenerate-unicode-properties'\\nimport setBlocking from 'set-blocking'\\nimport stringWidth from '@babel/helper-optimise-call-expression'\\nimport emberCli from 'ember-cli'\\nimport karmaMochaReporter from '@parcel/transformer-json'\\nimport eslintPluginImport from 'babel-plugin-transform-es2015-arrow-functions'\\nimport co from 'grunt-clean'\\nimport babelPluginTransformEs2015Parameters from 'vega'\\nimport stylelintProcessorStyledComponents from 'dotenv-expand'\\nimport ljharbEslintConfig from '@ljharb/eslint-config'\\nimport babelPluginTransformExponentiationOperator from '@babel/plugin-transform-exponentiation-operator'\\nimport shebangCommand from 'shebang-command'\\n\\nimport PropTypes from 'prop-types';\\nimport React from 'react'; export default class extends React.Component { static displayName = 'ChevronRight'; static propTypes = { width: PropTypes.number, height: PropTypes.number, color: PropTypes.string, }; static defaultProps = { width: 12, height: 14, color: 'rgb(255,255,255)' }; // # IMPORTANT // When pasting the svg, don't forget to set the viewBox. // render() { let fillProp = {fill: this.props.color}; if (fillProp.fill === 'none') fillProp = {}; return ( <svg width={this.props.width + 'px'} height={this.props.height + 'px'} {...fillProp} viewBox='0 0 12 22'> <path fillRule='evenodd' d='M 11.44 12.51C 11.44 12.51 3.07 21.46 3.07 21.46 2.36 22.22 1.21 22.22 0.5 21.46-0.21 20.7-0.21 19.47 0.5 18.71 0.5 18.71 7.73 10.97 7.73 10.97 7.73 10.97 0.55 3.28 0.55 3.28-0.15 2.53-0.15 1.31 0.55 0.56 1.25-0.19 2.39-0.19 3.09 0.56 3.09 0.56 11.36 9.41 11.36 9.41 11.64 9.71 11.81 10.09 11.86 10.49 12.09 11.17 11.95 11.96 11.44 12.51Z'/> </svg> ); }\\n}\\n\\n####"}
{"prompt":"define(['webdriverio','@parcel/graph','domelementtype','gulp-mocha','@parcel/node-resolver-core','@parcel/transformer-json','@babel/plugin-transform-unicode-regex','chalk','babel-loader','opn'], function(sprintfJs,parcelGraph,objectIs,parcelCodeframe,parcelNodeResolverCore,karmaMochaReporter,concatStream,loadGruntTasks,travisCheckChanges,esArrayMethodBoxesProperly){\\nimport React from 'react';\\nimport { storiesOf } from '@storybook/react';\\nimport OrderConfirmationModal from '../../src/components/OrderConfirmationModal';\\nimport StoryComponent from '../StoryComponent';\\nimport { orders } from '../../__tests__/helpers/orderHistory.mock';\\nimport { getInitialState } from '../../__tests__/helpers/initialState'; class OrderConfirmationModalStory extends React.PureComponent { constructor(props) { super(props); this.state = { isOpen: true, }; } _toggle = () => this.setState({ isOpen: !this.state.isOpen }); render() { const style = { margin: 20 }; const [, orderInfo] = orders; return ( <StoryComponent initialState={getInitialState({ orderInfo })}> <div style={style}> <button onClick={this._toggle}>Toggle Modal</button> <OrderConfirmationModal isOpen={this.state.isOpen} onCloseClick={this._toggle} onRequestClose={this._toggle} /> </div> </StoryComponent> ); }\\n} storiesOf('OrderConfirmationModal', module).add('OrderConfirmationModal', () => <OrderConfirmationModalStory />);\\n\\n})\\n####","completion":" import sprintfJs from 'webdriverio'\\nimport parcelGraph from '@parcel/graph'\\nimport objectIs from 'domelementtype'\\nimport parcelCodeframe from 'gulp-mocha'\\nimport parcelNodeResolverCore from '@parcel/node-resolver-core'\\nimport karmaMochaReporter from '@parcel/transformer-json'\\nimport concatStream from '@babel/plugin-transform-unicode-regex'\\nimport loadGruntTasks from 'chalk'\\nimport travisCheckChanges from 'babel-loader'\\nimport esArrayMethodBoxesProperly from 'opn'\\n\\nimport React from 'react';\\nimport { storiesOf } from '@storybook/react';\\nimport OrderConfirmationModal from '../../src/components/OrderConfirmationModal';\\nimport StoryComponent from '../StoryComponent';\\nimport { orders } from '../../__tests__/helpers/orderHistory.mock';\\nimport { getInitialState } from '../../__tests__/helpers/initialState'; class OrderConfirmationModalStory extends React.PureComponent { constructor(props) { super(props); this.state = { isOpen: true, }; } _toggle = () => this.setState({ isOpen: !this.state.isOpen }); render() { const style = { margin: 20 }; const [, orderInfo] = orders; return ( <StoryComponent initialState={getInitialState({ orderInfo })}> <div style={style}> <button onClick={this._toggle}>Toggle Modal</button> <OrderConfirmationModal isOpen={this.state.isOpen} onCloseClick={this._toggle} onRequestClose={this._toggle} /> </div> </StoryComponent> ); }\\n} storiesOf('OrderConfirmationModal', module).add('OrderConfirmationModal', () => <OrderConfirmationModalStory />);\\n\\n####"}
{"prompt":"define(['@babel/generator','gts','browserify','@babel/preset-typescript','electron-to-chromium','grunt-bowercopy','karma-babel-preprocessor','base64-js','browserify-zlib','@babel/helper-wrap-function','gulp-filter','readable-stream','is-builtin-module','sinon'], function(babelGenerator,gts,browserify,babelPresetTypescript,arrayPrototypeReduce,consoleControlStrings,babelPluginProposalPrivatePropertyInObject,minizlib,rechoir,lodashDebounce,eslintConfigMourner,readableStream,isBuiltinModule,functionsHaveNames){\\n'use strict' const _ = require('lodash')\\nconst santaTypesDefinitions = require('../definitions/santaTypesDefinitions') function isFixedPosition(props) { return _.get(props.style, 'position') === 'fixed'\\n} function getCssStates(props) { return { $mobile: props.isMobileView ? 'mobileView' : '', $fixed: isFixedPosition(props) ? 'fixedPosition' : '' }\\n} module.exports = { propTypes: { isMobileView: santaTypesDefinitions.isMobileView.isRequired, style: santaTypesDefinitions.Component.style.isRequired }, getRootStyle(style) { if (this.getRootPosition) { return {position: this.getRootPosition(style)} } return {} }, getInitialState() { return getCssStates(this.props) }, componentWillReceiveProps(nextProps) { const oldCssStates = getCssStates(this.props) //we do this because we don't know if a component using the mixin has other states, so we cant compare with this.state const newCssStates = getCssStates(nextProps) if (!_.isEqual(oldCssStates, newCssStates)) { this.setState(newCssStates) } }\\n}\\n})\\n####","completion":" import babelGenerator from '@babel/generator'\\nimport gts from 'gts'\\nimport browserify from 'browserify'\\nimport babelPresetTypescript from '@babel/preset-typescript'\\nimport arrayPrototypeReduce from 'electron-to-chromium'\\nimport consoleControlStrings from 'grunt-bowercopy'\\nimport babelPluginProposalPrivatePropertyInObject from 'karma-babel-preprocessor'\\nimport minizlib from 'base64-js'\\nimport rechoir from 'browserify-zlib'\\nimport lodashDebounce from '@babel/helper-wrap-function'\\nimport eslintConfigMourner from 'gulp-filter'\\nimport readableStream from 'readable-stream'\\nimport isBuiltinModule from 'is-builtin-module'\\nimport functionsHaveNames from 'sinon'\\n\\n'use strict' const _ = require('lodash')\\nconst santaTypesDefinitions = require('../definitions/santaTypesDefinitions') function isFixedPosition(props) { return _.get(props.style, 'position') === 'fixed'\\n} function getCssStates(props) { return { $mobile: props.isMobileView ? 'mobileView' : '', $fixed: isFixedPosition(props) ? 'fixedPosition' : '' }\\n} module.exports = { propTypes: { isMobileView: santaTypesDefinitions.isMobileView.isRequired, style: santaTypesDefinitions.Component.style.isRequired }, getRootStyle(style) { if (this.getRootPosition) { return {position: this.getRootPosition(style)} } return {} }, getInitialState() { return getCssStates(this.props) }, componentWillReceiveProps(nextProps) { const oldCssStates = getCssStates(this.props) //we do this because we don't know if a component using the mixin has other states, so we cant compare with this.state const newCssStates = getCssStates(nextProps) if (!_.isEqual(oldCssStates, newCssStates)) { this.setState(newCssStates) } }\\n}\\n####"}
{"prompt":"define(['@babel/helper-plugin-test-runner','callsites','shx','phantomjs','commander','unicode-canonical-property-names-ecmascript','eslint-config-ostai','@mdn/browser-compat-data','cssnano-utils','sharp','lmdb','eclint','karma-sinon','webpack-dev-server','@types/progress','@svgr/webpack','webdriverio','mocha-phantomjs','@swc/cli','boolbase'], function(reactRefresh,callsites,urlLoader,parted,commander,postcss,brfs,typesEnsurePosixPath,shallowClone,babelPluginProposalClassStaticBlock,lmdb,eclint,karmaSinon,relateurl,nodeGyp,lab,sprintfJs,events,makeDir,eslintConfigBabel){\\n(function (f) { if (typeof exports === \\\"object\\\" && typeof module !== \\\"undefined\\\") { module.exports = f() } else if (typeof define === \\\"function\\\" && define.amd) { define([], f) } else { var g; if (typeof window !== \\\"undefined\\\") { g = window } else if (typeof global !== \\\"undefined\\\") { g = global } else if (typeof self !== \\\"undefined\\\") { g = self } else { g = this } g.TestModule = f() } })(function () { var define, module, exports; return (function () { function r(e, n, t) { function o(i, f) { if (!n[i]) { if (!e[i]) { var c = \\\"function\\\" == typeof require && require; if (!f && c) return c(i, !0); if (u) return u(i, !0); var a = new Error(\\\"Cannot find module '\\\" + i + \\\"'\\\"); throw a.code = \\\"MODULE_NOT_FOUND\\\", a } var p = n[i] = { exports: {} }; e[i][0].call(p.exports, function (r) { var n = e[i][1][r]; return o(n || r) }, p, p.exports, r, e, n, t) } return n[i].exports } for (var u = \\\"function\\\" == typeof require && require, i = 0; i < t.length; i++)o(t[i]); return o } return r })()({ 1: [function (require, module, exports) { $w.onReady(() => { $widget.fireEvent('jackpotWin', {amount: 1000000, currency: 'USD'}); }) }, {}] }, {}, [1])(1)\\n});\\n})\\n####","completion":" import reactRefresh from '@babel/helper-plugin-test-runner'\\nimport callsites from 'callsites'\\nimport urlLoader from 'shx'\\nimport parted from 'phantomjs'\\nimport commander from 'commander'\\nimport postcss from 'unicode-canonical-property-names-ecmascript'\\nimport brfs from 'eslint-config-ostai'\\nimport typesEnsurePosixPath from '@mdn/browser-compat-data'\\nimport shallowClone from 'cssnano-utils'\\nimport babelPluginProposalClassStaticBlock from 'sharp'\\nimport lmdb from 'lmdb'\\nimport eclint from 'eclint'\\nimport karmaSinon from 'karma-sinon'\\nimport relateurl from 'webpack-dev-server'\\nimport nodeGyp from '@types/progress'\\nimport lab from '@svgr/webpack'\\nimport sprintfJs from 'webdriverio'\\nimport events from 'mocha-phantomjs'\\nimport makeDir from '@swc/cli'\\nimport eslintConfigBabel from 'boolbase'\\n\\n(function (f) { if (typeof exports === \\\"object\\\" && typeof module !== \\\"undefined\\\") { module.exports = f() } else if (typeof define === \\\"function\\\" && define.amd) { define([], f) } else { var g; if (typeof window !== \\\"undefined\\\") { g = window } else if (typeof global !== \\\"undefined\\\") { g = global } else if (typeof self !== \\\"undefined\\\") { g = self } else { g = this } g.TestModule = f() } })(function () { var define, module, exports; return (function () { function r(e, n, t) { function o(i, f) { if (!n[i]) { if (!e[i]) { var c = \\\"function\\\" == typeof require && require; if (!f && c) return c(i, !0); if (u) return u(i, !0); var a = new Error(\\\"Cannot find module '\\\" + i + \\\"'\\\"); throw a.code = \\\"MODULE_NOT_FOUND\\\", a } var p = n[i] = { exports: {} }; e[i][0].call(p.exports, function (r) { var n = e[i][1][r]; return o(n || r) }, p, p.exports, r, e, n, t) } return n[i].exports } for (var u = \\\"function\\\" == typeof require && require, i = 0; i < t.length; i++)o(t[i]); return o } return r })()({ 1: [function (require, module, exports) { $w.onReady(() => { $widget.fireEvent('jackpotWin', {amount: 1000000, currency: 'USD'}); }) }, {}] }, {}, [1])(1)\\n});\\n####"}
{"prompt":"define(['unbox-primitive','husky','nullthrows','ignore-walk','@types/parse-json','babel-plugin-transform-es2015-spread','json-source-map','random-int','ncp','better-ajv-errors'], function(uncss,husky,typeFest,babelHelperExplodeAssignableExpression,typesParseJson,through,jsonSourceMap,cssnanoPresetLite,jsonDiff,babelPluginProposalJsonStrings){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.wix.com/demone2/actor-model-resume (29)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/actor-model-resume', emulateMobileDevice: true, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/29-actor-model-resume/mesh/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import uncss from 'unbox-primitive'\\nimport husky from 'husky'\\nimport typeFest from 'nullthrows'\\nimport babelHelperExplodeAssignableExpression from 'ignore-walk'\\nimport typesParseJson from '@types/parse-json'\\nimport through from 'babel-plugin-transform-es2015-spread'\\nimport jsonSourceMap from 'json-source-map'\\nimport cssnanoPresetLite from 'random-int'\\nimport jsonDiff from 'ncp'\\nimport babelPluginProposalJsonStrings from 'better-ajv-errors'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.wix.com/demone2/actor-model-resume (29)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/actor-model-resume', emulateMobileDevice: true, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/29-actor-model-resume/mesh/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['@types/shelljs','@babel/helper-wrap-function','@babel/runtime-corejs3','regjsgen','@swc/core','chai-exclude','unorm','@parcel/optimizer-svgo','qunit-extras','postcss-reduce-initial'], function(pathBrowserify,lodashDebounce,semistandard,open,tarFs,errto,parcelPackagerHtml,domelementtype,unorm,typesD3Selection){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.wix.com/demone2/the-consultant (1)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/the-consultant', emulateMobileDevice: false, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/1-the-consultant/mesh/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import pathBrowserify from '@types/shelljs'\\nimport lodashDebounce from '@babel/helper-wrap-function'\\nimport semistandard from '@babel/runtime-corejs3'\\nimport open from 'regjsgen'\\nimport tarFs from '@swc/core'\\nimport errto from 'chai-exclude'\\nimport parcelPackagerHtml from 'unorm'\\nimport domelementtype from '@parcel/optimizer-svgo'\\nimport unorm from 'qunit-extras'\\nimport typesD3Selection from 'postcss-reduce-initial'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.wix.com/demone2/the-consultant (1)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/the-consultant', emulateMobileDevice: false, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/1-the-consultant/mesh/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['split2','@babel/helper-validator-option','gulp-eslint','@tensorflow/tfjs-layers','concat-stream','karma-typescript-es6-transform','jscs','d3-time-format','parse-node-version','jison-gho','@babel/helper-plugin-utils','@iarna/toml','babel-plugin-transform-object-rest-spread','@jridgewell/sourcemap-codec','aws-sdk','find-cache-dir','process','@types/d3-selection','regjsparser'], function(commondir,tsup,postcssReduceTransforms,pkgDir,vega,karmaTypescriptEs6Transform,jscs,chaiExclude,cssWhat,autoprefixer,babelHelperPluginUtils,iarnaToml,preactRenderSpy,jridgewellSourcemapCodec,awsSdk,findCacheDir,webgpuTypes,klaw,locatePath){\\nexport default function Maybe(value) { var Nothing = { bind: function(fn) { return this; }, isNothing: function() { return true; }, val: function() { return null; }, maybe: function(def, fn) { if (typeof def === \\\"function\\\") return def(); return def; }, truthy: function() { return false; } }; var Something = function(value) { return { bind: function(fn) { return Maybe(fn.call(this, value)); }, isNothing: function() { return false; }, val: function() { return value; }, maybe: function(def, fn) { return fn.call(this, value); }, truthy: function() { return !!value; } }; }; if (typeof value === 'undefined' || value === null) return Nothing; return Something(value);\\n};\\n\\n})\\n####","completion":" import commondir from 'split2'\\nimport tsup from '@babel/helper-validator-option'\\nimport postcssReduceTransforms from 'gulp-eslint'\\nimport pkgDir from '@tensorflow/tfjs-layers'\\nimport vega from 'concat-stream'\\nimport karmaTypescriptEs6Transform from 'karma-typescript-es6-transform'\\nimport jscs from 'jscs'\\nimport chaiExclude from 'd3-time-format'\\nimport cssWhat from 'parse-node-version'\\nimport autoprefixer from 'jison-gho'\\nimport babelHelperPluginUtils from '@babel/helper-plugin-utils'\\nimport iarnaToml from '@iarna/toml'\\nimport preactRenderSpy from 'babel-plugin-transform-object-rest-spread'\\nimport jridgewellSourcemapCodec from '@jridgewell/sourcemap-codec'\\nimport awsSdk from 'aws-sdk'\\nimport findCacheDir from 'find-cache-dir'\\nimport webgpuTypes from 'process'\\nimport klaw from '@types/d3-selection'\\nimport locatePath from 'regjsparser'\\n\\nexport default function Maybe(value) { var Nothing = { bind: function(fn) { return this; }, isNothing: function() { return true; }, val: function() { return null; }, maybe: function(def, fn) { if (typeof def === \\\"function\\\") return def(); return def; }, truthy: function() { return false; } }; var Something = function(value) { return { bind: function(fn) { return Maybe(fn.call(this, value)); }, isNothing: function() { return false; }, val: function() { return value; }, maybe: function(def, fn) { return fn.call(this, value); }, truthy: function() { return !!value; } }; }; if (typeof value === 'undefined' || value === null) return Nothing; return Something(value);\\n};\\n\\n####"}
{"prompt":"define(['ses','regenerator-transform','travis-deploy-once','grunt','v8-natives','is-ci-cli','grunt-benchmark','import-fresh','sinon','livescript','set-blocking','https-browserify','entities','shebang-regex','has-bigints','@babel/plugin-syntax-async-generators','interpret','travis-check-changes','jshint'], function(axios,regeneratorTransform,parcelPackagerCss,inlineStylePrefixer,v8Natives,isCiCli,gruntBenchmark,importFresh,functionsHaveNames,jridgewellGenMapping,setBlocking,caniuseApi,gruntLivescript,shebangRegex,remarkPresetDavidtheclark,gruntContribWatch,inRange,rollupPluginBabelMinify,gruntClean){\\nimport React from 'react'; export default class extends React.Component { render() { return ( <svg viewBox='-361 253.8 76.2 94.2' enableBackground='new -361 253.8 76.2 94.2'> <ellipse opacity='0.15' cx='-331' cy='344.5' rx='30' ry='3.5'/> <g> <path d='M-346,327.8h28v-51h-28V327.8z M-344,278.8h24v47h-24V278.8z'/> <circle cx='-332' cy='333.3' r='3'/> <path d='M-313,299.3v35.2c0,3.3-2.7,6-6,6h-26c-3.3,0-6-2.7-6-6v-57c0-3.3,2.7-6,6-6h17.5v-4H-345c-5.5,0-10,4.5-10,10v57 c0,5.5,4.5,10,10,10h26c5.5,0,10-4.5,10-10v-35.2H-313z'/> </g> <g> <path d='M-310,253.8c-13.9,0-25.2,11.3-25.2,25.2c0,5.5,1.8,10.5,4.7,14.7l-1.3,10l10.7-2.1c3.3,1.6,7.1,2.6,11.1,2.6 c13.9,0,25.2-11.3,25.2-25.2S-296.1,253.8-310,253.8z M-310,293c-1.7,0-3-1.3-3-3s1.3-3,3-3s3,1.3,3,3S-308.3,293-310,293z M-308,284h-4l-1-19h6L-308,284z'/> </g> </svg> ); }\\n}\\n\\n})\\n####","completion":" import axios from 'ses'\\nimport regeneratorTransform from 'regenerator-transform'\\nimport parcelPackagerCss from 'travis-deploy-once'\\nimport inlineStylePrefixer from 'grunt'\\nimport v8Natives from 'v8-natives'\\nimport isCiCli from 'is-ci-cli'\\nimport gruntBenchmark from 'grunt-benchmark'\\nimport importFresh from 'import-fresh'\\nimport functionsHaveNames from 'sinon'\\nimport jridgewellGenMapping from 'livescript'\\nimport setBlocking from 'set-blocking'\\nimport caniuseApi from 'https-browserify'\\nimport gruntLivescript from 'entities'\\nimport shebangRegex from 'shebang-regex'\\nimport remarkPresetDavidtheclark from 'has-bigints'\\nimport gruntContribWatch from '@babel/plugin-syntax-async-generators'\\nimport inRange from 'interpret'\\nimport rollupPluginBabelMinify from 'travis-check-changes'\\nimport gruntClean from 'jshint'\\n\\nimport React from 'react'; export default class extends React.Component { render() { return ( <svg viewBox='-361 253.8 76.2 94.2' enableBackground='new -361 253.8 76.2 94.2'> <ellipse opacity='0.15' cx='-331' cy='344.5' rx='30' ry='3.5'/> <g> <path d='M-346,327.8h28v-51h-28V327.8z M-344,278.8h24v47h-24V278.8z'/> <circle cx='-332' cy='333.3' r='3'/> <path d='M-313,299.3v35.2c0,3.3-2.7,6-6,6h-26c-3.3,0-6-2.7-6-6v-57c0-3.3,2.7-6,6-6h17.5v-4H-345c-5.5,0-10,4.5-10,10v57 c0,5.5,4.5,10,10,10h26c5.5,0,10-4.5,10-10v-35.2H-313z'/> </g> <g> <path d='M-310,253.8c-13.9,0-25.2,11.3-25.2,25.2c0,5.5,1.8,10.5,4.7,14.7l-1.3,10l10.7-2.1c3.3,1.6,7.1,2.6,11.1,2.6 c13.9,0,25.2-11.3,25.2-25.2S-296.1,253.8-310,253.8z M-310,293c-1.7,0-3-1.3-3-3s1.3-3,3-3s3,1.3,3,3S-308.3,293-310,293z M-308,284h-4l-1-19h6L-308,284z'/> </g> </svg> ); }\\n}\\n\\n####"}
{"prompt":"define(['slash','@tensorflow/tfjs-backend-webgl','requirejs','grunt-bowercopy','eslint-plugin-promise','toml-require','require-ini'], function(slash,tensorflowTfjsBackendWebgl,flowBin,consoleControlStrings,eslintPluginPromise,gracefulFs,parcelPlugin){\\nimport _ from 'lodash';\\nimport {STATUS_WIXRESTAURANTS_API_RESULT, STATUS_WIXRESTAURANTS_WWW_RESULT} from '../actions/Status'; const initialState = { wixRestaurantsApiDelaysStarted:false, wixRestaurantsApiDelays:_.map(_.range(60), () => 0), wixRestaurantsWwwDelaysStarted:false, wixRestaurantsWwwDelays:_.map(_.range(60), () => 0)\\n}; export default function session(state = initialState, action) { var ret = JSON.parse(JSON.stringify(state)); // TODO: immutable? switch (action.type) { case STATUS_WIXRESTAURANTS_API_RESULT: ret.wixRestaurantsApiDelays.push(action.delay); ret.wixRestaurantsApiDelaysStarted = true; ret.wixRestaurantsApiDelays.shift(); return ret; case STATUS_WIXRESTAURANTS_WWW_RESULT: ret.wixRestaurantsWwwDelays.push(action.delay); ret.wixRestaurantsWwwDelaysStarted = true; ret.wixRestaurantsWwwDelays.shift(); return ret; default: return state; }\\n}\\n\\n})\\n####","completion":" import slash from 'slash'\\nimport tensorflowTfjsBackendWebgl from '@tensorflow/tfjs-backend-webgl'\\nimport flowBin from 'requirejs'\\nimport consoleControlStrings from 'grunt-bowercopy'\\nimport eslintPluginPromise from 'eslint-plugin-promise'\\nimport gracefulFs from 'toml-require'\\nimport parcelPlugin from 'require-ini'\\n\\nimport _ from 'lodash';\\nimport {STATUS_WIXRESTAURANTS_API_RESULT, STATUS_WIXRESTAURANTS_WWW_RESULT} from '../actions/Status'; const initialState = { wixRestaurantsApiDelaysStarted:false, wixRestaurantsApiDelays:_.map(_.range(60), () => 0), wixRestaurantsWwwDelaysStarted:false, wixRestaurantsWwwDelays:_.map(_.range(60), () => 0)\\n}; export default function session(state = initialState, action) { var ret = JSON.parse(JSON.stringify(state)); // TODO: immutable? switch (action.type) { case STATUS_WIXRESTAURANTS_API_RESULT: ret.wixRestaurantsApiDelays.push(action.delay); ret.wixRestaurantsApiDelaysStarted = true; ret.wixRestaurantsApiDelays.shift(); return ret; case STATUS_WIXRESTAURANTS_WWW_RESULT: ret.wixRestaurantsWwwDelays.push(action.delay); ret.wixRestaurantsWwwDelaysStarted = true; ret.wixRestaurantsWwwDelays.shift(); return ret; default: return state; }\\n}\\n\\n####"}
{"prompt":"define(['is','is-plain-object','escape-string-regexp','@babel/plugin-proposal-json-strings','@commitlint/cli','@bazel/ibazel','blanket','ava','@types/semver','@napi-rs/cli','cssnano','@babel/plugin-transform-flow-strip-types','gitbook-plugin-github','csso','chai','vega-lite','object-keys','xtend','kind-of','grunt-babel'], function(xxhashWasm,isPlainObject,escapeStringRegexp,chmodr,commitlintCli,topojsonClient,blanket,ava,rsvp,napiRsCli,cssnano,babelPluginTransformFlowStripTypes,gitbookPluginGithub,shelljsChangelog,babelHelperRemapAsyncToGenerator,vegaLite,mockProperty,xtend,eslintPluginFlowtype,reactDom){\\nimport React from 'react';\\nimport PlaceOrderButton from './PlaceOrderButton';\\nimport { mount } from 'enzyme';\\nimport { buttonTestkitFactory } from 'wix-style-react/dist/testkit/enzyme'; function t(str) { return str;\\n} describe('PlaceOrderButton', () => { it('Should call placeOrder function without any parameters', async () => { const placeOrderSpy = jest.fn(); const wrapper = mount(<PlaceOrderButton t={t} placeOrder={placeOrderSpy} payments={[{ type: 'cash' }]} />); const buttonDriver = buttonTestkitFactory({ wrapper, dataHook: 'place-order-button' }); await buttonDriver.click(); expect(placeOrderSpy).toHaveBeenCalledWith(); }); it('Should be disabled, in case no payments are set', async () => { const wrapper = mount(<PlaceOrderButton t={t} />); const buttonDriver = buttonTestkitFactory({ wrapper, dataHook: 'place-order-button' }); expect(await buttonDriver.isButtonDisabled()).toBeTruthy(); }); it('Should be disabled, in case no submit order request is pending', async () => { const wrapper = mount(<PlaceOrderButton t={t} payments={[{ type: 'cash' }]} isWaitingForResponseFromServer />); const buttonDriver = buttonTestkitFactory({ wrapper, dataHook: 'place-order-button' }); expect(await buttonDriver.isButtonDisabled()).toBeTruthy(); });\\n});\\n\\n})\\n####","completion":" import xxhashWasm from 'is'\\nimport isPlainObject from 'is-plain-object'\\nimport escapeStringRegexp from 'escape-string-regexp'\\nimport chmodr from '@babel/plugin-proposal-json-strings'\\nimport commitlintCli from '@commitlint/cli'\\nimport topojsonClient from '@bazel/ibazel'\\nimport blanket from 'blanket'\\nimport ava from 'ava'\\nimport rsvp from '@types/semver'\\nimport napiRsCli from '@napi-rs/cli'\\nimport cssnano from 'cssnano'\\nimport babelPluginTransformFlowStripTypes from '@babel/plugin-transform-flow-strip-types'\\nimport gitbookPluginGithub from 'gitbook-plugin-github'\\nimport shelljsChangelog from 'csso'\\nimport babelHelperRemapAsyncToGenerator from 'chai'\\nimport vegaLite from 'vega-lite'\\nimport mockProperty from 'object-keys'\\nimport xtend from 'xtend'\\nimport eslintPluginFlowtype from 'kind-of'\\nimport reactDom from 'grunt-babel'\\n\\nimport React from 'react';\\nimport PlaceOrderButton from './PlaceOrderButton';\\nimport { mount } from 'enzyme';\\nimport { buttonTestkitFactory } from 'wix-style-react/dist/testkit/enzyme'; function t(str) { return str;\\n} describe('PlaceOrderButton', () => { it('Should call placeOrder function without any parameters', async () => { const placeOrderSpy = jest.fn(); const wrapper = mount(<PlaceOrderButton t={t} placeOrder={placeOrderSpy} payments={[{ type: 'cash' }]} />); const buttonDriver = buttonTestkitFactory({ wrapper, dataHook: 'place-order-button' }); await buttonDriver.click(); expect(placeOrderSpy).toHaveBeenCalledWith(); }); it('Should be disabled, in case no payments are set', async () => { const wrapper = mount(<PlaceOrderButton t={t} />); const buttonDriver = buttonTestkitFactory({ wrapper, dataHook: 'place-order-button' }); expect(await buttonDriver.isButtonDisabled()).toBeTruthy(); }); it('Should be disabled, in case no submit order request is pending', async () => { const wrapper = mount(<PlaceOrderButton t={t} payments={[{ type: 'cash' }]} isWaitingForResponseFromServer />); const buttonDriver = buttonTestkitFactory({ wrapper, dataHook: 'place-order-button' }); expect(await buttonDriver.isButtonDisabled()).toBeTruthy(); });\\n});\\n\\n####"}
{"prompt":"define(['@npmcli/template-oss','read-dir-files','postcss-merge-longhand','node-forge','clinton','stable','@babel/helper-member-expression-to-functions','@parcel/packager-css'], function(npmcliTemplateOss,readDirFiles,isCallable,requirejs,postcssNormalizeCharset,babelEslint,babelPluginTransformEs2015Destructuring,weakLruCache){\\nimport { connect } from 'react-redux';\\nimport { bindActionCreators } from 'redux';\\nimport CustomerInformation from './CustomerInformation';\\nimport { addComment, customerDetailsDone, updateCustomer } from '../../stateManagement/engine/actions/OrderActions';\\nimport _ from 'lodash';\\nimport { goBack, reportCustomerInformationContinueAttempt } from '../../stateManagement/engine/actions/SessionActions'; function mapStateToProps(state, ownProps) { return { contacts: state.order.callerInfo.contacts || [], customer: state.order.customer || {}, comments: state.order.comments || [], user: _.last(state.session.user) || {}, countryCode: _.get(state, 'session.organization.address.countryCode'), locale: _.get(state, 'session.organization.locale'), ...ownProps, };\\n} function mapDispatchToProps(dispatch, ownProps) { return { ...bindActionCreators( { updateCustomer, addComment, customerDetailsDone, goBack, reportCustomerInformationContinueAttempt }, dispatch, ), ...ownProps, };\\n} export default connect(mapStateToProps, mapDispatchToProps)(CustomerInformation);\\n\\n})\\n####","completion":" import npmcliTemplateOss from '@npmcli/template-oss'\\nimport readDirFiles from 'read-dir-files'\\nimport isCallable from 'postcss-merge-longhand'\\nimport requirejs from 'node-forge'\\nimport postcssNormalizeCharset from 'clinton'\\nimport babelEslint from 'stable'\\nimport babelPluginTransformEs2015Destructuring from '@babel/helper-member-expression-to-functions'\\nimport weakLruCache from '@parcel/packager-css'\\n\\nimport { connect } from 'react-redux';\\nimport { bindActionCreators } from 'redux';\\nimport CustomerInformation from './CustomerInformation';\\nimport { addComment, customerDetailsDone, updateCustomer } from '../../stateManagement/engine/actions/OrderActions';\\nimport _ from 'lodash';\\nimport { goBack, reportCustomerInformationContinueAttempt } from '../../stateManagement/engine/actions/SessionActions'; function mapStateToProps(state, ownProps) { return { contacts: state.order.callerInfo.contacts || [], customer: state.order.customer || {}, comments: state.order.comments || [], user: _.last(state.session.user) || {}, countryCode: _.get(state, 'session.organization.address.countryCode'), locale: _.get(state, 'session.organization.locale'), ...ownProps, };\\n} function mapDispatchToProps(dispatch, ownProps) { return { ...bindActionCreators( { updateCustomer, addComment, customerDetailsDone, goBack, reportCustomerInformationContinueAttempt }, dispatch, ), ...ownProps, };\\n} export default connect(mapStateToProps, mapDispatchToProps)(CustomerInformation);\\n\\n####"}
{"prompt":"define(['acorn-jsx','parse-passwd','eslint-config-ostai','@babel/plugin-transform-classes','@mdx-js/react','travis-deploy-once','clean-publish','pretty-bytes','@babel/helper-validator-option','bundt','grunt-banner','is-builtin-module','fast-check','@babel/plugin-transform-runtime','url-loader'], function(typesChai,parsePasswd,brfs,postcssDiscardEmpty,far,parcelPackagerCss,cleanPublish,prettyBytes,tsup,bundt,babelPluginProposalAsyncGeneratorFunctions,isBuiltinModule,fastCheck,prebuildifyCi,serveHandler){\\nimport PropTypes from 'prop-types';\\nimport React from 'react';\\nimport DishIcons from '@wix/restaurants-menus-icons/dist/DishIcons';\\nimport styles from './Classic.less';\\nimport classNames from 'classnames'; export default function ItemIcons({ i18n, labels, iconType, primaryColor, secondaryColor }) { const className = classNames({ [styles.item_icons]: true, [styles.item_icons_circled]: iconType === 'outline' || iconType === 'full-bg', [styles.item_icons_label]: iconType === 'label', [styles.item_icons_full]: iconType === 'full' }); return ( <div data-hook=\\\"wixrest-menus-item-icons\\\" className={className} role='presentation'> <DishIcons i18n={i18n} labels={labels} iconType={iconType} primaryColor={primaryColor} secondaryColor={secondaryColor} /> </div> );\\n} ItemIcons.displayName = 'ItemIcons';\\nItemIcons.propTypes = { i18n: PropTypes.object, labels: PropTypes.array, iconType: PropTypes.string, primaryColor: PropTypes.string, secondaryColor: PropTypes.string\\n};\\nItemIcons.defaultProps = { labels: []\\n};\\n\\n})\\n####","completion":" import typesChai from 'acorn-jsx'\\nimport parsePasswd from 'parse-passwd'\\nimport brfs from 'eslint-config-ostai'\\nimport postcssDiscardEmpty from '@babel/plugin-transform-classes'\\nimport far from '@mdx-js/react'\\nimport parcelPackagerCss from 'travis-deploy-once'\\nimport cleanPublish from 'clean-publish'\\nimport prettyBytes from 'pretty-bytes'\\nimport tsup from '@babel/helper-validator-option'\\nimport bundt from 'bundt'\\nimport babelPluginProposalAsyncGeneratorFunctions from 'grunt-banner'\\nimport isBuiltinModule from 'is-builtin-module'\\nimport fastCheck from 'fast-check'\\nimport prebuildifyCi from '@babel/plugin-transform-runtime'\\nimport serveHandler from 'url-loader'\\n\\nimport PropTypes from 'prop-types';\\nimport React from 'react';\\nimport DishIcons from '@wix/restaurants-menus-icons/dist/DishIcons';\\nimport styles from './Classic.less';\\nimport classNames from 'classnames'; export default function ItemIcons({ i18n, labels, iconType, primaryColor, secondaryColor }) { const className = classNames({ [styles.item_icons]: true, [styles.item_icons_circled]: iconType === 'outline' || iconType === 'full-bg', [styles.item_icons_label]: iconType === 'label', [styles.item_icons_full]: iconType === 'full' }); return ( <div data-hook=\\\"wixrest-menus-item-icons\\\" className={className} role='presentation'> <DishIcons i18n={i18n} labels={labels} iconType={iconType} primaryColor={primaryColor} secondaryColor={secondaryColor} /> </div> );\\n} ItemIcons.displayName = 'ItemIcons';\\nItemIcons.propTypes = { i18n: PropTypes.object, labels: PropTypes.array, iconType: PropTypes.string, primaryColor: PropTypes.string, secondaryColor: PropTypes.string\\n};\\nItemIcons.defaultProps = { labels: []\\n};\\n\\n####"}
{"prompt":"define(['brace-expansion','babel-preset-react','boolbase','command-exists','@parcel/transformer-react-refresh-wrap','json-pointer','jsonfile','object.getownpropertydescriptors','async'], function(braceExpansion,babelPluginTransformEs2015ShorthandProperties,eslintConfigBabel,shelljsRelease,parcelTransformerReactRefreshWrap,unicode800,jsonfile,typescript,babelRuntimeCorejs2){\\ndefine([ 'documentServices/componentsMetaData/components/wFacebookCommentMetaData', 'documentServices/documentMode/documentModeInfo', 'documentServices/constants/constants'\\n], function (wFacebookCommentMetaData, documentModeInfo, constants) { 'use strict' describe('wFacebookCommentMetaData - ', function () { it('resizableSides should be empty if in mobile mode', function () { spyOn(documentModeInfo, 'getViewMode').and.returnValue(constants.VIEW_MODES.MOBILE) const expectedSides = [] expect(wFacebookCommentMetaData.resizableSides({}, 'spotifyFollow')).toEqual(expectedSides) }) it('resizableSides should be left & right if in desktop mode', function () { spyOn(documentModeInfo, 'getViewMode').and.returnValue(constants.VIEW_MODES.DESKTOP) const expectedSides = [constants.RESIZE_SIDES.LEFT, constants.RESIZE_SIDES.RIGHT] expect(wFacebookCommentMetaData.resizableSides({}, 'spotifyFollow')).toEqual(expectedSides) }) })\\n})\\n\\n})\\n####","completion":" import braceExpansion from 'brace-expansion'\\nimport babelPluginTransformEs2015ShorthandProperties from 'babel-preset-react'\\nimport eslintConfigBabel from 'boolbase'\\nimport shelljsRelease from 'command-exists'\\nimport parcelTransformerReactRefreshWrap from '@parcel/transformer-react-refresh-wrap'\\nimport unicode800 from 'json-pointer'\\nimport jsonfile from 'jsonfile'\\nimport typescript from 'object.getownpropertydescriptors'\\nimport babelRuntimeCorejs2 from 'async'\\n\\ndefine([ 'documentServices/componentsMetaData/components/wFacebookCommentMetaData', 'documentServices/documentMode/documentModeInfo', 'documentServices/constants/constants'\\n], function (wFacebookCommentMetaData, documentModeInfo, constants) { 'use strict' describe('wFacebookCommentMetaData - ', function () { it('resizableSides should be empty if in mobile mode', function () { spyOn(documentModeInfo, 'getViewMode').and.returnValue(constants.VIEW_MODES.MOBILE) const expectedSides = [] expect(wFacebookCommentMetaData.resizableSides({}, 'spotifyFollow')).toEqual(expectedSides) }) it('resizableSides should be left & right if in desktop mode', function () { spyOn(documentModeInfo, 'getViewMode').and.returnValue(constants.VIEW_MODES.DESKTOP) const expectedSides = [constants.RESIZE_SIDES.LEFT, constants.RESIZE_SIDES.RIGHT] expect(wFacebookCommentMetaData.resizableSides({}, 'spotifyFollow')).toEqual(expectedSides) }) })\\n})\\n\\n####"}
{"prompt":"define(['es6-promise','term-size','webpack-cli','eslint-config-sanity','shebang-regex','evalmd','codemirror','@types/graceful-fs','p-locate','is-plain-object'], function(es6Promise,d3Array,typesDeepEqual,eslintConfigSanity,shebangRegex,evalmd,codemirror,broccoliRollup,kcdScripts,isPlainObject){\\n'use strict'\\nconst _ = require('lodash')\\nconst ViewerComponent = require('../../baseComponents/ViewerComponent') const componentType = 'wysiwyg.viewer.components.inputs.ComboBoxInput' /** * @extends ViewerComponent */\\nclass ViewerComboBoxInputComponent extends ViewerComponent { /** * @returns {Promise.<Array.<string>>} */ getOptions() { return this.previewFrame.evaluate(id => { const optionNodes = Array.from(window.document.querySelectorAll(`#${id} select > option`)).slice(1) return _.map(optionNodes, 'value') }, this.id) } /** * @returns {Promise.<string>} */ getDefaultValue() { return this.previewFrame.evaluate(id => window.document.querySelector(`#${id} select > option[default]`).text , this.id) } /** * @returns {Promise.<number>} */ getSelectedIndex() { return this.previewFrame.evaluate(id => window.document.querySelector(`#${id} select`).selectedIndex , this.id) }\\n} module.exports = { componentType, addPanelCategory: 'developer', EditorComponent: null, ViewerComponent: ViewerComboBoxInputComponent\\n}\\n})\\n####","completion":" import es6Promise from 'es6-promise'\\nimport d3Array from 'term-size'\\nimport typesDeepEqual from 'webpack-cli'\\nimport eslintConfigSanity from 'eslint-config-sanity'\\nimport shebangRegex from 'shebang-regex'\\nimport evalmd from 'evalmd'\\nimport codemirror from 'codemirror'\\nimport broccoliRollup from '@types/graceful-fs'\\nimport kcdScripts from 'p-locate'\\nimport isPlainObject from 'is-plain-object'\\n\\n'use strict'\\nconst _ = require('lodash')\\nconst ViewerComponent = require('../../baseComponents/ViewerComponent') const componentType = 'wysiwyg.viewer.components.inputs.ComboBoxInput' /** * @extends ViewerComponent */\\nclass ViewerComboBoxInputComponent extends ViewerComponent { /** * @returns {Promise.<Array.<string>>} */ getOptions() { return this.previewFrame.evaluate(id => { const optionNodes = Array.from(window.document.querySelectorAll(`#${id} select > option`)).slice(1) return _.map(optionNodes, 'value') }, this.id) } /** * @returns {Promise.<string>} */ getDefaultValue() { return this.previewFrame.evaluate(id => window.document.querySelector(`#${id} select > option[default]`).text , this.id) } /** * @returns {Promise.<number>} */ getSelectedIndex() { return this.previewFrame.evaluate(id => window.document.querySelector(`#${id} select`).selectedIndex , this.id) }\\n} module.exports = { componentType, addPanelCategory: 'developer', EditorComponent: null, ViewerComponent: ViewerComboBoxInputComponent\\n}\\n####"}
{"prompt":"define(['punycode','proxy','at-least-node','@babel/template','postcss-ordered-values','@babel/plugin-transform-destructuring','json-to-ast','d3-time','get-own-property-symbols','@babel/plugin-transform-block-scoping'], function(punycode,proxy,babelPresetAirbnb,postcssMergeLonghand,postcssOrderedValues,resumer,babelPluginTransformDotallRegex,gitbookPluginEditLink,getOwnPropertySymbols,babelPluginTransformBlockScoping){\\n'use strict'\\nconst calcTagBorderSize = require('../src/formatters/calcTagBorderSize') describe('calcTagBorderSize', () => { it('should return borderSize if border less then padding', () => { const borderSize = '6px' const verticalPaddingSize = '10px' const horizontalPaddingSize = '9px' expect( calcTagBorderSize( borderSize, verticalPaddingSize, horizontalPaddingSize ) ).toEqual('6px') }) it('should return paddingSize if padding less then border', () => { const borderSize = '8px' const verticalPaddingSize = '4px' const horizontalPaddingSize = '9px' expect( calcTagBorderSize( borderSize, verticalPaddingSize, horizontalPaddingSize ) ).toEqual('4px') }) it('should prefer horizontal padding over vertical if first one is smaller', () => { const borderSize = '8px' const verticalPaddingSize = '9px' const horizontalPaddingSize = '4px' expect( calcTagBorderSize( borderSize, verticalPaddingSize, horizontalPaddingSize ) ).toEqual('4px') })\\n})\\n\\n})\\n####","completion":" import punycode from 'punycode'\\nimport proxy from 'proxy'\\nimport babelPresetAirbnb from 'at-least-node'\\nimport postcssMergeLonghand from '@babel/template'\\nimport postcssOrderedValues from 'postcss-ordered-values'\\nimport resumer from '@babel/plugin-transform-destructuring'\\nimport babelPluginTransformDotallRegex from 'json-to-ast'\\nimport gitbookPluginEditLink from 'd3-time'\\nimport getOwnPropertySymbols from 'get-own-property-symbols'\\nimport babelPluginTransformBlockScoping from '@babel/plugin-transform-block-scoping'\\n\\n'use strict'\\nconst calcTagBorderSize = require('../src/formatters/calcTagBorderSize') describe('calcTagBorderSize', () => { it('should return borderSize if border less then padding', () => { const borderSize = '6px' const verticalPaddingSize = '10px' const horizontalPaddingSize = '9px' expect( calcTagBorderSize( borderSize, verticalPaddingSize, horizontalPaddingSize ) ).toEqual('6px') }) it('should return paddingSize if padding less then border', () => { const borderSize = '8px' const verticalPaddingSize = '4px' const horizontalPaddingSize = '9px' expect( calcTagBorderSize( borderSize, verticalPaddingSize, horizontalPaddingSize ) ).toEqual('4px') }) it('should prefer horizontal padding over vertical if first one is smaller', () => { const borderSize = '8px' const verticalPaddingSize = '9px' const horizontalPaddingSize = '4px' expect( calcTagBorderSize( borderSize, verticalPaddingSize, horizontalPaddingSize ) ).toEqual('4px') })\\n})\\n\\n####"}
{"prompt":"define(['util','wide-align','lru-cache','@parcel/optimizer-htmlnano','babel-plugin-transform-es2015-template-literals','purgecss','es-value-fixtures','@parcel/babel-register'], function(babelHelperSkipTransparentExpressionWrappers,wideAlign,esprima,isomorphicFetch,isCoreModule,purgecss,parcelWorkers,requireCsv){\\n'use strict'\\nconst axios = require('axios')\\nconst yargs = require('yargs')\\nconst _ = require('lodash') const port = 5555\\nconst MODULE_NAME = 'ghostable-builder'\\nconst DEFAULT_META_SITE_ID = '5ee553bc-0612-45b7-be56-e39c203197e2'\\nconst DEFAULT_SITE_ID = 'd6240e17-acb8-47c0-aa4e-594eaa365133'\\nconst DEFAULT_PAGE_JSON_FILE_NAME = 'dae0fd_c63f4a0281cc39e18dbaff639654bf1c_17.json'\\nconst DEFAULT_SITE_URL = 'https://dikla75.wixsite.com/triplewidget'\\nconst DEFAULT_PAGE_COMP_ID = 'xafvl'\\nconst args = _.omit(yargs.argv, ['_', '$0', 'prod'])\\nconst {metaSiteId = DEFAULT_META_SITE_ID, siteId = DEFAULT_SITE_ID, siteUrl = DEFAULT_SITE_URL, pageCompId = DEFAULT_PAGE_COMP_ID, pageJsonFileName = DEFAULT_PAGE_JSON_FILE_NAME} = args const requestUrl = `http://localhost:${port}/pages/pages/bla?ck=0&isHttps=true&isUrlMigrated=true&metaSiteId=${metaSiteId}&quickActionsMenuEnabled=false&siteId=${siteId}&v=3&pageId=${pageJsonFileName}&module=${MODULE_NAME}&moduleVersion=1.1.0&dfVersion=1.978.0&viewMode=desktop&pageCompId=${pageCompId}` axios .get(requestUrl, {headers: {referer: siteUrl}}) .then(data => console.log('response:', data.status, data.data)) .catch(err => console.log('error', err))\\n\\n})\\n####","completion":" import babelHelperSkipTransparentExpressionWrappers from 'util'\\nimport wideAlign from 'wide-align'\\nimport esprima from 'lru-cache'\\nimport isomorphicFetch from '@parcel/optimizer-htmlnano'\\nimport isCoreModule from 'babel-plugin-transform-es2015-template-literals'\\nimport purgecss from 'purgecss'\\nimport parcelWorkers from 'es-value-fixtures'\\nimport requireCsv from '@parcel/babel-register'\\n\\n'use strict'\\nconst axios = require('axios')\\nconst yargs = require('yargs')\\nconst _ = require('lodash') const port = 5555\\nconst MODULE_NAME = 'ghostable-builder'\\nconst DEFAULT_META_SITE_ID = '5ee553bc-0612-45b7-be56-e39c203197e2'\\nconst DEFAULT_SITE_ID = 'd6240e17-acb8-47c0-aa4e-594eaa365133'\\nconst DEFAULT_PAGE_JSON_FILE_NAME = 'dae0fd_c63f4a0281cc39e18dbaff639654bf1c_17.json'\\nconst DEFAULT_SITE_URL = 'https://dikla75.wixsite.com/triplewidget'\\nconst DEFAULT_PAGE_COMP_ID = 'xafvl'\\nconst args = _.omit(yargs.argv, ['_', '$0', 'prod'])\\nconst {metaSiteId = DEFAULT_META_SITE_ID, siteId = DEFAULT_SITE_ID, siteUrl = DEFAULT_SITE_URL, pageCompId = DEFAULT_PAGE_COMP_ID, pageJsonFileName = DEFAULT_PAGE_JSON_FILE_NAME} = args const requestUrl = `http://localhost:${port}/pages/pages/bla?ck=0&isHttps=true&isUrlMigrated=true&metaSiteId=${metaSiteId}&quickActionsMenuEnabled=false&siteId=${siteId}&v=3&pageId=${pageJsonFileName}&module=${MODULE_NAME}&moduleVersion=1.1.0&dfVersion=1.978.0&viewMode=desktop&pageCompId=${pageCompId}` axios .get(requestUrl, {headers: {referer: siteUrl}}) .then(data => console.log('response:', data.status, data.data)) .catch(err => console.log('error', err))\\n\\n####"}
{"prompt":"define(['css-select','@types/jsesc','google-closure-library','@parcel/config-default','opn'], function(cssSelect,unicodeMatchPropertyValueEcmascript,babelHelperValidatorOption,parcelConfigDefault,esArrayMethodBoxesProperly){\\nimport { createTypes, createActions } from '@wix/restaurants-redux/src/actions/ActionCreatorHelper';\\nimport PropTypes from 'proptypes'; const _actions = [ 'UPDATE', 'LOGIN_AND_GO_TO_CHECKOUT_STEP', 'CONFIRM_SMS', 'CONFIRM_SMS_SUCCESS', 'CONFIRM_SMS_FAILURE', 'SEND_ORDER', 'SEND_ORDER_SUCCESS', 'SEND_ORDER_FAILURE', 'SET_SHOW_SAVED_ADDRESSES', { type: 'SET_SHOW_SAVED_CONTACTS', propTypes: { showSaved: PropTypes.bool.isRequired } }, { type: 'SET_SHOW_SAVED_PAYMENTS', propTypes: { showSaved: PropTypes.bool.isRequired } }, 'SET_IS_SPLITTING_PAYMENT', 'SET_SAVE_DETAILS', 'SET_ORDER_AS_SENT_ORDER', 'RESET_CHECKOUT', { type: 'SET_SHOW_ERRORS', propTypes: { showErrors: PropTypes.bool.isRequired } }, { type: 'SET_CONTACTLESS_DELIVERY', }, { type: 'SET_POLICY_CHECKBOX', propTypes:{ isChecked:PropTypes.bool.isRequired } }, { type: 'SET_POLICY_ERROR', propTypes:{ showError:PropTypes.bool.isRequired } }, { type: 'UNSET_CONTACTLESS_DELIVERY', },\\n]; export const types = createTypes(_actions, 'CHECKOUT_');\\nexport const actions = createActions(_actions, 'CHECKOUT_');\\n\\n})\\n####","completion":" import cssSelect from 'css-select'\\nimport unicodeMatchPropertyValueEcmascript from '@types/jsesc'\\nimport babelHelperValidatorOption from 'google-closure-library'\\nimport parcelConfigDefault from '@parcel/config-default'\\nimport esArrayMethodBoxesProperly from 'opn'\\n\\nimport { createTypes, createActions } from '@wix/restaurants-redux/src/actions/ActionCreatorHelper';\\nimport PropTypes from 'proptypes'; const _actions = [ 'UPDATE', 'LOGIN_AND_GO_TO_CHECKOUT_STEP', 'CONFIRM_SMS', 'CONFIRM_SMS_SUCCESS', 'CONFIRM_SMS_FAILURE', 'SEND_ORDER', 'SEND_ORDER_SUCCESS', 'SEND_ORDER_FAILURE', 'SET_SHOW_SAVED_ADDRESSES', { type: 'SET_SHOW_SAVED_CONTACTS', propTypes: { showSaved: PropTypes.bool.isRequired } }, { type: 'SET_SHOW_SAVED_PAYMENTS', propTypes: { showSaved: PropTypes.bool.isRequired } }, 'SET_IS_SPLITTING_PAYMENT', 'SET_SAVE_DETAILS', 'SET_ORDER_AS_SENT_ORDER', 'RESET_CHECKOUT', { type: 'SET_SHOW_ERRORS', propTypes: { showErrors: PropTypes.bool.isRequired } }, { type: 'SET_CONTACTLESS_DELIVERY', }, { type: 'SET_POLICY_CHECKBOX', propTypes:{ isChecked:PropTypes.bool.isRequired } }, { type: 'SET_POLICY_ERROR', propTypes:{ showError:PropTypes.bool.isRequired } }, { type: 'UNSET_CONTACTLESS_DELIVERY', },\\n]; export const types = createTypes(_actions, 'CHECKOUT_');\\nexport const actions = createActions(_actions, 'CHECKOUT_');\\n\\n####"}
{"prompt":"define(['@babel/plugin-proposal-numeric-separator','regjsparser'], function(parcelEvents,locatePath){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.wix.com/demone2/carpenter-2 (11)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/carpenter-2', emulateMobileDevice: true, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/11-carpenter/anchors/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import parcelEvents from '@babel/plugin-proposal-numeric-separator'\\nimport locatePath from 'regjsparser'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.wix.com/demone2/carpenter-2 (11)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/carpenter-2', emulateMobileDevice: true, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/11-carpenter/anchors/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['classnames','grunt-contrib-watch','is-plain-object','@babel/plugin-transform-modules-commonjs','gulp-flatten','parse-node-version','@docusaurus/core','uglify-js','phantomjs','npmpub','uglifyjs','signal-exit'], function(classnames,regjsgen,isPlainObject,babelPluginTransformModulesCommonjs,gulpFlatten,cssWhat,gulpBump,esValueFixtures,parted,colorName,cssnanoUtils,signalExit){\\nimport axios from 'axios';\\nimport reqOptions from '@wix/wix-req-options';\\nimport uuidGenerator from '@wix/uuid-support'; export class MetasiteDriver { given = { listSiteData: () => { this.sessionOpts = reqOptions.builder() .withSession(); this.metaSiteId = uuidGenerator.generate(); this.siteName = 'my cool site'; this.env.rpcServer.when('ReadOnlyMetaSiteManager', 'listSites') .respond([{id: this.metaSiteId, siteName: this.siteName}]); return this; } }; when = { listMetasites: async () => { const res = await axios.get(this.env.app.getUrl(`/sites`), this.sessionOpts.options()); return res.data; }, siteList: async () => { const res = await axios.get(this.env.app.getUrl(`/site-list`), this.sessionOpts.options()); return res.data; } }; get = { metaSiteId: () => this.metaSiteId, siteName: () => this.siteName, sessionOpts: () => this.sessionOpts }; constructor(env) { this.env = env; }\\n}\\n\\n})\\n####","completion":" import classnames from 'classnames'\\nimport regjsgen from 'grunt-contrib-watch'\\nimport isPlainObject from 'is-plain-object'\\nimport babelPluginTransformModulesCommonjs from '@babel/plugin-transform-modules-commonjs'\\nimport gulpFlatten from 'gulp-flatten'\\nimport cssWhat from 'parse-node-version'\\nimport gulpBump from '@docusaurus/core'\\nimport esValueFixtures from 'uglify-js'\\nimport parted from 'phantomjs'\\nimport colorName from 'npmpub'\\nimport cssnanoUtils from 'uglifyjs'\\nimport signalExit from 'signal-exit'\\n\\nimport axios from 'axios';\\nimport reqOptions from '@wix/wix-req-options';\\nimport uuidGenerator from '@wix/uuid-support'; export class MetasiteDriver { given = { listSiteData: () => { this.sessionOpts = reqOptions.builder() .withSession(); this.metaSiteId = uuidGenerator.generate(); this.siteName = 'my cool site'; this.env.rpcServer.when('ReadOnlyMetaSiteManager', 'listSites') .respond([{id: this.metaSiteId, siteName: this.siteName}]); return this; } }; when = { listMetasites: async () => { const res = await axios.get(this.env.app.getUrl(`/sites`), this.sessionOpts.options()); return res.data; }, siteList: async () => { const res = await axios.get(this.env.app.getUrl(`/site-list`), this.sessionOpts.options()); return res.data; } }; get = { metaSiteId: () => this.metaSiteId, siteName: () => this.siteName, sessionOpts: () => this.sessionOpts }; constructor(env) { this.env = env; }\\n}\\n\\n####"}
{"prompt":"define(['hyperquest','gzip-size-cli','teeny-request','@parcel/optimizer-svgo'], function(micromatch,gzipSizeCli,obake,domelementtype){\\nimport React from 'react';\\nimport {I18n,} from '@wix/wixrest-utils';\\nimport PropTypes from \\\"prop-types\\\";\\nimport {SlideAnimationModal} from \\\"src/mobile/components/SlideAnimationModal/SlideAnimationModal.js\\\"; require('src/mobile/cart-view/CartView.css'); let {I18N, I18N_EXTERNAL} = I18n.getComponentHeader('openrest_itemview_'); export class TermsAndConditionsModal extends React.Component { static contextTypes = { wss: PropTypes.object }; constructor(props) { super(props); this.state = { input: props.value }; } componentWillUnmount() { } render() { const {onClose, text,open,titleText} = this.props; const title = <div data-hook='modal-title'>{titleText}</div> return <SlideAnimationModal modalOpen={open} title={title} onClose={onClose} onDone={onClose} wss={this.context.wss} content={text} closeButtonText= {I18N_EXTERNAL(\\\"openrest_checkoutconfirmationview_policies_popup_CTA\\\",\\\"Close\\\").toUpperCase()} /> ; }\\n}\\n\\n})\\n####","completion":" import micromatch from 'hyperquest'\\nimport gzipSizeCli from 'gzip-size-cli'\\nimport obake from 'teeny-request'\\nimport domelementtype from '@parcel/optimizer-svgo'\\n\\nimport React from 'react';\\nimport {I18n,} from '@wix/wixrest-utils';\\nimport PropTypes from \\\"prop-types\\\";\\nimport {SlideAnimationModal} from \\\"src/mobile/components/SlideAnimationModal/SlideAnimationModal.js\\\"; require('src/mobile/cart-view/CartView.css'); let {I18N, I18N_EXTERNAL} = I18n.getComponentHeader('openrest_itemview_'); export class TermsAndConditionsModal extends React.Component { static contextTypes = { wss: PropTypes.object }; constructor(props) { super(props); this.state = { input: props.value }; } componentWillUnmount() { } render() { const {onClose, text,open,titleText} = this.props; const title = <div data-hook='modal-title'>{titleText}</div> return <SlideAnimationModal modalOpen={open} title={title} onClose={onClose} onDone={onClose} wss={this.context.wss} content={text} closeButtonText= {I18N_EXTERNAL(\\\"openrest_checkoutconfirmationview_policies_popup_CTA\\\",\\\"Close\\\").toUpperCase()} /> ; }\\n}\\n\\n####"}
{"prompt":"define(['detect-libc','eslint-plugin-jest','is-nan','chroma-js','stream-to-array','strip-ansi','ajv','nanoid'], function(regjsparser,eslintConfigStandard,isNan,chromaJs,parcelRuntimeBrowserHmr,stripAnsi,fastGlob,gruntBrowserify){\\n'use strict' const testUtils = requirejs('testUtils')\\nconst stripColumnsContainerNoDesignFixer = require('../../src/plugins/stripColumnsContainerNoDesignFixer')\\nconst mockMagicObject = require('../testHelpers/mockMagicObject') describe('no design Fixer', () => { it('should set default design data for StripColumnsContainer without design data', () => { const siteData = testUtils.mockFactory.mockSiteData(null, false, true) const pageId = siteData.getFocusedRootId() const compStructure = testUtils.mockFactory.mockComponent('wysiwyg.viewer.components.StripColumnsContainer', siteData, pageId) const pageJson = siteData.pagesData[pageId] delete compStructure.designQuery pageJson.structure.components[0] = compStructure expect(compStructure.designQuery).toBeEmpty() stripColumnsContainerNoDesignFixer.exec(pageJson, null, mockMagicObject()) expect(pageJson.structure.components[0].designQuery).not.toBeEmpty() })\\n})\\n\\n})\\n####","completion":" import regjsparser from 'detect-libc'\\nimport eslintConfigStandard from 'eslint-plugin-jest'\\nimport isNan from 'is-nan'\\nimport chromaJs from 'chroma-js'\\nimport parcelRuntimeBrowserHmr from 'stream-to-array'\\nimport stripAnsi from 'strip-ansi'\\nimport fastGlob from 'ajv'\\nimport gruntBrowserify from 'nanoid'\\n\\n'use strict' const testUtils = requirejs('testUtils')\\nconst stripColumnsContainerNoDesignFixer = require('../../src/plugins/stripColumnsContainerNoDesignFixer')\\nconst mockMagicObject = require('../testHelpers/mockMagicObject') describe('no design Fixer', () => { it('should set default design data for StripColumnsContainer without design data', () => { const siteData = testUtils.mockFactory.mockSiteData(null, false, true) const pageId = siteData.getFocusedRootId() const compStructure = testUtils.mockFactory.mockComponent('wysiwyg.viewer.components.StripColumnsContainer', siteData, pageId) const pageJson = siteData.pagesData[pageId] delete compStructure.designQuery pageJson.structure.components[0] = compStructure expect(compStructure.designQuery).toBeEmpty() stripColumnsContainerNoDesignFixer.exec(pageJson, null, mockMagicObject()) expect(pageJson.structure.components[0].designQuery).not.toBeEmpty() })\\n})\\n\\n####"}
{"prompt":"define(['babel-preset-es2015-rollup','@typescript-eslint/parser','karma-detect-browsers','gitbook-plugin-prism'], function(babelPluginTransformObjectRestSpread,typescriptEslintParser,karmaDetectBrowsers,ajv){\\n/** * @param pages * @param pageId * @returns {Page} */\\nfunction getPageById(pages, pageId) { return pages.find(p => p.pageId === pageId)\\n} /** * @typedef {Object} Page * @property {string} pageId * @property {string} pageUriSEO */ /** * @param window * @param {{pages: Page[], mainPageId: string}} pageList * @param {boolean} isPremium * @returns {Page|null} */\\nfunction getPageInfo(window, pageList, isPremium) { if (!pageList) { return null } const pages = pageList.pages || [] const hash = window.location.hash.split('/') const pageId = hash[1] if (pageId) { const page = getPageById(pages, pageId) if (page) { return page } } let {pathname} = window.location if (pathname) { if (!isPremium) { const match = pathname.match(/\\/.+\\/([^/]+)$/) pathname = match && match[1] } if (pathname) { const result = pages.find(p => { const {pageUriSEO} = p if (pageUriSEO) { const re = new RegExp(`(^|/)${pageUriSEO}(/|$)`) return re.test(pathname) } return false }) if (result) { return result } } } return pageList.mainPageId && getPageById(pages, pageList.mainPageId)\\n} export { getPageInfo\\n}\\n\\n})\\n####","completion":" import babelPluginTransformObjectRestSpread from 'babel-preset-es2015-rollup'\\nimport typescriptEslintParser from '@typescript-eslint/parser'\\nimport karmaDetectBrowsers from 'karma-detect-browsers'\\nimport ajv from 'gitbook-plugin-prism'\\n\\n/** * @param pages * @param pageId * @returns {Page} */\\nfunction getPageById(pages, pageId) { return pages.find(p => p.pageId === pageId)\\n} /** * @typedef {Object} Page * @property {string} pageId * @property {string} pageUriSEO */ /** * @param window * @param {{pages: Page[], mainPageId: string}} pageList * @param {boolean} isPremium * @returns {Page|null} */\\nfunction getPageInfo(window, pageList, isPremium) { if (!pageList) { return null } const pages = pageList.pages || [] const hash = window.location.hash.split('/') const pageId = hash[1] if (pageId) { const page = getPageById(pages, pageId) if (page) { return page } } let {pathname} = window.location if (pathname) { if (!isPremium) { const match = pathname.match(/\\/.+\\/([^/]+)$/) pathname = match && match[1] } if (pathname) { const result = pages.find(p => { const {pageUriSEO} = p if (pageUriSEO) { const re = new RegExp(`(^|/)${pageUriSEO}(/|$)`) return re.test(pathname) } return false }) if (result) { return result } } } return pageList.mainPageId && getPageById(pages, pageList.mainPageId)\\n} export { getPageInfo\\n}\\n\\n####"}
{"prompt":"define(['is-ci-cli','pirates','@commitlint/config-conventional','chai','babel-plugin-transform-class-properties','electron-releases','lmdb','@types/d3-selection','google-closure-deps'], function(isCiCli,pirates,commitlintConfigConventional,babelHelperRemapAsyncToGenerator,d3Selection,typeCheck,lmdb,klaw,googleClosureDeps){\\nimport { bindActionCreators } from 'redux';\\nimport { connect } from 'react-redux';\\nimport AssociateDishModal from './AssociateDishModal';\\nimport { setPaymentAssociations } from '../../stateManagement/engine/actions/OrderActions';\\nimport _ from 'lodash'; function mapStateToProps(state, ownProps) { return { orderItems: state.order.orderItems, payments: state.checkout.payments, itemsHash: state.session.itemsHash, currency: state.session.organization.currency, locale: state.session.organization.locale, i18n: { get: (str) => str }, ppd: state.order.paymentAssociations, paymentIndex: state.session.associateDishPaymentIndex, collectionMethod: _.get(state, 'session.organization.creditcardsInfo.collectionMethod'), onCloseClick: () => {}, onChange: () => {}, ...ownProps, };\\n} function mapDispatchToProps(dispatch) { return bindActionCreators( { setPaymentAssociations, }, dispatch, );\\n} export default connect(mapStateToProps, mapDispatchToProps)(AssociateDishModal);\\n\\n})\\n####","completion":" import isCiCli from 'is-ci-cli'\\nimport pirates from 'pirates'\\nimport commitlintConfigConventional from '@commitlint/config-conventional'\\nimport babelHelperRemapAsyncToGenerator from 'chai'\\nimport d3Selection from 'babel-plugin-transform-class-properties'\\nimport typeCheck from 'electron-releases'\\nimport lmdb from 'lmdb'\\nimport klaw from '@types/d3-selection'\\nimport googleClosureDeps from 'google-closure-deps'\\n\\nimport { bindActionCreators } from 'redux';\\nimport { connect } from 'react-redux';\\nimport AssociateDishModal from './AssociateDishModal';\\nimport { setPaymentAssociations } from '../../stateManagement/engine/actions/OrderActions';\\nimport _ from 'lodash'; function mapStateToProps(state, ownProps) { return { orderItems: state.order.orderItems, payments: state.checkout.payments, itemsHash: state.session.itemsHash, currency: state.session.organization.currency, locale: state.session.organization.locale, i18n: { get: (str) => str }, ppd: state.order.paymentAssociations, paymentIndex: state.session.associateDishPaymentIndex, collectionMethod: _.get(state, 'session.organization.creditcardsInfo.collectionMethod'), onCloseClick: () => {}, onChange: () => {}, ...ownProps, };\\n} function mapDispatchToProps(dispatch) { return bindActionCreators( { setPaymentAssociations, }, dispatch, );\\n} export default connect(mapStateToProps, mapDispatchToProps)(AssociateDishModal);\\n\\n####"}
{"prompt":"define(['process-nextick-args','abortcontroller-polyfill','safe-buffer','through','@babel/plugin-proposal-optional-catch-binding','@types/mocha','delegates','find-cache-dir','globby','caniuse-lite','grunt-contrib-clean','@babel/helper-split-export-declaration','path-is-absolute','foo','karma-typescript-es6-transform','gitbook-plugin-edit-link','babel-plugin-transform-object-rest-spread'], function(processNextickArgs,eslintPluginJest,safeBuffer,weakMap,babelPluginProposalOptionalCatchBinding,should,setimmediate,findCacheDir,bundlesize,parseJson,gruntContribClean,babelHelperSplitExportDeclaration,pathIsAbsolute,clsx,karmaTypescriptEs6Transform,jsesc,preactRenderSpy){\\nimport { StyleSheet\\n} from 'react-native'; export default StyleSheet.create({ container: { marginTop: 20, alignItems: 'center', flex: 1, flexDirection: 'column', }, subtitle: { fontSize: 14 }, fax: { alignSelf: 'flex-start', margin: 15, backgroundColor: '#eaeaea', borderRadius: 10, padding: 10 }, faxTitle: { fontSize: 16, fontWeight: 'bold', alignSelf: 'center' }, faxSubtitle: { margin: 5, fontSize: 12, alignSelf: 'center' }, faxList: { marginTop: 5 }, faxListTitle: { marginBottom: 10, textDecorationLine: 'underline' }, interfax: { flex: 1, alignSelf: 'center', alignItems: 'center', borderRadius: 10, padding: 10, backgroundColor: '#d6d6d6' }, interfaxCredentials: { marginTop: 5 }, interfaxShowCredentialsBtn: { color: 'blue' }\\n});\\n\\n})\\n####","completion":" import processNextickArgs from 'process-nextick-args'\\nimport eslintPluginJest from 'abortcontroller-polyfill'\\nimport safeBuffer from 'safe-buffer'\\nimport weakMap from 'through'\\nimport babelPluginProposalOptionalCatchBinding from '@babel/plugin-proposal-optional-catch-binding'\\nimport should from '@types/mocha'\\nimport setimmediate from 'delegates'\\nimport findCacheDir from 'find-cache-dir'\\nimport bundlesize from 'globby'\\nimport parseJson from 'caniuse-lite'\\nimport gruntContribClean from 'grunt-contrib-clean'\\nimport babelHelperSplitExportDeclaration from '@babel/helper-split-export-declaration'\\nimport pathIsAbsolute from 'path-is-absolute'\\nimport clsx from 'foo'\\nimport karmaTypescriptEs6Transform from 'karma-typescript-es6-transform'\\nimport jsesc from 'gitbook-plugin-edit-link'\\nimport preactRenderSpy from 'babel-plugin-transform-object-rest-spread'\\n\\nimport { StyleSheet\\n} from 'react-native'; export default StyleSheet.create({ container: { marginTop: 20, alignItems: 'center', flex: 1, flexDirection: 'column', }, subtitle: { fontSize: 14 }, fax: { alignSelf: 'flex-start', margin: 15, backgroundColor: '#eaeaea', borderRadius: 10, padding: 10 }, faxTitle: { fontSize: 16, fontWeight: 'bold', alignSelf: 'center' }, faxSubtitle: { margin: 5, fontSize: 12, alignSelf: 'center' }, faxList: { marginTop: 5 }, faxListTitle: { marginBottom: 10, textDecorationLine: 'underline' }, interfax: { flex: 1, alignSelf: 'center', alignItems: 'center', borderRadius: 10, padding: 10, backgroundColor: '#d6d6d6' }, interfaxCredentials: { marginTop: 5 }, interfaxShowCredentialsBtn: { color: 'blue' }\\n});\\n\\n####"}
{"prompt":"define(['@babel/preset-modules','uglifyify','karma-chrome-launcher','tar-stream','esprima','csv-parse','agent-base','csso','benchmark','stream-browserify','ora','graphviz'], function(process,docusaurusCore,babelPluginTransformClasses,tarStream,parseNodeVersion,levn,util,shelljsChangelog,once,streamBrowserify,ora,graphviz){\\ndefine([], function () { 'use strict' return { /** * Increment a number suffix of a given string * @param {!string} str Original string * @param {string} [suffixSeparator] separator to use before the suffix, defaults to an empty space * @returns {string} with incremented suffix * * @example * incNumberSuffix('test', '_') // returns 'test_2' * incNumberSuffix('test_3', '_') // returns 'test_4' */ incNumberSuffix(str, suffixSeparator) { suffixSeparator = suffixSeparator || ' ' // @ts-ignore const numberSuffix = parseInt(str.split(suffixSeparator).pop(), 10) if (isNaN(numberSuffix)) { return `${str + suffixSeparator}2` } return ( str .split(suffixSeparator) .slice(0, -1) // @ts-ignore .concat(numberSuffix + 1) .join(suffixSeparator) ) } }\\n})\\n\\n})\\n####","completion":" import process from '@babel/preset-modules'\\nimport docusaurusCore from 'uglifyify'\\nimport babelPluginTransformClasses from 'karma-chrome-launcher'\\nimport tarStream from 'tar-stream'\\nimport parseNodeVersion from 'esprima'\\nimport levn from 'csv-parse'\\nimport util from 'agent-base'\\nimport shelljsChangelog from 'csso'\\nimport once from 'benchmark'\\nimport streamBrowserify from 'stream-browserify'\\nimport ora from 'ora'\\nimport graphviz from 'graphviz'\\n\\ndefine([], function () { 'use strict' return { /** * Increment a number suffix of a given string * @param {!string} str Original string * @param {string} [suffixSeparator] separator to use before the suffix, defaults to an empty space * @returns {string} with incremented suffix * * @example * incNumberSuffix('test', '_') // returns 'test_2' * incNumberSuffix('test_3', '_') // returns 'test_4' */ incNumberSuffix(str, suffixSeparator) { suffixSeparator = suffixSeparator || ' ' // @ts-ignore const numberSuffix = parseInt(str.split(suffixSeparator).pop(), 10) if (isNaN(numberSuffix)) { return `${str + suffixSeparator}2` } return ( str .split(suffixSeparator) .slice(0, -1) // @ts-ignore .concat(numberSuffix + 1) .join(suffixSeparator) ) } }\\n})\\n\\n####"}
{"prompt":"define(['@babel/helper-fixtures','preact','@types/semver','timsort','globals','ms','fast-check','chalk','gulp','@babel/compat-data','chrome-trace-event','bower-registry-client','@babel/plugin-proposal-numeric-separator','has-flag','ncp','define-properties'], function(babelParser,preact,rsvp,babelTemplate,globals,fastLevenshtein,fastCheck,loadGruntTasks,gulp,mockFs,entities,bowerRegistryClient,parcelEvents,hasFlag,jsonDiff,npmcliEslintConfig){\\nimport _ from 'lodash';\\nimport {createSelector} from 'reselect';\\nimport checkoutContactSelector from './checkoutContactSelector';\\nimport checkoutDeliverySelector from './checkoutDeliverySelector'; export default createSelector( checkoutContactSelector, checkoutDeliverySelector, (contact, delivery) => { contact = contact.value; const prefilled = {}; prefilled.email = _.get(contact, 'email'); prefilled.firstName = _.get(contact, 'firstName'); prefilled.lastName = _.get(contact, 'lastName'); prefilled.phone = _.get(contact, 'phone'); if (delivery.type === 'delivery') { prefilled.countryCode = _.get(delivery, 'address.address.countryCode'); prefilled.address = _.get(delivery, 'address.addressValue'); prefilled.houseNumber = _.get(delivery, 'address.address.number'); prefilled.street = _.get(delivery, 'address.address.street'); prefilled.city = _.get(delivery, 'address.address.city'); prefilled.zipCode = _.get(delivery, 'address.address.postalCode'); } const prefilledTruthy = _.omitBy(prefilled, value => _.isUndefined(value) || _.isNull(value)); return prefilledTruthy; }\\n);\\n\\n})\\n####","completion":" import babelParser from '@babel/helper-fixtures'\\nimport preact from 'preact'\\nimport rsvp from '@types/semver'\\nimport babelTemplate from 'timsort'\\nimport globals from 'globals'\\nimport fastLevenshtein from 'ms'\\nimport fastCheck from 'fast-check'\\nimport loadGruntTasks from 'chalk'\\nimport gulp from 'gulp'\\nimport mockFs from '@babel/compat-data'\\nimport entities from 'chrome-trace-event'\\nimport bowerRegistryClient from 'bower-registry-client'\\nimport parcelEvents from '@babel/plugin-proposal-numeric-separator'\\nimport hasFlag from 'has-flag'\\nimport jsonDiff from 'ncp'\\nimport npmcliEslintConfig from 'define-properties'\\n\\nimport _ from 'lodash';\\nimport {createSelector} from 'reselect';\\nimport checkoutContactSelector from './checkoutContactSelector';\\nimport checkoutDeliverySelector from './checkoutDeliverySelector'; export default createSelector( checkoutContactSelector, checkoutDeliverySelector, (contact, delivery) => { contact = contact.value; const prefilled = {}; prefilled.email = _.get(contact, 'email'); prefilled.firstName = _.get(contact, 'firstName'); prefilled.lastName = _.get(contact, 'lastName'); prefilled.phone = _.get(contact, 'phone'); if (delivery.type === 'delivery') { prefilled.countryCode = _.get(delivery, 'address.address.countryCode'); prefilled.address = _.get(delivery, 'address.addressValue'); prefilled.houseNumber = _.get(delivery, 'address.address.number'); prefilled.street = _.get(delivery, 'address.address.street'); prefilled.city = _.get(delivery, 'address.address.city'); prefilled.zipCode = _.get(delivery, 'address.address.postalCode'); } const prefilledTruthy = _.omitBy(prefilled, value => _.isUndefined(value) || _.isNull(value)); return prefilledTruthy; }\\n);\\n\\n####"}
{"prompt":"define(['posthtml-render','chai-iterator','esbuild','@ls-lint/ls-lint','babel-plugin-polyfill-corejs2','detect-libc','kcd-scripts','@types/graceful-fs','xtend','colorette','graceful-fs','@babel/plugin-proposal-async-generator-functions','lolex'], function(posthtmlRender,sourceMapSupport,esbuild,webpack,ses,regjsparser,babelPluginTransformEs2015BlockScoping,broccoliRollup,xtend,colorette,gulpTagVersion,pathExists,regexpPrototypeFlags){\\nimport _ from 'lodash';\\nimport React, {Component} from 'react';\\nimport CashierWidget from './CashierWidget';\\nimport { clients } from 'wix-restaurants-js-sdk';\\nimport { getCashierApi } from 'src/logic/cashierApi'; const client = clients.createRestClient({timeout:0, baseUrl: 'http://localhost:9876/v2'}); export default class CashierWidgetTest extends Component { state = { hide: false }; handleSubmit = async () => { const {detailsId} = await getCashierApi().initializePayment(); console.log('initializePayment', detailsId); // this.setState({ hide: true }) const response = await client('/organizations/1/orders', 'post', { payments: [{ amount: 1000, paymentDetailsId: detailsId }] }); console.log('response', response); const { cashierResponseToken } = response.payments[0]; getCashierApi().continuePayment(cashierResponseToken, {inNewTab: false}).then(async r => { console.log('continuePayment result', r); }); } render() { return ( <div> <div style={{ display: this.state.hide ? 'none' : 'block'}}> <CashierWidget paymentMethod={this.props.paymentMethod} debug /> </div> <button onClick={this.handleSubmit}>Submit payment</button> </div> ); }\\n}\\n\\n})\\n####","completion":" import posthtmlRender from 'posthtml-render'\\nimport sourceMapSupport from 'chai-iterator'\\nimport esbuild from 'esbuild'\\nimport webpack from '@ls-lint/ls-lint'\\nimport ses from 'babel-plugin-polyfill-corejs2'\\nimport regjsparser from 'detect-libc'\\nimport babelPluginTransformEs2015BlockScoping from 'kcd-scripts'\\nimport broccoliRollup from '@types/graceful-fs'\\nimport xtend from 'xtend'\\nimport colorette from 'colorette'\\nimport gulpTagVersion from 'graceful-fs'\\nimport pathExists from '@babel/plugin-proposal-async-generator-functions'\\nimport regexpPrototypeFlags from 'lolex'\\n\\nimport _ from 'lodash';\\nimport React, {Component} from 'react';\\nimport CashierWidget from './CashierWidget';\\nimport { clients } from 'wix-restaurants-js-sdk';\\nimport { getCashierApi } from 'src/logic/cashierApi'; const client = clients.createRestClient({timeout:0, baseUrl: 'http://localhost:9876/v2'}); export default class CashierWidgetTest extends Component { state = { hide: false }; handleSubmit = async () => { const {detailsId} = await getCashierApi().initializePayment(); console.log('initializePayment', detailsId); // this.setState({ hide: true }) const response = await client('/organizations/1/orders', 'post', { payments: [{ amount: 1000, paymentDetailsId: detailsId }] }); console.log('response', response); const { cashierResponseToken } = response.payments[0]; getCashierApi().continuePayment(cashierResponseToken, {inNewTab: false}).then(async r => { console.log('continuePayment result', r); }); } render() { return ( <div> <div style={{ display: this.state.hide ? 'none' : 'block'}}> <CashierWidget paymentMethod={this.props.paymentMethod} debug /> </div> <button onClick={this.handleSubmit}>Submit payment</button> </div> ); }\\n}\\n\\n####"}
{"prompt":"define(['to-fast-properties','supports-color','esbuild','@babel/plugin-syntax-export-namespace-from','is-glob','karma-browserstack-launcher','connect','if-env','path-exists','proxyquire','npmlog'], function(toFastProperties,supportsColor,esbuild,babelPluginSyntaxExportNamespaceFrom,gulpMocha,karmaBrowserstackLauncher,connect,ifEnv,semanticRelease,proxyquire,babelPresetEs2015Rollup){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.wix.com/demone2/photographyportfolio (23)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/photographyportfolio', emulateMobileDevice: true, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/23-photography-portfolio/mesh/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import toFastProperties from 'to-fast-properties'\\nimport supportsColor from 'supports-color'\\nimport esbuild from 'esbuild'\\nimport babelPluginSyntaxExportNamespaceFrom from '@babel/plugin-syntax-export-namespace-from'\\nimport gulpMocha from 'is-glob'\\nimport karmaBrowserstackLauncher from 'karma-browserstack-launcher'\\nimport connect from 'connect'\\nimport ifEnv from 'if-env'\\nimport semanticRelease from 'path-exists'\\nimport proxyquire from 'proxyquire'\\nimport babelPresetEs2015Rollup from 'npmlog'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.wix.com/demone2/photographyportfolio (23)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/photographyportfolio', emulateMobileDevice: true, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/23-photography-portfolio/mesh/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['side-channel','eslint-plugin-prettier','@parcel/transformer-babel','karma-ie-launcher','signal-exit','typescript','shx','mr','babel-plugin-transform-es2015-destructuring','url-loader','eslint-plugin-compat','proxyquire'], function(sideChannel,knox,parcelTransformerBabel,gruntSass,signalExit,googleProtobuf,urlLoader,mr,mapboxCloudfriend,serveHandler,eslintPluginCompat,proxyquire){\\ndefine([], function () { 'use strict' const schema = { screenIn: { groups: ['animation', 'entrance'] }, inlinePopupIn: { groups: ['animation', 'entrance'] }, inlinePopupOut: { groups: ['exit', 'animation'] }, bgScrub: { groups: ['animation', 'background'] }, velocityScrub: { groups: ['animation', 'background'] }, pageTransition: { groups: ['transition', 'pageTransition'] }, exit: { groups: ['exit', 'animation'] }, load: { groups: ['transition', 'pageTransition'] }, modeIn: { groups: ['animation', 'entrance'] }, modeOut: { groups: ['animation', 'exit'] }, modeChange: { groups: ['animation', 'entrance'] //todo Shimi_Liderman 06/03/2016 19:29 change this to real groups }, scrollScrub: { groups: ['scrub'] }, backToTopIn: { groups: ['animation', 'entrance'] } } Object.freeze(schema) function getSchema() { return schema } return { getSchema }\\n})\\n\\n})\\n####","completion":" import sideChannel from 'side-channel'\\nimport knox from 'eslint-plugin-prettier'\\nimport parcelTransformerBabel from '@parcel/transformer-babel'\\nimport gruntSass from 'karma-ie-launcher'\\nimport signalExit from 'signal-exit'\\nimport googleProtobuf from 'typescript'\\nimport urlLoader from 'shx'\\nimport mr from 'mr'\\nimport mapboxCloudfriend from 'babel-plugin-transform-es2015-destructuring'\\nimport serveHandler from 'url-loader'\\nimport eslintPluginCompat from 'eslint-plugin-compat'\\nimport proxyquire from 'proxyquire'\\n\\ndefine([], function () { 'use strict' const schema = { screenIn: { groups: ['animation', 'entrance'] }, inlinePopupIn: { groups: ['animation', 'entrance'] }, inlinePopupOut: { groups: ['exit', 'animation'] }, bgScrub: { groups: ['animation', 'background'] }, velocityScrub: { groups: ['animation', 'background'] }, pageTransition: { groups: ['transition', 'pageTransition'] }, exit: { groups: ['exit', 'animation'] }, load: { groups: ['transition', 'pageTransition'] }, modeIn: { groups: ['animation', 'entrance'] }, modeOut: { groups: ['animation', 'exit'] }, modeChange: { groups: ['animation', 'entrance'] //todo Shimi_Liderman 06/03/2016 19:29 change this to real groups }, scrollScrub: { groups: ['scrub'] }, backToTopIn: { groups: ['animation', 'entrance'] } } Object.freeze(schema) function getSchema() { return schema } return { getSchema }\\n})\\n\\n####"}
{"prompt":"define(['jquery','@babel/plugin-syntax-class-properties','wrap-ansi','es6-promisify','bluebird','esutils','kcd-scripts','domelementtype','protobufjs'], function(terserWebpackPlugin,babelPluginSyntaxClassProperties,wrapAnsi,forEach,parcelRuntimeJs,gruntMochaIstanbul,babelPluginTransformEs2015BlockScoping,objectIs,protobufjs){\\n// import * as JointLoginActions from '@wix/restaurants-redux/src/actions/JointLoginActions';\\nimport React, { Component } from 'react';\\nimport { connect } from 'react-redux';\\n// import { bindActionCreators } from 'redux';\\nimport Header from './Header.js';\\nimport { wrapper } from './LivemapApp.scss';\\nimport MapDisplay from './MapDisplay.js';\\nimport Sidebar from './Sidebar.js';\\nimport spinner from './Sidebar.scss';\\nimport Spinner from './Spinner.js'; class App extends Component { constructor ( props ) { super(props); this.state = {}; // props.jointLoginActions.setAccessToken({ accessToken: props.access }); } render() { const { googleIsReady } = this.props; return ( <div className={ wrapper }> <Header/> { !googleIsReady && <div className={ spinner.listLoading }><Spinner color='#E05050' radius='65px' bordercolor='transparent'/></div> } { googleIsReady && <Sidebar /> } { googleIsReady && <MapDisplay /> } </div> ); }\\n} const mapStateToProps = ( state ) => { return { // accessToken: state.jointLoginInfo.accessToken, googleIsReady: state.conductor.googleIsReady, };\\n}; const mapDispatchToProps = ( dispatch ) => { return { // jointLoginActions: bindActionCreators(JointLoginActions.actions, dispatch) };\\n}; export default connect(mapStateToProps, mapDispatchToProps)(App);\\n\\n})\\n####","completion":" import terserWebpackPlugin from 'jquery'\\nimport babelPluginSyntaxClassProperties from '@babel/plugin-syntax-class-properties'\\nimport wrapAnsi from 'wrap-ansi'\\nimport forEach from 'es6-promisify'\\nimport parcelRuntimeJs from 'bluebird'\\nimport gruntMochaIstanbul from 'esutils'\\nimport babelPluginTransformEs2015BlockScoping from 'kcd-scripts'\\nimport objectIs from 'domelementtype'\\nimport protobufjs from 'protobufjs'\\n\\n// import * as JointLoginActions from '@wix/restaurants-redux/src/actions/JointLoginActions';\\nimport React, { Component } from 'react';\\nimport { connect } from 'react-redux';\\n// import { bindActionCreators } from 'redux';\\nimport Header from './Header.js';\\nimport { wrapper } from './LivemapApp.scss';\\nimport MapDisplay from './MapDisplay.js';\\nimport Sidebar from './Sidebar.js';\\nimport spinner from './Sidebar.scss';\\nimport Spinner from './Spinner.js'; class App extends Component { constructor ( props ) { super(props); this.state = {}; // props.jointLoginActions.setAccessToken({ accessToken: props.access }); } render() { const { googleIsReady } = this.props; return ( <div className={ wrapper }> <Header/> { !googleIsReady && <div className={ spinner.listLoading }><Spinner color='#E05050' radius='65px' bordercolor='transparent'/></div> } { googleIsReady && <Sidebar /> } { googleIsReady && <MapDisplay /> } </div> ); }\\n} const mapStateToProps = ( state ) => { return { // accessToken: state.jointLoginInfo.accessToken, googleIsReady: state.conductor.googleIsReady, };\\n}; const mapDispatchToProps = ( dispatch ) => { return { // jointLoginActions: bindActionCreators(JointLoginActions.actions, dispatch) };\\n}; export default connect(mapStateToProps, mapDispatchToProps)(App);\\n\\n####"}
{"prompt":"define(['eslint-config-dev','colord','gulp-mocha','qunitjs','gulp-flatten','@types/css-tree','jsonfile','grunt-webpack'], function(eslintConfigDev,parcelOptimizerSvgo,parcelCodeframe,gitbook,gulpFlatten,typesCssTree,jsonfile,gruntWebpack){\\n'use strict' function _getUserAgent(window) { return window.navigator && window.navigator.userAgent\\n} function create(window) { const browserDetection = require('@wix/santa-browser-detection') const detected = browserDetection(_getUserAgent(window)) function getUserAgent() { return _getUserAgent(window) } function isMacintosh() { return !!detected.os.mac } function isChrome() { return !!detected.browser.chrome } function isIE() { return !!detected.browser.ie } function isEdge() { return !!detected.browser.edge } function isSafari() { return !!detected.browser.safari } function isSpecialKeyPressed(event) { if (isMacintosh()) { return event.metaKey } return event.ctrlKey } function getDevicePixelRatio() { return window.devicePixelRatio || window.screen.deviceXDPI / window.screen.logicalXDPI } function getKeyboardSpecialKey() { return { label: isMacintosh() ? '⌘' : 'Ctrl', value: isMacintosh() ? 'command' : 'ctrl' } } return { isMacintosh, isChrome, isIE, isEdge, isSafari, getUserAgent, getDevicePixelRatio, isSpecialKeyPressed, getKeyboardSpecialKey }\\n} module.exports = { create\\n}\\n\\n})\\n####","completion":" import eslintConfigDev from 'eslint-config-dev'\\nimport parcelOptimizerSvgo from 'colord'\\nimport parcelCodeframe from 'gulp-mocha'\\nimport gitbook from 'qunitjs'\\nimport gulpFlatten from 'gulp-flatten'\\nimport typesCssTree from '@types/css-tree'\\nimport jsonfile from 'jsonfile'\\nimport gruntWebpack from 'grunt-webpack'\\n\\n'use strict' function _getUserAgent(window) { return window.navigator && window.navigator.userAgent\\n} function create(window) { const browserDetection = require('@wix/santa-browser-detection') const detected = browserDetection(_getUserAgent(window)) function getUserAgent() { return _getUserAgent(window) } function isMacintosh() { return !!detected.os.mac } function isChrome() { return !!detected.browser.chrome } function isIE() { return !!detected.browser.ie } function isEdge() { return !!detected.browser.edge } function isSafari() { return !!detected.browser.safari } function isSpecialKeyPressed(event) { if (isMacintosh()) { return event.metaKey } return event.ctrlKey } function getDevicePixelRatio() { return window.devicePixelRatio || window.screen.deviceXDPI / window.screen.logicalXDPI } function getKeyboardSpecialKey() { return { label: isMacintosh() ? '⌘' : 'Ctrl', value: isMacintosh() ? 'command' : 'ctrl' } } return { isMacintosh, isChrome, isIE, isEdge, isSafari, getUserAgent, getDevicePixelRatio, isSpecialKeyPressed, getKeyboardSpecialKey }\\n} module.exports = { create\\n}\\n\\n####"}
{"prompt":"define(['is-regex','git-repo-version','@babel/plugin-proposal-export-namespace-from','shebang-regex','stylelint-config-standard','typescript-register'], function(babelPluginTransformClassProperties,gitRepoVersion,qunitjs,shebangRegex,d3Time,typescriptRegister){\\ndefine(['lodash', 'documentServices/siteMetadata/dataManipulation'], function (_, dataManipulation) { 'use strict' function enableCookies(ps, isEnabled) { if (!_.isBoolean(isEnabled)) { throw new Error('argument isEnabled must be boolean') } dataManipulation.setProperty(ps, dataManipulation.PROPERTY_NAMES.SUPPRESS_COOKIES, !isEnabled) } function areCookiesEnabled(ps) { return !dataManipulation.getProperty(ps, dataManipulation.PROPERTY_NAMES.SUPPRESS_COOKIES) } /** @class documentServices.statistics */ return { /** @class documentServices.statistics.cookies */ cookies: { /** * Enable/disable the usage of cookies for the site users * * @function * @param {boolean} isEnabled true if cookies should be used with the site users, false otherwise */ enable: enableCookies, /** * Retrieves the status of the usage of cookies with the site's users * * @function * @returns {boolean} true if cookies are enabled for the site users, false otherwise */ isEnabled: areCookiesEnabled } }\\n})\\n\\n})\\n####","completion":" import babelPluginTransformClassProperties from 'is-regex'\\nimport gitRepoVersion from 'git-repo-version'\\nimport qunitjs from '@babel/plugin-proposal-export-namespace-from'\\nimport shebangRegex from 'shebang-regex'\\nimport d3Time from 'stylelint-config-standard'\\nimport typescriptRegister from 'typescript-register'\\n\\ndefine(['lodash', 'documentServices/siteMetadata/dataManipulation'], function (_, dataManipulation) { 'use strict' function enableCookies(ps, isEnabled) { if (!_.isBoolean(isEnabled)) { throw new Error('argument isEnabled must be boolean') } dataManipulation.setProperty(ps, dataManipulation.PROPERTY_NAMES.SUPPRESS_COOKIES, !isEnabled) } function areCookiesEnabled(ps) { return !dataManipulation.getProperty(ps, dataManipulation.PROPERTY_NAMES.SUPPRESS_COOKIES) } /** @class documentServices.statistics */ return { /** @class documentServices.statistics.cookies */ cookies: { /** * Enable/disable the usage of cookies for the site users * * @function * @param {boolean} isEnabled true if cookies should be used with the site users, false otherwise */ enable: enableCookies, /** * Retrieves the status of the usage of cookies with the site's users * * @function * @returns {boolean} true if cookies are enabled for the site users, false otherwise */ isEnabled: areCookiesEnabled } }\\n})\\n\\n####"}
{"prompt":"define(['jscs','core-js-compat'], function(jscs,parcelCache){\\nimport _ from 'lodash'; export default { locale: 'en_US', dir: 'ltr', get(token1, token2, params) { return JSON.stringify({token: token1 + '-' + token2, params}); }, getWithLink() { return ''; }, getLocale() { return this.locale; }, getFacebookLanguage() { return this.locale; }, getGoogleLanguage() { return this.locale; }, getDir() { return this.dir; }, isRtlDir() { return this.dir === 'rtl'; }, getLanguage() { return this.locale; }, getWixI18n() { return {}; }, getComponentHeader: prefix => ({ I18N(token, fallback, params) { return JSON.stringify({token: prefix + token, params}); }, I18N_EXTERNAL(token, params) { return JSON.stringify({token, params}); }, i18n: { get(token, fallback, params) { return JSON.stringify({token: prefix + token, params}); } } })\\n};\\n\\n})\\n####","completion":" import jscs from 'jscs'\\nimport parcelCache from 'core-js-compat'\\n\\nimport _ from 'lodash'; export default { locale: 'en_US', dir: 'ltr', get(token1, token2, params) { return JSON.stringify({token: token1 + '-' + token2, params}); }, getWithLink() { return ''; }, getLocale() { return this.locale; }, getFacebookLanguage() { return this.locale; }, getGoogleLanguage() { return this.locale; }, getDir() { return this.dir; }, isRtlDir() { return this.dir === 'rtl'; }, getLanguage() { return this.locale; }, getWixI18n() { return {}; }, getComponentHeader: prefix => ({ I18N(token, fallback, params) { return JSON.stringify({token: prefix + token, params}); }, I18N_EXTERNAL(token, params) { return JSON.stringify({token, params}); }, i18n: { get(token, fallback, params) { return JSON.stringify({token: prefix + token, params}); } } })\\n};\\n\\n####"}
{"prompt":"define(['unbox-primitive','lolex'], function(uncss,regexpPrototypeFlags){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.wix.com/demone2/boutique-law-firm (13)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/boutique-law-firm', emulateMobileDevice: true, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/13-boutique-law-firm/mesh/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import uncss from 'unbox-primitive'\\nimport regexpPrototypeFlags from 'lolex'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.wix.com/demone2/boutique-law-firm (13)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/boutique-law-firm', emulateMobileDevice: true, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/13-boutique-law-firm/mesh/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['karma-source-map-support','@docusaurus/preset-classic','@babel/helper-member-expression-to-functions','json5','@types/boolbase','broccoli-babel-transpiler','chai-string','@babel/helper-explode-assignable-expression','@mdx-js/react','deep-equal','clone','npm-normalize-package-bin','@babel/plugin-transform-modules-commonjs','process-nextick-args','@unicode/unicode-14.0.0'], function(bindings,docusaurusPresetClassic,babelPluginTransformEs2015Destructuring,json5,typesBoolbase,broccoliBabelTranspiler,chaiString,errorEx,far,typesArgparse,clone,d3Interpolate,babelPluginTransformModulesCommonjs,processNextickArgs,ejs){\\n'use strict'\\nconst ViewerComponent = require('../../baseComponents/ViewerComponent') const componentType = 'wixui.ToggleSwitch' /** * @extends ViewerComponent */\\nclass ViewerToggleSwitchComponent extends ViewerComponent { /** * @returns {String} */ getValue() { return this.previewFrame.evaluate(id => window.document.querySelector(`#${id} input`).value, this.id) } /** * @returns {Boolean} */ isChecked() { return this.previewFrame.evaluate(id => window.document.querySelector(`#${id} input`).checked, this.id) } /** * @returns {Boolean} */ isDisabled() { return this.previewFrame.evaluate(id => window.document.querySelector(`#${id} input`).disabled, this.id) } /** * @returns {Promise.<void>} */ async toggle() { return this.previewFrame.click(`#${this.id} input`) }\\n} module.exports = { componentType, addPanelCategory: 'developer', EditorComponent: null, ViewerComponent: ViewerToggleSwitchComponent\\n}\\n})\\n####","completion":" import bindings from 'karma-source-map-support'\\nimport docusaurusPresetClassic from '@docusaurus/preset-classic'\\nimport babelPluginTransformEs2015Destructuring from '@babel/helper-member-expression-to-functions'\\nimport json5 from 'json5'\\nimport typesBoolbase from '@types/boolbase'\\nimport broccoliBabelTranspiler from 'broccoli-babel-transpiler'\\nimport chaiString from 'chai-string'\\nimport errorEx from '@babel/helper-explode-assignable-expression'\\nimport far from '@mdx-js/react'\\nimport typesArgparse from 'deep-equal'\\nimport clone from 'clone'\\nimport d3Interpolate from 'npm-normalize-package-bin'\\nimport babelPluginTransformModulesCommonjs from '@babel/plugin-transform-modules-commonjs'\\nimport processNextickArgs from 'process-nextick-args'\\nimport ejs from '@unicode/unicode-14.0.0'\\n\\n'use strict'\\nconst ViewerComponent = require('../../baseComponents/ViewerComponent') const componentType = 'wixui.ToggleSwitch' /** * @extends ViewerComponent */\\nclass ViewerToggleSwitchComponent extends ViewerComponent { /** * @returns {String} */ getValue() { return this.previewFrame.evaluate(id => window.document.querySelector(`#${id} input`).value, this.id) } /** * @returns {Boolean} */ isChecked() { return this.previewFrame.evaluate(id => window.document.querySelector(`#${id} input`).checked, this.id) } /** * @returns {Boolean} */ isDisabled() { return this.previewFrame.evaluate(id => window.document.querySelector(`#${id} input`).disabled, this.id) } /** * @returns {Promise.<void>} */ async toggle() { return this.previewFrame.click(`#${this.id} input`) }\\n} module.exports = { componentType, addPanelCategory: 'developer', EditorComponent: null, ViewerComponent: ViewerToggleSwitchComponent\\n}\\n####"}
{"prompt":"define(['@babel/plugin-proposal-class-static-block','@babel/plugin-transform-shorthand-properties','slice-ansi','size-table','unicode-11.0.0','babel-plugin-transform-es2015-spread','tsd','sinon','iced-coffee-script','jscs','wrappy','htmlparser2','inline-source-map','pegjs','typescript-register','react-addons-css-transition-group','safe-publish-latest','posthtml-parser','wd','@babel/preset-modules'], function(ansiRegex,babelPluginTransformShorthandProperties,pngjs,sizeTable,unicode1100,through,tsd,functionsHaveNames,icedCoffeeScript,jscs,babelPluginProposalClassProperties,isSymbol,liveServer,pegjs,typescriptRegister,reactAddonsCssTransitionGroup,stringToArraybuffer,posthtmlParser,makeAsyncFunction,process){\\nconst _ = require('lodash')\\nconst tracers = require('../tracers/index')\\nconst {Viewer, Client, Experiments, components, Ssr} = require('../drivers')\\nconst ViewerComponentFactory = require('./ViewerComponentFactory')\\nconst viewerDrivers = require('../drivers/viewer/drivers/index') module.exports = async function generateViewerDrivers(viewerFrame) { const tracer = new tracers.ConsoleTracer(viewerFrame, '', Date.now()) const viewerComponentDriverFactory = new ViewerComponentFactory(viewerFrame) const client = new Client(viewerFrame) // const experiments = new Experiments(await viewerFrame.evaluate('window.rendererModel.runningExperiments')) const experiments = new Experiments({}) const driverCtorArgs = {viewerFrame, componentDriverFactory: viewerComponentDriverFactory} const extensionDrivers = _.mapValues(viewerDrivers, Driver => new Driver(driverCtorArgs)) const ssr = new Ssr(viewerFrame) return { viewer: new Viewer(viewerFrame, viewerComponentDriverFactory, experiments), componentDriverFactory: viewerComponentDriverFactory, client, components, tracer, ssr, ...extensionDrivers }\\n}\\n\\n})\\n####","completion":" import ansiRegex from '@babel/plugin-proposal-class-static-block'\\nimport babelPluginTransformShorthandProperties from '@babel/plugin-transform-shorthand-properties'\\nimport pngjs from 'slice-ansi'\\nimport sizeTable from 'size-table'\\nimport unicode1100 from 'unicode-11.0.0'\\nimport through from 'babel-plugin-transform-es2015-spread'\\nimport tsd from 'tsd'\\nimport functionsHaveNames from 'sinon'\\nimport icedCoffeeScript from 'iced-coffee-script'\\nimport jscs from 'jscs'\\nimport babelPluginProposalClassProperties from 'wrappy'\\nimport isSymbol from 'htmlparser2'\\nimport liveServer from 'inline-source-map'\\nimport pegjs from 'pegjs'\\nimport typescriptRegister from 'typescript-register'\\nimport reactAddonsCssTransitionGroup from 'react-addons-css-transition-group'\\nimport stringToArraybuffer from 'safe-publish-latest'\\nimport posthtmlParser from 'posthtml-parser'\\nimport makeAsyncFunction from 'wd'\\nimport process from '@babel/preset-modules'\\n\\nconst _ = require('lodash')\\nconst tracers = require('../tracers/index')\\nconst {Viewer, Client, Experiments, components, Ssr} = require('../drivers')\\nconst ViewerComponentFactory = require('./ViewerComponentFactory')\\nconst viewerDrivers = require('../drivers/viewer/drivers/index') module.exports = async function generateViewerDrivers(viewerFrame) { const tracer = new tracers.ConsoleTracer(viewerFrame, '', Date.now()) const viewerComponentDriverFactory = new ViewerComponentFactory(viewerFrame) const client = new Client(viewerFrame) // const experiments = new Experiments(await viewerFrame.evaluate('window.rendererModel.runningExperiments')) const experiments = new Experiments({}) const driverCtorArgs = {viewerFrame, componentDriverFactory: viewerComponentDriverFactory} const extensionDrivers = _.mapValues(viewerDrivers, Driver => new Driver(driverCtorArgs)) const ssr = new Ssr(viewerFrame) return { viewer: new Viewer(viewerFrame, viewerComponentDriverFactory, experiments), componentDriverFactory: viewerComponentDriverFactory, client, components, tracer, ssr, ...extensionDrivers }\\n}\\n\\n####"}
{"prompt":"define(['@swc/cli','require-xml','ncp','gnode','@jridgewell/gen-mapping','array.prototype.reduce','promises-aplus-tests','gulp-git','source-map-js','@babel/preset-typescript','@types/graceful-fs','@parcel/transformer-svg','path-key','serve-handler'], function(makeDir,betterAssert,jsonDiff,gnode,parcelWatcher,coreJsPure,promisesAplusTests,gulpGit,sourceMapJs,babelPresetTypescript,broccoliRollup,parcelTransformerSvg,babelPluginTransformModulesSystemjs,stylelintConfigStandard){\\nimport React from 'react';\\nimport SocialPageInfoInterface from './SocialPageInfoInterface';\\nimport _ from 'lodash';\\nimport { I18n as I18NStore, NumberFormatUtils } from '@wix/wixrest-utils'; const { I18N_EXTERNAL } = I18NStore.getComponentHeader( 'openrest_getfoundview_wix_',\\n); export default class FacebookPageInfo extends SocialPageInfoInterface { constructor(info) { super(info); } getId() { return this.info.id; } getType() { return 'facebook'; } getImage() { return ( (this.info.picture && this.info.picture.data && this.info.picture.data.url) || '' ); } getName() { return this.info.name; } getDetails() { const info = this.info; const likes = I18N_EXTERNAL('facebook_settings_fblikes', { params: { likes: NumberFormatUtils.format(info.likes) }, }); const details = []; const hasLikes = _.isNumber(info.likes); if (info.category) { details.push(<span key=\\\"category\\\">{info.category}</span>); if (hasLikes) { details.push(<span key=\\\"dot\\\"> &middot; </span>); } } if (hasLikes) { details.push(<span key=\\\"likes\\\">{likes}</span>); } return details; } hasAddedApp() { return this.info.has_added_app; }\\n}\\n\\n})\\n####","completion":" import makeDir from '@swc/cli'\\nimport betterAssert from 'require-xml'\\nimport jsonDiff from 'ncp'\\nimport gnode from 'gnode'\\nimport parcelWatcher from '@jridgewell/gen-mapping'\\nimport coreJsPure from 'array.prototype.reduce'\\nimport promisesAplusTests from 'promises-aplus-tests'\\nimport gulpGit from 'gulp-git'\\nimport sourceMapJs from 'source-map-js'\\nimport babelPresetTypescript from '@babel/preset-typescript'\\nimport broccoliRollup from '@types/graceful-fs'\\nimport parcelTransformerSvg from '@parcel/transformer-svg'\\nimport babelPluginTransformModulesSystemjs from 'path-key'\\nimport stylelintConfigStandard from 'serve-handler'\\n\\nimport React from 'react';\\nimport SocialPageInfoInterface from './SocialPageInfoInterface';\\nimport _ from 'lodash';\\nimport { I18n as I18NStore, NumberFormatUtils } from '@wix/wixrest-utils'; const { I18N_EXTERNAL } = I18NStore.getComponentHeader( 'openrest_getfoundview_wix_',\\n); export default class FacebookPageInfo extends SocialPageInfoInterface { constructor(info) { super(info); } getId() { return this.info.id; } getType() { return 'facebook'; } getImage() { return ( (this.info.picture && this.info.picture.data && this.info.picture.data.url) || '' ); } getName() { return this.info.name; } getDetails() { const info = this.info; const likes = I18N_EXTERNAL('facebook_settings_fblikes', { params: { likes: NumberFormatUtils.format(info.likes) }, }); const details = []; const hasLikes = _.isNumber(info.likes); if (info.category) { details.push(<span key=\\\"category\\\">{info.category}</span>); if (hasLikes) { details.push(<span key=\\\"dot\\\"> &middot; </span>); } } if (hasLikes) { details.push(<span key=\\\"likes\\\">{likes}</span>); } return details; } hasAddedApp() { return this.info.has_added_app; }\\n}\\n\\n####"}
{"prompt":"define(['karma-babel-preprocessor','@commitlint/cli'], function(babelPluginProposalPrivatePropertyInObject,commitlintCli){\\ndefine(['lodash', 'documentServices/dataModel/dataModel', 'documentServices/utils/utils'], function (_, dataModel, dsUtils) { 'use strict' return { resizableSides: [], defaultMobileProperties: { iconSize: 35, spacing: 15 }, mobileConversionConfig: { fixedSize(ps, component, pageId) { const properties = ps.dal.get(ps.pointers.data.getPropertyItem(dsUtils.stripHashIfExists(component.propertyQuery), pageId)) const data = dataModel.getDataItemById(ps, dsUtils.stripHashIfExists(component.dataQuery), pageId) const numberOfLinks = _.get(data, ['items', 'length'], 0) const iconSize = _.get(properties, 'iconSize', 0) const spacing = _.get(properties, 'spacing', 0) const orientation = _.get(properties, 'orientation', 'HORIZ') const mainAxis = Math.max(iconSize * numberOfLinks + spacing * (numberOfLinks - 1), 0) // eslint-disable-line no-mixed-operators const crossAxis = iconSize const horizontal = orientation === 'HORIZ' return {width: horizontal ? mainAxis : crossAxis, height: horizontal ? crossAxis : mainAxis} } }, heightAuto: true, widthAuto: true }\\n})\\n\\n})\\n####","completion":" import babelPluginProposalPrivatePropertyInObject from 'karma-babel-preprocessor'\\nimport commitlintCli from '@commitlint/cli'\\n\\ndefine(['lodash', 'documentServices/dataModel/dataModel', 'documentServices/utils/utils'], function (_, dataModel, dsUtils) { 'use strict' return { resizableSides: [], defaultMobileProperties: { iconSize: 35, spacing: 15 }, mobileConversionConfig: { fixedSize(ps, component, pageId) { const properties = ps.dal.get(ps.pointers.data.getPropertyItem(dsUtils.stripHashIfExists(component.propertyQuery), pageId)) const data = dataModel.getDataItemById(ps, dsUtils.stripHashIfExists(component.dataQuery), pageId) const numberOfLinks = _.get(data, ['items', 'length'], 0) const iconSize = _.get(properties, 'iconSize', 0) const spacing = _.get(properties, 'spacing', 0) const orientation = _.get(properties, 'orientation', 'HORIZ') const mainAxis = Math.max(iconSize * numberOfLinks + spacing * (numberOfLinks - 1), 0) // eslint-disable-line no-mixed-operators const crossAxis = iconSize const horizontal = orientation === 'HORIZ' return {width: horizontal ? mainAxis : crossAxis, height: horizontal ? crossAxis : mainAxis} } }, heightAuto: true, widthAuto: true }\\n})\\n\\n####"}
{"prompt":"define(['@babel/preset-flow','@babel/plugin-proposal-object-rest-spread','@types/d3-selection','mock-fs','object-keys','string.prototype.trimstart','has-symbols','whatwg-url','to-fast-properties','errto','karma-sauce-launcher','ember-cli','tty-browserify','caniuse-lite','cssesc','grunt-shell','lines-and-columns','grunt-contrib-concat','@babel/preset-modules'], function(babelPresetFlow,parcelFsWriteStreamAtomic,klaw,defineProperties,mockProperty,stringPrototypeTrimstart,typesChalk,wd,toFastProperties,gruntKarma,parcelTransformerCss,emberCli,nativePromiseOnly,parseJson,parcelBabelPreset,flowCopySource,linesAndColumns,babelPluginProposalPrivateMethods,process){\\n(function webpackUniversalModuleDefinition(root, factory) { if (typeof exports === \\\"object\\\" && typeof module === \\\"object\\\") module.exports = factory(); else if (typeof define === \\\"function\\\" && define.amd) define([], factory); else if (typeof exports === \\\"object\\\") exports[\\\"c1dmp\\\"] = factory(); else root[\\\"c1dmp\\\"] = factory();\\n})(this, function ($w, $ns, $widget) { return (function () { var __webpack_modules__ = { 311: function () { $w.onReady(function () { $widget.fireEvent('test') }); }, }; var __webpack_module_cache__ = {}; function __webpack_require__(moduleId) { if (__webpack_module_cache__[moduleId]) { return __webpack_module_cache__[moduleId].exports; } var module = (__webpack_module_cache__[moduleId] = { exports: {}, }); __webpack_modules__[moduleId]( module, module.exports, __webpack_require__ ); return module.exports; } return __webpack_require__(311); })();\\n});\\n\\n})\\n####","completion":" import babelPresetFlow from '@babel/preset-flow'\\nimport parcelFsWriteStreamAtomic from '@babel/plugin-proposal-object-rest-spread'\\nimport klaw from '@types/d3-selection'\\nimport defineProperties from 'mock-fs'\\nimport mockProperty from 'object-keys'\\nimport stringPrototypeTrimstart from 'string.prototype.trimstart'\\nimport typesChalk from 'has-symbols'\\nimport wd from 'whatwg-url'\\nimport toFastProperties from 'to-fast-properties'\\nimport gruntKarma from 'errto'\\nimport parcelTransformerCss from 'karma-sauce-launcher'\\nimport emberCli from 'ember-cli'\\nimport nativePromiseOnly from 'tty-browserify'\\nimport parseJson from 'caniuse-lite'\\nimport parcelBabelPreset from 'cssesc'\\nimport flowCopySource from 'grunt-shell'\\nimport linesAndColumns from 'lines-and-columns'\\nimport babelPluginProposalPrivateMethods from 'grunt-contrib-concat'\\nimport process from '@babel/preset-modules'\\n\\n(function webpackUniversalModuleDefinition(root, factory) { if (typeof exports === \\\"object\\\" && typeof module === \\\"object\\\") module.exports = factory(); else if (typeof define === \\\"function\\\" && define.amd) define([], factory); else if (typeof exports === \\\"object\\\") exports[\\\"c1dmp\\\"] = factory(); else root[\\\"c1dmp\\\"] = factory();\\n})(this, function ($w, $ns, $widget) { return (function () { var __webpack_modules__ = { 311: function () { $w.onReady(function () { $widget.fireEvent('test') }); }, }; var __webpack_module_cache__ = {}; function __webpack_require__(moduleId) { if (__webpack_module_cache__[moduleId]) { return __webpack_module_cache__[moduleId].exports; } var module = (__webpack_module_cache__[moduleId] = { exports: {}, }); __webpack_modules__[moduleId]( module, module.exports, __webpack_require__ ); return module.exports; } return __webpack_require__(311); })();\\n});\\n\\n####"}
{"prompt":"define(['postcss-minify-font-values','css-declaration-sorter','expect.js','nodeunit','@babel/plugin-transform-runtime','hyperquest','@babel/helper-define-polyfill-provider','d3-time','semantic-release','grunt-browserify','regjsparser','@babel/helper-wrap-function','nock','stream-browserify','parse-node-version','babel-plugin-dynamic-import-node'], function(postcssMinifyFontValues,preCommit,sizeLimit,nodeunit,prebuildifyCi,micromatch,karmaFirefoxLauncher,gitbookPluginEditLink,csvSpectrum,buffer,locatePath,lodashDebounce,nock,streamBrowserify,cssWhat,babelCore712){\\n'use strict'; let path = require('path');\\nlet srcPath = path.join(__dirname, '/../src/'); module.exports = { devtool: 'eval', module: { preLoaders: [ { test: /\\.(js|jsx)$/, loader: 'isparta-instrumenter-loader', include: [ path.join(__dirname, '/../src') ] } ], loaders: [ { test: /\\.(png|jpg|gif|woff|woff2|css|sass|scss|less|styl)$/, loader: 'null-loader' }, { test: /\\.(js|jsx)$/, loader: 'babel-loader', include: [].concat( [ path.join(__dirname, '/../src'), path.join(__dirname, '/../test') ] ) } ] }, resolve: { extensions: [ '', '.js', '.jsx' ], alias: { actions: srcPath + 'actions/', helpers: path.join(__dirname, '/../test/helpers'), components: srcPath + 'components/', sources: srcPath + 'sources/', stores: srcPath + 'stores/', styles: srcPath + 'styles/', config: srcPath + 'config/' + process.env.REACT_WEBPACK_ENV } }, plugins: []\\n};\\n\\n})\\n####","completion":" import postcssMinifyFontValues from 'postcss-minify-font-values'\\nimport preCommit from 'css-declaration-sorter'\\nimport sizeLimit from 'expect.js'\\nimport nodeunit from 'nodeunit'\\nimport prebuildifyCi from '@babel/plugin-transform-runtime'\\nimport micromatch from 'hyperquest'\\nimport karmaFirefoxLauncher from '@babel/helper-define-polyfill-provider'\\nimport gitbookPluginEditLink from 'd3-time'\\nimport csvSpectrum from 'semantic-release'\\nimport buffer from 'grunt-browserify'\\nimport locatePath from 'regjsparser'\\nimport lodashDebounce from '@babel/helper-wrap-function'\\nimport nock from 'nock'\\nimport streamBrowserify from 'stream-browserify'\\nimport cssWhat from 'parse-node-version'\\nimport babelCore712 from 'babel-plugin-dynamic-import-node'\\n\\n'use strict'; let path = require('path');\\nlet srcPath = path.join(__dirname, '/../src/'); module.exports = { devtool: 'eval', module: { preLoaders: [ { test: /\\.(js|jsx)$/, loader: 'isparta-instrumenter-loader', include: [ path.join(__dirname, '/../src') ] } ], loaders: [ { test: /\\.(png|jpg|gif|woff|woff2|css|sass|scss|less|styl)$/, loader: 'null-loader' }, { test: /\\.(js|jsx)$/, loader: 'babel-loader', include: [].concat( [ path.join(__dirname, '/../src'), path.join(__dirname, '/../test') ] ) } ] }, resolve: { extensions: [ '', '.js', '.jsx' ], alias: { actions: srcPath + 'actions/', helpers: path.join(__dirname, '/../test/helpers'), components: srcPath + 'components/', sources: srcPath + 'sources/', stores: srcPath + 'stores/', styles: srcPath + 'styles/', config: srcPath + 'config/' + process.env.REACT_WEBPACK_ENV } }, plugins: []\\n};\\n\\n####"}
{"prompt":"define(['combined-stream','babel-plugin-transform-es2015-constants','babel-plugin-add-module-exports','karma-commonjs','aproba'], function(combinedStream,babelPluginTransformEs2015Constants,babelPluginAddModuleExports,karmaCommonjs,ms){\\n'use strict' function fixViewportTag(siteData, params) { const viewport = typeof document !== 'undefined' && window.document.getElementById('wixMobileViewport') if (!viewport) { return } const browserFlags = siteData.browserFlags() const responsive = params && params.isResponsive const width = responsive ? 'device-width' : siteData.getSiteWidth() const userScalable = responsive && browserFlags.forceOverflowScroll ? 'no' : 'yes' const finalizeViewport = () => viewport.setAttribute('content', `width=${width}, user-scalable=${userScalable}`) if (responsive || !browserFlags.doubleResetMobileViewport) { finalizeViewport() return } viewport.setAttribute('content', `width=${width}, user-scalable=yes, initial-scale=0`) return window.requestAnimationFrame(() => { viewport.setAttribute('content', `width=${width}, user-scalable=yes, initial-scale=${window.screen.width / width}`) return window.requestAnimationFrame(finalizeViewport) })\\n} module.exports = {fixViewportTag}\\n\\n})\\n####","completion":" import combinedStream from 'combined-stream'\\nimport babelPluginTransformEs2015Constants from 'babel-plugin-transform-es2015-constants'\\nimport babelPluginAddModuleExports from 'babel-plugin-add-module-exports'\\nimport karmaCommonjs from 'karma-commonjs'\\nimport ms from 'aproba'\\n\\n'use strict' function fixViewportTag(siteData, params) { const viewport = typeof document !== 'undefined' && window.document.getElementById('wixMobileViewport') if (!viewport) { return } const browserFlags = siteData.browserFlags() const responsive = params && params.isResponsive const width = responsive ? 'device-width' : siteData.getSiteWidth() const userScalable = responsive && browserFlags.forceOverflowScroll ? 'no' : 'yes' const finalizeViewport = () => viewport.setAttribute('content', `width=${width}, user-scalable=${userScalable}`) if (responsive || !browserFlags.doubleResetMobileViewport) { finalizeViewport() return } viewport.setAttribute('content', `width=${width}, user-scalable=yes, initial-scale=0`) return window.requestAnimationFrame(() => { viewport.setAttribute('content', `width=${width}, user-scalable=yes, initial-scale=${window.screen.width / width}`) return window.requestAnimationFrame(finalizeViewport) })\\n} module.exports = {fixViewportTag}\\n\\n####"}
{"prompt":"define(['@parcel/babel-preset','escomplex-js','stream-http'], function(babelPluginTransformTemplateLiterals,timsort,streamHttp){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.wix.com/demone2/digital-advertising (47)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/digital-advertising', emulateMobileDevice: true, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/47-digital-advertising-agency/mesh/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import babelPluginTransformTemplateLiterals from '@parcel/babel-preset'\\nimport timsort from 'escomplex-js'\\nimport streamHttp from 'stream-http'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism MESH (base: MESH) - https://www.wix.com/demone2/digital-advertising (47)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/digital-advertising', emulateMobileDevice: true, queryParams: { layoutMechanism: 'mesh' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('mesh') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/47-digital-advertising-agency/mesh/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['@types/semver','@svgr/webpack','@parcel/codeframe','@babel/helper-function-name','punycode'], function(rsvp,lab,puppeteer,playwright,punycode){\\n'use strict' const _ = require('lodash') const apps = { faq: { filterAppPart: { appPartName: 'f2c4fc13-e24d-4e99-aadf-4cff71092b88', viewName: 'ExpandQuestions' }, filterAppLogicCustomization: { type: 'AppPartCustomization', forType: 'Category', view: 'ToggleMobile', key: 'comp.initialState', fieldId: 'toggle', format: 'Mobile' }, modify(customization) { return _.assign(customization, { fieldId: 'vars', key: 'initialState' }) } }\\n} function exec(pageJson) { _(apps) .values() .forEach(app => { _(pageJson.data.document_data) .filter(app.filterAppPart) .forEach(part => { part.appLogicCustomizations = _(part.appLogicCustomizations) .map(customization => { const shouldModify = _.find([customization], app.filterAppLogicCustomization) return shouldModify ? app.modify(customization) : customization }) .compact() .value() }) })\\n} module.exports = { name: 'appPartCustomizationsFixer', version: 1, exec\\n}\\n\\n})\\n####","completion":" import rsvp from '@types/semver'\\nimport lab from '@svgr/webpack'\\nimport puppeteer from '@parcel/codeframe'\\nimport playwright from '@babel/helper-function-name'\\nimport punycode from 'punycode'\\n\\n'use strict' const _ = require('lodash') const apps = { faq: { filterAppPart: { appPartName: 'f2c4fc13-e24d-4e99-aadf-4cff71092b88', viewName: 'ExpandQuestions' }, filterAppLogicCustomization: { type: 'AppPartCustomization', forType: 'Category', view: 'ToggleMobile', key: 'comp.initialState', fieldId: 'toggle', format: 'Mobile' }, modify(customization) { return _.assign(customization, { fieldId: 'vars', key: 'initialState' }) } }\\n} function exec(pageJson) { _(apps) .values() .forEach(app => { _(pageJson.data.document_data) .filter(app.filterAppPart) .forEach(part => { part.appLogicCustomizations = _(part.appLogicCustomizations) .map(customization => { const shouldModify = _.find([customization], app.filterAppLogicCustomization) return shouldModify ? app.modify(customization) : customization }) .compact() .value() }) })\\n} module.exports = { name: 'appPartCustomizationsFixer', version: 1, exec\\n}\\n\\n####"}
{"prompt":"define(['grunt-template','make-arrow-function','spawn-sync','ts-node','gulp-mocha','loose-envify','mime-types','abbrev','@babel/helper-define-polyfill-provider','@parcel/reporter-cli','escomplex-js','karma-chrome-launcher','@rollup/plugin-typescript','karma-typescript','hyperquest','@commitlint/cli','@parcel/diagnostic'], function(lintspacesCli,makeArrowFunction,spawnSync,tsNode,parcelCodeframe,benchmark,mimeTypes,abbrev,karmaFirefoxLauncher,babelHelperModuleTransforms,timsort,babelPluginTransformClasses,babelHelperPluginTestRunner,karmaTypescript,micromatch,commitlintCli,q){\\n'use strict' module.exports = { 'wysiwyg.viewer.components.MatrixGallery': {propType: 'MatrixGalleryProperties'}, 'wysiwyg.viewer.components.PaginatedGridGallery': {propType: 'PaginatedGridGalleryProperties'}, 'wysiwyg.viewer.components.SliderGallery': {propType: 'SliderGalleryProperties'}, 'wysiwyg.viewer.components.SlideShowGallery': {propType: 'SlideShowGalleryProperties'}, 'tpa.viewer.components.Masonry': {propType: 'MasonryProperties'}, 'tpa.viewer.components.Accordion': {propType: 'AccordionProperties'}, 'tpa.viewer.components.Impress': {propType: 'ImpressProperties'}, 'tpa.viewer.components.Freestyle': {propType: 'FreestyleProperties'}, 'tpa.viewer.components.Collage': {propType: 'CollageProperties'}, 'tpa.viewer.components.Honeycomb': {propType: 'HoneycombProperties'}, 'tpa.viewer.components.StripShowcase': {propType: 'StripShowcaseProperties'}, 'tpa.viewer.components.StripSlideshow': {propType: 'StripSlideshowProperties'}, 'tpa.viewer.components.Thumbnails': {propType: 'ThumbnailsProperties'}, 'wysiwyg.viewer.components.tpapps.TPA3DGallery': {propType: 'SlideShowGalleryProperties'}, 'wysiwyg.viewer.components.tpapps.TPA3DCarousel': {propType: 'SlideShowGalleryProperties'}\\n}\\n\\n})\\n####","completion":" import lintspacesCli from 'grunt-template'\\nimport makeArrowFunction from 'make-arrow-function'\\nimport spawnSync from 'spawn-sync'\\nimport tsNode from 'ts-node'\\nimport parcelCodeframe from 'gulp-mocha'\\nimport benchmark from 'loose-envify'\\nimport mimeTypes from 'mime-types'\\nimport abbrev from 'abbrev'\\nimport karmaFirefoxLauncher from '@babel/helper-define-polyfill-provider'\\nimport babelHelperModuleTransforms from '@parcel/reporter-cli'\\nimport timsort from 'escomplex-js'\\nimport babelPluginTransformClasses from 'karma-chrome-launcher'\\nimport babelHelperPluginTestRunner from '@rollup/plugin-typescript'\\nimport karmaTypescript from 'karma-typescript'\\nimport micromatch from 'hyperquest'\\nimport commitlintCli from '@commitlint/cli'\\nimport q from '@parcel/diagnostic'\\n\\n'use strict' module.exports = { 'wysiwyg.viewer.components.MatrixGallery': {propType: 'MatrixGalleryProperties'}, 'wysiwyg.viewer.components.PaginatedGridGallery': {propType: 'PaginatedGridGalleryProperties'}, 'wysiwyg.viewer.components.SliderGallery': {propType: 'SliderGalleryProperties'}, 'wysiwyg.viewer.components.SlideShowGallery': {propType: 'SlideShowGalleryProperties'}, 'tpa.viewer.components.Masonry': {propType: 'MasonryProperties'}, 'tpa.viewer.components.Accordion': {propType: 'AccordionProperties'}, 'tpa.viewer.components.Impress': {propType: 'ImpressProperties'}, 'tpa.viewer.components.Freestyle': {propType: 'FreestyleProperties'}, 'tpa.viewer.components.Collage': {propType: 'CollageProperties'}, 'tpa.viewer.components.Honeycomb': {propType: 'HoneycombProperties'}, 'tpa.viewer.components.StripShowcase': {propType: 'StripShowcaseProperties'}, 'tpa.viewer.components.StripSlideshow': {propType: 'StripSlideshowProperties'}, 'tpa.viewer.components.Thumbnails': {propType: 'ThumbnailsProperties'}, 'wysiwyg.viewer.components.tpapps.TPA3DGallery': {propType: 'SlideShowGalleryProperties'}, 'wysiwyg.viewer.components.tpapps.TPA3DCarousel': {propType: 'SlideShowGalleryProperties'}\\n}\\n\\n####"}
{"prompt":"define(['is-weakref','ejs','codemirror','@parcel/codeframe','call-bind','minimist','ansi','kind-of','@babel/plugin-proposal-logical-assignment-operators'], function(isWeakref,isRegex,codemirror,puppeteer,callBind,minimist,ansi,eslintPluginFlowtype,babelPluginProposalLogicalAssignmentOperators){\\n'use strict' const testUtils = requirejs('testUtils')\\nconst behaviorsFixer = require('../../src/plugins/behaviorsFixer')\\nconst mockMagicObject = require('../testHelpers/mockMagicObject') describe('behaviors Fixer', () => { it(\\\"should set the component's sourceId to match the component id\\\", () => { const siteData = testUtils.mockFactory.mockSiteData(null, false, true) const behavior = testUtils.mockFactory.behaviorMocks.widget.runCode() const action = testUtils.mockFactory.actionMocks.comp('click', 'wrong-comp-id') const actionAndBehavior = testUtils.mockFactory.behaviorMocks.mockActionAndBehavior('wrong-comp-id', action, behavior) const pageId = siteData.getFocusedRootId() const container = testUtils.mockFactory.mockComponent('mobile.core.components.Container', siteData, pageId, {behaviors: [actionAndBehavior]}) const pageJson = siteData.pagesData[pageId] let obsoleteBehaviorsList = pageJson.data.behaviors_data[container.behaviorQuery] let items = JSON.parse(obsoleteBehaviorsList.items) expect(items[0].action.sourceId).not.toEqual(container.id) behaviorsFixer.exec(pageJson, null, mockMagicObject()) obsoleteBehaviorsList = pageJson.data.behaviors_data[container.behaviorQuery] items = JSON.parse(obsoleteBehaviorsList.items) expect(items[0].action.sourceId).toEqual(container.id) })\\n})\\n\\n})\\n####","completion":" import isWeakref from 'is-weakref'\\nimport isRegex from 'ejs'\\nimport codemirror from 'codemirror'\\nimport puppeteer from '@parcel/codeframe'\\nimport callBind from 'call-bind'\\nimport minimist from 'minimist'\\nimport ansi from 'ansi'\\nimport eslintPluginFlowtype from 'kind-of'\\nimport babelPluginProposalLogicalAssignmentOperators from '@babel/plugin-proposal-logical-assignment-operators'\\n\\n'use strict' const testUtils = requirejs('testUtils')\\nconst behaviorsFixer = require('../../src/plugins/behaviorsFixer')\\nconst mockMagicObject = require('../testHelpers/mockMagicObject') describe('behaviors Fixer', () => { it(\\\"should set the component's sourceId to match the component id\\\", () => { const siteData = testUtils.mockFactory.mockSiteData(null, false, true) const behavior = testUtils.mockFactory.behaviorMocks.widget.runCode() const action = testUtils.mockFactory.actionMocks.comp('click', 'wrong-comp-id') const actionAndBehavior = testUtils.mockFactory.behaviorMocks.mockActionAndBehavior('wrong-comp-id', action, behavior) const pageId = siteData.getFocusedRootId() const container = testUtils.mockFactory.mockComponent('mobile.core.components.Container', siteData, pageId, {behaviors: [actionAndBehavior]}) const pageJson = siteData.pagesData[pageId] let obsoleteBehaviorsList = pageJson.data.behaviors_data[container.behaviorQuery] let items = JSON.parse(obsoleteBehaviorsList.items) expect(items[0].action.sourceId).not.toEqual(container.id) behaviorsFixer.exec(pageJson, null, mockMagicObject()) obsoleteBehaviorsList = pageJson.data.behaviors_data[container.behaviorQuery] items = JSON.parse(obsoleteBehaviorsList.items) expect(items[0].action.sourceId).toEqual(container.id) })\\n})\\n\\n####"}
{"prompt":"define(['broccoli-uglify-js','form-data','abort-controller','karma-typescript-es6-transform','@trysound/sax','relateurl','yalc','is-regex','indexof','@mapbox/eslint-config-mapbox','@parcel/fs-write-stream-atomic'], function(broccoliUglifyJs,formData,babelRuntimeCorejs3,karmaTypescriptEs6Transform,termSize,gruntContribConcat,babelPluginTransformRuntime,babelPluginTransformClassProperties,indexof,mapboxEslintConfigMapbox,delegates){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.wix.com/demone2/traveler-blog (27)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/traveler-blog', emulateMobileDevice: false, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/27-traveler-blog/anchors/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import broccoliUglifyJs from 'broccoli-uglify-js'\\nimport formData from 'form-data'\\nimport babelRuntimeCorejs3 from 'abort-controller'\\nimport karmaTypescriptEs6Transform from 'karma-typescript-es6-transform'\\nimport termSize from '@trysound/sax'\\nimport gruntContribConcat from 'relateurl'\\nimport babelPluginTransformRuntime from 'yalc'\\nimport babelPluginTransformClassProperties from 'is-regex'\\nimport indexof from 'indexof'\\nimport mapboxEslintConfigMapbox from '@mapbox/eslint-config-mapbox'\\nimport delegates from '@parcel/fs-write-stream-atomic'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.wix.com/demone2/traveler-blog (27)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/traveler-blog', emulateMobileDevice: false, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/27-traveler-blog/anchors/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['@parcel/optimizer-image','es-to-primitive','eslint','earlgrey','acorn','colord','string_decoder','pngjs','@babel/types','gulp-bump','buffer-from','fast-check','@babel/plugin-transform-new-target','@parcel/transformer-postcss','postcss-discard-empty','parted','node-tick-processor','core-util-is'], function(commonjsEverywhere,wdioCli,eslint,earlgrey,parcelResolverDefault,parcelOptimizerSvgo,stringDecoder,functionBind,yargs,karmaSauceLauncher,bufferFrom,fastCheck,temp,parcelTransformerPostcss,bluebirdRetry,functionPrototypeName,babelPluginReactRequire,globby){\\nimport base from '../../src/configs/base' describe('create base config', () => { it('should take overrides', () => { const r = base(__dirname, '/a/b/test', {output: {library: 'a'}}) expect(r).toEqual({ mode: 'production', devtool: 'source-map', entry: { main: ['regenerator-runtime/runtime', `${__dirname}/test`] }, output: { filename: 'main-r.min.js', path: `${__dirname}/dist/test`, library: 'a' }, module: { rules: [{test: /\\.js$/, use: [{loader: 'babel-loader'}]}] }, externals: {requirejs: 'requirejs'} }) }) it('should take overrides', () => { const r = base(__dirname, '/a/b/test', {output: {library: 'a', filename: 'banana.js'}}) expect(r).toEqual({ mode: 'production', devtool: 'source-map', entry: { main: ['regenerator-runtime/runtime', `${__dirname}/test`] }, output: { filename: 'banana.js', path: `${__dirname}/dist/test`, library: 'a' }, module: { rules: [{test: /\\.js$/, use: [{loader: 'babel-loader'}]}] }, externals: {requirejs: 'requirejs'} }) })\\n})\\n\\n})\\n####","completion":" import commonjsEverywhere from '@parcel/optimizer-image'\\nimport wdioCli from 'es-to-primitive'\\nimport eslint from 'eslint'\\nimport earlgrey from 'earlgrey'\\nimport parcelResolverDefault from 'acorn'\\nimport parcelOptimizerSvgo from 'colord'\\nimport stringDecoder from 'string_decoder'\\nimport functionBind from 'pngjs'\\nimport yargs from '@babel/types'\\nimport karmaSauceLauncher from 'gulp-bump'\\nimport bufferFrom from 'buffer-from'\\nimport fastCheck from 'fast-check'\\nimport temp from '@babel/plugin-transform-new-target'\\nimport parcelTransformerPostcss from '@parcel/transformer-postcss'\\nimport bluebirdRetry from 'postcss-discard-empty'\\nimport functionPrototypeName from 'parted'\\nimport babelPluginReactRequire from 'node-tick-processor'\\nimport globby from 'core-util-is'\\n\\nimport base from '../../src/configs/base' describe('create base config', () => { it('should take overrides', () => { const r = base(__dirname, '/a/b/test', {output: {library: 'a'}}) expect(r).toEqual({ mode: 'production', devtool: 'source-map', entry: { main: ['regenerator-runtime/runtime', `${__dirname}/test`] }, output: { filename: 'main-r.min.js', path: `${__dirname}/dist/test`, library: 'a' }, module: { rules: [{test: /\\.js$/, use: [{loader: 'babel-loader'}]}] }, externals: {requirejs: 'requirejs'} }) }) it('should take overrides', () => { const r = base(__dirname, '/a/b/test', {output: {library: 'a', filename: 'banana.js'}}) expect(r).toEqual({ mode: 'production', devtool: 'source-map', entry: { main: ['regenerator-runtime/runtime', `${__dirname}/test`] }, output: { filename: 'banana.js', path: `${__dirname}/dist/test`, library: 'a' }, module: { rules: [{test: /\\.js$/, use: [{loader: 'babel-loader'}]}] }, externals: {requirejs: 'requirejs'} }) })\\n})\\n\\n####"}
{"prompt":"define(['babel-preset-stage-0','is-arrayish','file-loader','safe-buffer','require-ini'], function(swcCli,isArrayish,fileLoader,safeBuffer,parcelPlugin){\\n'use strict'\\nconst {withViewer} = require('@wix/santa-integration-tests') const repeaterLayoutTest = ({queryParams, experimentsOn}) => withViewer({ baseUrl: 'https://kobiz4.wixsite.com/rptr-justify-layout', queryParams, experimentsOn\\n}, async ({componentDriverFactory}) => { const REPEATER_COMP_ID = 'comp-jtmqqlby' const itemsOrder = [ 'comp-jtmqqlct__item1', 'comp-jtmqqlct__item-j9ples3e' ] const repeater = await componentDriverFactory.create(REPEATER_COMP_ID) const repeaterBoundingBox = await repeater.getBoundingBox() const firstItem = await componentDriverFactory.create(itemsOrder[0]) const secondItem = await componentDriverFactory.create(itemsOrder[1]) const firstItemBoundingBox = await firstItem.getBoundingBox() const secondItemBoundingBox = await secondItem.getBoundingBox() expect(firstItemBoundingBox.left).toEqual(repeaterBoundingBox.left) expect(secondItemBoundingBox.right).toEqual(repeaterBoundingBox.right)\\n}) describe('repeater with justify layout', () => { test('check space between - mesh', repeaterLayoutTest({ queryParams: {layoutMechanism: 'mesh'} })) test('check space between - anchors', repeaterLayoutTest({ queryParams: {layoutMechanism: 'anchors'} }))\\n})\\n})\\n####","completion":" import swcCli from 'babel-preset-stage-0'\\nimport isArrayish from 'is-arrayish'\\nimport fileLoader from 'file-loader'\\nimport safeBuffer from 'safe-buffer'\\nimport parcelPlugin from 'require-ini'\\n\\n'use strict'\\nconst {withViewer} = require('@wix/santa-integration-tests') const repeaterLayoutTest = ({queryParams, experimentsOn}) => withViewer({ baseUrl: 'https://kobiz4.wixsite.com/rptr-justify-layout', queryParams, experimentsOn\\n}, async ({componentDriverFactory}) => { const REPEATER_COMP_ID = 'comp-jtmqqlby' const itemsOrder = [ 'comp-jtmqqlct__item1', 'comp-jtmqqlct__item-j9ples3e' ] const repeater = await componentDriverFactory.create(REPEATER_COMP_ID) const repeaterBoundingBox = await repeater.getBoundingBox() const firstItem = await componentDriverFactory.create(itemsOrder[0]) const secondItem = await componentDriverFactory.create(itemsOrder[1]) const firstItemBoundingBox = await firstItem.getBoundingBox() const secondItemBoundingBox = await secondItem.getBoundingBox() expect(firstItemBoundingBox.left).toEqual(repeaterBoundingBox.left) expect(secondItemBoundingBox.right).toEqual(repeaterBoundingBox.right)\\n}) describe('repeater with justify layout', () => { test('check space between - mesh', repeaterLayoutTest({ queryParams: {layoutMechanism: 'mesh'} })) test('check space between - anchors', repeaterLayoutTest({ queryParams: {layoutMechanism: 'anchors'} }))\\n})\\n####"}
{"prompt":"define(['prop-types','slash','@napi-rs/cli','@types/svgo','postcss-normalize-url','has-strict-mode','fbjs-scripts','@babel/helper-builder-binary-assignment-operator-visitor','is-ci-cli','@typescript-eslint/eslint-plugin','deep-is','array.prototype.reduce','airbnb-js-shims','benny','callsites','caniuse-api','phantomjs-prebuilt'], function(propTypes,slash,napiRsCli,iconv,jsonPointer,atLeastNode,fbjsScripts,babelHelperBuilderBinaryAssignmentOperatorVisitor,isCiCli,jquery,deepIs,coreJsPure,airbnbJsShims,benny,callsites,typesMinimatch,phantomjsPrebuilt){\\nimport React, {Component} from 'react';\\nimport TdsModalWrapper from './TdsModalWrapper';\\nimport s from './StripeIframe.icss';\\nimport { Spinner } from '@wix/restaurants-components/web';\\nimport classNames from 'classnames';\\nimport StripeIframeHoc from 'src/shared/tdsModal/StripeIframeHoc'; @StripeIframeHoc\\nexport default class ThreeDsModalStripe extends Component { render() { const { challenge, challenges, currentChallengeIdx, onClose, colors, iframeLoaded, setIframeRef } = this.props; return ( <TdsModalWrapper currentChallengeIdx={currentChallengeIdx} challenges={challenges} challenge={challenge} onClose={onClose} > <div className={classNames(s.inner, {[s.iframeLoaded]: iframeLoaded})}> <iframe ref={setIframeRef} className={s.iframe} src={challenge.gatewayResponse.redirectUrl} allowtransparency=\\\"true\\\" /> <div className={classNames(s.spinnerWrapper, 'spinnerWrapper')}> <Spinner color={colors['color-5']} bordercolor='transparent' radius='65px'/> </div> </div> </TdsModalWrapper> ); }\\n}\\n\\n})\\n####","completion":" import propTypes from 'prop-types'\\nimport slash from 'slash'\\nimport napiRsCli from '@napi-rs/cli'\\nimport iconv from '@types/svgo'\\nimport jsonPointer from 'postcss-normalize-url'\\nimport atLeastNode from 'has-strict-mode'\\nimport fbjsScripts from 'fbjs-scripts'\\nimport babelHelperBuilderBinaryAssignmentOperatorVisitor from '@babel/helper-builder-binary-assignment-operator-visitor'\\nimport isCiCli from 'is-ci-cli'\\nimport jquery from '@typescript-eslint/eslint-plugin'\\nimport deepIs from 'deep-is'\\nimport coreJsPure from 'array.prototype.reduce'\\nimport airbnbJsShims from 'airbnb-js-shims'\\nimport benny from 'benny'\\nimport callsites from 'callsites'\\nimport typesMinimatch from 'caniuse-api'\\nimport phantomjsPrebuilt from 'phantomjs-prebuilt'\\n\\nimport React, {Component} from 'react';\\nimport TdsModalWrapper from './TdsModalWrapper';\\nimport s from './StripeIframe.icss';\\nimport { Spinner } from '@wix/restaurants-components/web';\\nimport classNames from 'classnames';\\nimport StripeIframeHoc from 'src/shared/tdsModal/StripeIframeHoc'; @StripeIframeHoc\\nexport default class ThreeDsModalStripe extends Component { render() { const { challenge, challenges, currentChallengeIdx, onClose, colors, iframeLoaded, setIframeRef } = this.props; return ( <TdsModalWrapper currentChallengeIdx={currentChallengeIdx} challenges={challenges} challenge={challenge} onClose={onClose} > <div className={classNames(s.inner, {[s.iframeLoaded]: iframeLoaded})}> <iframe ref={setIframeRef} className={s.iframe} src={challenge.gatewayResponse.redirectUrl} allowtransparency=\\\"true\\\" /> <div className={classNames(s.spinnerWrapper, 'spinnerWrapper')}> <Spinner color={colors['color-5']} bordercolor='transparent' radius='65px'/> </div> </div> </TdsModalWrapper> ); }\\n}\\n\\n####"}
{"prompt":"define(['node-gyp','eslint-plugin-react','unicode-11.0.0','process','@types/minimatch','flow-copy-source','es6-promisify','postcss-reduce-transforms','@types/csso','lint-staged','@parcel/package-manager','jsonfile','gh-pages'], function(escomplexJs,babelPluginPolyfillCorejs2,unicode1100,webgpuTypes,babelHelperFixtures,inlineSourceMap,forEach,smoosh,typesCsso,gauge,parcelPackageManager,jsonfile,sliceAnsi){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.shaiyallin.com/photograpy (53)', withViewer({ tpaInterceptor, baseUrl: 'https://www.shaiyallin.com/photograpy', emulateMobileDevice: false, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/53-shai-yalin-photography/anchors/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import escomplexJs from 'node-gyp'\\nimport babelPluginPolyfillCorejs2 from 'eslint-plugin-react'\\nimport unicode1100 from 'unicode-11.0.0'\\nimport webgpuTypes from 'process'\\nimport babelHelperFixtures from '@types/minimatch'\\nimport inlineSourceMap from 'flow-copy-source'\\nimport forEach from 'es6-promisify'\\nimport smoosh from 'postcss-reduce-transforms'\\nimport typesCsso from '@types/csso'\\nimport gauge from 'lint-staged'\\nimport parcelPackageManager from '@parcel/package-manager'\\nimport jsonfile from 'jsonfile'\\nimport sliceAnsi from 'gh-pages'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('desktop', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.shaiyallin.com/photograpy (53)', withViewer({ tpaInterceptor, baseUrl: 'https://www.shaiyallin.com/photograpy', emulateMobileDevice: false, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/53-shai-yalin-photography/anchors/desktop/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['gitbook-plugin-prism','make-generator-function','ejs','browserify-istanbul','canvas','webpack-cli','mock-aws-s3'], function(ajv,makeGeneratorFunction,isRegex,lodash,canvas,typesDeepEqual,mockAwsS3){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.wix.com/demone2/rock-music (42)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/rock-music', emulateMobileDevice: true, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/42-rock-music/anchors/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import ajv from 'gitbook-plugin-prism'\\nimport makeGeneratorFunction from 'make-generator-function'\\nimport isRegex from 'ejs'\\nimport lodash from 'browserify-istanbul'\\nimport canvas from 'canvas'\\nimport typesDeepEqual from 'webpack-cli'\\nimport mockAwsS3 from 'mock-aws-s3'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.wix.com/demone2/rock-music (42)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/rock-music', emulateMobileDevice: true, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/42-rock-music/anchors/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['mock-property','escalade','connect','@babel/helper-wrap-function','@parcel/plugin','unicode-canonical-property-names-ecmascript','grunt-clean'], function(arrayShuffle,escalade,connect,lodashDebounce,runSequence,postcss,co){\\nconst {withDocumentServices} = require('../../testkit') describe('mobileSync', () => { test( 'should sync mobile structure with desktop structure', withDocumentServices({}, async ({site, components}) => { const stripColumnsContainer = await site.addComponent(components.StripColumnsContainer) const column = await site.addComponentToContainer(components.StripColumn, stripColumnsContainer) const buttonLayout = {x: 10, y: 20, width: 120, height: 48} const button = await site.addComponentToContainer(components.SiteButton, column, {layout: buttonLayout}) expect(await stripColumnsContainer.mobile.isExist()).toBe(false, 'should not contain mobile strip yet') await site.mobile.syncMobileSite() expect(await stripColumnsContainer.mobile.isExist()).toBe(true, 'should contain mobile strip after sync') expect(await stripColumnsContainer.mobile.contains(column.mobile)).toBe(true, 'column should be a child of strip') expect(await column.mobile.contains(button.mobile)).toBe(true, 'button should be a child of column') }) )\\n})\\n\\n})\\n####","completion":" import arrayShuffle from 'mock-property'\\nimport escalade from 'escalade'\\nimport connect from 'connect'\\nimport lodashDebounce from '@babel/helper-wrap-function'\\nimport runSequence from '@parcel/plugin'\\nimport postcss from 'unicode-canonical-property-names-ecmascript'\\nimport co from 'grunt-clean'\\n\\nconst {withDocumentServices} = require('../../testkit') describe('mobileSync', () => { test( 'should sync mobile structure with desktop structure', withDocumentServices({}, async ({site, components}) => { const stripColumnsContainer = await site.addComponent(components.StripColumnsContainer) const column = await site.addComponentToContainer(components.StripColumn, stripColumnsContainer) const buttonLayout = {x: 10, y: 20, width: 120, height: 48} const button = await site.addComponentToContainer(components.SiteButton, column, {layout: buttonLayout}) expect(await stripColumnsContainer.mobile.isExist()).toBe(false, 'should not contain mobile strip yet') await site.mobile.syncMobileSite() expect(await stripColumnsContainer.mobile.isExist()).toBe(true, 'should contain mobile strip after sync') expect(await stripColumnsContainer.mobile.contains(column.mobile)).toBe(true, 'column should be a child of strip') expect(await column.mobile.contains(button.mobile)).toBe(true, 'button should be a child of column') }) )\\n})\\n\\n####"}
{"prompt":"define(['time-span','postcss-minify-gradients','is-node-modern'], function(timeSpan,postcssMinifyGradients,httpServer){\\nimport { expect, assert } from 'chai';\\nimport {TripadvisorProxyClient} from '@wix/restaurants-tripadvisor-proxy-client';\\nimport {XMLHttpRequest} from 'xhr2';\\nimport ServiceRunner from '../../test-utils/ServiceRunner';\\nimport {describePlus} from '../ITUtils.js'; // Test fails on Windows because ServiceRunner doesn't work\\ndescribePlus('Tripadvisor Endpoint', '!win32', function() { this.timeout(20000); // ServiceRunner.start takes time, tell Mocha to allow more than the standard 2 seconds. const servicePort = 8080; const serviceEndpointUrl = `http://localhost:${servicePort}/tripadvisor/`; const tripadvisorProxyClient = new TripadvisorProxyClient({XMLHttpRequest, endpointUrl: serviceEndpointUrl}); const tripadvisorProxyService = new ServiceRunner(); before('start tripadvisor proxy service', () => { return tripadvisorProxyService .start({}); }); after('stop tripadvisor proxy service', () => { tripadvisorProxyService.stop(); }); xit('sends a request and returns the value on success', function () { const someQuery = '4035993'; const someParams = { query: someQuery }; return tripadvisorProxyClient.api(someParams).then((value) => { expect(value.name).to.contain('TAIZU'); }, (error) => { assert.ok(false, `API returned ${JSON.stringify(error)}`); }); }); });\\n\\n})\\n####","completion":" import timeSpan from 'time-span'\\nimport postcssMinifyGradients from 'postcss-minify-gradients'\\nimport httpServer from 'is-node-modern'\\n\\nimport { expect, assert } from 'chai';\\nimport {TripadvisorProxyClient} from '@wix/restaurants-tripadvisor-proxy-client';\\nimport {XMLHttpRequest} from 'xhr2';\\nimport ServiceRunner from '../../test-utils/ServiceRunner';\\nimport {describePlus} from '../ITUtils.js'; // Test fails on Windows because ServiceRunner doesn't work\\ndescribePlus('Tripadvisor Endpoint', '!win32', function() { this.timeout(20000); // ServiceRunner.start takes time, tell Mocha to allow more than the standard 2 seconds. const servicePort = 8080; const serviceEndpointUrl = `http://localhost:${servicePort}/tripadvisor/`; const tripadvisorProxyClient = new TripadvisorProxyClient({XMLHttpRequest, endpointUrl: serviceEndpointUrl}); const tripadvisorProxyService = new ServiceRunner(); before('start tripadvisor proxy service', () => { return tripadvisorProxyService .start({}); }); after('stop tripadvisor proxy service', () => { tripadvisorProxyService.stop(); }); xit('sends a request and returns the value on success', function () { const someQuery = '4035993'; const someParams = { query: someQuery }; return tripadvisorProxyClient.api(someParams).then((value) => { expect(value.name).to.contain('TAIZU'); }, (error) => { assert.ok(false, `API returned ${JSON.stringify(error)}`); }); }); });\\n\\n####"}
{"prompt":"define(['babel-plugin-add-module-exports','playwright','regenerate-unicode-properties','@parcel/package-manager','@types/chalk','@parcel/events','is-path-inside','karma-mocha','deep-equal','jscodeshift','esbuild','postcss-merge-rules','escape-string-regexp','css-what','gh-pages'], function(babelPluginAddModuleExports,babelPluginTransformUnicodeEscapes,regenerateUnicodeProperties,parcelPackageManager,parcelTransformerImage,babelPluginProposalDynamicImport,isPathInside,pLocate,typesArgparse,esm,esbuild,codePointAt,escapeStringRegexp,babelPluginTransformDestructuring,sliceAnsi){\\nvar should = require('chai').should();\\nvar PropertiesUtils = require(\\\"../src/Properties.js\\\");\\nvar _ = require(\\\"lodash\\\"); describe(\\\"Properties\\\", function() { it ('returns value when object exists', function() { var prop = {properties:{\\\"com.openrest\\\":JSON.stringify({\\\"test\\\":{\\\"test2\\\":23}})}}; PropertiesUtils.get(prop, \\\"test.test2\\\", \\\"com.openrest\\\").should.equal(23); }); it ('returns true when value is in list and false when isn\\'t', function() { var prop = {properties:{\\\"com.openrest\\\":JSON.stringify({\\\"test\\\":{\\\"test2\\\":[\\\"aaa\\\", \\\"bbb\\\", \\\"ccc\\\"]}})}}; PropertiesUtils.get(prop, \\\"test.test2.?aaa\\\", \\\"com.openrest\\\").should.equal(true); PropertiesUtils.get(prop, \\\"test.test2.?bbb\\\", \\\"com.openrest\\\").should.equal(true); PropertiesUtils.get(prop, \\\"test.test2.?ccc\\\", \\\"com.openrest\\\").should.equal(true); PropertiesUtils.get(prop, \\\"test.test2.?ddd\\\", \\\"com.openrest\\\").should.equal(false); }); it ('returns null when object doesn\\'t exist', function() { var prop = {}; should.not.exist(PropertiesUtils.get(prop, \\\"test.test2\\\")); }); it ('returns false when array object doesn\\'t exist', function() { var prop = {}; PropertiesUtils.get(prop, \\\"test.?test2\\\").should.equal(false); });\\n}); \\n})\\n####","completion":" import babelPluginAddModuleExports from 'babel-plugin-add-module-exports'\\nimport babelPluginTransformUnicodeEscapes from 'playwright'\\nimport regenerateUnicodeProperties from 'regenerate-unicode-properties'\\nimport parcelPackageManager from '@parcel/package-manager'\\nimport parcelTransformerImage from '@types/chalk'\\nimport babelPluginProposalDynamicImport from '@parcel/events'\\nimport isPathInside from 'is-path-inside'\\nimport pLocate from 'karma-mocha'\\nimport typesArgparse from 'deep-equal'\\nimport esm from 'jscodeshift'\\nimport esbuild from 'esbuild'\\nimport codePointAt from 'postcss-merge-rules'\\nimport escapeStringRegexp from 'escape-string-regexp'\\nimport babelPluginTransformDestructuring from 'css-what'\\nimport sliceAnsi from 'gh-pages'\\n\\nvar should = require('chai').should();\\nvar PropertiesUtils = require(\\\"../src/Properties.js\\\");\\nvar _ = require(\\\"lodash\\\"); describe(\\\"Properties\\\", function() { it ('returns value when object exists', function() { var prop = {properties:{\\\"com.openrest\\\":JSON.stringify({\\\"test\\\":{\\\"test2\\\":23}})}}; PropertiesUtils.get(prop, \\\"test.test2\\\", \\\"com.openrest\\\").should.equal(23); }); it ('returns true when value is in list and false when isn\\'t', function() { var prop = {properties:{\\\"com.openrest\\\":JSON.stringify({\\\"test\\\":{\\\"test2\\\":[\\\"aaa\\\", \\\"bbb\\\", \\\"ccc\\\"]}})}}; PropertiesUtils.get(prop, \\\"test.test2.?aaa\\\", \\\"com.openrest\\\").should.equal(true); PropertiesUtils.get(prop, \\\"test.test2.?bbb\\\", \\\"com.openrest\\\").should.equal(true); PropertiesUtils.get(prop, \\\"test.test2.?ccc\\\", \\\"com.openrest\\\").should.equal(true); PropertiesUtils.get(prop, \\\"test.test2.?ddd\\\", \\\"com.openrest\\\").should.equal(false); }); it ('returns null when object doesn\\'t exist', function() { var prop = {}; should.not.exist(PropertiesUtils.get(prop, \\\"test.test2\\\")); }); it ('returns false when array object doesn\\'t exist', function() { var prop = {}; PropertiesUtils.get(prop, \\\"test.?test2\\\").should.equal(false); });\\n}); \\n####"}
{"prompt":"define(['babel-preset-airbnb','source-map-js','string-to-arraybuffer','lodash.debounce','is-builtin-module','@babel/parser','@babel/helper-create-class-features-plugin','release-it','smoosh','inflight','@types/argparse','delay','deep-is','eslint-config-gulp','astring','code-point-at'], function(acorn,sourceMapJs,abortController,eslintPluginJsxA11Y,isBuiltinModule,babelPluginSyntaxJsonStrings,babelHelperCreateClassFeaturesPlugin,releaseIt,sharp,saferBuffer,typesEs6Promisify,zuul,deepIs,istanbulCoveralls,fsMinipass,iconvLite){\\nimport PropTypes from 'prop-types';\\nimport React from 'react';\\nimport ImageUtils from 'openrest4js/dist/openrest4js-helpers/Image';\\nimport { getSourceSet, getDefaultSource, getSizes } from './utils/imageUtils'; function Image(props) { const { alt, width, modes, className } = props; const defaultSource = getDefaultSource({ ImageUtils, ...props }); const srcSet = getSourceSet({ ImageUtils, ...props }); const sizes = getSizes(modes, width); return <img aria-hidden role='presentation' src={defaultSource} srcSet={srcSet} alt={alt} sizes={sizes} className={className} data-hook=\\\"wixrest-menus-item-image\\\" />;\\n} Image.displayName = 'Image';\\nImage.propTypes = { src: PropTypes.string.isRequired, alt: PropTypes.string.isRequired, width: PropTypes.number.isRequired, height: PropTypes.number.isRequired, webpEnabled: PropTypes.bool.isRequired, sizes: PropTypes.string, className: PropTypes.string\\n}; export default Image;\\n})\\n####","completion":" import acorn from 'babel-preset-airbnb'\\nimport sourceMapJs from 'source-map-js'\\nimport abortController from 'string-to-arraybuffer'\\nimport eslintPluginJsxA11Y from 'lodash.debounce'\\nimport isBuiltinModule from 'is-builtin-module'\\nimport babelPluginSyntaxJsonStrings from '@babel/parser'\\nimport babelHelperCreateClassFeaturesPlugin from '@babel/helper-create-class-features-plugin'\\nimport releaseIt from 'release-it'\\nimport sharp from 'smoosh'\\nimport saferBuffer from 'inflight'\\nimport typesEs6Promisify from '@types/argparse'\\nimport zuul from 'delay'\\nimport deepIs from 'deep-is'\\nimport istanbulCoveralls from 'eslint-config-gulp'\\nimport fsMinipass from 'astring'\\nimport iconvLite from 'code-point-at'\\n\\nimport PropTypes from 'prop-types';\\nimport React from 'react';\\nimport ImageUtils from 'openrest4js/dist/openrest4js-helpers/Image';\\nimport { getSourceSet, getDefaultSource, getSizes } from './utils/imageUtils'; function Image(props) { const { alt, width, modes, className } = props; const defaultSource = getDefaultSource({ ImageUtils, ...props }); const srcSet = getSourceSet({ ImageUtils, ...props }); const sizes = getSizes(modes, width); return <img aria-hidden role='presentation' src={defaultSource} srcSet={srcSet} alt={alt} sizes={sizes} className={className} data-hook=\\\"wixrest-menus-item-image\\\" />;\\n} Image.displayName = 'Image';\\nImage.propTypes = { src: PropTypes.string.isRequired, alt: PropTypes.string.isRequired, width: PropTypes.number.isRequired, height: PropTypes.number.isRequired, webpEnabled: PropTypes.bool.isRequired, sizes: PropTypes.string, className: PropTypes.string\\n}; export default Image;\\n####"}
{"prompt":"define(['minipass','karma-typescript-es6-transform','karma-mocha-reporter','agent-base','readable-stream','is-callable','fast-stable-stringify','@babel/helper-optimise-call-expression','pkg-dir','idb','is-ci-cli','gts','@parcel/transformer-image'], function(minipass,karmaTypescriptEs6Transform,lruCache,util,readableStream,wessbergRollupPluginTs,fastStableStringify,stringWidth,babelPluginTransformEs2015ArrowFunctions,isJson,isCiCli,gts,dotenvExpand){\\n'use strict' const name = 'ClearSequence'\\nconst properties = { groups: ['animation'], schema: {}\\n} function register({factory, engine}) { /** * Clear and Reset all animations on some elements * @param {Array<HTMLElement>} elements DOM element to animate * @param {Object} [params] Timeline optional parameters. * @param {Object} [durationStub] stub. no duration for clearing. * @param {Object} [delayStub] stub. no delay for clearing. * @returns {TimelineMax} */ function animation(elements, durationStub, delayStub, params = {}) { const tweens = elements.reduce((acc, element) => acc.concat(engine.getTweensOf(element)), []) tweens.forEach(tween => engine.kill(tween)) const sequence = factory.sequence(params) // We have to return an animation or sequence from an animation class, so adding an empty animation here // Actual clearing is handled by the system when platform sends a {clear: true} param sequence.add(factory.animate('BaseNone', elements, 0, 0, {})) return sequence.get() } factory.registerAnimation(name, animation, properties)\\n} module.exports = { name, properties, register\\n}\\n\\n})\\n####","completion":" import minipass from 'minipass'\\nimport karmaTypescriptEs6Transform from 'karma-typescript-es6-transform'\\nimport lruCache from 'karma-mocha-reporter'\\nimport util from 'agent-base'\\nimport readableStream from 'readable-stream'\\nimport wessbergRollupPluginTs from 'is-callable'\\nimport fastStableStringify from 'fast-stable-stringify'\\nimport stringWidth from '@babel/helper-optimise-call-expression'\\nimport babelPluginTransformEs2015ArrowFunctions from 'pkg-dir'\\nimport isJson from 'idb'\\nimport isCiCli from 'is-ci-cli'\\nimport gts from 'gts'\\nimport dotenvExpand from '@parcel/transformer-image'\\n\\n'use strict' const name = 'ClearSequence'\\nconst properties = { groups: ['animation'], schema: {}\\n} function register({factory, engine}) { /** * Clear and Reset all animations on some elements * @param {Array<HTMLElement>} elements DOM element to animate * @param {Object} [params] Timeline optional parameters. * @param {Object} [durationStub] stub. no duration for clearing. * @param {Object} [delayStub] stub. no delay for clearing. * @returns {TimelineMax} */ function animation(elements, durationStub, delayStub, params = {}) { const tweens = elements.reduce((acc, element) => acc.concat(engine.getTweensOf(element)), []) tweens.forEach(tween => engine.kill(tween)) const sequence = factory.sequence(params) // We have to return an animation or sequence from an animation class, so adding an empty animation here // Actual clearing is handled by the system when platform sends a {clear: true} param sequence.add(factory.animate('BaseNone', elements, 0, 0, {})) return sequence.get() } factory.registerAnimation(name, animation, properties)\\n} module.exports = { name, properties, register\\n}\\n\\n####"}
{"prompt":"define(['codecov.io','coffee-script','require-xml','htmlnano','has-unicode','abort-controller','grunt-shell','is-builtin-module','postcss-normalize-unicode','coffeescript','@babel/plugin-transform-dotall-regex','istanbul','postcss-convert-values','expect-jsx','@types/chalk','karma-chai-sinon','prelude-ls','has-strict-mode'], function(expectJs,coffeeScript,betterAssert,htmlnano,hasUnicode,babelRuntimeCorejs3,flowCopySource,isBuiltinModule,postcssNormalizeUnicode,rewire,babelHelperReplaceSupers,babelHelperCheckDuplicateNodes,postcssConvertValues,hyperquest,parcelTransformerImage,babelHelperAnnotateAsPure,preludeLs,atLeastNode){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.wix.com/demone2/success-coach (5)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/success-coach', emulateMobileDevice: true, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/5-success-coach/anchors/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import expectJs from 'codecov.io'\\nimport coffeeScript from 'coffee-script'\\nimport betterAssert from 'require-xml'\\nimport htmlnano from 'htmlnano'\\nimport hasUnicode from 'has-unicode'\\nimport babelRuntimeCorejs3 from 'abort-controller'\\nimport flowCopySource from 'grunt-shell'\\nimport isBuiltinModule from 'is-builtin-module'\\nimport postcssNormalizeUnicode from 'postcss-normalize-unicode'\\nimport rewire from 'coffeescript'\\nimport babelHelperReplaceSupers from '@babel/plugin-transform-dotall-regex'\\nimport babelHelperCheckDuplicateNodes from 'istanbul'\\nimport postcssConvertValues from 'postcss-convert-values'\\nimport hyperquest from 'expect-jsx'\\nimport parcelTransformerImage from '@types/chalk'\\nimport babelHelperAnnotateAsPure from 'karma-chai-sinon'\\nimport preludeLs from 'prelude-ls'\\nimport atLeastNode from 'has-strict-mode'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.wix.com/demone2/success-coach (5)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/success-coach', emulateMobileDevice: true, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/unstable/5-success-coach/anchors/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}
{"prompt":"define(['@babel/helper-replace-supers','covert','chownr','boolbase','rollup-plugin-memory','gensync','karma-mocha-reporter','tslib','readable-stream','babel-eslint','gzip-size-cli','eslint-config-babel','@babel/plugin-transform-arrow-functions','slice-ansi'], function(formidable,covert,chownr,eslintConfigBabel,jsonToAst,gensync,lruCache,postcssReduceInitial,readableStream,gruntBabel,gzipSizeCli,ttyBrowserify,babelPluginTransformArrowFunctions,pngjs){\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.wix.com/demone2/urban-photography (10)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/urban-photography', emulateMobileDevice: true, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/10-urban-photography/anchors/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n})\\n####","completion":" import formidable from '@babel/helper-replace-supers'\\nimport covert from 'covert'\\nimport chownr from 'chownr'\\nimport eslintConfigBabel from 'boolbase'\\nimport jsonToAst from 'rollup-plugin-memory'\\nimport gensync from 'gensync'\\nimport lruCache from 'karma-mocha-reporter'\\nimport postcssReduceInitial from 'tslib'\\nimport readableStream from 'readable-stream'\\nimport gruntBabel from 'babel-eslint'\\nimport gzipSizeCli from 'gzip-size-cli'\\nimport ttyBrowserify from 'eslint-config-babel'\\nimport babelPluginTransformArrowFunctions from '@babel/plugin-transform-arrow-functions'\\nimport pngjs from 'slice-ansi'\\n\\nconst { withViewer } = require('santa-integration-tests')\\nconst tpaInterceptor = () => ({})\\ndescribe('mobile', () => { test('Test snapshot with layoutMechanism ANCHORS (base: ANCHORS) - https://www.wix.com/demone2/urban-photography (10)', withViewer({ tpaInterceptor, baseUrl: 'https://www.wix.com/demone2/urban-photography', emulateMobileDevice: true, queryParams: { layoutMechanism: 'anchors' } }, async ({ viewer, layout }) => { try { await viewer.waitForFontsLoaded(1000) console.log('viewer.waitForFontsLoaded') } catch (e) { console.log(e) } await viewer.ready() console.log('viewer.ready') await layout.callSetHeightFromAllTPAComponents() console.log('layout.callSetHeightFromAllTPAComponents') await viewer.ready() console.log('viewer.ready') const layoutMechanism = await layout.getLayoutMechanism() expect(layoutMechanism).toBe('anchors') const snapshot = await layout.getLayoutSnapshot() console.log('layout.getLayoutSnapshot') const siteRevision = await viewer.getSiteRevision() console.log('siteRevision - ' + siteRevision) await expect(snapshot).toMatchLayoutSnapshot({ key: 'layout-snapshot-46/stable/10-urban-photography/anchors/mobile/' + siteRevision, forceSnapshot: false }) }))\\n})\\n\\n####"}